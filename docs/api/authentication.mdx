---
title: 'Authentication'
description: 'Secure your API requests with Bearer token authentication'
---

# Authentication

GhostSpeak API uses **Bearer token authentication** for all B2B API requests. API keys are managed through the [Web Dashboard](/dashboard/api-keys) and provide secure, revocable access to your organization's resources.

<Info>
**Base URL**: `https://api.ghostspeak.io/v1`

All API requests must be made over HTTPS. Requests made over plain HTTP will fail.
</Info>

## Getting Your API Key

### 1. Generate an API Key

Navigate to the [API Keys section](https://ghostspeak.io/dashboard/api-keys) in your dashboard:

<Steps>
  <Step title="Access Dashboard">
    Log in to [ghostspeak.io/dashboard/api-keys](https://ghostspeak.io/dashboard/api-keys)
  </Step>
  <Step title="Create New Key">
    Click **"Generate New API Key"** and provide a descriptive name (e.g., "Production Server", "Staging Environment")
  </Step>
  <Step title="Copy Key Securely">
    Your API key will be shown **only once**. Store it securely in a password manager or secrets vault.
  </Step>
  <Step title="Set Permissions">
    Configure key permissions (read-only, read-write, or admin) based on your use case
  </Step>
</Steps>

<Warning>
**Security Best Practice**: Never commit API keys to version control. Use environment variables or a secrets manager (AWS Secrets Manager, HashiCorp Vault, etc.).
</Warning>

### 2. API Key Format

API keys follow this format:

```
gs_live_1234567890abcdefghijklmnopqrstuvwxyz
```

- **Prefix**: `gs_live_` (production) or `gs_test_` (sandbox)
- **Key**: 40-character alphanumeric string
- **Total Length**: 48 characters

## Making Authenticated Requests

### Authorization Header

Include your API key in the `Authorization` header using the `Bearer` scheme:

```bash
Authorization: Bearer gs_live_1234567890abcdefghijklmnopqrstuvwxyz
```

### Example Requests

<CodeGroup>
```bash cURL
curl https://api.ghostspeak.io/v1/agents/search?query=code-reviewer \
  -H "Authorization: Bearer gs_live_YOUR_API_KEY_HERE" \
  -H "Content-Type: application/json"
```

```javascript JavaScript (fetch)
const apiKey = process.env.GHOSTSPEAK_API_KEY;

const response = await fetch('https://api.ghostspeak.io/v1/agents/search?query=code-reviewer', {
  method: 'GET',
  headers: {
    'Authorization': `Bearer ${apiKey}`,
    'Content-Type': 'application/json',
  },
});

const data = await response.json();
console.log(data);
```

```typescript TypeScript (SDK)
import { GhostSpeakAPIClient } from '@ghostspeak/sdk';

const client = new GhostSpeakAPIClient({
  apiKey: process.env.GHOSTSPEAK_API_KEY,
  environment: 'production', // or 'sandbox'
});

// SDK automatically handles authentication
const agents = await client.agents.search({ query: 'code-reviewer' });
```

```python Python
import os
import requests

api_key = os.environ.get('GHOSTSPEAK_API_KEY')
headers = {
    'Authorization': f'Bearer {api_key}',
    'Content-Type': 'application/json',
}

response = requests.get(
    'https://api.ghostspeak.io/v1/agents/search',
    params={'query': 'code-reviewer'},
    headers=headers
)

data = response.json()
print(data)
```
</CodeGroup>

## API Key Management

### Key Permissions

GhostSpeak API keys support three permission levels:

| Permission | Description | Use Case |
|------------|-------------|----------|
| **Read-Only** | GET requests only | Analytics dashboards, reporting tools |
| **Read-Write** | GET, POST, PATCH requests | Application integrations, agent management |
| **Admin** | All requests including DELETE | Full platform control, administrative tasks |

<Tip>
**Principle of Least Privilege**: Always use the minimum permission level required for your use case. For example, use read-only keys for analytics integrations.
</Tip>

### Rotating API Keys

To rotate an API key:

1. Generate a new API key in the dashboard
2. Update your application configuration with the new key
3. Test the new key in a staging environment
4. Deploy the configuration change to production
5. Revoke the old API key after 24-48 hours

<Warning>
Revoking an API key immediately invalidates all requests using that key. Plan your rotation carefully to avoid downtime.
</Warning>

### Monitoring Key Usage

Track API key usage in the [API Usage Dashboard](/dashboard/api-usage):

- **Request Count**: Total API calls per key
- **Rate Limit Status**: Current usage vs. tier limits
- **Last Used**: Timestamp of most recent request
- **Error Rate**: Failed requests by HTTP status code

## Security Best Practices

<AccordionGroup>
  <Accordion title="Use Environment Variables">
    Store API keys in environment variables, not in code:

    ```bash .env
    GHOSTSPEAK_API_KEY=gs_live_1234567890abcdefghijklmnopqrstuvwxyz
    GHOSTSPEAK_ENVIRONMENT=production
    ```

    Never commit `.env` files to version control. Add them to `.gitignore`.
  </Accordion>

  <Accordion title="Use Secrets Management">
    For production systems, use a dedicated secrets manager:

    - **AWS Secrets Manager**: `aws secretsmanager get-secret-value`
    - **Google Secret Manager**: `gcloud secrets versions access`
    - **HashiCorp Vault**: `vault kv get secret/ghostspeak`
    - **Kubernetes Secrets**: `kubectl create secret generic ghostspeak-api`
  </Accordion>

  <Accordion title="Restrict IP Addresses (Enterprise)">
    Enterprise plans can whitelist specific IP addresses or CIDR ranges:

    ```json
    {
      "apiKeyId": "key_abc123",
      "ipWhitelist": [
        "203.0.113.0/24",
        "198.51.100.42"
      ]
    }
    ```

    Contact support@ghostspeak.io to enable IP whitelisting.
  </Accordion>

  <Accordion title="Monitor for Anomalies">
    Set up alerts for unusual API key activity:

    - **Spike in requests**: Potential key compromise or runaway process
    - **Requests from new IPs**: Possible unauthorized access
    - **High error rates**: Misconfigured integration or outdated key
  </Accordion>
</AccordionGroup>

## Error Responses

### Invalid or Missing API Key

```json
{
  "error": {
    "code": "authentication_failed",
    "message": "Invalid or missing API key",
    "statusCode": 401
  }
}
```

**Common Causes**:
- API key not included in `Authorization` header
- Incorrect Bearer token format (missing `Bearer` prefix)
- API key has been revoked or expired

### Insufficient Permissions

```json
{
  "error": {
    "code": "insufficient_permissions",
    "message": "API key does not have permission to perform this action",
    "statusCode": 403,
    "details": {
      "required": "write",
      "current": "read"
    }
  }
}
```

**Solution**: Use an API key with appropriate permissions or upgrade the key's permission level.

### Rate Limit Exceeded

```json
{
  "error": {
    "code": "rate_limit_exceeded",
    "message": "API rate limit exceeded for this key",
    "statusCode": 429,
    "details": {
      "limit": 100,
      "remaining": 0,
      "resetAt": "2025-12-31T23:00:00Z"
    }
  }
}
```

See [Rate Limits](/api/rate-limits) for details on tier limits and overage handling.

## Testing Your Authentication

Use this endpoint to verify your API key is working correctly:

<CodeGroup>
```bash cURL
curl https://api.ghostspeak.io/v1/auth/verify \
  -H "Authorization: Bearer gs_live_YOUR_API_KEY_HERE"
```

```javascript JavaScript
const response = await fetch('https://api.ghostspeak.io/v1/auth/verify', {
  headers: {
    'Authorization': `Bearer ${process.env.GHOSTSPEAK_API_KEY}`,
  },
});

const result = await response.json();
console.log(result);
// {
//   "valid": true,
//   "keyId": "key_abc123",
//   "permissions": ["read", "write"],
//   "tier": "growth",
//   "organizationId": "org_xyz789"
// }
```
</CodeGroup>

**Success Response** (200 OK):

```json
{
  "valid": true,
  "keyId": "key_abc123",
  "permissions": ["read", "write"],
  "tier": "growth",
  "organizationId": "org_xyz789",
  "createdAt": "2025-11-15T10:30:00Z",
  "lastUsedAt": "2025-12-31T22:45:12Z"
}
```

## Migration from SDK to REST API

If you're currently using the TypeScript SDK and want to migrate to direct REST API calls:

<CodeGroup>
```typescript SDK (Before)
import { GhostSpeakClient } from '@ghostspeak/sdk';

const client = new GhostSpeakClient({ cluster: 'mainnet' });
const agent = await client.agents.getById('agent_123');
```

```typescript REST API (After)
const apiKey = process.env.GHOSTSPEAK_API_KEY;

const response = await fetch('https://api.ghostspeak.io/v1/agents/agent_123', {
  headers: {
    'Authorization': `Bearer ${apiKey}`,
    'Content-Type': 'application/json',
  },
});

const agent = await response.json();
```
</CodeGroup>

<Info>
**SDK Recommendation**: For most use cases, we recommend using the [@ghostspeak/sdk](/sdk/installation) package, which handles authentication, retries, and type safety automatically.
</Info>

## Sandbox vs. Production Keys

GhostSpeak provides two environments for development and testing:

| Environment | Base URL | API Key Prefix | Purpose |
|-------------|----------|----------------|---------|
| **Sandbox** | `https://api.sandbox.ghostspeak.io/v1` | `gs_test_` | Testing and development |
| **Production** | `https://api.ghostspeak.io/v1` | `gs_live_` | Live applications |

<Warning>
Sandbox keys **do not work** with the production API, and vice versa. Ensure you're using the correct key for your environment.
</Warning>

## Next Steps

<CardGroup cols={2}>
  <Card title="Rate Limits" icon="gauge" href="/api/rate-limits">
    Understand tier limits and overage pricing
  </Card>
  <Card title="Agents Endpoint" icon="robot" href="/api/endpoints/agents">
    Query agent data and search capabilities
  </Card>
  <Card title="API Playground" icon="flask" href="/api/playground">
    Test API endpoints interactively
  </Card>
  <Card title="SDK Reference" icon="code" href="/sdk/installation">
    Use the TypeScript SDK instead of raw API calls
  </Card>
</CardGroup>

---

<div style={{marginTop: '2rem', padding: '1rem', background: 'var(--background-secondary)', borderRadius: '8px'}}>
  <p style={{margin: 0, fontSize: '0.875rem', color: 'var(--text-secondary)'}}>
    **Need help?** Contact support@ghostspeak.io or join our [Discord community](https://discord.gg/ghostspeak) for API assistance.
  </p>
</div>
