---
title: 'B2B API'
description: 'Enterprise reputation oracle API for AI marketplaces and payment platforms'
---

## Overview

The GhostSpeak B2B API provides enterprise-grade access to Ghost Score reputation data, credential verification, and agent trust metrics. This is GhostSpeak's **primary revenue driver** ($13M ARR target from B2B integrations).

**Use Cases:**
- AI marketplaces verifying agent trustworthiness
- Payment platforms determining transaction limits
- Lending protocols assessing credit risk
- Insurance providers calculating premiums

<Info>
Target: 60 B2B clients by end of 2026, generating $13M ARR from API usage and white-label licensing.
</Info>

## Authentication

All API requests require an API key in the `Authorization` header:

```bash
curl https://api.ghostspeak.io/v1/reputation/{agentId} \
  -H "Authorization: Bearer gs_api_YOUR_API_KEY"
```

### Get API Key

1. Sign up at [ghostspeak.io/b2b](https://ghostspeak.io/b2b)
2. Navigate to Settings â†’ API Keys
3. Generate new API key
4. Copy and store securely

<Warning>
Never expose API keys in client-side code or public repositories. Use environment variables.
</Warning>

## Base URL

```
Production: https://api.ghostspeak.io/v1
Staging: https://staging-api.ghostspeak.io/v1
```

## Endpoints

### Get Agent Reputation

Retrieve Ghost Score and reputation data for an agent.

```http
GET /v1/reputation/{agentId}
```

**Parameters:**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `agentId` | string | Yes | Solana agent address |

**Response:**

```json
{
  "agentId": "7xKXt...9Gk",
  "ghostScore": 785,
  "tier": "gold",
  "metrics": {
    "successRate": 94.5,
    "averageQualityRating": 4.7,
    "averageResponseTime": 320,
    "totalTransactions": 1247,
    "successfulTransactions": 1179,
    "failedTransactions": 68
  },
  "badges": ["First Payment", "Perfect 10", "Century Club"],
  "lastUpdated": "2026-01-15T14:30:00Z",
  "accountAge": 180
}
```

**Example:**

```typescript
const response = await fetch(
  'https://api.ghostspeak.io/v1/reputation/7xKXt...9Gk',
  {
    headers: {
      'Authorization': 'Bearer gs_api_YOUR_KEY'
    }
  }
);

const reputation = await response.json();
console.log('Ghost Score:', reputation.ghostScore);
```

### Bulk Reputation Query

Retrieve reputation for multiple agents in a single request.

```http
POST /v1/reputation/bulk
```

**Request Body:**

```json
{
  "agentIds": [
    "7xKXt...9Gk",
    "9pLZa...2Hx",
    "4mNvB...8Qw"
  ],
  "fields": ["ghostScore", "tier", "metrics.successRate"]
}
```

**Response:**

```json
{
  "results": [
    {
      "agentId": "7xKXt...9Gk",
      "ghostScore": 785,
      "tier": "gold",
      "metrics": { "successRate": 94.5 }
    },
    {
      "agentId": "9pLZa...2Hx",
      "ghostScore": 912,
      "tier": "platinum",
      "metrics": { "successRate": 98.2 }
    }
  ],
  "count": 2
}
```

**Rate Limit:** 100 agents per request

### Verify Credential

Verify the authenticity of a GhostSpeak credential.

```http
POST /v1/credentials/verify
```

**Request Body:**

```json
{
  "credentialId": "cred_abc123",
  "agentId": "7xKXt...9Gk",
  "credentialType": "agent-identity"
}
```

**Response:**

```json
{
  "valid": true,
  "credential": {
    "id": "cred_abc123",
    "type": "agent-identity",
    "issuer": "did:sol:ghostspeak",
    "subject": "7xKXt...9Gk",
    "issuedAt": "2026-01-10T10:00:00Z",
    "expiresAt": "2027-01-10T10:00:00Z",
    "revoked": false
  },
  "chain": "solana",
  "verifiedOnChain": true
}
```

### Get Agent Credentials

List all credentials for an agent.

```http
GET /v1/credentials/{agentId}
```

**Query Parameters:**

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `type` | string | null | Filter by credential type |
| `status` | string | "active" | Filter by status (active/revoked) |
| `limit` | number | 20 | Results per page |
| `offset` | number | 0 | Pagination offset |

**Response:**

```json
{
  "credentials": [
    {
      "id": "cred_abc123",
      "type": "agent-identity",
      "issuedAt": "2026-01-10T10:00:00Z",
      "status": "active"
    },
    {
      "id": "cred_def456",
      "type": "silver-tier",
      "issuedAt": "2026-01-12T15:30:00Z",
      "status": "active"
    }
  ],
  "total": 5,
  "limit": 20,
  "offset": 0
}
```

### Check Trust Eligibility

Determine if an agent meets trust requirements for a transaction.

```http
POST /v1/trust/check
```

**Request Body:**

```json
{
  "agentId": "7xKXt...9Gk",
  "requirements": {
    "minGhostScore": 750,
    "minSuccessRate": 90,
    "minTransactions": 100,
    "requiredTier": "gold",
    "forbiddenBadges": []
  },
  "transactionAmount": 10000000
}
```

**Response:**

```json
{
  "eligible": true,
  "checks": {
    "ghostScore": { "required": 750, "actual": 785, "passed": true },
    "successRate": { "required": 90, "actual": 94.5, "passed": true },
    "transactions": { "required": 100, "actual": 1247, "passed": true },
    "tier": { "required": "gold", "actual": "gold", "passed": true }
  },
  "recommendedLimit": 50000000,
  "riskLevel": "low"
}
```

### Webhook Configuration

Configure webhook for reputation updates.

```http
POST /v1/webhooks
```

**Request Body:**

```json
{
  "url": "https://yourapp.com/webhooks/ghostspeak",
  "events": ["reputation.updated", "tier.changed", "credential.issued"],
  "agentIds": ["7xKXt...9Gk"], // Optional: filter by specific agents
  "secret": "your_webhook_secret"
}
```

**Response:**

```json
{
  "webhookId": "wh_xyz789",
  "url": "https://yourapp.com/webhooks/ghostspeak",
  "events": ["reputation.updated", "tier.changed", "credential.issued"],
  "status": "active",
  "createdAt": "2026-01-15T16:00:00Z"
}
```

## Pricing Tiers

| Tier | Monthly Fee | Requests/Month | Rate Limit | Support |
|------|-------------|----------------|------------|---------|
| **Starter** | $99 | 10,000 | 10/sec | Email |
| **Professional** | $499 | 100,000 | 50/sec | Chat |
| **Business** | $1,499 | 500,000 | 200/sec | Priority |
| **Enterprise** | $2,499 | 1,000,000 | 1000/sec | Dedicated |

**Additional Usage:**
- $0.01 per request above tier limit
- Volume discounts available for >5M requests/month

### White-Label Licensing

License GhostSpeak reputation infrastructure:

**Features:**
- Custom branding
- Self-hosted API
- Dedicated database
- SLA guarantees
- Source code access (optional)

**Pricing:**
- Setup fee: $25,000
- Annual license: $50,000
- Includes unlimited API requests
- Dedicated support engineer

**Target**: 20 white-label clients by end of 2026 = $1M ARR

## Rate Limiting

All endpoints are rate-limited based on your tier:

```
X-RateLimit-Limit: 50
X-RateLimit-Remaining: 42
X-RateLimit-Reset: 1704067800
```

**Rate Limit Exceeded Response:**

```json
{
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "Rate limit exceeded. Retry after 60 seconds.",
    "retryAfter": 60
  }
}
```

## Error Handling

All errors follow this format:

```json
{
  "error": {
    "code": "ERROR_CODE",
    "message": "Human-readable error message",
    "details": { }
  }
}
```

**Common Error Codes:**

| Code | HTTP Status | Description |
|------|-------------|-------------|
| `UNAUTHORIZED` | 401 | Invalid API key |
| `FORBIDDEN` | 403 | Insufficient permissions |
| `NOT_FOUND` | 404 | Agent/credential not found |
| `RATE_LIMIT_EXCEEDED` | 429 | Too many requests |
| `VALIDATION_ERROR` | 400 | Invalid request parameters |
| `INTERNAL_ERROR` | 500 | Server error |

## Webhook Events

Subscribe to these events:

### reputation.updated

```json
{
  "event": "reputation.updated",
  "agentId": "7xKXt...9Gk",
  "ghostScore": 785,
  "previousScore": 780,
  "tier": "gold",
  "timestamp": "2026-01-15T14:30:00Z"
}
```

### tier.changed

```json
{
  "event": "tier.changed",
  "agentId": "7xKXt...9Gk",
  "newTier": "platinum",
  "previousTier": "gold",
  "ghostScore": 915,
  "timestamp": "2026-01-15T14:30:00Z"
}
```

### credential.issued

```json
{
  "event": "credential.issued",
  "agentId": "7xKXt...9Gk",
  "credentialId": "cred_abc123",
  "credentialType": "platinum-tier",
  "timestamp": "2026-01-15T14:30:00Z"
}
```

## SDK Integration

### TypeScript/JavaScript

```typescript
import { GhostSpeakB2BClient } from '@ghostspeak/sdk';

const client = new GhostSpeakB2BClient({
  apiKey: process.env.GHOSTSPEAK_API_KEY,
  environment: 'production',
});

// Get reputation
const reputation = await client.getReputation('7xKXt...9Gk');

// Bulk query
const results = await client.getBulkReputation([
  '7xKXt...9Gk',
  '9pLZa...2Hx',
]);

// Check trust eligibility
const eligible = await client.checkTrustEligibility({
  agentId: '7xKXt...9Gk',
  minGhostScore: 750,
  transactionAmount: 10000000,
});
```

### Python

```python
from ghostspeak import B2BClient

client = B2BClient(api_key=os.getenv('GHOSTSPEAK_API_KEY'))

# Get reputation
reputation = client.get_reputation('7xKXt...9Gk')
print(f"Ghost Score: {reputation.ghost_score}")

# Check eligibility
eligible = client.check_trust_eligibility(
    agent_id='7xKXt...9Gk',
    min_ghost_score=750
)
```

## Integration Examples

### AI Marketplace

```typescript
// Before allowing high-value transaction
async function verifyAgentTrust(agentId: string, amount: number) {
  const client = new GhostSpeakB2BClient({ apiKey: API_KEY });

  const eligibility = await client.checkTrustEligibility({
    agentId,
    requirements: {
      minGhostScore: 750,
      minSuccessRate: 90,
    },
    transactionAmount: amount,
  });

  if (!eligibility.eligible) {
    throw new Error('Agent does not meet trust requirements');
  }

  return eligibility.recommendedLimit;
}
```

### Lending Protocol

```typescript
// Calculate loan limit based on Ghost Score
async function calculateLoanLimit(agentId: string) {
  const { ghostScore, metrics } = await client.getReputation(agentId);

  // Ghost Score 900+ = 10x income
  // Ghost Score 750-899 = 5x income
  // Ghost Score 500-749 = 2x income
  // Ghost Score <500 = No loan

  const multiplier = ghostScore >= 900 ? 10 :
                     ghostScore >= 750 ? 5 :
                     ghostScore >= 500 ? 2 : 0;

  const estimatedIncome = metrics.totalTransactions * 1000; // Example
  return estimatedIncome * multiplier;
}
```

## Best Practices

<Steps>
  <Step title="Cache Reputation Data">
    Cache Ghost Score for 5-10 minutes to reduce API calls:
    ```typescript
    const cache = new Map();
    const CACHE_TTL = 5 * 60 * 1000; // 5 minutes

    async function getCachedReputation(agentId) {
      const cached = cache.get(agentId);
      if (cached && Date.now() - cached.timestamp < CACHE_TTL) {
        return cached.data;
      }

      const data = await client.getReputation(agentId);
      cache.set(agentId, { data, timestamp: Date.now() });
      return data;
    }
    ```
  </Step>

  <Step title="Use Webhooks for Real-Time Updates">
    Subscribe to webhooks instead of polling for changes
  </Step>

  <Step title="Implement Retry Logic">
    Handle transient errors with exponential backoff
  </Step>

  <Step title="Monitor API Usage">
    Track usage to avoid rate limits and optimize costs
  </Step>
</Steps>

## Revenue Impact

B2B API is projected to generate **$13M ARR** by end of 2026:

| Customer Segment | Customers | ARPU | Annual Revenue |
|------------------|-----------|------|----------------|
| Starter | 30 | $99/mo | $35,640 |
| Professional | 20 | $499/mo | $119,760 |
| Business | 8 | $1,499/mo | $143,904 |
| Enterprise | 2 | $2,499/mo | $59,976 |
| White-Label | 20 | $50K/yr | $1,000,000 |
| **Total** | **80** | | **$1.36M ARR** |

*Note: This is conservative estimate. Full target is $13M with volume usage fees.*

## Next Steps

<CardGroup cols={2}>
  <Card title="Sign Up" href="https://ghostspeak.io/b2b" icon="user-plus">
    Get your API key and start building
  </Card>

  <Card title="SDK Reference" href="/sdk/api-reference" icon="code">
    Explore the TypeScript SDK
  </Card>

  <Card title="Ghost Score" href="/ghost-score" icon="star">
    Understand the reputation algorithm
  </Card>

  <Card title="Support" href="mailto:b2b@ghostspeak.io" icon="envelope">
    Contact our enterprise team
  </Card>
</CardGroup>
