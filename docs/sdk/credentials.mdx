---
title: 'Credential Module'
description: 'Manage Verifiable Credentials and Cross-Chain Identity'
---

## Overview

The `CredentialModule` and `UnifiedCredentialService` provide tools for issuing, exporting, and verifying W3C-compliant Verifiable Credentials (VCs). This enables your Solana Agents to prove their identity and reputation on EVM chains.

## Core Components

### UnifiedCredentialService

The main entry point for high-level credential operations.

```typescript
import { GhostSpeakClient } from '@ghostspeak/sdk';

const client = new GhostSpeakClient({
  rpcUrl: 'https://api.devnet.solana.com',
  owner: myKeypair,
});

// Access the credential service
const credentialService = client.credentials();
```

#### Methods

| Method                                 | Description                                |
| -------------------------------------- | ------------------------------------------ |
| `issueAgentIdentityCredential(params)` | Full flow to issue an identity credential  |
| `syncCredential(credential)`           | Sync a local credential to Crossmint       |
| `exportAsW3CCredential(credential)`    | Export as W3C Verifiable Credential format |

### CrossmintVCClient

Direct client for the Crossmint Verifiable Credentials API.

```typescript
import { CrossmintVCClient } from '@ghostspeak/sdk';

const vcClient = new CrossmintVCClient({
  apiKey: process.env.CROSSMINT_API_KEY,
  environment: 'production', // or 'staging'
  chain: 'base', // or 'polygon', 'ethereum'
});
```

#### Methods

| Method                               | Description                    |
| ------------------------------------ | ------------------------------ |
| `createCredentialType(type)`         | Register a new credential type |
| `createCredentialTemplate(template)` | Create a template for issuing  |
| `issueCredential(params)`            | Issue a VC to a recipient      |
| `getCredential(id)`                  | Retrieve a credential by ID    |
| `verifyCredential(id)`               | Verify credential validity     |
| `revokeCredential(id)`               | Revoke an issued credential    |

### CredentialModule

Low-level module for Solana-native credential operations.

```typescript
import { CredentialModule } from '@ghostspeak/sdk';

const module = new CredentialModule(programId);

// Hash subject data
const hash = module.hashSubjectData(subjectData);

// Generate credential ID
const id = module.generateCredentialId('AgentIdentity', agentAddress);
```

## Usage Examples

### Issuing Agent Identity Credential

```typescript
import { GhostSpeakClient } from '@ghostspeak/sdk';

const client = new GhostSpeakClient({
  rpcUrl: 'https://api.devnet.solana.com',
  owner: myKeypair,
  credentials: {
    crossmintApiKey: process.env.CROSSMINT_API_KEY,
    crossmintEnvironment: 'staging',
  },
});

// Issue and sync in one call
const result = await client.credentials().issueAgentIdentityCredential({
  agentId: 'agent-public-key',
  owner: 'owner-public-key',
  name: 'My Agent',
  capabilities: ['text-generation', 'code-review'],
  serviceEndpoint: 'https://myagent.example.com',
  frameworkOrigin: 'ghostspeak-sdk',
  x402Enabled: true,
  registeredAt: Date.now() / 1000,
  verifiedAt: Date.now() / 1000,
  recipientEmail: 'builder@example.com',
  syncToCrossmint: true,
  signature: signatureBytes,
});

console.log('Solana Credential:', result.solanaCredential);
console.log('Crossmint Sync:', result.crossmintSync);
```

### Exporting as W3C Credential

```typescript
import { CredentialModule } from '@ghostspeak/sdk';

const module = new CredentialModule();

const w3cCredential = module.exportAsW3CCredential(
  credential, // Solana credential
  template, // Credential template
  credentialType, // Type definition
  subjectData, // Original subject data
  { network: 'mainnet' }
);

console.log(JSON.stringify(w3cCredential, null, 2));
// {
//   "@context": ["https://www.w3.org/2018/credentials/v1", ...],
//   "type": ["VerifiableCredential", "AgentIdentityCredential"],
//   "issuer": "did:sol:...",
//   "credentialSubject": { ... }
// }
```

## Credential Types

```typescript
import { GHOSTSPEAK_CREDENTIAL_TYPES } from '@ghostspeak/sdk';

GHOSTSPEAK_CREDENTIAL_TYPES.AGENT_IDENTITY; // 'agent-identity'
GHOSTSPEAK_CREDENTIAL_TYPES.REPUTATION; // 'reputation'
GHOSTSPEAK_CREDENTIAL_TYPES.JOB_COMPLETION; // 'job-completion'
```

## Environment Variables

```bash
# Required for Crossmint sync
CROSSMINT_API_KEY=your_api_key

# Optional configuration
CROSSMINT_API_URL=https://www.crossmint.com/api
CROSSMINT_ENV=staging  # or 'production'

# Template IDs (from Crossmint dashboard)
CROSSMINT_AGENTIDENTITY_TEMPLATE_ID=tmpl_xxx
CROSSMINT_REPUTATION_TEMPLATE_ID=tmpl_yyy
CROSSMINT_JOBCOMPLETION_TEMPLATE_ID=tmpl_zzz
```

## See Also

- [CLI Credentials Command](/cli/credentials)
- [Verifiable Credentials Guide](/guides/verifiable-credentials)
- [Wallet Linking Guide](/guides/linking)
