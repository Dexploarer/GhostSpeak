{"version":3,"sources":["../../../config/program-ids.ts","../src/utils/env-config.ts","../src/utils/config.ts","../src/core/solana-client.ts","../src/services/wallet-service.ts","../src/core/event-system.ts","../src/core/connection-pool.ts","../src/services/blockchain/rpc-pool-manager.ts","../src/utils/client.ts","../src/utils/type-guards.ts","../src/utils/sdk-helpers.ts","../../../node_modules/.bun/deepmerge@4.3.1/node_modules/deepmerge/dist/cjs.js","../src/utils/convex-client.ts","../src/prompts/agent.ts","../src/commands/agent/helpers.ts","../src/core/Container.ts","../src/commands/agent/register.ts","../src/types/services.ts","../src/utils/enhanced-error-handler.ts","../src/commands/agent/list.ts","../src/commands/agent/search.ts","../src/commands/agent/status.ts","../src/types/cli-types.ts","../src/commands/agent/update.ts","../src/commands/agent/verify.ts","../src/commands/agent/analytics.ts","../src/utils/secure-storage.ts","../src/utils/agent-wallet.ts","../src/commands/agent/credentials.ts","../src/commands/agent/uuid.ts","../src/commands/agent/index.ts","../src/commands/config.ts","../src/utils/helpers.ts","../src/services/faucet-service.ts","../src/commands/faucet.ts","../../../node_modules/.bun/@solana-program+token@0.9.0+82d46aa0fff2e984/node_modules/@solana-program/token/src/generated/types/accountState.ts","../../../node_modules/.bun/@solana-program+token@0.9.0+82d46aa0fff2e984/node_modules/@solana-program/token/src/generated/accounts/token.ts","../../../node_modules/.bun/@solana-program+token@0.9.0+82d46aa0fff2e984/node_modules/@solana-program/token/src/generated/programs/associatedToken.ts","../../../node_modules/.bun/@solana-program+token@0.9.0+82d46aa0fff2e984/node_modules/@solana-program/token/src/generated/programs/token.ts","../../../node_modules/.bun/@solana-program+token@0.9.0+82d46aa0fff2e984/node_modules/@solana-program/token/src/generated/errors/associatedToken.ts","../../../node_modules/.bun/@solana-program+token@0.9.0+82d46aa0fff2e984/node_modules/@solana-program/token/src/generated/errors/token.ts","../../../node_modules/.bun/@solana-program+token@0.9.0+82d46aa0fff2e984/node_modules/@solana-program/token/src/generated/shared/index.ts","../../../node_modules/.bun/@solana-program+token@0.9.0+82d46aa0fff2e984/node_modules/@solana-program/token/src/generated/pdas/associatedToken.ts","../../../node_modules/.bun/@solana-program+token@0.9.0+82d46aa0fff2e984/node_modules/@solana-program/token/src/generated/instructions/createAssociatedToken.ts","../../../node_modules/.bun/@solana-program+token@0.9.0+82d46aa0fff2e984/node_modules/@solana-program/token/src/generated/instructions/transfer.ts","../../../node_modules/.bun/@solana-program+token@0.9.0+82d46aa0fff2e984/node_modules/@solana-program/token/node_modules/.pnpm/@solana-program+system@0.9.0_@solana+kit@5.0.0_fastestsmallesttextencoderdecoder@1.0.22_typescript@5.5.3_ws@8.17.0_/node_modules/@solana-program/system/src/generated/errors/system.ts","../src/commands/airdrop.ts","../src/commands/sdk.ts","../src/commands/update.ts","../src/commands/governance/multisig.ts","../src/utils/error-handler.ts","../src/commands/governance/proposal.ts","../src/commands/governance/vote.ts","../src/commands/governance/rbac.ts","../src/commands/governance/index.ts","../src/utils/setup-helpers.ts","../src/commands/quickstart.ts","../src/commands/wallet.ts","../src/utils/format-helpers.ts","../src/commands/credentials.ts","../src/commands/reputation.ts","../src/commands/staking.ts","../src/commands/privacy.ts","../src/commands/did.ts","../src/commands/escrow.ts","../src/ui/components/Layout.tsx","../src/ui/components/InfoRow.tsx","../src/ui/components/StatusBadge.tsx","../src/ui/components/Badge.tsx","../src/ui/components/Card.tsx","../src/ui/components/Alert.tsx","../src/ui/components/Spinner.tsx","../src/ui/commands/Dashboard.tsx","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/theme.tsx","../../../node_modules/.bun/is-unicode-supported@2.1.0/node_modules/is-unicode-supported/index.js","../../../node_modules/.bun/figures@6.1.0/node_modules/figures/index.js","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/alert/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/badge/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/confirm-input/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/multi-select/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/ordered-list/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/progress-bar/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/select/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/spinner/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/status-message/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/unordered-list/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/text-input/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/email-input/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/password-input/theme.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/unordered-list/constants.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/unordered-list/unordered-list-item-context.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/unordered-list/unordered-list-context.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/progress-bar/progress-bar.tsx","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/text-input/use-text-input.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/ordered-list/ordered-list-item-context.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/ordered-list/ordered-list-context.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/password-input/use-password-input.ts","../../../node_modules/.bun/@inkjs+ui@2.0.0+7fe8c3398a922172/node_modules/@inkjs/ui/source/components/email-input/use-email-input.ts","../src/ui/components/ProgressBar.tsx","../src/ui/components/Chart.tsx","../src/ui/commands/Reputation.tsx","../src/ui/commands/Staking.tsx","../src/commands/dashboard.ts","../src/commands/ghost.ts","../src/commands/ghost-claim.ts","../src/utils/sas-helpers.ts","../src/commands/multisig.ts","../src/commands/authorization.ts","../src/utils/update-check.ts","../src/utils/interactive-menu.ts","../src/utils/command-aliases.ts","../src/services/transaction-monitor.ts","../src/utils/help-system.ts","../src/utils/onboarding.ts","../src/utils/ui-helpers.ts","../src/services/cost-estimator.ts","../src/services/AgentService.ts","../src/utils/ipfs.ts","../src/core/bootstrap.ts","../src/services/blockchain/BlockchainService.ts","../src/services/storage/StorageService.ts","../src/core/logger.ts","../src/index.ts"],"names":["address","existsSync","config","join","homedir","mkdirSync","readFileSync","writeFileSync","createKeyPairSignerFromBytes","filter","resolve","eventBus","EventEmitter","createSolanaClient","log","chalk","URL","exports","isMergeableObject","deepmerge","logger","isCancel","cancel","intro","spinner","outro","multiselect","select","text","confirm","path","fs","generateKeyPairSigner","chmod","dirname","Command","program","network","AccountState","getStructDecoder","getAddressDecoder","getU64Decoder","getOptionDecoder","getU32Decoder","decodeAccount","assertAccountExists","fetchEncodedAccount","kitIsTransactionSigner","getAddressEncoder","transformEncoder","getStructEncoder","getU8Encoder","getU64Encoder","args","AccountRole","s","execAsync","promisify","exec","fileURLToPath","note","proposal","initializeClient","toSDKSigner","createSafeSDKClient","Table","boxen","GhostSpeakClient","amount","jsxs","Box","jsx","Text","InkSpinner","process","theme","theme_default","colorByVariant","createContext","useState","React","ProgressBar","useInput","useEffect","getTierBenefits","BigText","TIER_THRESHOLDS","useApp","Spinner","discoveredAgents","createTransactionMessage","setTransactionMessageFeePayerSigner","setTransactionMessageLifetimeUsingBlockhash","appendTransactionMessageInstruction","pipe","signTransactionMessageWithSigners","sendAndConfirmTransactionFactory","multisigCommand","compareVersions","loadConfig","createSpinner","divider","randomUUID","AgentModule","queryDiscoveredAgents"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BO,SAAS,mBAAA,CAAoB,UAA8B,QAAA,EAAmB;AACnF,EAAA,OAAO,YAAY,OAAO,CAAA;AAC5B;AAjCA,IAkBa,WAAA;AAlBb,IAAA,gBAAA,GAAA,KAAA,CAAA;AAAA,EAAA,6BAAA,GAAA;AAkBO,IAAM,WAAA,GAAc;AAAA,MACzB,MAAA,EAAQ,QAAQ,8CAA8C,CAAA;AAAA,MAC9D,QAAA,EAAU,QAAQ,8CAA8C,CAAA;AAAA,MAChE,OAAA,EAAS,QAAQ,8CAA8C,CAAA;AAAA;AAAA,MAC/D,OAAA,EAAS,QAAQ,8CAA8C;AAAA;AAAA,KACjE;AAAA,EAAA;AAAA,CAAA,CAAA;ACbA,SAAS,YAAA,GAAe;AACtB,EAAA,MAAM,YAAA,GAAe;AAAA;AAAA,IAEnB,OAAA,CAAQ,OAAA,CAAQ,GAAA,EAAI,EAAG,MAAM,CAAA;AAAA;AAAA,IAE7B,OAAA,CAAQ,OAAA,CAAQ,GAAA,EAAI,EAAG,YAAY,CAAA;AAAA;AAAA,IAAA,CAElC,MAAM;AACL,MAAA,IAAI;AACF,QAAA,MAAM,UAAA,GAAa,aAAA,CAAc,MAAA,CAAA,IAAA,CAAY,GAAG,CAAA;AAChD,QAAA,MAAM,SAAA,GAAY,QAAQ,UAAU,CAAA;AACpC,QAAA,OAAO,OAAA,CAAQ,WAAW,YAAY,CAAA;AAAA,MACxC,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,EAAA;AAAA,MACT;AAAA,IACF,CAAA,GAAG;AAAA;AAAA,IAAA,CAEF,MAAM;AACL,MAAA,IAAI;AACF,QAAA,MAAM,UAAA,GAAa,aAAA,CAAc,MAAA,CAAA,IAAA,CAAY,GAAG,CAAA;AAChD,QAAA,MAAM,SAAA,GAAY,QAAQ,UAAU,CAAA;AACpC,QAAA,OAAO,OAAA,CAAQ,WAAW,eAAe,CAAA;AAAA,MAC3C,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,EAAA;AAAA,MACT;AAAA,IACF,CAAA;AAAG,GACL,CAAE,OAAO,OAAO,CAAA;AAEhB,EAAA,KAAA,MAAW,WAAW,YAAA,EAAc;AAClC,IAAA,IAAI,UAAA,CAAW,OAAO,CAAA,EAAG;AACvB,MAAA,MAAA,CAAO,EAAE,IAAA,EAAM,OAAA,EAAS,CAAA;AAExB,MAAA;AAAA,IACF;AAAA,EACF;AACF;AAmBA,SAAS,iBAAA,GAAwE;AAC/E,EAAA,MAAM,OAAA,GAAU,OAAA,CAAQ,GAAA,CAAI,kBAAA,IAAsB,QAAA;AAClD,EAAA,IAAI,CAAC,CAAC,cAAA,EAAgB,QAAA,EAAU,WAAW,UAAU,CAAA,CAAE,QAAA,CAAS,OAAO,CAAA,EAAG;AACxE,IAAA,MAAM,IAAI,KAAA,CAAM,CAAA,iBAAA,EAAoB,OAAO,CAAA,CAAE,CAAA;AAAA,EAC/C;AACA,EAAA,OAAO,OAAA;AACT;AAOA,SAAS,YAAA,GAA+B;AACtC,EAAA,MAAM,UAAU,iBAAA,EAAkB;AAGlC,EAAA,MAAM,UAAA,GAAa,OAAA,KAAY,cAAA,GAAiB,SAAA,GAAY,OAAA;AAC5D,EAAA,MAAM,WAAA,GAAc,YAAY,UAAsC,CAAA;AAGtE,EAAA,IAAI,eAAA;AACJ,EAAA,QAAQ,OAAA;AAAS,IACf,KAAK,cAAA;AACH,MAAA,eAAA,GAAkB,QAAQ,GAAA,CAAI,6BAAA;AAC9B,MAAA;AAAA,IACF,KAAK,QAAA;AACH,MAAA,eAAA,GAAkB,QAAQ,GAAA,CAAI,4BAAA;AAC9B,MAAA;AAAA,IACF,KAAK,SAAA;AACH,MAAA,eAAA,GAAkB,QAAQ,GAAA,CAAI,6BAAA;AAC9B,MAAA;AAAA,IACF,KAAK,UAAA;AACH,MAAA,eAAA,GAAkB,QAAQ,GAAA,CAAI,8BAAA;AAC9B,MAAA;AAAA;AAIJ,EAAA,IAAI,eAAA,EAAiB;AACnB,IAAA,IAAI;AACF,MAAA,MAAM,YAAA,GAAeA,UAAQ,eAAe,CAAA;AAC5C,MAAA,IAAI,iBAAiB,WAAA,EAAa;AAChC,QAAA,OAAA,CAAQ,KAAK,sDAA4C,CAAA;AACzD,QAAA,OAAA,CAAQ,IAAA,CAAK,CAAA,gBAAA,EAAmB,YAAY,CAAA,CAAE,CAAA;AAC9C,QAAA,OAAA,CAAQ,IAAA,CAAK,CAAA,gBAAA,EAAmB,WAAW,CAAA,CAAE,CAAA;AAC7C,QAAA,OAAA,CAAQ,KAAK,CAAA,wDAAA,CAA0D,CAAA;AACvE,QAAA,OAAA,CAAQ,IAAA,CAAK,2CAA2C,OAAA,CAAQ,WAAA,GAAc,OAAA,CAAQ,GAAA,EAAK,GAAG,CAAC,CAAA,QAAA,CAAU,CAAA;AAAA,MAC3G;AAEA,MAAA,OAAO,WAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,IAAA,CAAK,CAAA,sCAAA,EAAyC,OAAO,CAAA,EAAA,EAAK,eAAe,CAAA,CAAE,CAAA;AACnF,MAAA,OAAA,CAAQ,IAAA,CAAK,CAAA,4BAAA,EAA+B,WAAW,CAAA,CAAE,CAAA;AACzD,MAAA,OAAO,WAAA;AAAA,IACT;AAAA,EACF;AAGA,EAAA,OAAO,WAAA;AACT;AAKA,SAAS,WAAA,GAAuB;AAC9B,EAAA,MAAM,UAAU,iBAAA,EAAkB;AAClC,EAAA,IAAI,OAAA;AAEJ,EAAA,QAAQ,OAAA;AAAS,IACf,KAAK,cAAA;AACH,MAAA,OAAA,GAAU,OAAA,CAAQ,IAAI,4BAAA,IAAgC,8CAAA;AACtD,MAAA;AAAA,IACF,KAAK,QAAA;AACH,MAAA,OAAA,GAAU,OAAA,CAAQ,IAAI,2BAAA,IAA+B,8CAAA;AACrD,MAAA;AAAA,IACF,KAAK,SAAA;AAAA,IACL,KAAK,UAAA;AAEH,MAAA,OAAA,GAAU,OAAA,CAAQ,IAAI,4BAAA,IAAgC,kCAAA;AACtD,MAAA;AAAA;AAGJ,EAAA,OAAOA,UAAQ,OAAO,CAAA;AACxB;AAKO,SAAS,qBAAA,GAA2C;AACzD,EAAA,MAAM,UAAU,iBAAA,EAAkB;AAElC,EAAA,OAAO;AAAA,IACL,OAAA;AAAA,IACA,MAAA,EAAQ,OAAA,CAAQ,GAAA,CAAI,kBAAA,IAAsB,iBAAiB,OAAO,CAAA;AAAA,IAClE,WAAW,YAAA,EAAa;AAAA,IACxB,UAAA,EAAY,OAAA,CAAQ,GAAA,CAAI,sBAAA,IAA0B,kCAAA;AAAA,IAClD,UAAU,WAAA,EAAY;AAAA,IACtB,KAAA,EAAO,OAAA,CAAQ,GAAA,CAAI,gBAAA,KAAqB,MAAA;AAAA,IACxC,QAAA,EAAW,OAAA,CAAQ,GAAA,CAAI,oBAAA,IAA4E,MAAA;AAAA,IACnG,cAAA,EAAgB,QAAQ,GAAA,CAAI,0BAAA;AAAA,IAC5B,yBAAyB,QAAA,CAAS,OAAA,CAAQ,GAAA,CAAI,oCAAA,IAAwC,UAAU,EAAE;AAAA,GACpG;AACF;AAKA,SAAS,iBAAiB,OAAA,EAAyB;AACjD,EAAA,QAAQ,OAAA;AAAS,IACf,KAAK,cAAA;AACH,MAAA,OAAO,qCAAA;AAAA,IACT,KAAK,QAAA;AACH,MAAA,OAAO,+BAAA;AAAA,IACT,KAAK,SAAA;AACH,MAAA,OAAO,gCAAA;AAAA,IACT,KAAK,UAAA;AACH,MAAA,OAAO,uBAAA;AAAA,IACT;AACE,MAAA,OAAO,+BAAA;AAAA;AAEb;AAkBO,SAAS,YAAA,GAAkC;AAChD,EAAA,IAAI,CAAC,UAAA,EAAY;AACf,IAAA,UAAA,GAAa,qBAAA,EAAsB;AAAA,EACrC;AACA,EAAA,OAAO,UAAA;AACT;AA/MA,IAwMI,UAAA,EAUS,SAAA;AAlNb,IAAA,eAAA,GAAA,KAAA,CAAA;AAAA,EAAA,yBAAA,GAAA;AAOA,IAAA,gBAAA,EAAA;AAwCA,IAAA,YAAA,EAAa;AAyJb,IAAI,UAAA,GAAuC,IAAA;AAUpC,IAAM,SAAA,GAA+B,IAAI,KAAA,CAAM,EAAC,EAAwB;AAAA,MAC7E,GAAA,CAAI,SAAS,IAAA,EAAM;AACjB,QAAA,OAAO,YAAA,GAAe,IAA+B,CAAA;AAAA,MACvD;AAAA,KACD,CAAA;AAAA,EAAA;AAAA,CAAA,CAAA;;;ACtND,IAAA,cAAA,GAAA,EAAA;AAAA,QAAA,CAAA,cAAA,EAAA;AAAA,EAAA,eAAA,EAAA,MAAA,eAAA;AAAA,EAAA,aAAA,EAAA,MAAA,aAAA;AAAA,EAAA,UAAA,EAAA,MAAA,UAAA;AAAA,EAAA,WAAA,EAAA,MAAA,WAAA;AAAA,EAAA,UAAA,EAAA,MAAA;AAAA,CAAA,CAAA;AA0BO,SAAS,eAAA,GAAwB;AACtC,EAAA,IAAI,CAACC,UAAAA,CAAW,UAAU,CAAA,EAAG;AAC3B,IAAA,SAAA,CAAU,YAAY,EAAE,SAAA,EAAW,IAAA,EAAM,IAAA,EAAM,KAAO,CAAA;AAAA,EACxD;AACF;AAEO,SAAS,UAAA,GAA+B;AAC7C,EAAA,eAAA,EAAgB;AAEhB,EAAA,IAAI,CAACA,UAAAA,CAAW,WAAW,CAAA,EAAG;AAC5B,IAAA,OAAO,cAAA;AAAA,EACT;AAEA,EAAA,IAAI;AACF,IAAA,MAAM,UAAA,GAAa,YAAA,CAAa,WAAA,EAAa,OAAO,CAAA;AACpD,IAAA,MAAMC,OAAAA,GAAS,IAAA,CAAK,KAAA,CAAM,UAAU,CAAA;AACpC,IAAA,OAAO,EAAE,GAAG,cAAA,EAAgB,GAAGA,OAAAA,EAAO;AAAA,EACxC,SAAS,KAAA,EAAO;AACd,IAAA,OAAA,CAAQ,KAAA,CAAM,yBAAyB,KAAK,CAAA;AAC5C,IAAA,OAAO,cAAA;AAAA,EACT;AACF;AAEO,SAAS,WAAWA,OAAAA,EAAyC;AAClE,EAAA,eAAA,EAAgB;AAEhB,EAAA,MAAM,gBAAgB,UAAA,EAAW;AACjC,EAAA,MAAM,SAAA,GAAY,EAAE,GAAG,aAAA,EAAe,GAAGA,OAAAA,EAAO;AAEhD,EAAA,aAAA,CAAc,aAAa,IAAA,CAAK,SAAA,CAAU,SAAA,EAAW,IAAA,EAAM,CAAC,CAAC,CAAA;AAE7D,EAAA,SAAA,CAAU,aAAa,GAAK,CAAA;AAC9B;AAEO,SAAS,WAAA,GAAoB;AAClC,EAAA,eAAA,EAAgB;AAEhB,EAAA,IAAID,UAAAA,CAAW,WAAW,CAAA,EAAG;AAC3B,IAAA,aAAA,CAAc,aAAa,IAAA,CAAK,SAAA,CAAU,cAAA,EAAgB,IAAA,EAAM,CAAC,CAAC,CAAA;AAElE,IAAA,SAAA,CAAU,aAAa,GAAK,CAAA;AAAA,EAC9B;AACF;AAEO,SAAS,aAAA,GAAwB;AACtC,EAAA,OAAO,WAAA;AACT;AAxEA,IAcM,YACA,WAAA,EAEA,cAAA;AAjBN,IAAA,WAAA,GAAA,KAAA,CAAA;AAAA,EAAA,qBAAA,GAAA;AAGA,IAAA,eAAA,EAAA;AAWA,IAAM,UAAA,GAAaE,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,aAAa,CAAA;AAChD,IAAM,WAAA,GAAcD,IAAAA,CAAK,UAAA,EAAY,aAAa,CAAA;AAElD,IAAM,cAAA,GAAmC;AAAA,MACvC,SAAS,SAAA,CAAU,OAAA;AAAA,MACnB,UAAA,EAAY,SAAA,CAAU,UAAA,CAAW,UAAA,CAAW,GAAG,CAAA,GAC3CA,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,UAAU,UAAA,CAAW,KAAA,CAAM,CAAC,CAAC,IAC7C,SAAA,CAAU,UAAA;AAAA,MACd,SAAA,EAAW,SAAA,CAAU,SAAA,CAAU,QAAA,EAAS;AAAA,MACxC,QAAQ,SAAA,CAAU;AAAA,KACpB;AAAA,EAAA;AAAA,CAAA,CAAA;ACuDO,SAAS,mBAAmB,MAAA,EAAmC;AACpE,EAAA,OAAO,kBAAA,CAAmB,EAAE,YAAA,EAAc,MAAA,EAAQ,CAAA;AACpD;AAjFA,IAAA,kBAAA,GAAA,KAAA,CAAA;AAAA,EAAA,2BAAA,GAAA;AAWA,IAAA,WAAA,EAAA;AAAA,EAAA;AAAA,CAAA,CAAA;ACXA,IAsCa,aAAA;AAtCb,IAAA,mBAAA,GAAA,KAAA,CAAA;AAAA,EAAA,gCAAA,GAAA;AASA,IAAA,kBAAA,EAAA;AA6BO,IAAM,gBAAN,MAA8C;AAAA,MAC3C,UAAA;AAAA,MACA,YAAA;AAAA,MAER,WAAA,GAAc;AACZ,QAAA,MAAM,aAAA,GAAgBD,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,aAAa,CAAA;AACnD,QAAA,IAAA,CAAK,UAAA,GAAaD,IAAAA,CAAK,aAAA,EAAe,SAAS,CAAA;AAC/C,QAAA,IAAA,CAAK,YAAA,GAAeA,IAAAA,CAAK,IAAA,CAAK,UAAA,EAAY,eAAe,CAAA;AAGzD,QAAA,IAAI,CAACF,UAAAA,CAAW,aAAa,CAAA,EAAG;AAC9B,UAAAI,SAAAA,CAAU,aAAA,EAAe,EAAE,SAAA,EAAW,MAAM,CAAA;AAAA,QAC9C;AACA,QAAA,IAAI,CAACJ,UAAAA,CAAW,IAAA,CAAK,UAAU,CAAA,EAAG;AAChC,UAAAI,UAAU,IAAA,CAAK,UAAA,EAAY,EAAE,SAAA,EAAW,MAAM,CAAA;AAAA,QAChD;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKQ,WAAA,GAA+B;AACrC,QAAA,IAAIJ,UAAAA,CAAW,IAAA,CAAK,YAAY,CAAA,EAAG;AACjC,UAAA,IAAI;AACF,YAAA,OAAO,KAAK,KAAA,CAAMK,YAAAA,CAAa,IAAA,CAAK,YAAA,EAAc,OAAO,CAAC,CAAA;AAAA,UAC5D,SAAS,KAAA,EAAO;AAAA,UAEhB;AAAA,QACF;AAEA,QAAA,OAAO;AAAA,UACL,YAAA,EAAc,IAAA;AAAA,UACd,SAAS;AAAC,SACZ;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKQ,aAAa,QAAA,EAAiC;AACpD,QAAAC,aAAAA,CAAc,KAAK,YAAA,EAAc,IAAA,CAAK,UAAU,QAAA,EAAU,IAAA,EAAM,CAAC,CAAC,CAAA;AAAA,MACpE;AAAA;AAAA;AAAA;AAAA,MAKA,gBAAA,GAA2B;AACzB,QAAA,OAAa,uBAAiB,GAAG,CAAA;AAAA,MACnC;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA,MAAM,mBAAA,CAAoB,QAAA,EAAkB,KAAA,GAAQ,CAAA,EAA8D;AAChH,QAAA,IAAI,CAAO,KAAA,CAAA,gBAAA,CAAiB,QAAQ,CAAA,EAAG;AACrC,UAAA,MAAM,IAAI,MAAM,yBAAyB,CAAA;AAAA,QAC3C;AAEA,QAAA,IAAI;AAEF,UAAA,MAAM,IAAA,GAAO,MAAY,KAAA,CAAA,cAAA,CAAe,QAAQ,CAAA;AAGhD,UAAA,MAAM,cAAA,GAAiB,cAAc,KAAK,CAAA,IAAA,CAAA;AAC1C,UAAA,MAAM,EAAE,KAAI,GAAI,UAAA,CAAW,gBAAgB,IAAA,CAAK,QAAA,CAAS,KAAK,CAAC,CAAA;AAI/D,UAAA,MAAM,OAAA,GAAU,KAAK,IAAA,CAAK,OAAA,CAAQ,SAAS,IAAI,UAAA,CAAW,GAAG,CAAC,CAAA;AAC9D,UAAA,MAAM,YAAY,OAAA,CAAQ,SAAA;AAG1B,UAAA,MAAM,MAAA,GAAS,MAAMC,4BAAAA,CAA6B,SAAS,CAAA;AAE3D,UAAA,OAAO,EAAE,QAAQ,SAAA,EAAU;AAAA,QAC7B,SAAS,KAAA,EAAO;AACd,UAAA,MAAM,IAAI,MAAM,CAAA,wCAAA,EAA2C,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,QACvH;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,YAAA,CACJ,IAAA,EACA,OAAA,GAAiD,UACjD,QAAA,EACmD;AACnD,QAAA,MAAM,QAAA,GAAW,KAAK,WAAA,EAAY;AAGlC,QAAA,IAAI,IAAA,IAAQ,SAAS,OAAA,EAAS;AAC5B,UAAA,MAAM,IAAI,KAAA,CAAM,CAAA,kBAAA,EAAqB,IAAI,CAAA,gBAAA,CAAkB,CAAA;AAAA,QAC7D;AAGA,QAAA,MAAM,UAAA,GAAa,QAAA,IAAY,IAAA,CAAK,gBAAA,EAAiB;AACrD,QAAA,MAAM,EAAE,MAAA,EAAQ,SAAA,KAAc,MAAM,IAAA,CAAK,oBAAoB,UAAU,CAAA;AAEvE,QAAA,MAAM,UAAA,GAAyB;AAAA,UAC7B,QAAA,EAAU;AAAA,YACR,IAAA;AAAA,YACA,OAAA,EAAS,MAAA,CAAO,OAAA,CAAQ,QAAA,EAAS;AAAA,YACjC,OAAA;AAAA,YACA,SAAA,EAAW,KAAK,GAAA,EAAI;AAAA,YACpB,QAAA,EAAU,KAAK,GAAA,EAAI;AAAA,YACnB,UAAU,MAAA,CAAO,IAAA,CAAK,QAAA,CAAS,OAAO,EAAE,MAAA,KAAW;AAAA;AAAA,WACrD;AAAA,UACA,OAAA,EAAS,KAAA,CAAM,IAAA,CAAK,SAAS;AAAA,SAC/B;AAGA,QAAA,MAAM,aAAaL,IAAAA,CAAK,IAAA,CAAK,UAAA,EAAY,CAAA,EAAG,IAAI,CAAA,KAAA,CAAO,CAAA;AACvD,QAAAI,cAAc,UAAA,EAAY,IAAA,CAAK,UAAU,UAAA,EAAY,IAAA,EAAM,CAAC,CAAC,CAAA;AAG7D,QAAA,QAAA,CAAS,OAAA,CAAQ,IAAI,CAAA,GAAI,UAAA,CAAW,QAAA;AACpC,QAAA,IAAI,UAAA,CAAW,SAAS,QAAA,EAAU;AAChC,UAAA,QAAA,CAAS,YAAA,GAAe,IAAA;AAAA,QAC1B;AACA,QAAA,IAAA,CAAK,aAAa,QAAQ,CAAA;AAE1B,QAAA,OAAO,EAAE,MAAA,EAAQ,UAAA,EAAY,QAAA,EAAU,UAAA,EAAW;AAAA,MACpD;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,YAAA,CACJ,IAAA,EACA,mBAAA,EACA,UAAiD,QAAA,EAC5B;AACrB,QAAA,MAAM,QAAA,GAAW,KAAK,WAAA,EAAY;AAElC,QAAA,IAAI,IAAA,IAAQ,SAAS,OAAA,EAAS;AAC5B,UAAA,MAAM,IAAI,KAAA,CAAM,CAAA,kBAAA,EAAqB,IAAI,CAAA,gBAAA,CAAkB,CAAA;AAAA,QAC7D;AAEA,QAAA,IAAI,MAAA;AACJ,QAAA,IAAI,eAAA;AAEJ,QAAA,IAAI,OAAO,wBAAwB,QAAA,EAAU;AAE3C,UAAA,IAAU,KAAA,CAAA,gBAAA,CAAiB,mBAAmB,CAAA,EAAG;AAC/C,YAAA,MAAM,MAAA,GAAS,MAAM,IAAA,CAAK,mBAAA,CAAoB,mBAAmB,CAAA;AACjE,YAAA,MAAA,GAAS,MAAA,CAAO,MAAA;AAChB,YAAA,eAAA,GAAkB,MAAA,CAAO,SAAA;AAAA,UAC3B,CAAA,MAAO;AAEL,YAAA,IAAI;AACF,cAAA,MAAM,KAAA,GAAQ,IAAA,CAAK,KAAA,CAAM,mBAAmB,CAAA;AAC5C,cAAA,eAAA,GAAkB,IAAI,WAAW,KAAK,CAAA;AAGtC,cAAA,IAAI,eAAA,CAAgB,WAAW,EAAA,EAAI;AACjC,gBAAA,MAAM,OAAA,GAAU,IAAA,CAAK,IAAA,CAAK,OAAA,CAAQ,SAAS,eAAe,CAAA;AAC1D,gBAAA,eAAA,GAAkB,OAAA,CAAQ,SAAA;AAAA,cAC5B;AAEA,cAAA,MAAA,GAAS,MAAMC,6BAA6B,eAAe,CAAA;AAAA,YAC7D,SAAS,KAAA,EAAO;AACd,cAAA,MAAM,IAAI,MAAM,wCAAwC,CAAA;AAAA,YAC1D;AAAA,UACF;AAAA,QACF,CAAA,MAAO;AAEL,UAAA,eAAA,GAAkB,mBAAA;AAGlB,UAAA,IAAI,eAAA,CAAgB,WAAW,EAAA,EAAI;AACjC,YAAA,MAAM,OAAA,GAAU,IAAA,CAAK,IAAA,CAAK,OAAA,CAAQ,SAAS,eAAe,CAAA;AAC1D,YAAA,eAAA,GAAkB,OAAA,CAAQ,SAAA;AAAA,UAC5B;AAEA,UAAA,MAAA,GAAS,MAAMA,6BAA6B,eAAe,CAAA;AAAA,QAC7D;AAEA,QAAA,MAAM,UAAA,GAAyB;AAAA,UAC7B,QAAA,EAAU;AAAA,YACR,IAAA;AAAA,YACA,OAAA,EAAS,MAAA,CAAO,OAAA,CAAQ,QAAA,EAAS;AAAA,YACjC,OAAA;AAAA,YACA,SAAA,EAAW,KAAK,GAAA,EAAI;AAAA,YACpB,QAAA,EAAU,KAAK,GAAA,EAAI;AAAA,YACnB,UAAU,MAAA,CAAO,IAAA,CAAK,QAAA,CAAS,OAAO,EAAE,MAAA,KAAW;AAAA,WACrD;AAAA,UACA,OAAA,EAAS,KAAA,CAAM,IAAA,CAAK,eAAe;AAAA,SACrC;AAGA,QAAA,MAAM,aAAaL,IAAAA,CAAK,IAAA,CAAK,UAAA,EAAY,CAAA,EAAG,IAAI,CAAA,KAAA,CAAO,CAAA;AACvD,QAAAI,cAAc,UAAA,EAAY,IAAA,CAAK,UAAU,UAAA,EAAY,IAAA,EAAM,CAAC,CAAC,CAAA;AAG7D,QAAA,QAAA,CAAS,OAAA,CAAQ,IAAI,CAAA,GAAI,UAAA,CAAW,QAAA;AACpC,QAAA,IAAI,UAAA,CAAW,SAAS,QAAA,EAAU;AAChC,UAAA,QAAA,CAAS,YAAA,GAAe,IAAA;AAAA,QAC1B;AACA,QAAA,IAAA,CAAK,aAAa,QAAQ,CAAA;AAE1B,QAAA,OAAO,UAAA;AAAA,MACT;AAAA;AAAA;AAAA;AAAA,MAKA,WAAA,GAAgC;AAC9B,QAAA,MAAM,QAAA,GAAW,KAAK,WAAA,EAAY;AAClC,QAAA,OAAO,MAAA,CAAO,MAAA,CAAO,QAAA,CAAS,OAAO,CAAA,CAAE,IAAA,CAAK,CAAC,CAAA,EAAG,CAAA,KAAM,CAAA,CAAE,QAAA,GAAW,CAAA,CAAE,QAAQ,CAAA;AAAA,MAC/E;AAAA;AAAA;AAAA;AAAA,MAKA,eAAA,GAAqC;AACnC,QAAA,MAAM,QAAA,GAAW,KAAK,WAAA,EAAY;AAClC,QAAA,IAAI,CAAC,SAAS,YAAA,EAAc;AAC1B,UAAA,OAAO,IAAA;AAAA,QACT;AAEA,QAAA,OAAO,IAAA,CAAK,SAAA,CAAU,QAAA,CAAS,YAAY,CAAA;AAAA,MAC7C;AAAA;AAAA;AAAA;AAAA,MAKA,UAAU,IAAA,EAAiC;AACzC,QAAA,MAAM,QAAA,GAAW,KAAK,WAAA,EAAY;AAClC,QAAA,IAAI,EAAE,IAAA,IAAQ,QAAA,CAAS,OAAA,CAAA,EAAU;AAC/B,UAAA,OAAO,IAAA;AAAA,QACT;AAEA,QAAA,MAAM,aAAaJ,IAAAA,CAAK,IAAA,CAAK,UAAA,EAAY,CAAA,EAAG,IAAI,CAAA,KAAA,CAAO,CAAA;AACvD,QAAA,IAAI,CAACF,UAAAA,CAAW,UAAU,CAAA,EAAG;AAC3B,UAAA,OAAO,IAAA;AAAA,QACT;AAEA,QAAA,IAAI;AACF,UAAA,MAAM,aAAa,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,UAAA,EAAY,OAAO,CAAC,CAAA;AAE/D,UAAA,UAAA,CAAW,QAAA,CAAS,QAAA,GAAW,IAAA,CAAK,GAAA,EAAI;AACxC,UAAA,QAAA,CAAS,OAAA,CAAQ,IAAI,CAAA,CAAE,QAAA,GAAW,KAAK,GAAA,EAAI;AAC3C,UAAA,IAAA,CAAK,aAAa,QAAQ,CAAA;AAE1B,UAAA,OAAO,UAAA;AAAA,QACT,SAAS,KAAA,EAAO;AACd,UAAA,OAAO,IAAA;AAAA,QACT;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,gBAAgB,IAAA,EAAoB;AAClC,QAAA,MAAM,QAAA,GAAW,KAAK,WAAA,EAAY;AAClC,QAAA,IAAI,EAAE,IAAA,IAAQ,QAAA,CAAS,OAAA,CAAA,EAAU;AAC/B,UAAA,MAAM,IAAI,KAAA,CAAM,CAAA,QAAA,EAAW,IAAI,CAAA,WAAA,CAAa,CAAA;AAAA,QAC9C;AAGA,QAAA,MAAA,CAAO,IAAA,CAAK,QAAA,CAAS,OAAO,CAAA,CAAE,QAAQ,CAAA,UAAA,KAAc;AAClD,UAAA,QAAA,CAAS,OAAA,CAAQ,UAAU,CAAA,CAAE,QAAA,GAAW,UAAA,KAAe,IAAA;AAAA,QACzD,CAAC,CAAA;AAED,QAAA,QAAA,CAAS,YAAA,GAAe,IAAA;AACxB,QAAA,IAAA,CAAK,aAAa,QAAQ,CAAA;AAAA,MAC5B;AAAA;AAAA;AAAA;AAAA,MAKA,YAAA,CAAa,SAAiB,OAAA,EAAuB;AACnD,QAAA,MAAM,QAAA,GAAW,KAAK,WAAA,EAAY;AAElC,QAAA,IAAI,EAAE,OAAA,IAAW,QAAA,CAAS,OAAA,CAAA,EAAU;AAClC,UAAA,MAAM,IAAI,KAAA,CAAM,CAAA,QAAA,EAAW,OAAO,CAAA,WAAA,CAAa,CAAA;AAAA,QACjD;AAEA,QAAA,IAAI,OAAA,IAAW,SAAS,OAAA,EAAS;AAC/B,UAAA,MAAM,IAAI,KAAA,CAAM,CAAA,QAAA,EAAW,OAAO,CAAA,gBAAA,CAAkB,CAAA;AAAA,QACtD;AAGA,QAAA,MAAM,UAAUH,IAAAA,CAAK,IAAA,CAAK,UAAA,EAAY,CAAA,EAAG,OAAO,CAAA,KAAA,CAAO,CAAA;AACvD,QAAA,MAAM,UAAUA,IAAAA,CAAK,IAAA,CAAK,UAAA,EAAY,CAAA,EAAG,OAAO,CAAA,KAAA,CAAO,CAAA;AAEvD,QAAA,IAAIF,UAAAA,CAAW,OAAO,CAAA,EAAG;AACvB,UAAA,MAAM,aAAa,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,OAAA,EAAS,OAAO,CAAC,CAAA;AAC5D,UAAA,UAAA,CAAW,SAAS,IAAA,GAAO,OAAA;AAC3B,UAAAC,cAAc,OAAA,EAAS,IAAA,CAAK,UAAU,UAAA,EAAY,IAAA,EAAM,CAAC,CAAC,CAAA;AAG1D,UAAA,UAAA,CAAW,OAAO,CAAA;AAAA,QACpB;AAGA,QAAA,MAAM,QAAA,GAAW,QAAA,CAAS,OAAA,CAAQ,OAAO,CAAA;AACzC,QAAA,QAAA,CAAS,IAAA,GAAO,OAAA;AAChB,QAAA,QAAA,CAAS,OAAA,CAAQ,OAAO,CAAA,GAAI,QAAA;AAC5B,QAAA,OAAO,QAAA,CAAS,QAAQ,OAAO,CAAA;AAE/B,QAAA,IAAI,QAAA,CAAS,iBAAiB,OAAA,EAAS;AACrC,UAAA,QAAA,CAAS,YAAA,GAAe,OAAA;AAAA,QAC1B;AAEA,QAAA,IAAA,CAAK,aAAa,QAAQ,CAAA;AAAA,MAC5B;AAAA;AAAA;AAAA;AAAA,MAKA,aAAa,IAAA,EAAoB;AAC/B,QAAA,MAAM,QAAA,GAAW,KAAK,WAAA,EAAY;AAElC,QAAA,IAAI,EAAE,IAAA,IAAQ,QAAA,CAAS,OAAA,CAAA,EAAU;AAC/B,UAAA,MAAM,IAAI,KAAA,CAAM,CAAA,QAAA,EAAW,IAAI,CAAA,WAAA,CAAa,CAAA;AAAA,QAC9C;AAGA,QAAA,IAAI,QAAA,CAAS,iBAAiB,IAAA,IAAQ,MAAA,CAAO,KAAK,QAAA,CAAS,OAAO,CAAA,CAAE,MAAA,GAAS,CAAA,EAAG;AAC9E,UAAA,MAAM,IAAI,MAAM,8DAA8D,CAAA;AAAA,QAChF;AAGA,QAAA,MAAM,aAAaJ,IAAAA,CAAK,IAAA,CAAK,UAAA,EAAY,CAAA,EAAG,IAAI,CAAA,KAAA,CAAO,CAAA;AACvD,QAAA,IAAIF,UAAAA,CAAW,UAAU,CAAA,EAAG;AAC1B,UAAA,UAAA,CAAW,UAAU,CAAA;AAAA,QACvB;AAGA,QAAA,OAAO,QAAA,CAAS,QAAQ,IAAI,CAAA;AAE5B,QAAA,IAAI,QAAA,CAAS,iBAAiB,IAAA,EAAM;AAElC,UAAA,MAAM,gBAAA,GAAmB,MAAA,CAAO,IAAA,CAAK,QAAA,CAAS,OAAO,CAAA;AACrD,UAAA,QAAA,CAAS,eAAe,gBAAA,CAAiB,MAAA,GAAS,CAAA,GAAI,gBAAA,CAAiB,CAAC,CAAA,GAAI,IAAA;AAC5E,UAAA,IAAI,SAAS,YAAA,EAAc;AACzB,YAAA,QAAA,CAAS,OAAA,CAAQ,QAAA,CAAS,YAAY,CAAA,CAAE,QAAA,GAAW,IAAA;AAAA,UACrD;AAAA,QACF;AAEA,QAAA,IAAA,CAAK,aAAa,QAAQ,CAAA;AAAA,MAC5B;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,UAAA,CAAW,aAAA,EAAuB,OAAA,EAAkC;AACxE,QAAA,IAAI;AACF,UAAA,MAAM,SAAS,OAAA,KAAY,QAAA,GACvB,+BAAA,GACA,OAAA,KAAY,YACV,gCAAA,GACA,qCAAA;AAGN,UAAA,MAAM,MAAA,GAAS,mBAAmB,MAAM,CAAA;AACxC,UAAA,MAAM,EAAE,KAAA,EAAO,OAAA,EAAQ,GAAI,MAAM,MAAA,CAAO,GAAA,CAAI,UAAA,CAAWD,SAAAA,CAAQ,aAAa,CAAC,CAAA,CAAE,IAAA,EAAK;AACpF,UAAA,OAAO,MAAA,CAAO,OAAO,CAAA,GAAI,GAAA;AAAA,QAC3B,SAAS,KAAA,EAAO;AACd,UAAA,OAAO,CAAA;AAAA,QACT;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,UAAU,IAAA,EAA6C;AAC3D,QAAA,MAAM,MAAA,GAAS,IAAA,CAAK,SAAA,CAAU,IAAI,CAAA;AAClC,QAAA,IAAI,CAAC,MAAA,EAAQ;AACX,UAAA,OAAO,IAAA;AAAA,QACT;AAEA,QAAA,OAAOQ,4BAAAA,CAA6B,IAAI,UAAA,CAAW,MAAA,CAAO,OAAO,CAAC,CAAA;AAAA,MACpE;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,eAAA,GAAiD;AACrD,QAAA,MAAM,MAAA,GAAS,KAAK,eAAA,EAAgB;AACpC,QAAA,IAAI,CAAC,MAAA,EAAQ;AACX,UAAA,OAAO,IAAA;AAAA,QACT;AAEA,QAAA,OAAOA,4BAAAA,CAA6B,IAAI,UAAA,CAAW,MAAA,CAAO,OAAO,CAAC,CAAA;AAAA,MACpE;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,qBAAA,CAAsB,IAAA,EAAc,OAAA,EAAoE;AAC5G,QAAA,MAAM,WAAiB,KAAA,CAAA,gBAAA,EAAiB;AACxC,QAAA,MAAM,EAAE,QAAQ,UAAA,EAAW,GAAI,MAAM,IAAA,CAAK,YAAA,CAAa,IAAA,EAAM,OAAA,EAAkD,QAAQ,CAAA;AAEvH,QAAA,MAAM,UAAA,GAAyB;AAAA,UAC7B,OAAA,EAASR,SAAAA,CAAQ,UAAA,CAAW,QAAA,CAAS,OAAO,CAAA;AAAA,UAC5C,IAAA,EAAM,WAAW,QAAA,CAAS,IAAA;AAAA,UAC1B,OAAA,EAAS,WAAW,QAAA,CAAS,OAAA;AAAA,UAC7B,QAAA,EAAU;AAAA,YACR,SAAA,EAAW,WAAW,QAAA,CAAS,SAAA;AAAA,YAC/B,QAAA,EAAU,WAAW,QAAA,CAAS,QAAA;AAAA,YAC9B,QAAA,EAAU,WAAW,QAAA,CAAS;AAAA;AAChC,SACF;AAEA,QAAA,OAAO,EAAE,MAAA,EAAQ,UAAA,EAAY,QAAA,EAAS;AAAA,MACxC;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,qBAAA,CAAsB,IAAA,EAAc,QAAA,EAAkB,OAAA,EAAsC;AAChG,QAAA,MAAM,aAAa,MAAM,IAAA,CAAK,YAAA,CAAa,IAAA,EAAM,UAAU,OAAgD,CAAA;AAE3G,QAAA,OAAO;AAAA,UACL,OAAA,EAASA,SAAAA,CAAQ,UAAA,CAAW,QAAA,CAAS,OAAO,CAAA;AAAA,UAC5C,IAAA,EAAM,WAAW,QAAA,CAAS,IAAA;AAAA,UAC1B,OAAA,EAAS,WAAW,QAAA,CAAS,OAAA;AAAA,UAC7B,QAAA,EAAU;AAAA,YACR,SAAA,EAAW,WAAW,QAAA,CAAS,SAAA;AAAA,YAC/B,QAAA,EAAU,WAAW,QAAA,CAAS,QAAA;AAAA,YAC9B,QAAA,EAAU,WAAW,QAAA,CAAS;AAAA;AAChC,SACF;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,oBAAA,GAA8C;AAClD,QAAA,MAAM,OAAA,GAAU,KAAK,WAAA,EAAY;AACjC,QAAA,OAAO,OAAA,CAAQ,IAAI,CAAA,MAAA,MAAW;AAAA,UAC5B,OAAA,EAASA,SAAAA,CAAQ,MAAA,CAAO,OAAO,CAAA;AAAA,UAC/B,MAAM,MAAA,CAAO,IAAA;AAAA,UACb,SAAS,MAAA,CAAO,OAAA;AAAA,UAChB,QAAA,EAAU;AAAA,YACR,WAAW,MAAA,CAAO,SAAA;AAAA,YAClB,UAAU,MAAA,CAAO,QAAA;AAAA,YACjB,UAAU,MAAA,CAAO;AAAA;AACnB,SACF,CAAE,CAAA;AAAA,MACJ;AAAA;AAAA;AAAA;AAAA,MAKA,wBAAA,GAA8C;AAC5C,QAAA,MAAM,MAAA,GAAS,KAAK,eAAA,EAAgB;AACpC,QAAA,IAAI,CAAC,QAAQ,OAAO,IAAA;AAEpB,QAAA,OAAO;AAAA,UACL,OAAA,EAASA,SAAAA,CAAQ,MAAA,CAAO,QAAA,CAAS,OAAO,CAAA;AAAA,UACxC,IAAA,EAAM,OAAO,QAAA,CAAS,IAAA;AAAA,UACtB,OAAA,EAAS,OAAO,QAAA,CAAS,OAAA;AAAA,UACzB,QAAA,EAAU;AAAA,YACR,SAAA,EAAW,OAAO,QAAA,CAAS,SAAA;AAAA,YAC3B,QAAA,EAAU,OAAO,QAAA,CAAS,QAAA;AAAA,YAC1B,QAAA,EAAU,OAAO,QAAA,CAAS;AAAA;AAC5B,SACF;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,yBAAyB,IAAA,EAA6B;AAC1D,QAAA,IAAA,CAAK,gBAAgB,IAAI,CAAA;AAAA,MAC3B;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,oBAAoB,aAAA,EAAyC;AACjE,QAAA,MAAM,UAAU,MAAM,IAAA,CAAK,WAAW,aAAA,CAAc,QAAA,IAAY,QAAQ,CAAA;AACxE,QAAA,OAAO,MAAA,CAAO,IAAA,CAAK,KAAA,CAAM,OAAA,GAAU,GAAa,CAAC,CAAA;AAAA,MACnD;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,eAAA,CAAgB,MAAA,EAAuB,WAAA,EAAuC;AAClF,QAAA,IAAI;AAEF,UAAA,MAAM,EAAE,eAAA,EAAiB,kBAAA,EAAmB,GAAI,MAAM,OAAO,aAAa,CAAA;AAG1E,UAAA,MAAM,EAAA,GAAK,WAAA;AAGX,UAAA,MAAM,oBAAoB,MAAM,kBAAA,CAAmB,CAAC,MAAa,GAAG,EAAS,CAAA;AAI7E,UAAA,MAAM,UAAA,GAAa,MAAA,CAAO,MAAA,CAAO,iBAAA,CAAkB,UAAU,CAAA;AAC7D,UAAA,IAAI,UAAA,CAAW,SAAS,CAAA,EAAG;AACzB,YAAA,MAAM,SAAA,GAAY,WAAW,CAAC,CAAA;AAC9B,YAAA,IAAI,CAAC,SAAA,EAAW;AACd,cAAA,MAAM,IAAI,MAAM,mBAAmB,CAAA;AAAA,YACrC;AACA,YAAA,OAAA,CAAQ,IAAI,CAAA,6BAAA,EAA2B,MAAA,CAAO,OAAA,CAAQ,QAAA,EAAU,CAAA,CAAE,CAAA;AAElE,YAAA,OAAO,UAAU,QAAA,EAAS;AAAA,UAC5B,CAAA,MAAO;AACL,YAAA,MAAM,IAAI,MAAM,0CAA0C,CAAA;AAAA,UAC5D;AAAA,QACF,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,KAAA,CAAM,+BAA+B,KAAK,CAAA;AAClD,UAAA,MAAM,IAAI,MAAM,CAAA,4BAAA,EAA+B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,QAC3G;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,gBAAA,GAAkC;AACtC,QAAA,MAAM,aAAA,GAAgBG,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,aAAa,CAAA;AAClE,QAAA,IAAI,CAACH,UAAAA,CAAW,aAAa,CAAA,EAAG;AAC9B,UAAA;AAAA,QACF;AAEA,QAAA,IAAI;AACF,UAAA,MAAM,gBAAgB,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,aAAA,EAAe,OAAO,CAAC,CAAA;AAGrE,UAAA,MAAM,KAAK,YAAA,CAAa,MAAA,EAAQ,IAAI,UAAA,CAAW,aAAa,GAAG,QAAQ,CAAA;AAGvE,UAAA,UAAA,CAAW,aAAA,EAAe,gBAAgB,SAAS,CAAA;AAAA,QAErD,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,iCAAiC,KAAK,CAAA;AAAA,QACrD;AAAA,MACF;AAAA,KACF;AAAA,EAAA;AAAA,CAAA,CAAA;AC9jBA,IAkEa,QAAA,CAAA,CAmOA,iBAsCA,aAAA,CAAA,CAmEA,mBAAA,CAAA,CA2DA,yBAmEA,eAAA;AA5gBb,IAAA,iBAAA,GAAA,KAAA,CAAA;AAAA,EAAA,0BAAA,GAAA;AAkEO,IAAM,QAAA,GAAN,MAAM,SAAA,SAAiB,YAAA,CAAa;AAAA,MACzC,OAAe,QAAA,GAA4B,IAAA;AAAA,MACnC,aAAA,uBAAoB,GAAA,EAA4B;AAAA,MAChD,aAAA,GAAgB,IAAI,OAAA,EAAe;AAAA,MACnC,eAAwB,EAAC;AAAA,MACzB,cAAA,GAAiB,GAAA;AAAA,MACjB,oBAAA,GAAuB,CAAA;AAAA;AAAA;AAAA;AAAA,MAK/B,OAAO,WAAA,GAAwB;AAC7B,QAAA,SAAA,CAAS,QAAA,KAAa,IAAI,SAAA,EAAS;AACnC,QAAA,OAAO,SAAA,CAAS,QAAA;AAAA,MAClB;AAAA;AAAA;AAAA;AAAA,MAKA,IAAA,CAAK,IAAA,EAAc,IAAA,EAAgB,OAAA,EAIvB;AACV,QAAA,MAAM,KAAA,GAAe;AAAA,UACnB,IAAA;AAAA,UACA,IAAA;AAAA,UACA,SAAA,sBAAe,IAAA,EAAK;AAAA,UACpB,QAAQ,OAAA,EAAS,MAAA;AAAA,UACjB,UAAU,OAAA,EAAS,QAAA;AAAA,UACnB,aAAA,EAAe,OAAA,EAAS,aAAA,IAAiB,IAAA,CAAK,qBAAA;AAAsB,SACtE;AAGA,QAAA,IAAA,CAAK,aAAa,KAAK,CAAA;AAGvB,QAAA,KAAA,CAAM,IAAA,CAAK,MAAM,KAAK,CAAA;AAGtB,QAAA,IAAA,CAAK,aAAA,CAAc,KAAK,KAAK,CAAA;AAE7B,QAAA,MAAM,OAAA,GAAU,IAAA,CAAK,aAAA,CAAc,GAAA,CAAI,IAAI,CAAA;AAC3C,QAAA,IAAI,OAAA,EAAS;AACX,UAAA,OAAA,CAAQ,KAAK,KAAK,CAAA;AAAA,QACpB;AAEA,QAAA,OAAO,IAAA;AAAA,MACT;AAAA;AAAA;AAAA;AAAA,MAKA,EAAA,CAAG,WAAmB,QAAA,EAA8B;AAClD,QAAA,KAAA,CAAM,EAAA,CAAG,WAAW,QAAQ,CAAA;AAC5B,QAAA,OAAO,IAAA;AAAA,MACT;AAAA;AAAA;AAAA;AAAA,MAKA,IAAA,CAAK,WAAmB,QAAA,EAA8B;AACpD,QAAA,KAAA,CAAM,IAAA,CAAK,WAAW,QAAQ,CAAA;AAC9B,QAAA,OAAO,IAAA;AAAA,MACT;AAAA;AAAA;AAAA;AAAA,MAKA,GAAA,CAAI,WAAmB,QAAA,EAA8B;AACnD,QAAA,KAAA,CAAM,GAAA,CAAI,WAAW,QAAQ,CAAA;AAC7B,QAAA,OAAO,IAAA;AAAA,MACT;AAAA;AAAA;AAAA;AAAA,MAKA,aAAa,OAAA,EAA0C;AACrD,QAAA,OAAO,KAAK,aAAA,CAAc,IAAA;AAAA,UACxB,OAAO,CAAA,KAAA,KAAS,IAAA,CAAK,eAAe,KAAA,CAAM,IAAA,EAAM,OAAO,CAAC;AAAA,SAC1D;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,kBAAqB,SAAA,EAAyC;AAC5D,QAAA,IAAI,OAAA,GAAU,IAAA,CAAK,aAAA,CAAc,GAAA,CAAI,SAAS,CAAA;AAC9C,QAAA,IAAI,CAAC,OAAA,EAAS;AACZ,UAAA,OAAA,GAAU,IAAI,OAAA,EAAe;AAC7B,UAAA,IAAA,CAAK,aAAA,CAAc,GAAA,CAAI,SAAA,EAAW,OAAO,CAAA;AAAA,QAC3C;AAEA,QAAA,OAAO,QAAQ,YAAA,EAAa;AAAA,MAC9B;AAAA;AAAA;AAAA;AAAA,MAKA,SAAA,CACE,OAAA,EACA,OAAA,EACA,QAAA,EAImB;AACnB,QAAA,MAAM,eAAe,IAAA,CAAK,YAAA,CAAa,OAAO,CAAA,CAAE,UAAU,OAAO,CAAA;AAEjE,QAAA,OAAO;AAAA,UACL,WAAA,EAAa,MAAM,YAAA,CAAa,WAAA;AAAY,SAC9C;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,WAAWG,OAAAA,EAIC;AACV,QAAA,IAAI,SAAS,IAAA,CAAK,YAAA;AAElB,QAAA,IAAIA,SAAQ,IAAA,EAAM;AAChB,UAAA,MAAA,GAAS,MAAA,CAAO,OAAO,CAAA,KAAA,KAAS,IAAA,CAAK,eAAe,KAAA,CAAM,IAAA,EAAMA,OAAAA,CAAO,IAAK,CAAC,CAAA;AAAA,QAC/E;AAEA,QAAA,IAAIA,SAAQ,KAAA,EAAO;AACjB,UAAA,MAAA,GAAS,OAAO,MAAA,CAAO,CAAA,KAAA,KAAS,KAAA,CAAM,SAAA,IAAaA,QAAO,KAAM,CAAA;AAAA,QAClE;AAEA,QAAA,IAAIA,SAAQ,KAAA,EAAO;AACjB,UAAA,MAAA,GAAS,MAAA,CAAO,KAAA,CAAM,CAACA,OAAAA,CAAO,KAAK,CAAA;AAAA,QACrC;AAEA,QAAA,OAAO,MAAA;AAAA,MACT;AAAA;AAAA;AAAA;AAAA,MAKA,YAAA,GAAqB;AACnB,QAAA,IAAA,CAAK,eAAe,EAAC;AAAA,MACvB;AAAA;AAAA;AAAA;AAAA,MAKA,OAAA,CACE,SAAA,EACA,OAAA,GAAU,GAAA,EACS;AACnB,QAAA,OAAO,IAAI,OAAA,CAAQ,CAACC,QAAAA,EAAS,MAAA,KAAW;AACtC,UAAA,MAAM,KAAA,GAAQ,WAAW,MAAM;AAC7B,YAAA,MAAA,CAAO,IAAI,KAAA,CAAM,CAAA,2BAAA,EAA8B,SAAS,EAAE,CAAC,CAAA;AAAA,UAC7D,GAAG,OAAO,CAAA;AAEV,UAAA,IAAA,CAAK,IAAA,CAAK,SAAA,EAAW,CAAC,KAAA,KAAU;AAC9B,YAAA,YAAA,CAAa,KAAK,CAAA;AAClB,YAAAA,SAAQ,KAAiB,CAAA;AAAA,UAC3B,CAAC,CAAA;AAAA,QACH,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,UAAU,MAAA,EAAuD;AAC/D,QAAA,MAAA,CAAO,OAAA,CAAQ,CAAC,EAAE,IAAA,EAAM,MAAK,KAAM;AACjC,UAAA,IAAA,CAAK,IAAA,CAAK,MAAM,IAAI,CAAA;AAAA,QACtB,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,UAAU,aAAA,EAAwC;AAChD,QAAA,OAAO,IAAI,eAAA,CAAgB,IAAA,EAAM,aAAa,CAAA;AAAA,MAChD;AAAA;AAAA;AAAA;AAAA,MAKQ,aAAa,KAAA,EAAoB;AACvC,QAAA,IAAA,CAAK,YAAA,CAAa,KAAK,KAAK,CAAA;AAG5B,QAAA,IAAI,IAAA,CAAK,YAAA,CAAa,MAAA,GAAS,IAAA,CAAK,cAAA,EAAgB;AAClD,UAAA,IAAA,CAAK,eAAe,IAAA,CAAK,YAAA,CAAa,KAAA,CAAM,CAAC,KAAK,cAAc,CAAA;AAAA,QAClE;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKQ,cAAA,CAAe,WAAmB,OAAA,EAAgC;AACxE,QAAA,IAAI,OAAO,YAAY,QAAA,EAAU;AAC/B,UAAA,IAAI,OAAA,CAAQ,QAAA,CAAS,GAAG,CAAA,EAAG;AACzB,YAAA,MAAM,KAAA,GAAQ,IAAI,MAAA,CAAO,GAAA,GAAM,QAAQ,OAAA,CAAQ,KAAA,EAAO,IAAI,CAAA,GAAI,GAAG,CAAA;AACjE,YAAA,OAAO,KAAA,CAAM,KAAK,SAAS,CAAA;AAAA,UAC7B;AACA,UAAA,OAAO,SAAA,KAAc,OAAA;AAAA,QACvB;AAEA,QAAA,IAAI,mBAAmB,MAAA,EAAQ;AAC7B,UAAA,OAAO,OAAA,CAAQ,KAAK,SAAS,CAAA;AAAA,QAC/B;AAEA,QAAA,IAAI,OAAO,YAAY,UAAA,EAAY;AACjC,UAAA,OAAO,QAAQ,SAAS,CAAA;AAAA,QAC1B;AAEA,QAAA,OAAO,KAAA;AAAA,MACT;AAAA;AAAA;AAAA;AAAA,MAKQ,qBAAA,GAAgC;AACtC,QAAA,OAAO,QAAQ,IAAA,CAAK,GAAA,EAAK,CAAA,CAAA,EAAI,EAAE,KAAK,oBAAoB,CAAA,CAAA;AAAA,MAC1D;AAAA,KACF;AAKO,IAAM,kBAAN,MAAsB;AAAA,MAC3B,WAAA,CACUC,WACA,aAAA,EACR;AAFQ,QAAA,IAAA,CAAA,QAAA,GAAAA,SAAAA;AACA,QAAA,IAAA,CAAA,aAAA,GAAA,aAAA;AAAA,MACP;AAAA;AAAA;AAAA;AAAA,MAKH,IAAA,CAAK,IAAA,EAAc,IAAA,EAAgB,QAAA,EAA0C;AAC3E,QAAA,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,IAAA,EAAM,IAAA,EAAM;AAAA,UAC7B,eAAe,IAAA,CAAK,aAAA;AAAA,UACpB;AAAA,SACD,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,mBAAA,GAA+B;AAC7B,QAAA,OAAO,IAAA,CAAK,SAAS,UAAA,CAAW;AAAA,UAC9B,MAAM,MAAM;AAAA,SACb,CAAA,CAAE,MAAA,CAAO,WAAS,KAAA,CAAM,aAAA,KAAkB,KAAK,aAAa,CAAA;AAAA,MAC/D;AAAA;AAAA;AAAA;AAAA,MAKA,YAAA,GAAkC;AAChC,QAAA,OAAO,IAAA,CAAK,QAAA,CAAS,YAAA,CAAa,MAAM,IAAI,CAAA,CAAE,IAAA;AAAA,UAC5C,MAAA,CAAO,CAAA,KAAA,KAAS,KAAA,CAAM,aAAA,KAAkB,KAAK,aAAa;AAAA,SAC5D;AAAA,MACF;AAAA,KACF;AAKO,IAAM,gBAAN,MAAoB;AAAA,MACjB,QAAA,uBAAe,GAAA,EAAsC;AAAA,MACrD,QAAA,GAAW,SAAS,WAAA,EAAY;AAAA,MAExC,WAAA,GAAc;AAEZ,QAAA,IAAA,CAAK,QAAA,CAAS,YAAA,CAAa,GAAG,CAAA,CAAE,UAAU,CAAA,KAAA,KAAS;AACjD,UAAA,IAAA,CAAK,YAAA,CAAa,KAAA,CAAM,IAAA,EAAM,KAAA,CAAM,IAAI,CAAA;AAAA,QAC1C,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,SAAA,CAAa,KAAa,YAAA,EAAiC;AACzD,QAAA,IAAI,OAAA,GAAU,IAAA,CAAK,QAAA,CAAS,GAAA,CAAI,GAAG,CAAA;AACnC,QAAA,IAAI,CAAC,OAAA,EAAS;AACZ,UAAA,OAAA,GAAU,IAAI,gBAAyB,YAAY,CAAA;AACnD,UAAA,IAAA,CAAK,QAAA,CAAS,GAAA,CAAI,GAAA,EAAK,OAAO,CAAA;AAAA,QAChC;AAEA,QAAA,OAAO,QAAQ,YAAA,EAAa;AAAA,MAC9B;AAAA;AAAA;AAAA;AAAA,MAKA,YAAA,CAAa,KAAa,IAAA,EAAqB;AAC7C,QAAA,MAAM,OAAA,GAAU,IAAA,CAAK,QAAA,CAAS,GAAA,CAAI,GAAG,CAAA;AACrC,QAAA,IAAI,OAAA,EAAS;AACX,UAAA,OAAA,CAAQ,KAAK,IAAI,CAAA;AAAA,QACnB;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,kBAAqB,IAAA,EAAiC;AACpD,QAAA,MAAM,UAAU,IAAA,CAAK,GAAA,CAAI,SAAO,IAAA,CAAK,SAAA,CAAU,GAAG,CAAC,CAAA;AACnD,QAAA,OAAO,KAAA,CAAM,GAAG,OAAO,CAAA,CAAE,IAAA;AAAA,UACvB,GAAA,CAAI,MAAM,IAAA,CAAK,GAAA,CAAI,CAAA,GAAA,KAAO,IAAA,CAAK,QAAA,CAAS,GAAA,CAAI,GAAG,CAAA,EAAG,KAAK,CAAC;AAAA,SAC1D;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,YAAY,GAAA,EAAmB;AAC7B,QAAA,MAAM,OAAA,GAAU,IAAA,CAAK,QAAA,CAAS,GAAA,CAAI,GAAG,CAAA;AACrC,QAAA,IAAI,OAAA,EAAS;AACX,UAAA,OAAA,CAAQ,QAAA,EAAS;AACjB,UAAA,IAAA,CAAK,QAAA,CAAS,OAAO,GAAG,CAAA;AAAA,QAC1B;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,eAAA,GAAwB;AACtB,QAAA,IAAA,CAAK,QAAA,CAAS,OAAA,CAAQ,CAAA,OAAA,KAAW,OAAA,CAAQ,UAAU,CAAA;AACnD,QAAA,IAAA,CAAK,SAAS,KAAA,EAAM;AAAA,MACtB;AAAA,KACF;AAKO,IAAM,sBAAN,MAA0B;AAAA,MACvB,aAAA,GAAgB,IAAI,OAAA,EAAuB;AAAA,MAC3C,QAAA,GAAW,SAAS,WAAA,EAAY;AAAA,MAExC,WAAA,GAAc;AAEZ,QAAA,IAAA,CAAK,QAAA,CAAS,EAAA,CAAG,kBAAA,EAAoB,CAAC,KAAA,KAA8C;AAClF,UAAA,MAAM,OAAO,KAAA,CAAM,IAAA;AACnB,UAAA,IAAA,CAAK,cAAc,IAAA,CAAK;AAAA,YACtB,SAAS,IAAA,CAAK,OAAA;AAAA,YACd,SAAS,IAAA,CAAK,OAAA;AAAA,YACd,QAAQ,IAAA,CAAK,MAAA;AAAA,YACb,OAAO,IAAA,CAAK,KAAA;AAAA,YACZ,WAAW,KAAA,CAAM;AAAA,WAClB,CAAA;AAAA,QACH,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,eAAA,GAA6C;AAC3C,QAAA,OAAO,IAAA,CAAK,cAAc,YAAA,EAAa;AAAA,MACzC;AAAA;AAAA;AAAA;AAAA,MAKA,iBAAiB,OAAA,EAA4C;AAC3D,QAAA,OAAO,KAAK,aAAA,CAAc,IAAA;AAAA,UACxB,MAAA,CAAO,CAAA,MAAA,KAAU,MAAA,CAAO,OAAA,KAAY,OAAO;AAAA,SAC7C;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,UAAU,OAAA,EAA6D;AACrE,QAAA,MAAM,YAAA,GAAe,IAAA,CAAK,aAAA,CAAc,SAAA,CAAU,OAAO,CAAA;AACzD,QAAA,OAAO;AAAA,UACL,WAAA,EAAa,MAAM,YAAA,CAAa,WAAA;AAAY,SAC9C;AAAA,MACF;AAAA,KACF;AAgBO,IAAM,0BAAN,MAA8B;AAAA,MAC3B,QAAA,GAAW,SAAS,WAAA,EAAY;AAAA,MAChC,WAAA,GAAc,KAAA;AAAA,MACd,gBAAqC,EAAC;AAAA;AAAA;AAAA;AAAA,MAK9C,MAAM,cAAA,GAAgC;AACpC,QAAA,IAAI,KAAK,WAAA,EAAa;AACpB,UAAA;AAAA,QACF;AAEA,QAAA,IAAA,CAAK,WAAA,GAAc,IAAA;AAInB,QAAA,IAAA,CAAK,wBAAA,EAAyB;AAE9B,QAAA,IAAA,CAAK,QAAA,CAAS,KAAK,6BAA6B,CAAA;AAAA,MAClD;AAAA;AAAA;AAAA;AAAA,MAKA,aAAA,GAAsB;AACpB,QAAA,IAAI,CAAC,KAAK,WAAA,EAAa;AACrB,UAAA;AAAA,QACF;AAEA,QAAA,IAAA,CAAK,WAAA,GAAc,KAAA;AACnB,QAAA,IAAA,CAAK,aAAA,CAAc,OAAA,CAAQ,CAAA,GAAA,KAAO,GAAA,CAAI,aAAa,CAAA;AACnD,QAAA,IAAA,CAAK,gBAAgB,EAAC;AAEtB,QAAA,IAAA,CAAK,QAAA,CAAS,KAAK,6BAA6B,CAAA;AAAA,MAClD;AAAA;AAAA;AAAA;AAAA,MAKQ,wBAAA,GAAiC;AAEvC,QAAA,MAAM,MAAA,GAAS;AAAA,UACb,uBAAA;AAAA,UACA,kBAAA;AAAA,UACA;AAAA,SACF;AAEA,QAAA,MAAM,kBAAkB,MAAM;AAC5B,UAAA,IAAI,CAAC,KAAK,WAAA,EAAa;AAEvB,UAAA,MAAM,SAAA,GAAY,OAAO,IAAA,CAAK,KAAA,CAAM,KAAK,MAAA,EAAO,GAAI,MAAA,CAAO,MAAM,CAAC,CAAA;AAClE,UAAA,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,CAAA,WAAA,EAAc,SAAS,CAAA,CAAA,EAAI;AAAA,YAC5C,SAAA,EAAW,QAAA,GAAW,IAAA,CAAK,MAAA,EAAO,CAAE,SAAS,EAAE,CAAA,CAAE,MAAA,CAAO,CAAA,EAAG,CAAC,CAAA;AAAA,YAC5D,SAAA,sBAAe,IAAA;AAAK,WACrB,CAAA;AAED,UAAA,UAAA,CAAW,eAAA,EAAiB,GAAA,GAAO,IAAA,CAAK,MAAA,KAAW,GAAK,CAAA;AAAA,QAC1D,CAAA;AAEA,QAAA,UAAA,CAAW,iBAAiB,GAAI,CAAA;AAAA,MAClC;AAAA,KACF;AAKO,IAAM,kBAAN,MAAsB;AAAA,MACnB,KAAA,GAAQ,IAAI,eAAA,CAA0B;AAAA,QAC5C,aAAA,EAAe,IAAA;AAAA,QACf,IAAA,EAAM,IAAA;AAAA,QACN,OAAA,EAAS,QAAA;AAAA,QACT,MAAA,EAAQ,IAAA;AAAA,QACR,QAAA,EAAU;AAAA,OACX,CAAA;AAAA,MAEO,QAAA,GAAW,SAAS,WAAA,EAAY;AAAA,MAExC,WAAA,GAAc;AACZ,QAAA,IAAA,CAAK,kBAAA,EAAmB;AAAA,MAC1B;AAAA;AAAA;AAAA;AAAA,MAKA,QAAA,GAAiC;AAC/B,QAAA,OAAO,IAAA,CAAK,MAAM,YAAA,EAAa;AAAA,MACjC;AAAA;AAAA;AAAA;AAAA,MAKA,YAAY,OAAA,EAAkC;AAC5C,QAAA,MAAM,YAAA,GAAe,KAAK,KAAA,CAAM,KAAA;AAChC,QAAA,MAAM,QAAA,GAAW,EAAE,GAAG,YAAA,EAAc,GAAG,OAAA,EAAQ;AAC/C,QAAA,IAAA,CAAK,KAAA,CAAM,KAAK,QAAQ,CAAA;AAExB,QAAA,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,mBAAA,EAAqB,QAAQ,CAAA;AAAA,MAClD;AAAA;AAAA;AAAA;AAAA,MAKQ,kBAAA,GAA2B;AACjC,QAAA,IAAA,CAAK,QAAA,CAAS,EAAA,CAAG,iBAAA,EAAmB,CAAC,KAAA,KAA6B;AAChE,UAAA,MAAM,OAAA,GAAW,MAAM,IAAA,CAA6B,OAAA;AACpD,UAAA,IAAA,CAAK,WAAA,CAAY,EAAE,aAAA,EAAe,OAAA,EAAS,CAAA;AAAA,QAC7C,CAAC,CAAA;AAED,QAAA,IAAA,CAAK,QAAA,CAAS,EAAA,CAAG,mBAAA,EAAqB,MAAM;AAC1C,UAAA,IAAA,CAAK,WAAA,CAAY,EAAE,aAAA,EAAe,IAAA,EAAM,CAAA;AAAA,QAC1C,CAAC,CAAA;AAED,QAAA,IAAA,CAAK,QAAA,CAAS,EAAA,CAAG,kBAAA,EAAoB,CAAC,KAAA,KAA6B;AACjE,UAAA,MAAM,SAAS,KAAA,CAAM,IAAA;AACrB,UAAA,IAAA,CAAK,WAAA,CAAY,EAAE,MAAA,EAAQ,CAAA;AAAA,QAC7B,CAAC,CAAA;AAED,QAAA,IAAA,CAAK,QAAA,CAAS,EAAA,CAAG,iBAAA,EAAmB,CAAC,KAAA,KAA6B;AAChE,UAAA,MAAM,OAAA,GAAW,MAAM,IAAA,CAA6B,OAAA;AACpD,UAAA,IAAA,CAAK,WAAA,CAAY,EAAE,OAAA,EAAS,CAAA;AAAA,QAC9B,CAAC,CAAA;AAAA,MACH;AAAA,KACF;AAoBO,IAAiB,SAAS,WAAA,EAAY;AACtC,IAAsB,IAAI,aAAA,EAAc;AACxC,IAA4B,IAAI,mBAAA,EAAoB;AACpD,IAAgC,IAAI,uBAAA,EAAwB;AAC5D,IAAwB,IAAI,eAAA,EAAgB;AAAA,EAAA;AAAA,CAAA,CAAA;AC5lBnD,IA4Fa,gBAAA,CAAA,CAyGA,gBAuVA,qBAAA;AA5hBb,IAAA,oBAAA,GAAA,KAAA,CAAA;AAAA,EAAA,6BAAA,GAAA;AAsBA,IAAA,iBAAA,EAAA;AAsEO,IAAM,gBAAA,GAAN,cAA+BC,YAAAA,CAAa;AAAA,MACzC,GAAA;AAAA,MACA,QAAA;AAAA,MACA,SAAA;AAAA,MACA,QAAA;AAAA,MACA,YAAA,GAAe,CAAA;AAAA,MACf,QAAA,GAAW,KAAA;AAAA,MACX,IAAA;AAAA,MAER,WAAA,CAAY,GAAA,EAAmB,QAAA,EAAuB,IAAA,EAAsB;AAC1E,QAAA,KAAA,EAAM;AACN,QAAA,IAAA,CAAK,GAAA,GAAM,GAAA;AACX,QAAA,IAAA,CAAK,QAAA,GAAW,QAAA;AAChB,QAAA,IAAA,CAAK,IAAA,GAAO,IAAA;AACZ,QAAA,IAAA,CAAK,SAAA,uBAAgB,IAAA,EAAK;AAC1B,QAAA,IAAA,CAAK,QAAA,uBAAe,IAAA,EAAK;AAAA,MAC3B;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,IAAA,CAAkB,MAAA,EAAgB,MAAA,EAAgC;AACtE,QAAA,MAAM,SAAA,GAAY,KAAK,GAAA,EAAI;AAC3B,QAAA,IAAA,CAAK,QAAA,GAAW,IAAA;AAChB,QAAA,IAAA,CAAK,YAAA,EAAA;AACL,QAAA,IAAA,CAAK,QAAA,uBAAe,IAAA,EAAK;AAEzB,QAAA,IAAI;AAEF,UAAA,MAAM,MAAA,GAAS,MAAO,IAAA,CAAK,GAAA,CAAY,MAAM,CAAA,GAAI,GAAI,MAAA,IAAU,EAAG,CAAA;AAGlE,UAAA,MAAM,YAAA,GAAe,IAAA,CAAK,GAAA,EAAI,GAAI,SAAA;AAClC,UAAA,IAAA,CAAK,mBAAmB,YAAY,CAAA;AAEpC,UAAA,IAAA,CAAK,KAAK,mBAAA,EAAqB;AAAA,YAC7B,MAAA;AAAA,YACA,YAAA;AAAA,YACA,OAAA,EAAS;AAAA,WACV,CAAA;AAED,UAAA,OAAO,MAAA;AAAA,QAET,SAAS,KAAA,EAAO;AACd,UAAA,MAAM,YAAA,GAAe,IAAA,CAAK,GAAA,EAAI,GAAI,SAAA;AAClC,UAAA,IAAA,CAAK,mBAAmB,YAAY,CAAA;AAEpC,UAAA,IAAA,CAAK,KAAK,gBAAA,EAAkB;AAAA,YAC1B,MAAA;AAAA,YACA,YAAA;AAAA,YACA;AAAA,WACD,CAAA;AAED,UAAA,MAAM,KAAA;AAAA,QACR,CAAA,SAAE;AACA,UAAA,IAAA,CAAK,QAAA,GAAW,KAAA;AAEhB,UAAA,IAAA,CAAK,IAAA,CAAK,kBAAkB,IAAI,CAAA;AAAA,QAClC;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,QAAA,GAAW;AACT,QAAA,OAAO;AAAA,UACL,QAAA,EAAU,KAAK,QAAA,CAAS,GAAA;AAAA,UACxB,WAAW,IAAA,CAAK,SAAA;AAAA,UAChB,UAAU,IAAA,CAAK,QAAA;AAAA,UACf,cAAc,IAAA,CAAK,YAAA;AAAA,UACnB,UAAU,IAAA,CAAK,QAAA;AAAA,UACf,MAAA,EAAQ,KAAK,QAAA,CAAS,MAAA;AAAA,UACtB,YAAA,EAAc,KAAK,QAAA,CAAS;AAAA,SAC9B;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,QAAQ,WAAA,EAA8B;AACpC,QAAA,OAAO,KAAK,GAAA,EAAI,GAAI,IAAA,CAAK,QAAA,CAAS,SAAQ,GAAI,WAAA;AAAA,MAChD;AAAA;AAAA;AAAA;AAAA,MAKQ,mBAAmB,YAAA,EAA4B;AACrD,QAAA,MAAM,KAAA,GAAQ,KAAK,QAAA,CAAS,YAAA;AAC5B,QAAA,KAAA,CAAM,OAAA,GAAU,YAAA;AAChB,QAAA,KAAA,CAAM,GAAA,GAAM,IAAA,CAAK,GAAA,CAAI,KAAA,CAAM,KAAK,YAAY,CAAA;AAC5C,QAAA,KAAA,CAAM,GAAA,GAAM,IAAA,CAAK,GAAA,CAAI,KAAA,CAAM,KAAK,YAAY,CAAA;AAG5C,QAAA,KAAA,CAAM,OAAA,CAAQ,KAAK,YAAY,CAAA;AAC/B,QAAA,IAAI,KAAA,CAAM,OAAA,CAAQ,MAAA,GAAS,GAAA,EAAK;AAC9B,UAAA,KAAA,CAAM,OAAA,GAAU,KAAA,CAAM,OAAA,CAAQ,KAAA,CAAM,IAAI,CAAA;AAAA,QAC1C;AAEA,QAAA,KAAA,CAAM,OAAA,GAAU,KAAA,CAAM,OAAA,CAAQ,MAAA,CAAO,CAAC,GAAA,EAAK,IAAA,KAAS,GAAA,GAAM,IAAA,EAAM,CAAC,CAAA,GAAI,KAAA,CAAM,OAAA,CAAQ,MAAA;AAAA,MACrF;AAAA,KACF;AAKO,IAAM,cAAA,GAAN,cAA6BA,YAAAA,CAAa;AAAA,MACvC,OAAA;AAAA,MACA,SAAA;AAAA,MACA,cAAkC,EAAC;AAAA,MACnC,iBAAA,uBAAwB,GAAA,EAAsB;AAAA,MAC9C,MAAA;AAAA,MAMA,mBAAA,GAA6C,IAAA;AAAA,MAC7C,KAAA,GAAmB;AAAA,QACzB,gBAAA,EAAkB,CAAA;AAAA,QAClB,iBAAA,EAAmB,CAAA;AAAA,QACnB,eAAA,EAAiB,CAAA;AAAA,QACjB,aAAA,EAAe,CAAA;AAAA,QACf,mBAAA,EAAqB,CAAA;AAAA,QACrB,OAAA,EAAS,CAAA;AAAA,QACT,QAAA,EAAU,CAAA;AAAA,QACV,aAAa;AAAC,OAChB;AAAA,MAEA,WAAA,CACE,OAAA,EACA,SAAA,EACAV,OAAAA,GAAS;AAAA,QACP,cAAA,EAAgB,CAAA;AAAA,QAChB,cAAA,EAAgB,EAAA;AAAA,QAChB,WAAA,EAAa,GAAA;AAAA;AAAA,QACb,mBAAA,EAAqB;AAAA;AAAA,OACvB,EACA;AACA,QAAA,KAAA,EAAM;AACN,QAAA,IAAA,CAAK,OAAA,GAAU,OAAA;AACf,QAAA,IAAA,CAAK,SAAA,GAAY,SAAA;AACjB,QAAA,IAAA,CAAK,MAAA,GAASA,OAAAA;AAGd,QAAA,IAAA,CAAK,cAAA,EAAe;AAGpB,QAAA,IAAA,CAAK,iBAAA,EAAkB;AAAA,MACzB;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,aAAA,GAA2C;AAE/C,QAAA,MAAM,cAAA,GAAiB,KAAK,iBAAA,EAAkB;AAC9C,QAAA,IAAI,cAAA,EAAgB;AAClB,UAAA,IAAA,CAAK,iBAAA,CAAkB,IAAI,cAAc,CAAA;AACzC,UAAA,IAAA,CAAK,WAAA,EAAY;AACjB,UAAA,OAAO,cAAA;AAAA,QACT;AAGA,QAAA,IAAI,IAAA,CAAK,WAAA,CAAY,MAAA,GAAS,IAAA,CAAK,OAAO,cAAA,EAAgB;AACxD,UAAA,MAAM,UAAA,GAAa,MAAM,IAAA,CAAK,gBAAA,EAAiB;AAC/C,UAAA,IAAA,CAAK,WAAA,CAAY,KAAK,UAAU,CAAA;AAChC,UAAA,IAAA,CAAK,iBAAA,CAAkB,IAAI,UAAU,CAAA;AACrC,UAAA,IAAA,CAAK,WAAA,EAAY;AACjB,UAAA,OAAO,UAAA;AAAA,QACT;AAGA,QAAA,OAAO,KAAK,iBAAA,EAAkB;AAAA,MAChC;AAAA;AAAA;AAAA;AAAA,MAKA,kBAAkB,UAAA,EAAoC;AACpD,QAAA,IAAA,CAAK,iBAAA,CAAkB,OAAO,UAAU,CAAA;AACxC,QAAA,IAAA,CAAK,WAAA,EAAY;AACjB,QAAA,IAAA,CAAK,IAAA,CAAK,uBAAuB,UAAU,CAAA;AAAA,MAC7C;AAAA;AAAA;AAAA;AAAA,MAKA,QAAA,GAAsB;AACpB,QAAA,OAAO,EAAE,GAAG,IAAA,CAAK,KAAA,EAAM;AAAA,MACzB;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,KAAA,GAAuB;AAC3B,QAAA,IAAI,KAAK,mBAAA,EAAqB;AAC5B,UAAA,aAAA,CAAc,KAAK,mBAAmB,CAAA;AACtC,UAAA,IAAA,CAAK,mBAAA,GAAsB,IAAA;AAAA,QAC7B;AAGA,QAAA,KAAA,MAAW,UAAA,IAAc,KAAK,WAAA,EAAa;AACzC,UAAA,UAAA,CAAW,kBAAA,EAAmB;AAAA,QAChC;AAEA,QAAA,IAAA,CAAK,cAAc,EAAC;AACpB,QAAA,IAAA,CAAK,kBAAkB,KAAA,EAAM;AAC7B,QAAA,IAAA,CAAK,KAAK,aAAa,CAAA;AAAA,MACzB;AAAA;AAAA;AAAA;AAAA,MAKA,MAAc,cAAA,GAAgC;AAC5C,QAAA,MAAM,WAAW,EAAC;AAClB,QAAA,KAAA,IAAS,IAAI,CAAA,EAAG,CAAA,GAAI,IAAA,CAAK,MAAA,CAAO,gBAAgB,CAAA,EAAA,EAAK;AACnD,UAAA,QAAA,CAAS,IAAA,CAAK,IAAA,CAAK,gBAAA,EAAkB,CAAA;AAAA,QACvC;AAEA,QAAA,IAAI;AACF,UAAA,MAAM,WAAA,GAAc,MAAM,OAAA,CAAQ,GAAA,CAAI,QAAQ,CAAA;AAC9C,UAAA,IAAA,CAAK,WAAA,CAAY,IAAA,CAAK,GAAG,WAAW,CAAA;AACpC,UAAA,IAAA,CAAK,WAAA,EAAY;AAAA,QACnB,SAAS,KAAA,EAAO;AACd,UAAA,IAAA,CAAK,IAAA,CAAK,4BAA4B,KAAK,CAAA;AAAA,QAC7C;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,MAAc,gBAAA,GAA8C;AAC1D,QAAA,MAAM,QAAA,GAAW,KAAK,cAAA,EAAe;AAErC,QAAA,IAAI;AAEF,UAAA,MAAM,SAASW,kBAAAA,CAAmB,EAAE,YAAA,EAAc,QAAA,CAAS,KAAK,CAAA;AAChE,UAAA,MAAM,MAAM,MAAA,CAAO,GAAA;AACnB,UAAA,MAAM,UAAA,GAAa,IAAI,gBAAA,CAAiB,GAAA,EAAK,UAAU,IAAI,CAAA;AAG3D,UAAA,UAAA,CAAW,EAAA,CAAG,mBAAA,EAAqB,CAAC,IAAA,KAAS;AAC3C,YAAA,IAAA,CAAK,KAAA,CAAM,aAAA,EAAA;AACX,YAAA,IAAA,CAAK,yBAAA,CAA0B,KAAK,YAAY,CAAA;AAAA,UAClD,CAAC,CAAA;AAED,UAAA,UAAA,CAAW,EAAA,CAAG,gBAAA,EAAkB,CAAC,KAAA,KAAU;AACzC,YAAA,IAAA,CAAK,KAAA,CAAM,QAAA,EAAA;AACX,YAAA,IAAA,CAAK,oBAAA,CAAqB,UAAU,UAAU,CAAA;AAAA,UAChD,CAAC,CAAA;AAED,UAAA,IAAA,CAAK,IAAA,CAAK,sBAAsB,UAAU,CAAA;AAC1C,UAAA,OAAO,UAAA;AAAA,QAET,SAAS,KAAA,EAAO;AACd,UAAA,IAAA,CAAK,oBAAA,CAAqB,UAAU,WAAW,CAAA;AAC/C,UAAA,MAAM,IAAI,KAAA,CAAM,CAAA,+BAAA,EAAkC,SAAS,GAAG,CAAA,EAAA,EAAK,KAAK,CAAA,CAAE,CAAA;AAAA,QAC5E;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKQ,iBAAA,GAA6C;AACnD,QAAA,KAAA,MAAW,UAAA,IAAc,KAAK,WAAA,EAAa;AACzC,UAAA,IAAI,CAAC,IAAA,CAAK,iBAAA,CAAkB,GAAA,CAAI,UAAU,CAAA,IAAK,CAAC,UAAA,CAAW,OAAA,CAAQ,IAAA,CAAK,MAAA,CAAO,WAAW,CAAA,EAAG;AAC3F,YAAA,OAAO,UAAA;AAAA,UACT;AAAA,QACF;AACA,QAAA,OAAO,IAAA;AAAA,MACT;AAAA;AAAA;AAAA;AAAA,MAKA,MAAc,iBAAA,GAA+C;AAC3D,QAAA,OAAO,IAAI,OAAA,CAAQ,CAACH,QAAAA,EAAS,MAAA,KAAW;AACtC,UAAA,MAAM,OAAA,GAAU,WAAW,MAAM;AAC/B,YAAA,MAAA,CAAO,IAAI,KAAA,CAAM,8CAA8C,CAAC,CAAA;AAAA,UAClE,GAAG,GAAK,CAAA;AAER,UAAA,MAAM,oBAAA,GAAuB,CAAC,UAAA,KAAiC;AAC7D,YAAA,YAAA,CAAa,OAAO,CAAA;AACpB,YAAA,IAAA,CAAK,GAAA,CAAI,uBAAuB,oBAAoB,CAAA;AACpD,YAAA,IAAA,CAAK,iBAAA,CAAkB,IAAI,UAAU,CAAA;AACrC,YAAAA,SAAQ,UAAU,CAAA;AAAA,UACpB,CAAA;AAEA,UAAA,IAAA,CAAK,EAAA,CAAG,uBAAuB,oBAAoB,CAAA;AAAA,QACrD,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKQ,cAAA,GAA8B;AACpC,QAAA,MAAM,gBAAA,GAAmB,KAAK,SAAA,CAAU,MAAA;AAAA,UAAO,CAAA,EAAA,KAC7C,EAAA,CAAG,MAAA,KAAW,SAAA,IAAa,GAAG,MAAA,KAAW;AAAA,SAC3C;AAEA,QAAA,IAAI,gBAAA,CAAiB,WAAW,CAAA,EAAG;AAEjC,UAAA,MAAM,oBAAoB,IAAA,CAAK,SAAA,CAAU,OAAO,CAAA,EAAA,KAAM,EAAA,CAAG,WAAW,UAAU,CAAA;AAC9E,UAAA,IAAI,iBAAA,CAAkB,SAAS,CAAA,EAAG;AAChC,YAAA,OAAO,kBAAkB,CAAC,CAAA;AAAA,UAC5B;AAEA,UAAA,OAAO,IAAA,CAAK,UAAU,CAAC,CAAA;AAAA,QACzB;AAGA,QAAA,MAAM,WAAA,GAAc,gBAAA,CAAiB,MAAA,CAAO,CAAC,KAAK,EAAA,KAAO;AACvD,UAAA,MAAM,iBAAA,GAAoB,KAAK,GAAA,CAAI,CAAA,EAAG,OAAQ,EAAA,CAAG,YAAA,CAAa,WAAW,GAAA,CAAK,CAAA;AAC9E,UAAA,OAAO,GAAA,GAAM,GAAG,MAAA,GAAS,iBAAA;AAAA,QAC3B,GAAG,CAAC,CAAA;AAEJ,QAAA,MAAM,MAAA,GAAS,IAAA,CAAK,MAAA,EAAO,GAAI,WAAA;AAC/B,QAAA,IAAI,aAAA,GAAgB,CAAA;AAEpB,QAAA,KAAA,MAAW,YAAY,gBAAA,EAAkB;AACvC,UAAA,MAAM,iBAAA,GAAoB,KAAK,GAAA,CAAI,CAAA,EAAG,OAAQ,QAAA,CAAS,YAAA,CAAa,WAAW,GAAA,CAAK,CAAA;AACpF,UAAA,aAAA,IAAiB,SAAS,MAAA,GAAS,iBAAA;AACnC,UAAA,IAAI,UAAU,aAAA,EAAe;AAC3B,YAAA,OAAO,QAAA;AAAA,UACT;AAAA,QACF;AAEA,QAAA,OAAO,iBAAiB,CAAC,CAAA;AAAA,MAC3B;AAAA;AAAA;AAAA;AAAA,MAKQ,iBAAA,GAA0B;AAChC,QAAA,IAAA,CAAK,mBAAA,GAAsB,YAAY,MAAM;AAC3C,UAAA,IAAA,CAAK,mBAAA,EAAoB;AAAA,QAC3B,CAAA,EAAG,IAAA,CAAK,MAAA,CAAO,mBAAmB,CAAA;AAAA,MACpC;AAAA;AAAA;AAAA;AAAA,MAKA,MAAc,mBAAA,GAAqC;AACjD,QAAA,MAAM,QAAA,GAAW,KAAK,SAAA,CAAU,GAAA,CAAI,cAAY,IAAA,CAAK,mBAAA,CAAoB,QAAQ,CAAC,CAAA;AAClF,QAAA,MAAM,OAAA,CAAQ,WAAW,QAAQ,CAAA;AACjC,QAAA,IAAA,CAAK,uBAAA,EAAwB;AAAA,MAC/B;AAAA;AAAA;AAAA;AAAA,MAKA,MAAc,oBAAoB,QAAA,EAAsC;AACtE,QAAA,MAAM,SAAA,GAAY,KAAK,GAAA,EAAI;AAE3B,QAAA,IAAI;AAEF,UAAA,MAAM,SAASG,kBAAAA,CAAmB,EAAE,YAAA,EAAc,QAAA,CAAS,KAAK,CAAA;AAChE,UAAA,MAAM,MAAA,CAAO,GAAA,CAAI,kBAAA,EAAmB,CAAE,IAAA,EAAK;AAE3C,UAAA,MAAM,YAAA,GAAe,IAAA,CAAK,GAAA,EAAI,GAAI,SAAA;AAClC,UAAA,QAAA,CAAS,aAAa,OAAA,GAAU,YAAA;AAChC,UAAA,QAAA,CAAS,eAAA,uBAAsB,IAAA,EAAK;AAGpC,UAAA,IAAI,eAAe,GAAA,EAAM;AACvB,YAAA,IAAA,CAAK,oBAAA,CAAqB,UAAU,SAAS,CAAA;AAAA,UAC/C,CAAA,MAAA,IAAW,eAAe,GAAA,EAAM;AAC9B,YAAA,IAAA,CAAK,oBAAA,CAAqB,UAAU,UAAU,CAAA;AAAA,UAChD,CAAA,MAAO;AACL,YAAA,IAAA,CAAK,oBAAA,CAAqB,UAAU,WAAW,CAAA;AAAA,UACjD;AAAA,QAEF,SAAS,KAAA,EAAO;AACd,UAAA,IAAA,CAAK,oBAAA,CAAqB,UAAU,WAAW,CAAA;AAC/C,UAAA,QAAA,CAAS,eAAA,uBAAsB,IAAA,EAAK;AAAA,QACtC;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKQ,oBAAA,CAAqB,UAAuB,MAAA,EAAgC;AAClF,QAAA,IAAI,QAAA,CAAS,WAAW,MAAA,EAAQ;AAC9B,UAAA,MAAM,YAAY,QAAA,CAAS,MAAA;AAC3B,UAAA,QAAA,CAAS,MAAA,GAAS,MAAA;AAClB,UAAA,IAAA,CAAK,KAAA,CAAM,WAAA,CAAY,QAAA,CAAS,GAAG,CAAA,GAAI,MAAA;AAEvC,UAAA,IAAA,CAAK,KAAK,yBAAA,EAA2B;AAAA,YACnC,UAAU,QAAA,CAAS,GAAA;AAAA,YACnB,SAAA;AAAA,YACA,SAAA,EAAW;AAAA,WACZ,CAAA;AAAA,QACH;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKQ,uBAAA,GAAgC;AACtC,QAAA,MAAM,gBAAA,GAAmB,KAAK,WAAA,CAAY,MAAA;AAAA,UAAO,CAAA,IAAA,KAC/C,CAAC,IAAA,CAAK,iBAAA,CAAkB,GAAA,CAAI,IAAI,CAAA,IAAK,IAAA,CAAK,OAAA,CAAQ,IAAA,CAAK,MAAA,CAAO,WAAW;AAAA,SAC3E;AAEA,QAAA,KAAA,MAAW,mBAAmB,gBAAA,EAAkB;AAC9C,UAAA,MAAM,KAAA,GAAQ,IAAA,CAAK,WAAA,CAAY,OAAA,CAAQ,eAAe,CAAA;AACtD,UAAA,IAAI,QAAQ,EAAA,EAAI;AACd,YAAA,IAAA,CAAK,WAAA,CAAY,MAAA,CAAO,KAAA,EAAO,CAAC,CAAA;AAChC,YAAA,eAAA,CAAgB,kBAAA,EAAmB;AAAA,UACrC;AAAA,QACF;AAEA,QAAA,IAAA,CAAK,WAAA,EAAY;AAAA,MACnB;AAAA;AAAA;AAAA;AAAA,MAKQ,WAAA,GAAoB;AAC1B,QAAA,IAAA,CAAK,KAAA,CAAM,gBAAA,GAAmB,IAAA,CAAK,WAAA,CAAY,MAAA;AAC/C,QAAA,IAAA,CAAK,KAAA,CAAM,iBAAA,GAAoB,IAAA,CAAK,iBAAA,CAAkB,IAAA;AACtD,QAAA,IAAA,CAAK,MAAM,eAAA,GAAkB,IAAA,CAAK,WAAA,CAAY,MAAA,GAAS,KAAK,iBAAA,CAAkB,IAAA;AAC9E,QAAA,IAAA,CAAK,KAAA,CAAM,OAAA,GAAU,IAAA,CAAK,KAAA,CAAM,gBAAgB,CAAA,GAAA,CAC1C,IAAA,CAAK,KAAA,CAAM,aAAA,GAAgB,KAAK,KAAA,CAAM,QAAA,IAAY,IAAA,CAAK,KAAA,CAAM,gBAAiB,GAAA,GAChF,CAAA;AAGJ,QAAA,KAAA,MAAW,QAAA,IAAY,KAAK,SAAA,EAAW;AACrC,UAAA,IAAA,CAAK,KAAA,CAAM,WAAA,CAAY,QAAA,CAAS,GAAG,IAAI,QAAA,CAAS,MAAA;AAAA,QAClD;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKQ,0BAA0B,YAAA,EAA4B;AAC5D,QAAA,MAAM,UAAA,GAAa,KAAK,KAAA,CAAM,mBAAA;AAC9B,QAAA,MAAM,aAAA,GAAgB,KAAK,KAAA,CAAM,aAAA;AAGjC,QAAA,IAAA,CAAK,KAAA,CAAM,sBAAsB,aAAA,GAAgB,CAAA,GAAA,CAC3C,cAAc,aAAA,GAAgB,CAAA,CAAA,GAAM,gBAAgB,aAAA,GACtD,YAAA;AAAA,MACN;AAAA,KACF;AAKO,IAAM,qBAAA,GAAN,MAAM,sBAAA,SAA8BD,YAAAA,CAAa;AAAA,MACtD,OAAe,QAAA,GAAyC,IAAA;AAAA,MAChD,KAAA,uBAAY,GAAA,EAAiC;AAAA,MAC7C,QAAA,GAAW,SAAS,WAAA,EAAY;AAAA,MAChC,gBAAA,GAAuD;AAAA,QAC7D,cAAA,EAAgB;AAAA,UACd;AAAA,YACE,GAAA,EAAK,qCAAA;AAAA,YACL,MAAA,EAAQ,EAAA;AAAA,YACR,cAAA,EAAgB,CAAA;AAAA,YAChB,OAAA,EAAS,GAAA;AAAA,YACT,mBAAA,EAAqB,GAAA;AAAA,YACrB,MAAA,EAAQ,SAAA;AAAA,YACR,eAAA,sBAAqB,IAAA,EAAK;AAAA,YAC1B,YAAA,EAAc,EAAE,OAAA,EAAS,CAAA,EAAG,OAAA,EAAS,CAAA,EAAG,GAAA,EAAK,QAAA,EAAU,GAAA,EAAK,CAAA,EAAG,OAAA,EAAS,EAAC;AAAE,WAC7E;AAAA,UACA;AAAA,YACE,GAAA,EAAK,qCAAA;AAAA,YACL,MAAA,EAAQ,CAAA;AAAA,YACR,cAAA,EAAgB,CAAA;AAAA,YAChB,OAAA,EAAS,GAAA;AAAA,YACT,mBAAA,EAAqB,GAAA;AAAA,YACrB,MAAA,EAAQ,SAAA;AAAA,YACR,eAAA,sBAAqB,IAAA,EAAK;AAAA,YAC1B,YAAA,EAAc,EAAE,OAAA,EAAS,CAAA,EAAG,OAAA,EAAS,CAAA,EAAG,GAAA,EAAK,QAAA,EAAU,GAAA,EAAK,CAAA,EAAG,OAAA,EAAS,EAAC;AAAE;AAC7E,SACF;AAAA,QACA,SAAA,EAAW;AAAA,UACT;AAAA,YACE,GAAA,EAAK,gCAAA;AAAA,YACL,MAAA,EAAQ,EAAA;AAAA,YACR,cAAA,EAAgB,CAAA;AAAA,YAChB,OAAA,EAAS,GAAA;AAAA,YACT,mBAAA,EAAqB,GAAA;AAAA,YACrB,MAAA,EAAQ,SAAA;AAAA,YACR,eAAA,sBAAqB,IAAA,EAAK;AAAA,YAC1B,YAAA,EAAc,EAAE,OAAA,EAAS,CAAA,EAAG,OAAA,EAAS,CAAA,EAAG,GAAA,EAAK,QAAA,EAAU,GAAA,EAAK,CAAA,EAAG,OAAA,EAAS,EAAC;AAAE;AAC7E,SACF;AAAA,QACA,QAAA,EAAU;AAAA,UACR;AAAA,YACE,GAAA,EAAK,+BAAA;AAAA,YACL,MAAA,EAAQ,EAAA;AAAA,YACR,cAAA,EAAgB,CAAA;AAAA,YAChB,OAAA,EAAS,GAAA;AAAA,YACT,mBAAA,EAAqB,GAAA;AAAA,YACrB,MAAA,EAAQ,SAAA;AAAA,YACR,eAAA,sBAAqB,IAAA,EAAK;AAAA,YAC1B,YAAA,EAAc,EAAE,OAAA,EAAS,CAAA,EAAG,OAAA,EAAS,CAAA,EAAG,GAAA,EAAK,QAAA,EAAU,GAAA,EAAK,CAAA,EAAG,OAAA,EAAS,EAAC;AAAE;AAC7E,SACF;AAAA,QACA,UAAA,EAAY;AAAA,UACV;AAAA,YACE,GAAA,EAAK,uBAAA;AAAA,YACL,MAAA,EAAQ,EAAA;AAAA,YACR,cAAA,EAAgB,CAAA;AAAA,YAChB,OAAA,EAAS,GAAA;AAAA,YACT,mBAAA,EAAqB,GAAA;AAAA,YACrB,MAAA,EAAQ,SAAA;AAAA,YACR,eAAA,sBAAqB,IAAA,EAAK;AAAA,YAC1B,YAAA,EAAc,EAAE,OAAA,EAAS,CAAA,EAAG,OAAA,EAAS,CAAA,EAAG,GAAA,EAAK,QAAA,EAAU,GAAA,EAAK,CAAA,EAAG,OAAA,EAAS,EAAC;AAAE;AAC7E;AACF,OACF;AAAA;AAAA;AAAA;AAAA,MAKA,OAAO,WAAA,GAAqC;AAC1C,QAAA,IAAI,CAAC,uBAAsB,QAAA,EAAU;AACnC,UAAA,sBAAA,CAAsB,QAAA,GAAW,IAAI,sBAAA,EAAsB;AAAA,QAC7D;AACA,QAAA,OAAO,sBAAA,CAAsB,QAAA;AAAA,MAC/B;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,cAAc,OAAA,EAAiD;AACnE,QAAA,IAAI,IAAA,GAAO,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,OAAO,CAAA;AAEjC,QAAA,IAAI,CAAC,IAAA,EAAM;AACT,UAAA,IAAA,GAAO,MAAM,IAAA,CAAK,UAAA,CAAW,OAAO,CAAA;AACpC,UAAA,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,OAAA,EAAS,IAAI,CAAA;AAAA,QAC9B;AAEA,QAAA,OAAO,KAAK,aAAA,EAAc;AAAA,MAC5B;AAAA;AAAA;AAAA;AAAA,MAKA,WAAA,CAAY,SAAsB,QAAA,EAA6B;AAC7D,QAAA,IAAI,CAAC,IAAA,CAAK,gBAAA,CAAiB,OAAO,CAAA,EAAG;AACnC,UAAA,IAAA,CAAK,gBAAA,CAAiB,OAAO,CAAA,GAAI,EAAC;AAAA,QACpC;AACA,QAAA,IAAA,CAAK,gBAAA,CAAiB,OAAO,CAAA,CAAE,IAAA,CAAK,QAAQ,CAAA;AAG5C,QAAA,MAAM,YAAA,GAAe,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,OAAO,CAAA;AAC3C,QAAA,IAAI,YAAA,EAAc;AAChB,UAAA,YAAA,CAAa,KAAA,EAAM;AACnB,UAAA,IAAA,CAAK,KAAA,CAAM,OAAO,OAAO,CAAA;AAAA,QAC3B;AAEA,QAAA,IAAA,CAAK,SAAS,IAAA,CAAK,gCAAA,EAAkC,EAAE,OAAA,EAAS,UAAU,CAAA;AAAA,MAC5E;AAAA;AAAA;AAAA;AAAA,MAKA,WAAA,GAA8C;AAC5C,QAAA,MAAM,QAAmC,EAAC;AAE1C,QAAA,KAAA,MAAW,CAAC,OAAA,EAAS,IAAI,CAAA,IAAK,KAAK,KAAA,EAAO;AACxC,UAAA,KAAA,CAAM,OAAO,CAAA,GAAI,IAAA,CAAK,QAAA,EAAS;AAAA,QACjC;AAEA,QAAA,OAAO,KAAA;AAAA,MACT;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,QAAA,GAA0B;AAC9B,QAAA,MAAM,QAAA,GAAW,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,KAAA,CAAM,MAAA,EAAQ,CAAA,CAAE,GAAA,CAAI,CAAA,IAAA,KAAQ,IAAA,CAAK,KAAA,EAAO,CAAA;AACzE,QAAA,MAAM,OAAA,CAAQ,IAAI,QAAQ,CAAA;AAC1B,QAAA,IAAA,CAAK,MAAM,KAAA,EAAM;AACjB,QAAA,IAAA,CAAK,QAAA,CAAS,KAAK,4BAA4B,CAAA;AAAA,MACjD;AAAA;AAAA;AAAA;AAAA,MAKA,MAAc,WAAW,OAAA,EAA+C;AACtE,QAAA,MAAM,SAAA,GAAY,IAAA,CAAK,gBAAA,CAAiB,OAAO,KAAK,EAAC;AAErD,QAAA,IAAI,SAAA,CAAU,WAAW,CAAA,EAAG;AAC1B,UAAA,MAAM,IAAI,KAAA,CAAM,CAAA,yCAAA,EAA4C,OAAO,CAAA,CAAE,CAAA;AAAA,QACvE;AAEA,QAAA,MAAM,IAAA,GAAO,IAAI,cAAA,CAAe,OAAA,EAAS,SAAS,CAAA;AAGlD,QAAA,IAAA,CAAK,EAAA,CAAG,oBAAA,EAAsB,CAAC,UAAA,KAAe;AAC5C,UAAA,IAAA,CAAK,SAAS,IAAA,CAAK,oCAAA,EAAsC,EAAE,OAAA,EAAS,YAAY,CAAA;AAAA,QAClF,CAAC,CAAA;AAED,QAAA,IAAA,CAAK,EAAA,CAAG,yBAAA,EAA2B,CAAC,IAAA,KAAS;AAC3C,UAAA,IAAA,CAAK,SAAS,IAAA,CAAK,gCAAA,EAAkC,EAAE,OAAA,EAAS,GAAG,MAAM,CAAA;AAAA,QAC3E,CAAC,CAAA;AAED,QAAA,OAAO,IAAA;AAAA,MACT;AAAA,KACF;AAGO,IAA8B,sBAAsB,WAAA,EAAY;AAAA,EAAA;AAAA,CAAA,CAAA;;;ACzrBvE,IAuDa,iBA8RA,cAAA,EAmHA,cAAA;AAxcb,IAAA,qBAAA,GAAA,KAAA,CAAA;AAAA,EAAA,6CAAA,GAAA;AASA,IAAA,oBAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AA6CO,IAAM,kBAAN,MAAsB;AAAA,MACnB,OAAA;AAAA,MACA,WAAA,GAAc,sBAAsB,WAAA,EAAY;AAAA,MAChD,QAAA,GAAW,SAAS,WAAA,EAAY;AAAA,MAChC,OAAA,GAAiC;AAAA,QACvC,eAAA,EAAiB,CAAA;AAAA,QACjB,mBAAA,EAAqB,CAAA;AAAA,QACrB,kBAAkB,EAAC;AAAA,QACnB,SAAA,EAAW,CAAA;AAAA,QACX,YAAA,EAAc,CAAA;AAAA,QACd,qBAAqB;AAAC,OACxB;AAAA,MACQ,aAA6B,EAAC;AAAA,MAEtC,YAAY,OAAA,EAAsB;AAChC,QAAA,IAAA,CAAK,OAAA,GAAU,OAAA;AAAA,MACjB;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,cAAA,CAAeZ,SAAAA,EAAkB,OAAA,EAGtB;AACf,QAAA,OAAO,IAAA,CAAK,cAAA,CAAe,gBAAA,EAAkB,OAAO,UAAA,KAAe;AACjE,UAAA,OAAO,WAAW,IAAA,CAAK,gBAAA,EAAkB,CAACA,SAAAA,EAAS,OAAO,CAAC,CAAA;AAAA,QAC7D,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,UAAA,CAAWA,SAAAA,EAAkB,UAAA,EAAuE;AACxG,QAAA,OAAO,IAAA,CAAK,cAAA,CAAe,YAAA,EAAc,OAAO,UAAA,KAAe;AAC7D,UAAA,OAAO,UAAA,CAAW,KAAK,YAAA,EAAc,CAACA,WAAS,EAAE,UAAA,EAAY,CAAC,CAAA;AAAA,QAChE,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,mBAAmB,UAAA,EAAoE;AAC3F,QAAA,OAAO,IAAA,CAAK,cAAA,CAAe,oBAAA,EAAsB,OAAO,UAAA,KAAe;AACrE,UAAA,OAAO,WAAW,IAAA,CAAK,oBAAA,EAAsB,CAAC,EAAE,UAAA,EAAY,CAAC,CAAA;AAAA,QAC/D,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,eAAA,CACJ,WAAA,EACA,OAAA,EAKiB;AACjB,QAAA,OAAO,IAAA,CAAK,cAAA,CAAe,iBAAA,EAAmB,OAAO,UAAA,KAAe;AAClE,UAAA,OAAO,WAAW,IAAA,CAAK,iBAAA,EAAmB,CAAC,WAAA,EAAa,OAAO,CAAC,CAAA;AAAA,QAClE,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,kBAAA,CACJ,SAAA,EACA,UAAA,EACc;AACd,QAAA,OAAO,IAAA,CAAK,cAAA,CAAe,oBAAA,EAAsB,OAAO,UAAA,KAAe;AACrE,UAAA,OAAO,UAAA,CAAW,KAAK,oBAAA,EAAsB,CAAC,WAAW,EAAE,UAAA,EAAY,CAAC,CAAA;AAAA,QAC1E,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,kBAAA,CACJ,SAAA,EACA,OAAA,EAMgB;AAChB,QAAA,OAAO,IAAA,CAAK,cAAA,CAAe,oBAAA,EAAsB,OAAO,UAAA,KAAe;AACrE,UAAA,OAAO,WAAW,IAAA,CAAK,oBAAA,EAAsB,CAAC,SAAA,EAAW,OAAO,CAAC,CAAA;AAAA,QACnE,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,mBAAA,CACJ,SAAA,EACA,OAAA,EAIgB;AAChB,QAAA,OAAO,IAAA,CAAK,cAAA,CAAe,qBAAA,EAAuB,OAAO,UAAA,KAAe;AACtE,UAAA,OAAO,WAAW,IAAA,CAAK,qBAAA,EAAuB,CAAC,SAAA,EAAW,OAAO,CAAC,CAAA;AAAA,QACpE,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,mBAAA,CACJ,WAAA,EACA,OAAA,EAKc;AACd,QAAA,OAAO,IAAA,CAAK,cAAA,CAAe,qBAAA,EAAuB,OAAO,UAAA,KAAe;AACtE,UAAA,OAAO,WAAW,IAAA,CAAK,qBAAA,EAAuB,CAAC,WAAA,EAAa,OAAO,CAAC,CAAA;AAAA,QACtE,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,cAAA,CACJ,SAAA,EACA,OAAA,EAKc;AACd,QAAA,OAAO,IAAA,CAAK,cAAA,CAAe,gBAAA,EAAkB,OAAO,UAAA,KAAe;AACjE,UAAA,OAAO,WAAW,IAAA,CAAK,gBAAA,EAAkB,CAAC,SAAA,EAAW,OAAO,CAAC,CAAA;AAAA,QAC/D,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,qBAAA,CACJA,SAAAA,EACA,OAAA,EAMgB;AAChB,QAAA,OAAO,IAAA,CAAK,cAAA,CAAe,uBAAA,EAAyB,OAAO,UAAA,KAAe;AACxE,UAAA,OAAO,WAAW,IAAA,CAAK,yBAAA,EAA2B,CAACA,SAAAA,EAAS,OAAO,CAAC,CAAA;AAAA,QACtE,CAAC,CAAA;AAAA,MACH;AAAA;AAAA;AAAA;AAAA,MAKA,UAAA,GAAoC;AAClC,QAAA,OAAO,EAAE,GAAG,IAAA,CAAK,OAAA,EAAQ;AAAA,MAC3B;AAAA;AAAA;AAAA;AAAA,MAKA,mBAAA,CAAoB,QAAQ,GAAA,EAAqB;AAC/C,QAAA,OAAO,IAAA,CAAK,UAAA,CAAW,KAAA,CAAM,CAAC,KAAK,CAAA;AAAA,MACrC;AAAA;AAAA;AAAA;AAAA,MAKA,YAAA,GAAqB;AACnB,QAAA,IAAA,CAAK,OAAA,GAAU;AAAA,UACb,eAAA,EAAiB,CAAA;AAAA,UACjB,mBAAA,EAAqB,CAAA;AAAA,UACrB,kBAAkB,EAAC;AAAA,UACnB,SAAA,EAAW,CAAA;AAAA,UACX,YAAA,EAAc,CAAA;AAAA,UACd,qBAAqB;AAAC,SACxB;AACA,QAAA,IAAA,CAAK,aAAa,EAAC;AAAA,MACrB;AAAA;AAAA;AAAA;AAAA,MAKA,MAAc,cAAA,CACZ,aAAA,EACA,SAAA,EACY;AACZ,QAAA,MAAM,SAAA,GAAY,KAAK,GAAA,EAAI;AAC3B,QAAA,MAAM,YAAA,GAA6B;AAAA,UACjC,IAAA,EAAM,aAAA;AAAA,UACN,SAAS,IAAA,CAAK,OAAA;AAAA,UACd;AAAA,SACF;AAEA,QAAA,IAAI;AAEF,UAAA,MAAM,aAAa,MAAM,IAAA,CAAK,WAAA,CAAY,aAAA,CAAc,KAAK,OAAO,CAAA;AAGpE,UAAA,MAAM,MAAA,GAAS,MAAM,SAAA,CAAU,UAAU,CAAA;AAGzC,UAAA,YAAA,CAAa,OAAA,GAAU,KAAK,GAAA,EAAI;AAChC,UAAA,YAAA,CAAa,OAAA,GAAU,IAAA;AAEvB,UAAA,IAAA,CAAK,gBAAgB,YAAY,CAAA;AAEjC,UAAA,OAAO,MAAA;AAAA,QAET,SAAS,KAAA,EAAO;AAEd,UAAA,YAAA,CAAa,OAAA,GAAU,KAAK,GAAA,EAAI;AAChC,UAAA,YAAA,CAAa,OAAA,GAAU,KAAA;AACvB,UAAA,YAAA,CAAa,KAAA,GAAQ,KAAA;AAErB,UAAA,IAAA,CAAK,gBAAgB,YAAY,CAAA;AAGjC,UAAA,IAAA,CAAK,QAAA,CAAS,KAAK,sBAAA,EAAwB;AAAA,YACzC,SAAA,EAAW,YAAA;AAAA,YACX;AAAA,WACD,CAAA;AAED,UAAA,MAAM,KAAA;AAAA,QACR;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKQ,gBAAgB,SAAA,EAA+B;AACrD,QAAA,IAAA,CAAK,UAAA,CAAW,KAAK,SAAS,CAAA;AAG9B,QAAA,IAAI,IAAA,CAAK,UAAA,CAAW,MAAA,GAAS,GAAA,EAAM;AACjC,UAAA,IAAA,CAAK,UAAA,GAAa,IAAA,CAAK,UAAA,CAAW,KAAA,CAAM,IAAK,CAAA;AAAA,QAC/C;AAGA,QAAA,IAAA,CAAK,cAAc,SAAS,CAAA;AAG5B,QAAA,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,yBAAA,EAA2B,SAAS,CAAA;AAAA,MACzD;AAAA;AAAA;AAAA;AAAA,MAKQ,cAAc,SAAA,EAA+B;AACnD,QAAA,IAAA,CAAK,OAAA,CAAQ,eAAA,EAAA;AAGb,QAAA,IAAA,CAAK,OAAA,CAAQ,gBAAA,CAAiB,SAAA,CAAU,IAAI,CAAA,GAAA,CACzC,IAAA,CAAK,OAAA,CAAQ,gBAAA,CAAiB,SAAA,CAAU,IAAI,CAAA,IAAK,CAAA,IAAK,CAAA;AAGzD,QAAA,IAAA,CAAK,OAAA,CAAQ,mBAAA,CAAoB,SAAA,CAAU,OAAO,CAAA,GAAA,CAC/C,IAAA,CAAK,OAAA,CAAQ,mBAAA,CAAoB,SAAA,CAAU,OAAO,CAAA,IAAK,CAAA,IAAK,CAAA;AAG/D,QAAA,IAAI,UAAU,OAAA,EAAS;AACrB,UAAA,MAAM,YAAA,GAAe,SAAA,CAAU,OAAA,GAAU,SAAA,CAAU,SAAA;AACnD,UAAA,MAAM,UAAA,GAAa,KAAK,OAAA,CAAQ,mBAAA;AAChC,UAAA,MAAM,QAAA,GAAW,KAAK,OAAA,CAAQ,eAAA;AAE9B,UAAA,IAAA,CAAK,OAAA,CAAQ,sBAAsB,QAAA,GAAW,CAAA,GAAA,CACxC,cAAc,QAAA,GAAW,CAAA,CAAA,GAAM,gBAAgB,QAAA,GACjD,YAAA;AAAA,QACN;AAGA,QAAA,MAAM,gBAAA,GAAmB,IAAA,CAAK,UAAA,CAAW,KAAA,CAAM,IAAI,CAAA;AACnD,QAAA,MAAM,aAAa,gBAAA,CAAiB,MAAA,CAAO,QAAM,CAAC,EAAA,CAAG,OAAO,CAAA,CAAE,MAAA;AAC9D,QAAA,IAAA,CAAK,OAAA,CAAQ,SAAA,GAAa,UAAA,GAAa,gBAAA,CAAiB,MAAA,GAAU,GAAA;AAAA,MACpE;AAAA,KACF;AAKO,IAAM,cAAA,GAAN,MAAM,eAAA,CAAe;AAAA,MAC1B,OAAe,QAAA,GAAkC,IAAA;AAAA,MACzC,OAAA,uBAAc,GAAA,EAAkC;AAAA,MAChD,QAAA,GAAW,SAAS,WAAA,EAAY;AAAA;AAAA;AAAA;AAAA,MAKxC,OAAO,WAAA,GAA8B;AACnC,QAAA,IAAI,CAAC,gBAAe,QAAA,EAAU;AAC5B,UAAA,eAAA,CAAe,QAAA,GAAW,IAAI,eAAA,EAAe;AAAA,QAC/C;AACA,QAAA,OAAO,eAAA,CAAe,QAAA;AAAA,MACxB;AAAA;AAAA;AAAA;AAAA,MAKA,UAAU,OAAA,EAAuC;AAC/C,QAAA,IAAI,MAAA,GAAS,IAAA,CAAK,OAAA,CAAQ,GAAA,CAAI,OAAO,CAAA;AAErC,QAAA,IAAI,CAAC,MAAA,EAAQ;AACX,UAAA,MAAA,GAAS,IAAI,gBAAgB,OAAO,CAAA;AACpC,UAAA,IAAA,CAAK,OAAA,CAAQ,GAAA,CAAI,OAAA,EAAS,MAAM,CAAA;AAEhC,UAAA,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,yBAAA,EAA2B,EAAE,SAAS,CAAA;AAAA,QAC3D;AAEA,QAAA,OAAO,MAAA;AAAA,MACT;AAAA;AAAA;AAAA;AAAA,MAKA,oBAAA,GAGE;AACA,QAAA,MAAM,YAAmD,EAAC;AAC1D,QAAA,IAAI,eAAA,GAAkB,CAAA;AACtB,QAAA,IAAI,iBAAA,GAAoB,CAAA;AACxB,QAAA,IAAI,WAAA,GAAc,CAAA;AAClB,QAAA,MAAM,mBAAqD,EAAC;AAE5D,QAAA,KAAA,MAAW,CAAC,OAAA,EAAS,MAAM,CAAA,IAAK,KAAK,OAAA,EAAS;AAC5C,UAAA,MAAM,OAAA,GAAU,OAAO,UAAA,EAAW;AAClC,UAAA,SAAA,CAAU,OAAO,CAAA,GAAI,OAAA;AAErB,UAAA,eAAA,IAAmB,OAAA,CAAQ,eAAA;AAC3B,UAAA,iBAAA,IAAqB,OAAA,CAAQ,sBAAsB,OAAA,CAAQ,eAAA;AAC3D,UAAA,WAAA,IAAgB,OAAA,CAAQ,SAAA,GAAY,GAAA,GAAO,OAAA,CAAQ,eAAA;AAGnD,UAAA,KAAA,MAAW,CAAC,MAAM,KAAK,CAAA,IAAK,OAAO,OAAA,CAAQ,OAAA,CAAQ,gBAAgB,CAAA,EAAG;AACpE,YAAA,gBAAA,CAAiB,IAAwB,CAAA,GAAA,CACtC,gBAAA,CAAiB,IAAwB,KAAK,CAAA,IAAK,KAAA;AAAA,UACxD;AAAA,QACF;AAEA,QAAA,MAAM,OAAA,GAAiC;AAAA,UACrC,eAAA;AAAA,UACA,mBAAA,EAAqB,eAAA,GAAkB,CAAA,GAAI,iBAAA,GAAoB,eAAA,GAAkB,CAAA;AAAA,UACjF,gBAAA;AAAA,UACA,SAAA,EAAW,eAAA,GAAkB,CAAA,GAAK,WAAA,GAAc,kBAAmB,GAAA,GAAM,CAAA;AAAA,UACzE,YAAA,EAAc,CAAA;AAAA;AAAA,UACd,qBAAqB;AAAC,SACxB;AAGA,QAAA,KAAA,MAAW,CAAC,OAAA,EAAS,OAAO,KAAK,MAAA,CAAO,OAAA,CAAQ,SAAS,CAAA,EAAG;AAC1D,UAAA,OAAA,CAAQ,mBAAA,CAAoB,OAAsB,CAAA,GAAI,OAAA,CAAQ,eAAA;AAAA,QAChE;AAEA,QAAA,OAAO;AAAA,UACL,OAAA;AAAA,UACA;AAAA,SACF;AAAA,MACF;AAAA;AAAA;AAAA;AAAA,MAKA,MAAM,WAAA,GAAqD;AACzD,QAAA,MAAM,UAAmC,EAAC;AAE1C,QAAA,MAAM,QAAA,GAAW,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,OAAA,CAAQ,OAAA,EAAS,CAAA,CAAE,GAAA,CAAI,OAAO,CAAC,OAAA,EAAS,MAAM,CAAA,KAAM;AACnF,UAAA,IAAI;AACF,YAAA,MAAM,OAAO,kBAAA,EAAmB;AAChC,YAAA,OAAA,CAAQ,OAAO,CAAA,GAAI,IAAA;AAAA,UACrB,SAAS,KAAA,EAAO;AACd,YAAA,OAAA,CAAQ,OAAO,CAAA,GAAI,KAAA;AACnB,YAAA,IAAA,CAAK,SAAS,IAAA,CAAK,8BAAA,EAAgC,EAAE,OAAA,EAAS,OAAO,CAAA;AAAA,UACvE;AAAA,QACF,CAAC,CAAA;AAED,QAAA,MAAM,OAAA,CAAQ,WAAW,QAAQ,CAAA;AAEjC,QAAA,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,iCAAA,EAAmC,OAAO,CAAA;AAE7D,QAAA,OAAO,OAAA;AAAA,MACT;AAAA;AAAA;AAAA;AAAA,MAKA,eAAA,GAAwB;AACtB,QAAA,KAAA,MAAW,MAAA,IAAU,IAAA,CAAK,OAAA,CAAQ,MAAA,EAAO,EAAG;AAC1C,UAAA,MAAA,CAAO,YAAA,EAAa;AAAA,QACtB;AAEA,QAAA,IAAA,CAAK,QAAA,CAAS,KAAK,0BAA0B,CAAA;AAAA,MAC/C;AAAA,KACF;AAGO,IAAM,cAAA,GAAiB,eAAe,WAAA,EAAY;AAAA,EAAA;AAAA,CAAA,CAAA;;;ACxczD,IAAA,cAAA,GAAA,EAAA;AAAA,QAAA,CAAA,cAAA,EAAA;AAAA,EAAA,qBAAA,EAAA,MAAA,qBAAA;AAAA,EAAA,cAAA,EAAA,MAAA,cAAA;AAAA,EAAA,SAAA,EAAA,MAAA,SAAA;AAAA,EAAA,gBAAA,EAAA,MAAA,gBAAA;AAAA,EAAA,WAAA,EAAA,MAAA;AAAA,CAAA,CAAA;AA6BA,eAAsB,SAAA,GAAoC;AACxD,EAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AAGxC,EAAA,MAAM,YAAA,GAAe,MAAM,aAAA,CAAc,eAAA,EAAgB;AACzD,EAAA,IAAI,YAAA,EAAc;AAChB,IAAA,OAAO,YAAA;AAAA,EACT;AAGA,EAAA,MAAM,cAAc,gBAAA,EAAiB;AAGrC,EAAA,MAAM,mBAAA,GAAsB,MAAM,aAAA,CAAc,eAAA,EAAgB;AAChE,EAAA,IAAI,mBAAA,EAAqB;AACvB,IAAA,OAAO,mBAAA;AAAA,EACT;AAEA,EAAA,MAAME,UAAS,UAAA,EAAW;AAG1B,EAAA,IAAIA,OAAAA,CAAO,UAAA,IAAcD,UAAAA,CAAWC,OAAAA,CAAO,UAAU,CAAA,EAAG;AACtD,IAAA,IAAI;AACF,MAAA,MAAM,aAAa,IAAA,CAAK,KAAA,CAAMI,aAAaJ,OAAAA,CAAO,UAAA,EAAY,OAAO,CAAC,CAAA;AACtE,MAAA,MAAM,SAAS,MAAMM,4BAAAA,CAA6B,IAAI,UAAA,CAAW,UAAU,CAAC,CAAA;AAG5E,MAAA,MAAM,aAAA,CAAc,YAAA,CAAa,UAAA,EAAY,IAAI,UAAA,CAAW,UAAU,CAAA,EAAGN,OAAAA,CAAO,OAAA,KAAY,UAAA,GAAa,QAAA,GAAWA,OAAAA,CAAO,OAAgD,CAAA;AAC3K,MAAAY,GAAAA,CAAI,KAAK,+CAA+C,CAAA;AAExD,MAAA,OAAO,MAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,YAAA,GAAe,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA;AAC9D,MAAAA,GAAAA,CAAI,KAAA,CAAM,CAAA,mCAAA,EAAsCZ,OAAAA,CAAO,UAAU,CAAA,CAAE,CAAA;AACnE,MAAAY,GAAAA,CAAI,KAAA,CAAM,CAAA,eAAA,EAAkB,YAAY,CAAA,CAAE,CAAA;AAC1C,MAAA,IAAI,YAAA,CAAa,QAAA,CAAS,QAAQ,CAAA,EAAG;AACnC,QAAAA,GAAAA,CAAI,KAAK,CAAA,uEAAA,CAAkE,CAAA;AAAA,MAC7E,CAAA,MAAA,IAAW,YAAA,CAAa,QAAA,CAAS,YAAY,CAAA,EAAG;AAC9C,QAAAA,GAAAA,CAAI,IAAA,CAAK,CAAA,wDAAA,EAAoDZ,OAAAA,CAAO,UAAU,CAAA,CAAE,CAAA;AAAA,MAClF,CAAA,MAAA,IAAW,YAAA,CAAa,QAAA,CAAS,MAAM,CAAA,EAAG;AACxC,QAAAY,GAAAA,CAAI,KAAK,CAAA,yEAAA,CAAoE,CAAA;AAAA,MAC/E;AAAA,IACF;AAAA,EACF;AAGA,EAAA,MAAM,aAAaX,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,SAAA,EAAW,UAAU,qBAAqB,CAAA;AAC7E,EAAA,IAAIH,UAAAA,CAAW,UAAU,CAAA,EAAG;AAC1B,IAAA,IAAI;AACF,MAAA,MAAM,aAAa,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,UAAA,EAAY,OAAO,CAAC,CAAA;AAC/D,MAAA,MAAM,SAAS,MAAME,4BAAAA,CAA6B,IAAI,UAAA,CAAW,UAAU,CAAC,CAAA;AAG5E,MAAA,MAAM,aAAA,CAAc,YAAA,CAAa,YAAA,EAAc,IAAI,UAAA,CAAW,UAAU,CAAA,EAAGN,OAAAA,CAAO,OAAA,KAAY,UAAA,GAAa,QAAA,GAAWA,OAAAA,CAAO,OAAgD,CAAA;AAE7K,MAAA,OAAO,MAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,YAAA,GAAe,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA;AAC9D,MAAAY,GAAAA,CAAI,MAAM,sCAAsC,CAAA;AAChD,MAAAA,GAAAA,CAAI,KAAA,CAAM,CAAA,eAAA,EAAkB,YAAY,CAAA,CAAE,CAAA;AAC1C,MAAA,IAAI,YAAA,CAAa,QAAA,CAAS,QAAQ,CAAA,EAAG;AACnC,QAAAA,GAAAA,CAAI,IAAA,CAAK,CAAA,6CAAA,EAAyC,UAAU,CAAA,CAAE,CAAA;AAAA,MAChE,CAAA,MAAA,IAAW,YAAA,CAAa,QAAA,CAAS,MAAM,CAAA,EAAG;AACxC,QAAAA,GAAAA,CAAI,IAAA,CAAK,CAAA,+DAAA,EAA2D,UAAU,CAAA,qBAAA,CAAuB,CAAA;AAAA,MACvG,CAAA,MAAA,IAAW,YAAA,CAAa,QAAA,CAAS,SAAS,CAAA,EAAG;AAC3C,QAAAA,GAAAA,CAAI,KAAK,CAAA,qFAAA,CAAgF,CAAA;AAAA,MAC3F;AAAA,IACF;AAAA,EACF;AAGA,EAAA,MAAM,oBAAoBX,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,SAAA,EAAW,UAAU,SAAS,CAAA;AACxE,EAAA,IAAIH,UAAAA,CAAW,iBAAiB,CAAA,EAAG;AACjC,IAAA,IAAI;AACF,MAAA,MAAM,aAAa,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,iBAAA,EAAmB,OAAO,CAAC,CAAA;AACtE,MAAA,MAAM,SAAS,MAAME,4BAAAA,CAA6B,IAAI,UAAA,CAAW,UAAU,CAAC,CAAA;AAG5E,MAAA,MAAM,aAAA,CAAc,YAAA,CAAa,YAAA,EAAc,IAAI,UAAA,CAAW,UAAU,CAAA,EAAGN,OAAAA,CAAO,OAAA,KAAY,UAAA,GAAa,QAAA,GAAWA,OAAAA,CAAO,OAAgD,CAAA;AAE7K,MAAA,OAAO,MAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,YAAA,GAAe,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA;AAC9D,MAAAY,GAAAA,CAAI,MAAM,0CAA0C,CAAA;AACpD,MAAAA,GAAAA,CAAI,KAAA,CAAM,CAAA,eAAA,EAAkB,YAAY,CAAA,CAAE,CAAA;AAC1C,MAAA,IAAI,YAAA,CAAa,QAAA,CAAS,QAAQ,CAAA,EAAG;AACnC,QAAAA,GAAAA,CAAI,KAAK,CAAA,6EAAA,CAAwE,CAAA;AAAA,MACnF,CAAA,MAAA,IAAW,YAAA,CAAa,QAAA,CAAS,MAAM,CAAA,EAAG;AACxC,QAAAA,GAAAA,CAAI,KAAK,CAAA,mFAAA,CAA8E,CAAA;AAAA,MACzF,CAAA,MAAA,IAAW,YAAA,CAAa,QAAA,CAAS,SAAS,CAAA,EAAG;AAC3C,QAAAA,GAAAA,CAAI,KAAK,CAAA,wFAAA,CAAmF,CAAA;AAAA,MAC9F;AAAA,IACF;AAAA,EACF;AAGA,EAAA,IAAI;AACF,IAAAA,GAAAA,CAAI,KAAK,wCAAwC,CAAA;AACjD,IAAA,MAAM,EAAE,QAAQ,QAAA,EAAS,GAAI,MAAM,aAAA,CAAc,YAAA,CAAa,SAAA,EAAWZ,OAAAA,CAAO,OAAgD,CAAA;AAEhI,IAAAY,IAAI,OAAA,CAAQ,CAAA,oBAAA,EAAuB,MAAA,CAAO,QAAA,CAAS,OAAO,CAAA,CAAE,CAAA;AAC5D,IAAAA,GAAAA,CAAI,KAAK,sCAA4B,CAAA;AACrC,IAAAA,GAAAA,CAAI,KAAK,QAAQ,CAAA;AACjB,IAAAA,GAAAA,CAAI,KAAK,EAAE,CAAA;AACX,IAAAA,GAAAA,CAAI,KAAK,aAAa,CAAA;AACtB,IAAAA,GAAAA,CAAI,KAAK,CAAA,mCAAA,CAAqC,CAAA;AAC9C,IAAAA,IAAI,IAAA,CAAK,CAAA,uBAAA,EAA0BC,QAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAE,CAAA;AAC/D,IAAAD,IAAI,IAAA,CAAK,CAAA,sBAAA,EAAyBC,QAAM,IAAA,CAAK,sBAAsB,CAAC,CAAA,CAAE,CAAA;AAEtE,IAAA,MAAM,MAAA,GAAS,MAAM,aAAA,CAAc,eAAA,EAAgB;AACnD,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,MAAM,IAAI,MAAM,yCAAyC,CAAA;AAAA,IAC3D;AAEA,IAAA,OAAO,MAAA;AAAA,EACT,SAAS,KAAA,EAAO;AACd,IAAA,MAAM,YAAA,GAAe,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA;AAC9D,IAAAD,GAAAA,CAAI,MAAM,6BAA6B,CAAA;AACvC,IAAAA,GAAAA,CAAI,KAAA,CAAM,CAAA,eAAA,EAAkB,YAAY,CAAA,CAAE,CAAA;AAC1C,IAAA,IAAI,YAAA,CAAa,QAAA,CAAS,YAAY,CAAA,EAAG;AACvC,MAAAA,GAAAA,CAAI,KAAK,CAAA,yEAAA,CAAoE,CAAA;AAAA,IAC/E,CAAA,MAAA,IAAW,YAAA,CAAa,QAAA,CAAS,QAAQ,CAAA,EAAG;AAC1C,MAAAA,GAAAA,CAAI,KAAK,CAAA,yEAAA,CAAoE,CAAA;AAAA,IAC/E,CAAA,MAAO;AACL,MAAAA,GAAAA,CAAI,KAAK,CAAA,0EAAA,CAAqE,CAAA;AAAA,IAChF;AACA,IAAA,MAAM,IAAI,KAAA,CAAM,CAAA,wBAAA,EAA2B,YAAY,CAAA,CAAE,CAAA;AAAA,EAC3D;AACF;AAOO,SAAS,YAAY,MAAA,EAA0C;AAGpE,EAAA,OAAO,MAAA;AACT;AAMA,eAAsB,iBAAiB,OAAA,EAKpC;AACD,EAAA,MAAMZ,UAAS,UAAA,EAAW;AAG1B,EAAA,MAAM,eAAA,GAAkB,WAAWA,OAAAA,CAAO,OAAA;AAG1C,EAAA,IAAI,SAASA,OAAAA,CAAO,MAAA;AACpB,EAAA,IAAI,CAAC,MAAA,EAAQ;AACX,IAAA,QAAQ,eAAA;AAAiB,MACvB,KAAK,cAAA;AACH,QAAA,MAAA,GAAS,qCAAA;AACT,QAAA;AAAA,MACF,KAAK,SAAA;AACH,QAAA,MAAA,GAAS,gCAAA;AACT,QAAA;AAAA,MACF,KAAK,UAAA;AACH,QAAA,MAAA,GAAS,uBAAA;AACT,QAAA;AAAA,MACF,KAAK,QAAA;AAAA,MACL;AACE,QAAA,MAAA,GAAS,+BAAA;AACT,QAAA;AAAA;AACJ,EACF;AAGA,EAAA,IAAI,CAAC,MAAA,IAAU,OAAO,MAAA,KAAW,QAAA,EAAU;AACzC,IAAA,MAAM,IAAI,MAAM,+BAA+B,CAAA;AAAA,EACjD;AAEA,EAAA,IAAI;AACF,IAAA,IAAIc,MAAI,MAAM,CAAA;AAAA,EAChB,SAAS,KAAA,EAAO;AACd,IAAA,MAAM,IAAI,KAAA,CAAM,CAAA,0BAAA,EAA6B,MAAM,CAAA,CAAE,CAAA;AAAA,EACvD;AAGA,EAAA,MAAM,WAAA,GAAe,eAAA,KAAoB,UAAA,GAAa,QAAA,GAAW,eAAA;AACjE,EAAA,MAAM,eAAA,GAAkB,cAAA,CAAe,SAAA,CAAU,WAAW,CAAA;AAG5D,EAAA,MAAM,YAAA,GAAe,mBAAmB,MAAM,CAAA;AAC9C,EAAA,MAAM,MAAM,YAAA,CAAa,GAAA;AAIzB,EAAA,IAAI,gBAAA;AAGJ,EAAA,MAAM,MAAA,GAAS,MAAM,SAAA,EAAU;AAG/B,EAAA,MAAM,SAAA,GAAYd,QAAO,SAAA,IAAa,qBAAA;AACtC,EAAA,OAAA,CAAQ,GAAA,CAAI,6CAAsC,SAAS,CAAA;AAC3D,EAAA,OAAA,CAAQ,GAAA,CAAI,sCAAA,EAAiC,SAAA,CAAU,MAAM,CAAA;AAC7D,EAAA,OAAA,CAAQ,GAAA,CAAI,qDAA8C,qBAAqB,CAAA;AAI/E,EAAA,MAAM,WAAA,GAAc,GAAA;AACpB,EAAA,MAAM,MAAA,GAAS,IAAI,gBAAA,CAAiB;AAAA,IAClC,GAAA,EAAK,WAAA;AAAA,IACL,SAAA,EAAWF,UAAQ,SAAS,CAAA;AAAA,IAC5B,UAAA,EAAY;AAAA,GACb,CAAA;AAID,EAAA,MAAM,SAAA,GAAY,MAAA;AAGlB,EAAA,MAAM,YAAA,GAAe;AAAA,IACnB,GAAA,EAAK,WAAA;AAAA,IACL,SAAA,EAAWA,UAAQ,SAAS,CAAA;AAAA,IAC5B,UAAA,EAAY,WAAA;AAAA,IACZ,OAAA,EAAUE,OAAAA,CAAO,OAAA,KAAY,QAAA,IAAYA,OAAAA,CAAO,OAAA,KAAY,SAAA,IAAaA,OAAAA,CAAO,OAAA,KAAY,cAAA,GAAkBA,OAAAA,CAAO,OAAA,GAAU,QAAA;AAAA,IAC/H,WAAA,EAAa;AAAA,GACf;AAGA,EAAA,IAAI,CAAC,MAAA,CAAO,KAAA,IAAS,OAAO,MAAA,CAAO,UAAU,UAAA,EAAY;AACvD,IAAA,SAAA,CAAU,KAAA,GAAQ,IAAI,WAAA,CAAY,YAAY,CAAA;AAAA,EAChD;AAEA,EAAA,IAAI,CAAC,SAAA,CAAU,UAAA,IAAc,OAAO,SAAA,CAAU,eAAe,UAAA,EAAY;AACvE,IAAA,SAAA,CAAU,UAAA,GAAa,IAAI,gBAAA,CAAiB,YAAY,CAAA;AAAA,EAC1D;AAGA,EAAA,IAAI;AAEF,IAAA,IAAI,OAAO,OAAA,EAAS;AAClB,MAAA,MAAM,kBAAkB,MAAM,GAAA,CAAI,WAAW,MAAA,CAAO,OAAO,EAAE,IAAA,EAAK;AAClE,MAAA,MAAM,UAAU,eAAA,CAAgB,KAAA;AAChC,MAAA,IAAI,YAAY,EAAA,EAAI;AAClB,QAAAY,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,4EAAkE,CAAC,CAAA;AACzF,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,GAAA,CAAI,mCAAmC,CAAC,CAAA;AAAA,MACzD;AAAA,IACF;AAAA,EACF,SAAS,KAAA,EAAO;AAEd,IAAA,OAAA,CAAQ,KAAK,uBAAA,EAAyB,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,UAAU,eAAe,CAAA;AAAA,EAChG;AAIA,EAAC,MAAA,CAAe,UAAU,YAAY;AACpC,IAAA,IAAI;AAEF,MAAA,IAAI,gBAAA,EAAkB;AAKtB,IAGF,SAAS,KAAA,EAAO;AAEd,MAAA,OAAA,CAAQ,MAAM,yBAAA,EAA2B,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,UAAU,eAAe,CAAA;AAAA,IACnG;AAAA,EACF,CAAA;AAEA,EAAA,OAAO;AAAA,IACL,MAAA;AAAA,IACA,MAAA;AAAA,IACA,GAAA;AAAA,IACA,SAAA,EAAW;AAAA,GACb;AACF;AAKO,SAAS,cAAA,CAAe,SAAA,EAAmB,OAAA,GAAU,QAAA,EAAkB;AAC5E,EAAA,MAAM,OAAA,GAAU,OAAA,KAAY,cAAA,GAAiB,EAAA,GAAK,YAAY,OAAO,CAAA,CAAA;AACrE,EAAA,OAAO,CAAA,+BAAA,EAAkC,SAAS,CAAA,EAAG,OAAO,CAAA,CAAA;AAC9D;AAKO,SAAS,qBAAA,CAAsBf,SAAAA,EAAiB,OAAA,GAAU,QAAA,EAAkB;AACjF,EAAA,MAAM,OAAA,GAAU,OAAA,KAAY,cAAA,GAAiB,EAAA,GAAK,YAAY,OAAO,CAAA,CAAA;AACrE,EAAA,OAAO,CAAA,oCAAA,EAAuCA,SAAO,CAAA,EAAG,OAAO,CAAA,CAAA;AACjE;AArUA,IAAA,WAAA,GAAA,KAAA,CAAA;AAAA,EAAA,qBAAA,GAAA;AAmBA,IAAA,WAAA,EAAA;AACA,IAAA,mBAAA,EAAA;AAEA,IAAA,qBAAA,EAAA;AACA,IAAA,kBAAA,EAAA;AAAA,EAAA;AAAA,CAAA,CAAA;;;ACoCO,SAAS,aAAa,KAAA,EAAyC;AACpE,EAAA,IAAI,CAAC,KAAA,IAAS,OAAO,KAAA,KAAU,UAAU,OAAO,KAAA;AAEhD,EAAA,MAAM,GAAA,GAAM,KAAA;AAEZ,EAAA,OAAO,OAAA;AAAA,IACL,OAAO,GAAA,CAAI,OAAA,KAAY,QAAA,IACvB,GAAA,CAAI,QAAQ,OAAO,GAAA,CAAI,IAAA,KAAS,QAAA,IAChC,OAAQ,GAAA,CAAI,IAAA,CAAiC,SAAS,QAAA,IACtD,OAAO,IAAI,KAAA,KAAU;AAAA,GACvB;AACF;AAsEO,SAAS,mBAAmB,KAAA,EAAkC;AACnE,EAAA,IAAI,CAAC,KAAA,CAAM,OAAA,CAAQ,KAAK,CAAA,SAAU,EAAC;AAEnC,EAAA,OAAO,KAAA,CAAM,OAAO,YAAY,CAAA;AAClC;AASO,SAAS,QAAQ,KAAA,EAAgC;AACtD,EAAA,OAAO,KAAA,YAAiB,KAAA;AAC1B;AAEO,SAAS,mBAAmB,KAAA,EAAsD;AACvF,EAAA,OAAO,OAAA,CAAQ,KAAK,CAAA,IAAK,OAAO,MAAM,OAAA,KAAY,QAAA;AACpD;AAMO,SAAS,gBAAgB,KAAA,EAAwB;AACtD,EAAA,IAAI,kBAAA,CAAmB,KAAK,CAAA,EAAG;AAC7B,IAAA,OAAO,KAAA,CAAM,OAAA;AAAA,EACf;AACA,EAAA,IAAI,OAAO,UAAU,QAAA,EAAU;AAC7B,IAAA,OAAO,KAAA;AAAA,EACT;AACA,EAAA,OAAO,eAAA;AACT;AA7KA,IAAA,gBAAA,GAAA,KAAA,CAAA;AAAA,EAAA,0BAAA,GAAA;AAAA,EAAA;AAAA,CAAA,CAAA;;;ACAA,IAAA,mBAAA,GAAA,EAAA;AAAA,QAAA,CAAA,mBAAA,EAAA;AAAA,EAAA,eAAA,EAAA,MAAA,eAAA;AAAA,EAAA,uBAAA,EAAA,MAAA,uBAAA;AAAA,EAAA,eAAA,EAAA,MAAA,eAAA;AAAA,EAAA,oBAAA,EAAA,MAAA,oBAAA;AAAA,EAAA,kBAAA,EAAA,MAAA,kBAAA;AAAA,EAAA,aAAA,EAAA,MAAA,aAAA;AAAA,EAAA,mBAAA,EAAA,MAAA;AAAA,CAAA,CAAA;AA0UO,SAAS,oBAAoB,MAAA,EAAyC;AAC3E,EAAA,OAAO,IAAI,cAAc,MAAM,CAAA;AACjC;AA5UA,IA8Ca,eAAA,EAmCA,oBAAA,EAsGA,eAAA,EA+CA,kBAAA,EAsCA,uBAAA,EAiCA,aAAA;AA7Sb,IAAA,gBAAA,GAAA,KAAA,CAAA;AAAA,EAAA,0BAAA,GAAA;AAeA,IAAA,gBAAA,EAAA;AA+BO,IAAM,kBAAN,MAAsB;AAAA,MACnB,WAAA;AAAA,MAER,YAAY,MAAA,EAA0B;AACpC,QAAA,IAAA,CAAK,cAAc,MAAA,CAAO,KAAA;AAAA,MAC5B;AAAA,MAEA,MAAM,YAAY,MAAA,EAAuD;AACvE,QAAA,IAAI;AACF,UAAA,IAAI,CAAC,IAAA,CAAK,WAAA,EAAa,OAAO,EAAC;AAC/B,UAAA,MAAM,MAAA,GAAS,MAAM,IAAA,CAAK,WAAA,CAAY,YAAY,MAAM,CAAA;AACxD,UAAA,OAAO,mBAAmB,MAAM,CAAA;AAAA,QAClC,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,0BAA0B,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AAC7F,UAAA,OAAO,EAAC;AAAA,QACV;AAAA,MACF;AAAA,MAEA,MAAM,gBAAgB,YAAA,EAAqC;AACzD,QAAA,IAAI;AACF,UAAA,IAAI,CAAC,IAAA,CAAK,WAAA,EAAa,OAAO,IAAA;AAE9B,UAAA,MAAM,MAAA,GAAS,MAAO,IAAA,CAAK,WAAA,CAAoB,MAAM,YAAY,CAAA;AACjE,UAAA,OAAO,MAAA,IAAU,IAAA;AAAA,QACnB,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,gCAAgC,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AACnG,UAAA,OAAO,IAAA;AAAA,QACT;AAAA,MACF;AAAA,KACF;AAMO,IAAM,uBAAN,MAA2B;AAAA,MACxB,gBAAA;AAAA,MAER,YAAY,MAAA,EAA0B;AACpC,QAAA,IAAA,CAAK,mBAAmB,MAAA,CAAO,UAAA;AAAA,MACjC;AAAA,MAEA,MAAM,cAAA,CAAe,MAAA,EAA2B,MAAA,EAAsD;AACpG,QAAA,IAAI;AACF,UAAA,IAAI,CAAC,IAAA,CAAK,gBAAA,EAAkB,OAAO,IAAA;AACnC,UAAA,MAAM,SAAS,MAAM,IAAA,CAAK,gBAAA,CAAiB,cAAA,CAAe,QAAQ,MAAM,CAAA;AACxE,UAAA,OAAO,MAAA,CAAO,SAAA;AAAA,QAChB,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,8BAA8B,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AACjG,UAAA,OAAO,IAAA;AAAA,QACT;AAAA,MACF;AAAA,MAEA,MAAM,cAAc,MAAA,EAA8D;AAChF,QAAA,IAAI;AACF,UAAA,IAAI,CAAC,IAAA,CAAK,gBAAA,EAAkB,OAAO,EAAC;AACpC,UAAA,MAAM,MAAA,GAAS,MAAM,IAAA,CAAK,gBAAA,CAAiB,aAAA,EAAc;AACzD,UAAA,IAAI,CAAC,KAAA,CAAM,OAAA,CAAQ,MAAM,CAAA,SAAU,EAAC;AAGpC,UAAA,MAAM,QAAA,GAAW,MAAA,EAAQ,OAAA,GACrB,MAAA,CAAO,MAAA,CAAO,CAAA,CAAA,KAAK,CAAA,CAAE,OAAA,CAAQ,QAAA,CAAS,MAAA,CAAO,OAAQ,CAAC,CAAA,GACtD,MAAA;AAEJ,UAAA,OAAO,QAAA,CAAS,IAAI,CAAA,IAAA,MAAS;AAAA,YAC3B,SAAS,IAAA,CAAK,OAAA;AAAA,YACd,MAAM,IAAA,CAAK,IAAA;AAAA,YACX,SAAS,IAAA,CAAK,OAAA;AAAA,YACd,WAAW,IAAA,CAAK,SAAA;AAAA,YAChB,OAAA,EAAS,IAAA,CAAK,OAAA,CAAQ,CAAC;AAAA;AAAA,WACzB,CAAE,CAAA;AAAA,QACJ,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,6BAA6B,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AAChG,UAAA,OAAO,EAAC;AAAA,QACV;AAAA,MACF;AAAA,MAEA,MAAM,cAAA,CAAe,MAAA,EAA2B,MAAA,EAAsD;AACpG,QAAA,IAAI;AACF,UAAA,IAAI,CAAC,IAAA,CAAK,gBAAA,EAAkB,OAAO,IAAA;AACnC,UAAA,MAAM,SAAS,MAAM,IAAA,CAAK,gBAAA,CAAiB,cAAA,CAAe,QAAQ,MAAM,CAAA;AACxE,UAAA,OAAO,MAAA,CAAO,SAAA;AAAA,QAChB,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,8BAA8B,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AACjG,UAAA,OAAO,IAAA;AAAA,QACT;AAAA,MACF;AAAA,MAEA,MAAM,cAAc,MAAA,EAAsE;AACxF,QAAA,IAAI;AACF,UAAA,IAAI,CAAC,IAAA,CAAK,gBAAA,EAAkB,OAAO,EAAC;AACpC,UAAA,MAAM,SAAS,MAAM,IAAA,CAAK,gBAAA,CAAiB,aAAA,CAAc,QAAQ,eAAe,CAAA;AAChF,UAAA,IAAI,CAAC,KAAA,CAAM,OAAA,CAAQ,MAAM,CAAA,SAAU,EAAC;AAEpC,UAAA,OAAO,MAAA,CAAO,IAAI,CAAA,IAAA,MAAS;AAAA,YACzB,SAAS,IAAA,CAAK,OAAA;AAAA,YACd,OAAO,IAAA,CAAK,KAAA;AAAA,YACZ,aAAa,IAAA,CAAK,WAAA;AAAA,YAClB,MAAM,IAAA,CAAK,YAAA;AAAA,YACX,QAAQ,IAAA,CAAK,MAAA;AAAA,YACb,SAAS,IAAA,CAAK,OAAA;AAAA;AAAA,YACd,UAAU,IAAA,CAAK,QAAA;AAAA,YACf,cAAc,IAAA,CAAK,OAAA;AAAA,YACnB,WAAW,IAAA,CAAK,IAAA,CAAA,CAAM,IAAA,CAAK,cAAA,IAAkB,KAAK,CAAC,CAAA;AAAA;AAAA,YACnD,QAAA,EAAU,MAAA,CAAO,IAAA,CAAK,YAAY;AAAA,WACpC,CAAE,CAAA;AAAA,QACJ,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,6BAA6B,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AAChG,UAAA,OAAO,EAAC;AAAA,QACV;AAAA,MACF;AAAA,MAEA,MAAM,IAAA,CAAK,MAAA,EAA2B,MAAA,EAA4C;AAChF,QAAA,IAAI;AACF,UAAA,IAAI,CAAC,IAAA,CAAK,gBAAA,EAAkB,OAAO,IAAA;AACnC,UAAA,MAAM,SAAS,MAAM,IAAA,CAAK,gBAAA,CAAiB,IAAA,CAAK,QAAQ,MAAM,CAAA;AAC9D,UAAA,OAAO,MAAA,CAAO,SAAA;AAAA,QAChB,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,mBAAmB,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AACtF,UAAA,OAAO,IAAA;AAAA,QACT;AAAA,MACF;AAAA,MAEA,MAAM,UAAU,OAAA,EAA0D;AAExE,QAAA,OAAO,IAAA;AAAA,MACT;AAAA,MAEA,MAAM,WAAW,OAAA,EAA0D;AAEzE,QAAA,OAAO,IAAA;AAAA,MACT;AAAA,KACF;AAKO,IAAM,kBAAN,MAAsB;AAAA,MACnB,MAAA;AAAA,MAER,YAAY,MAAA,EAA0B;AACpC,QAAA,IAAA,CAAK,MAAA,GAAS,MAAA;AAAA,MAChB;AAAA,MAEA,MAAM,SAAS,YAAA,EAAqC;AAClD,QAAA,IAAI;AACF,UAAA,OAAO,MAAM,IAAA,CAAK,MAAA,CAAO,MAAA,CAAO,cAAc,YAAY,CAAA;AAAA,QAC5D,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,wBAAwB,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AAC3F,UAAA,OAAO,IAAA;AAAA,QACT;AAAA,MACF;AAAA,MAEA,MAAM,YAAA,GAA+B;AACnC,QAAA,IAAI;AACF,UAAA,OAAO,MAAM,IAAA,CAAK,MAAA,CAAO,MAAA,CAAO,YAAA,EAAa;AAAA,QAC/C,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,6BAA6B,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AAChG,UAAA,OAAO,EAAC;AAAA,QACV;AAAA,MACF;AAAA,MAEA,MAAM,eAAA,CAAgB,SAAA,GAAoB,EAAA,EAAoB;AAC5D,QAAA,IAAI;AACF,UAAA,OAAO,MAAM,IAAA,CAAK,MAAA,CAAO,MAAA,CAAO,gBAAgB,SAAS,CAAA;AAAA,QAC3D,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,iCAAiC,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AACpG,UAAA,OAAO,EAAC;AAAA,QACV;AAAA,MACF;AAAA,MAEA,MAAM,iBAAiB,KAAA,EAAgC;AACrD,QAAA,IAAI;AACF,UAAA,OAAO,MAAM,IAAA,CAAK,MAAA,CAAO,MAAA,CAAO,iBAAiB,KAAK,CAAA;AAAA,QACxD,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,CAAQ,IAAA,CAAK,iCAAiC,KAAA,YAAiB,KAAA,GAAQ,MAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AACpG,UAAA,OAAO,EAAC;AAAA,QACV;AAAA,MACF;AAAA,KACF;AAKO,IAAM,qBAAN,MAAyB;AAAA,MACtB,MAAA;AAAA,MAER,YAAY,MAAA,EAA0B;AACpC,QAAA,IAAA,CAAK,MAAA,GAAS,MAAA;AAAA,MAChB;AAAA,MAEA,MAAM,eAAe,MAAA,EAAkH;AACrI,QAAA,MAAM,SAAS,MAAM,IAAA,CAAK,MAAA,CAAO,cAAA,CAAe,eAAe,MAAM,CAAA;AACrE,QAAA,OAAO,MAAA;AAAA,MACT;AAAA,MAEA,MAAM,eAAe,MAAA,EAA8B;AACjD,QAAA,MAAM,SAAS,MAAM,IAAA,CAAK,MAAA,CAAO,cAAA,CAAe,eAAe,MAAM,CAAA;AACrE,QAAA,OAAO,MAAA;AAAA,MACT;AAAA,MAEA,MAAM,gBAAgB,MAAA,EAA4G;AAChI,QAAA,MAAM,SAAS,MAAM,IAAA,CAAK,MAAA,CAAO,cAAA,CAAe,gBAAgB,MAAM,CAAA;AACtE,QAAA,OAAO,MAAA;AAAA,MACT;AAAA,MAEA,MAAM,YAAY,eAAA,EAAwC;AACxD,QAAA,OAAO,MAAM,IAAA,CAAK,MAAA,CAAO,cAAA,CAAe,YAAY,eAAe,CAAA;AAAA,MACrE;AAAA,MAEA,MAAM,sBAAsB,OAAA,EAAkC;AAC5D,QAAA,OAAO,MAAM,IAAA,CAAK,MAAA,CAAO,cAAA,CAAe,sBAAsB,OAAO,CAAA;AAAA,MACvE;AAAA,MAEA,IAAI,SAAA,GAAqB;AACvB,QAAA,OAAO,KAAK,MAAA,CAAO,SAAA;AAAA,MACrB;AAAA,KACF;AAKO,IAAM,0BAAN,MAA8B;AAAA,MAC3B,MAAA;AAAA,MAER,YAAY,MAAA,EAA0B;AACpC,QAAA,IAAA,CAAK,MAAA,GAAS,MAAA;AAAA,MAChB;AAAA,MAEA,MAAM,oBAAoB,MAAA,EAAkK;AAC1L,QAAA,MAAM,SAAS,MAAM,IAAA,CAAK,MAAA,CAAO,aAAA,CAAc,oBAAoB,MAAM,CAAA;AACzE,QAAA,OAAO,MAAA;AAAA,MACT;AAAA,MAEA,MAAM,oBAAoB,MAAA,EAA0G;AAClI,QAAA,MAAM,SAAS,MAAM,IAAA,CAAK,MAAA,CAAO,aAAA,CAAc,oBAAoB,MAAM,CAAA;AACzE,QAAA,OAAO,MAAA;AAAA,MACT;AAAA,MAEA,MAAM,iBAAiB,WAAA,EAAoC;AACzD,QAAA,OAAO,MAAM,IAAA,CAAK,MAAA,CAAO,aAAA,CAAc,iBAAiB,WAAW,CAAA;AAAA,MACrE;AAAA,MAEA,MAAM,yBAAyB,YAAA,EAAuC;AACpE,QAAA,OAAO,MAAM,IAAA,CAAK,MAAA,CAAO,aAAA,CAAc,yBAAyB,YAAY,CAAA;AAAA,MAC9E;AAAA,MAEA,IAAI,SAAA,GAAqB;AACvB,QAAA,OAAO,KAAK,MAAA,CAAO,SAAA;AAAA,MACrB;AAAA,KACF;AAKO,IAAM,gBAAN,MAAoB;AAAA,MACT,KAAA;AAAA,MACA,UAAA;AAAA,MACA,MAAA;AAAA,MACA,cAAA;AAAA,MACA,aAAA;AAAA,MACR,MAAA;AAAA,MAER,YAAY,MAAA,EAA0B;AACpC,QAAA,IAAA,CAAK,MAAA,GAAS,MAAA;AACd,QAAA,IAAA,CAAK,KAAA,GAAQ,IAAI,eAAA,CAAgB,MAAM,CAAA;AACvC,QAAA,IAAA,CAAK,UAAA,GAAa,IAAI,oBAAA,CAAqB,MAAM,CAAA;AACjD,QAAA,IAAA,CAAK,MAAA,GAAS,IAAI,eAAA,CAAgB,MAAM,CAAA;AACxC,QAAA,IAAA,CAAK,cAAA,GAAiB,IAAI,kBAAA,CAAmB,MAAM,CAAA;AACnD,QAAA,IAAA,CAAK,aAAA,GAAgB,IAAI,uBAAA,CAAwB,MAAM,CAAA;AAAA,MACzD;AAAA,MAEA,IAAI,SAAA,GAAqB;AACvB,QAAA,OAAO,KAAK,MAAA,CAAO,SAAA;AAAA,MACrB;AAAA,MAEA,IAAI,gBAAA,GAAmB;AACrB,QAAA,OAAO,KAAK,MAAA,CAAO,gBAAA;AAAA,MACrB;AAAA,KACF;AAAA,EAAA;AAAA,CAAA,CAAA;;;ACrUA,IAAA,WAAA,GAAA,UAAA,CAAA;AAAA,EAAA,4EAAA,CAAAiB,SAAA,EAAA,MAAA,EAAA;AAEA,IAAA,IAAI,iBAAA,GAAoB,SAASC,kBAAAA,CAAkB,KAAA,EAAO;AACzD,MAAA,OAAO,eAAA,CAAgB,KAAK,CAAA,IACxB,CAAC,UAAU,KAAK,CAAA;AAAA,IACrB,CAAA;AAEA,IAAA,SAAS,gBAAgB,KAAA,EAAO;AAC/B,MAAA,OAAO,CAAC,CAAC,KAAA,IAAS,OAAO,KAAA,KAAU,QAAA;AAAA,IACpC;AAEA,IAAA,SAAS,UAAU,KAAA,EAAO;AACzB,MAAA,IAAI,WAAA,GAAc,MAAA,CAAO,SAAA,CAAU,QAAA,CAAS,KAAK,KAAK,CAAA;AAEtD,MAAA,OAAO,WAAA,KAAgB,iBAAA,IACnB,WAAA,KAAgB,eAAA,IAChB,eAAe,KAAK,CAAA;AAAA,IACzB;AAGA,IAAA,IAAI,YAAA,GAAe,OAAO,MAAA,KAAW,UAAA,IAAc,MAAA,CAAO,GAAA;AAC1D,IAAA,IAAI,kBAAA,GAAqB,YAAA,mBAAe,MAAA,CAAO,GAAA,CAAI,eAAe,CAAA,GAAI,KAAA;AAEtE,IAAA,SAAS,eAAe,KAAA,EAAO;AAC9B,MAAA,OAAO,MAAM,QAAA,KAAa,kBAAA;AAAA,IAC3B;AAEA,IAAA,SAAS,YAAY,GAAA,EAAK;AACzB,MAAA,OAAO,MAAM,OAAA,CAAQ,GAAG,CAAA,GAAI,KAAK,EAAC;AAAA,IACnC;AAEA,IAAA,SAAS,6BAAA,CAA8B,OAAO,OAAA,EAAS;AACtD,MAAA,OAAQ,OAAA,CAAQ,KAAA,KAAU,KAAA,IAAS,OAAA,CAAQ,iBAAA,CAAkB,KAAK,CAAA,GAC/DC,UAAAA,CAAU,WAAA,CAAY,KAAK,CAAA,EAAG,KAAA,EAAO,OAAO,CAAA,GAC5C,KAAA;AAAA,IACJ;AAEA,IAAA,SAAS,iBAAA,CAAkB,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS;AACnD,MAAA,OAAO,OAAO,MAAA,CAAO,MAAM,CAAA,CAAE,GAAA,CAAI,SAAS,OAAA,EAAS;AAClD,QAAA,OAAO,6BAAA,CAA8B,SAAS,OAAO,CAAA;AAAA,MACtD,CAAC,CAAA;AAAA,IACF;AAEA,IAAA,SAAS,gBAAA,CAAiB,KAAK,OAAA,EAAS;AACvC,MAAA,IAAI,CAAC,QAAQ,WAAA,EAAa;AACzB,QAAA,OAAOA,UAAAA;AAAA,MACR;AACA,MAAA,IAAI,WAAA,GAAc,OAAA,CAAQ,WAAA,CAAY,GAAG,CAAA;AACzC,MAAA,OAAO,OAAO,WAAA,KAAgB,UAAA,GAAa,WAAA,GAAcA,UAAAA;AAAA,IAC1D;AAEA,IAAA,SAAS,gCAAgC,MAAA,EAAQ;AAChD,MAAA,OAAO,MAAA,CAAO,wBACX,MAAA,CAAO,qBAAA,CAAsB,MAAM,CAAA,CAAE,MAAA,CAAO,SAAS,MAAA,EAAQ;AAC9D,QAAA,OAAO,MAAA,CAAO,oBAAA,CAAqB,IAAA,CAAK,MAAA,EAAQ,MAAM,CAAA;AAAA,MACvD,CAAC,IACC,EAAC;AAAA,IACL;AAEA,IAAA,SAAS,QAAQ,MAAA,EAAQ;AACxB,MAAA,OAAO,OAAO,IAAA,CAAK,MAAM,EAAE,MAAA,CAAO,+BAAA,CAAgC,MAAM,CAAC,CAAA;AAAA,IAC1E;AAEA,IAAA,SAAS,kBAAA,CAAmB,QAAQ,QAAA,EAAU;AAC7C,MAAA,IAAI;AACH,QAAA,OAAO,QAAA,IAAY,MAAA;AAAA,MACpB,SAAQ,CAAA,EAAG;AACV,QAAA,OAAO,KAAA;AAAA,MACR;AAAA,IACD;AAGA,IAAA,SAAS,gBAAA,CAAiB,QAAQ,GAAA,EAAK;AACtC,MAAA,OAAO,kBAAA,CAAmB,MAAA,EAAQ,GAAG,CAAA,IACjC,EAAE,MAAA,CAAO,cAAA,CAAe,IAAA,CAAK,MAAA,EAAQ,GAAG,CAAA,IACvC,MAAA,CAAO,oBAAA,CAAqB,IAAA,CAAK,QAAQ,GAAG,CAAA,CAAA;AAAA,IAClD;AAEA,IAAA,SAAS,WAAA,CAAY,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS;AAC7C,MAAA,IAAI,cAAc,EAAC;AACnB,MAAA,IAAI,OAAA,CAAQ,iBAAA,CAAkB,MAAM,CAAA,EAAG;AACtC,QAAA,OAAA,CAAQ,MAAM,CAAA,CAAE,OAAA,CAAQ,SAAS,GAAA,EAAK;AACrC,UAAA,WAAA,CAAY,GAAG,CAAA,GAAI,6BAAA,CAA8B,MAAA,CAAO,GAAG,GAAG,OAAO,CAAA;AAAA,QACtE,CAAC,CAAA;AAAA,MACF;AACA,MAAA,OAAA,CAAQ,MAAM,CAAA,CAAE,OAAA,CAAQ,SAAS,GAAA,EAAK;AACrC,QAAA,IAAI,gBAAA,CAAiB,MAAA,EAAQ,GAAG,CAAA,EAAG;AAClC,UAAA;AAAA,QACD;AAEA,QAAA,IAAI,kBAAA,CAAmB,QAAQ,GAAG,CAAA,IAAK,QAAQ,iBAAA,CAAkB,MAAA,CAAO,GAAG,CAAC,CAAA,EAAG;AAC9E,UAAA,WAAA,CAAY,GAAG,CAAA,GAAI,gBAAA,CAAiB,GAAA,EAAK,OAAO,CAAA,CAAE,MAAA,CAAO,GAAG,CAAA,EAAG,MAAA,CAAO,GAAG,CAAA,EAAG,OAAO,CAAA;AAAA,QACpF,CAAA,MAAO;AACN,UAAA,WAAA,CAAY,GAAG,CAAA,GAAI,6BAAA,CAA8B,MAAA,CAAO,GAAG,GAAG,OAAO,CAAA;AAAA,QACtE;AAAA,MACD,CAAC,CAAA;AACD,MAAA,OAAO,WAAA;AAAA,IACR;AAEA,IAAA,SAASA,UAAAA,CAAU,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS;AAC3C,MAAA,OAAA,GAAU,WAAW,EAAC;AACtB,MAAA,OAAA,CAAQ,UAAA,GAAa,QAAQ,UAAA,IAAc,iBAAA;AAC3C,MAAA,OAAA,CAAQ,iBAAA,GAAoB,QAAQ,iBAAA,IAAqB,iBAAA;AAGzD,MAAA,OAAA,CAAQ,6BAAA,GAAgC,6BAAA;AAExC,MAAA,IAAI,aAAA,GAAgB,KAAA,CAAM,OAAA,CAAQ,MAAM,CAAA;AACxC,MAAA,IAAI,aAAA,GAAgB,KAAA,CAAM,OAAA,CAAQ,MAAM,CAAA;AACxC,MAAA,IAAI,4BAA4B,aAAA,KAAkB,aAAA;AAElD,MAAA,IAAI,CAAC,yBAAA,EAA2B;AAC/B,QAAA,OAAO,6BAAA,CAA8B,QAAQ,OAAO,CAAA;AAAA,MACrD,WAAW,aAAA,EAAe;AACzB,QAAA,OAAO,OAAA,CAAQ,UAAA,CAAW,MAAA,EAAQ,MAAA,EAAQ,OAAO,CAAA;AAAA,MAClD,CAAA,MAAO;AACN,QAAA,OAAO,WAAA,CAAY,MAAA,EAAQ,MAAA,EAAQ,OAAO,CAAA;AAAA,MAC3C;AAAA,IACD;AAEA,IAAAA,UAAAA,CAAU,GAAA,GAAM,SAAS,YAAA,CAAa,OAAO,OAAA,EAAS;AACrD,MAAA,IAAI,CAAC,KAAA,CAAM,OAAA,CAAQ,KAAK,CAAA,EAAG;AAC1B,QAAA,MAAM,IAAI,MAAM,mCAAmC,CAAA;AAAA,MACpD;AAEA,MAAA,OAAO,KAAA,CAAM,MAAA,CAAO,SAAS,IAAA,EAAM,IAAA,EAAM;AACxC,QAAA,OAAOA,UAAAA,CAAU,IAAA,EAAM,IAAA,EAAM,OAAO,CAAA;AAAA,MACrC,CAAA,EAAG,EAAE,CAAA;AAAA,IACN,CAAA;AAEA,IAAA,IAAI,WAAA,GAAcA,UAAAA;AAElB,IAAA,MAAA,CAAO,OAAA,GAAU,WAAA;AAAA,EAAA;AAAA,CAAA,CAAA;;;ACpIjB,IAAA,qBAAA,GAAA,EAAA;AAAA,QAAA,CAAA,qBAAA,EAAA;AAAA,EAAA,eAAA,EAAA,MAAA,eAAA;AAAA,EAAA,kBAAA,EAAA,MAAA,kBAAA;AAAA,EAAA,iBAAA,EAAA,MAAA,iBAAA;AAAA,EAAA,qBAAA,EAAA,MAAA,qBAAA;AAAA,EAAA,aAAA,EAAA,MAAA,aAAA;AAAA,EAAA,gBAAA,EAAA,MAAA,gBAAA;AAAA,EAAA,qBAAA,EAAA,MAAA,qBAAA;AAAA,EAAA,iBAAA,EAAA,MAAA;AAAA,CAAA,CAAA;AAcO,SAAS,eAAA,GAAoC;AAClD,EAAA,IAAI,CAAC,YAAA,EAAc;AACjB,IAAA,MAAM,SAAA,GAAY,OAAA,CAAQ,GAAA,CAAI,UAAA,IAAc,QAAQ,GAAA,CAAI,sBAAA;AAExD,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,MAAM,IAAI,KAAA;AAAA,QACR;AAAA,OACF;AAAA,IACF;AAEA,IAAA,YAAA,GAAe,IAAI,iBAAiB,SAAS,CAAA;AAAA,EAC/C;AAEA,EAAA,OAAO,YAAA;AACT;AAKA,eAAsB,sBAAsB,MAAA,EAGzC;AACD,EAAA,MAAM,SAAS,eAAA,EAAgB;AAG/B,EAAA,OAAO,MAAO,MAAA,CAAe,KAAA,CAAM,qCAAA,EAAuC;AAAA,IACxE,QAAQ,MAAA,EAAQ,MAAA;AAAA,IAChB,KAAA,EAAO,QAAQ,KAAA,IAAS;AAAA,GACzB,CAAA;AACH;AAKA,eAAsB,iBAAA,GAAoB;AACxC,EAAA,MAAM,SAAS,eAAA,EAAgB;AAC/B,EAAA,OAAO,MAAO,MAAA,CAAe,KAAA,CAAM,kCAAkC,CAAA;AACvE;AAKA,eAAsB,mBAAmB,YAAA,EAAsB;AAC7D,EAAA,MAAM,SAAS,eAAA,EAAgB;AAC/B,EAAA,OAAO,MAAO,MAAA,CAAe,KAAA,CAAM,mCAAA,EAAqC;AAAA,IACtE;AAAA,GACD,CAAA;AACH;AAKA,eAAsB,sBAAsB,YAAA,EAAsB;AAChE,EAAA,MAAM,SAAS,eAAA,EAAgB;AAC/B,EAAA,OAAO,MAAO,MAAA,CAAe,KAAA,CAAM,sCAAA,EAAwC;AAAA,IACzE;AAAA,GACD,CAAA;AACH;AAKA,eAAsB,iBAAA,CAAkB,UAAkB,UAAA,EAAoB;AAC5E,EAAA,MAAM,SAAS,eAAA,EAAgB;AAC/B,EAAA,OAAO,MAAO,MAAA,CAAe,KAAA,CAAM,kCAAA,EAAoC;AAAA,IACrE,QAAA;AAAA,IACA;AAAA,GACD,CAAA;AACH;AAKA,eAAsB,gBAAA,CACpB,YAAA,EACA,SAAA,EACA,gBAAA,EACA;AACA,EAAA,MAAM,SAAS,eAAA,EAAgB;AAC/B,EAAA,OAAO,MAAO,MAAA,CAAe,QAAA,CAAS,2BAAA,EAA6B;AAAA,IACjE,YAAA;AAAA,IACA,SAAA;AAAA,IACA;AAAA,GACD,CAAA;AACH;AAKA,eAAsB,cAAc,YAAA,EAAsB;AACxD,EAAA,MAAM,SAAS,eAAA,EAAgB;AAC/B,EAAA,OAAO,MAAO,MAAA,CAAe,KAAA,CAAM,0CAAA,EAA4C;AAAA,IAC7E;AAAA,GACD,CAAA;AACH;AA7GA,IASI,YAAA;AATJ,IAAA,kBAAA,GAAA,KAAA,CAAA;AAAA,EAAA,4BAAA,GAAA;AASA,IAAI,YAAA,GAAwC,IAAA;AAAA,EAAA;AAAA,CAAA,CAAA;ACW5C,eAAsB,qBAAqB,OAAA,EAAqL;AAE9N,EAAA,MAAM,IAAA,GAAO,OAAA,CAAQ,IAAA,IAAQ,MAAM,IAAA,CAAK;AAAA,IACtC,OAAA,EAAS,4BAAA;AAAA,IACT,WAAA,EAAa,wBAAA;AAAA,IACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,MAAA,IAAI,CAAC,OAAO,OAAO,wBAAA;AACnB,MAAA,IAAI,KAAA,CAAM,MAAA,GAAS,CAAA,EAAG,OAAO,0CAAA;AAC7B,MAAA,IAAI,KAAA,CAAM,MAAA,GAAS,EAAA,EAAI,OAAO,4CAAA;AAAA,IAChC;AAAA,GACD,CAAA;AAED,EAAA,IAAI,QAAA,CAAS,IAAI,CAAA,EAAG;AAClB,IAAA,MAAA,CAAO,8BAA8B,CAAA;AACrC,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AAGA,EAAA,MAAM,WAAA,GAAc,OAAA,CAAQ,WAAA,IAAe,MAAM,IAAA,CAAK;AAAA,IACpD,OAAA,EAAS,gCAAA;AAAA,IACT,WAAA,EAAa,2DAAA;AAAA,IACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,MAAA,IAAI,CAAC,OAAO,OAAO,yBAAA;AACnB,MAAA,IAAI,KAAA,CAAM,MAAA,GAAS,EAAA,EAAI,OAAO,4CAAA;AAC9B,MAAA,IAAI,KAAA,CAAM,MAAA,GAAS,GAAA,EAAK,OAAO,8CAAA;AAAA,IACjC;AAAA,GACD,CAAA;AAED,EAAA,IAAI,QAAA,CAAS,WAAW,CAAA,EAAG;AACzB,IAAA,MAAA,CAAO,8BAA8B,CAAA;AACrC,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AAGA,EAAA,IAAI,YAAA;AACJ,EAAA,IAAI,QAAQ,YAAA,EAAc;AACxB,IAAA,YAAA,GAAe,OAAA,CAAQ,aAAa,KAAA,CAAM,GAAG,EAAE,GAAA,CAAI,CAAA,CAAA,KAAK,CAAA,CAAE,IAAA,EAAM,CAAA;AAAA,EAClE,CAAA,MAAO;AACL,IAAA,MAAM,MAAA,GAAS,MAAM,WAAA,CAAY;AAAA,MAC/B,OAAA,EAAS,mCAAA;AAAA,MACT,OAAA,EAAS;AAAA,QACP,EAAE,KAAA,EAAO,eAAA,EAAiB,KAAA,EAAO,oCAAA,EAA8B;AAAA,QAC/D,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,yCAAA,EAAgC;AAAA,QAC3D,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,qCAAA,EAA+B;AAAA,QACzD,EAAE,KAAA,EAAO,aAAA,EAAe,KAAA,EAAO,gCAAA,EAA0B;AAAA,QACzD,EAAE,KAAA,EAAO,kBAAA,EAAoB,KAAA,EAAO,+CAAA,EAAoC;AAAA,QACxE,EAAE,KAAA,EAAO,YAAA,EAAc,KAAA,EAAO,uCAAA,EAAiC;AAAA,QAC/D,EAAE,KAAA,EAAO,UAAA,EAAY,KAAA,EAAO,4CAAA,EAAsC;AAAA,QAClE,EAAE,KAAA,EAAO,kBAAA,EAAoB,KAAA,EAAO,sCAAA,EAAgC;AAAA,QACpE,EAAE,KAAA,EAAO,oBAAA,EAAsB,KAAA,EAAO,wCAAA,EAAkC;AAAA,QACxE,EAAE,KAAA,EAAO,oBAAA,EAAsB,KAAA,EAAO,qCAAA;AAA0B,OAClE;AAAA,MACA,QAAA,EAAU;AAAA,KACX,CAAA;AAED,IAAA,IAAI,QAAA,CAAS,MAAM,CAAA,EAAG;AACpB,MAAA,MAAA,CAAO,8BAA8B,CAAA;AACrC,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAEA,IAAA,YAAA,GAAe,MAAA;AAAA,EACjB;AAGA,EAAA,MAAM,eAAA,GAAkB,OAAA,CAAQ,QAAA,IAAY,MAAM,IAAA,CAAK;AAAA,IACrD,OAAA,EAAS,0CAAA;AAAA,IACT,WAAA,EAAa,+BAAA;AAAA,IACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,MAAA,IAAI,CAAC,OAAO,OAAO,8BAAA;AACnB,MAAA,IAAI;AACF,QAAA,IAAIH,MAAI,KAAK,CAAA;AACb,QAAA,OAAO,KAAA,CAAA;AAAA,MACT,CAAA,CAAA,MAAQ;AACN,QAAA,OAAO,0BAAA;AAAA,MACT;AAAA,IACF;AAAA,GACD,CAAA;AAED,EAAA,IAAI,QAAA,CAAS,eAAe,CAAA,EAAG;AAC7B,IAAA,MAAA,CAAO,8BAA8B,CAAA;AACrC,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AAGA,EAAA,IAAI,SAAA,GAAY,QAAQ,IAAA,IAAQ,UAAA;AAEhC,EAAA,IAAI,CAAC,QAAQ,IAAA,EAAM;AACjB,IAAA,MAAM,YAAA,GAAe,MAAM,MAAA,CAAO;AAAA,MAChC,OAAA,EAAS,oBAAA;AAAA,MACT,OAAA,EAAS;AAAA,QACP,EAAE,KAAA,EAAO,UAAA,EAAY,KAAA,EAAO,gBAAA,EAAkB,MAAM,wDAAA,EAAyD;AAAA,QAC7G,EAAE,KAAA,EAAO,YAAA,EAAc,KAAA,EAAO,kBAAA,EAAoB,MAAM,8CAAA;AAA+C;AACzG,KACD,CAAA;AAED,IAAA,IAAI,QAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,MAAA,MAAA,CAAO,8BAA8B,CAAA;AACrC,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAEA,IAAA,SAAA,GAAY,YAAA;AAAA,EACd;AAGA,EAAA,IAAI,UAAA;AACJ,EAAA,IAAI,cAAc,YAAA,EAAc;AAC9B,IAAA,UAAA,GAAa,MAAM,IAAA,CAAK;AAAA,MACtB,OAAA,EAAS,4BAAA;AAAA,MACT,WAAA,EAAa,mBAAA;AAAA,MACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,QAAA,IAAI,CAAC,OAAO,OAAO,uDAAA;AACnB,QAAA,IAAI,KAAA,CAAM,MAAA,GAAS,EAAA,EAAI,OAAO,wBAAA;AAAA,MAChC;AAAA,KACD,CAAA;AAED,IAAA,IAAI,QAAA,CAAS,UAAU,CAAA,EAAG;AACxB,MAAA,MAAA,CAAO,8BAA8B,CAAA;AACrC,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAAA,EACF;AAGA,EAAA,MAAM,WAAA,GAAc,OAAA,CAAQ,QAAA,KAAa,KAAA,GAAQ,KAAA,GAC/C,QAAQ,QAAA,KAAa,IAAA,GAAO,IAAA,GAC5B,MAAM,OAAA,CAAQ;AAAA,IACZ,OAAA,EAAS;AAAA,GACV,CAAA;AAEH,EAAA,IAAI,OAAO,WAAA,KAAgB,SAAA,IAAa,QAAA,CAAS,WAAW,CAAA,EAAG;AAC7D,IAAA,MAAA,CAAO,8BAA8B,CAAA;AACrC,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AAEA,EAAA,IAAI,WAAA,GAAc,EAAA;AAClB,EAAA,IAAI,WAAA,EAAa;AACf,IAAA,MAAM,GAAA,GAAM,MAAM,IAAA,CAAK;AAAA,MACrB,OAAA,EAAS,qBAAA;AAAA,MACT,WAAA,EAAa,2CAAA;AAAA,MACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,QAAA,IAAI,CAAC,OAAO,OAAO,mDAAA;AACnB,QAAA,IAAI;AACF,UAAA,IAAIA,MAAI,KAAK,CAAA;AACb,UAAA,OAAO,KAAA,CAAA;AAAA,QACT,CAAA,CAAA,MAAQ;AACN,UAAA,OAAO,0BAAA;AAAA,QACT;AAAA,MACF;AAAA,KACD,CAAA;AAED,IAAA,IAAI,QAAA,CAAS,GAAG,CAAA,EAAG;AACjB,MAAA,MAAA,CAAO,8BAA8B,CAAA;AACrC,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAEA,IAAA,WAAA,GAAc,GAAA;AAAA,EAChB;AAGA,EAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOD,OAAA,CAAM,IAAA,CAAK,iCAA0B,CAAC,CAAA;AACzD,EAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAC1B,EAAA,OAAA,CAAQ,IAAIA,OAAA,CAAM,IAAA,CAAK,OAAO,CAAA,GAAI,CAAA,CAAA,EAAI,IAAI,CAAA,CAAE,CAAA;AAC5C,EAAA,OAAA,CAAQ,IAAIA,OAAA,CAAM,IAAA,CAAK,cAAc,CAAA,GAAI,CAAA,CAAA,EAAI,WAAW,CAAA,CAAE,CAAA;AAC1D,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAA,CAAM,IAAA,CAAK,eAAe,CAAA,GAAI,IAAI,YAAA,CAAa,IAAA,CAAK,IAAI,CAAC,CAAA,CAAE,CAAA;AACvE,EAAA,OAAA,CAAQ,IAAIA,OAAA,CAAM,IAAA,CAAK,WAAW,CAAA,GAAI,CAAA,CAAA,EAAI,eAAe,CAAA,CAAE,CAAA;AAC3D,EAAA,IAAI,WAAA,EAAa;AACf,IAAA,OAAA,CAAQ,IAAIA,OAAA,CAAM,IAAA,CAAK,WAAW,CAAA,GAAI,CAAA,CAAA,EAAI,WAAW,CAAA,CAAE,CAAA;AAAA,EACzD;AAEA,EAAA,MAAM,SAAA,GAAY,OAAA,CAAQ,GAAA,GAAM,IAAA,GAAO,MAAM,OAAA,CAAQ;AAAA,IACnD,OAAA,EAAS;AAAA,GACV,CAAA;AAED,EAAA,IAAI,CAAC,OAAA,CAAQ,GAAA,KAAQ,SAAS,SAAS,CAAA,IAAK,CAAC,SAAA,CAAA,EAAY;AACvD,IAAA,MAAA,CAAO,8BAA8B,CAAA;AACrC,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AAEA,EAAA,OAAO;AAAA,IACL,IAAA;AAAA,IACA,WAAA;AAAA,IACA,YAAA;AAAA,IACA,WAAA;AAAA,IACA,eAAA;AAAA,IACA;AAAA,GACF;AACF;ACpHO,SAAS,gBAAgB,SAAA,EAAqC;AACnE,EAAA,OAAO;AAAA,IACL,CAAA,gBAAA,EAAmB,UAAU,aAAa,CAAA,IAAA,CAAA;AAAA,IAC1C,CAAA,gBAAA,EAAmB,UAAU,aAAa,CAAA,CAAA;AAAA,IAC1C,kBAAkB,SAAA,CAAU,WAAA,GAAc,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAC,CAAA,CAAA,CAAA;AAAA,IACzD,CAAA,gBAAA,EAAmB,SAAA,CAAU,aAAA,CAAc,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA,CAAA;AAAA,IACrD,CAAA,oBAAA,EAAuB,UAAU,SAAS,CAAA,CAAA;AAAA,IAC1C,CAAA,aAAA,EAAgB,UAAU,UAAU,CAAA;AAAA,GACtC;AACF;AAKO,SAAS,oBAAoB,MAAA,EASlB;AAChB,EAAA,IAAI,CAAC,MAAA,CAAO,IAAA,IAAQ,MAAA,CAAO,IAAA,CAAK,SAAS,CAAA,EAAG;AAC1C,IAAA,OAAO,+CAAA;AAAA,EACT;AAEA,EAAA,IAAI,CAAC,MAAA,CAAO,WAAA,IAAe,MAAA,CAAO,WAAA,CAAY,SAAS,EAAA,EAAI;AACzD,IAAA,OAAO,uDAAA;AAAA,EACT;AAEA,EAAA,IAAI,CAAC,MAAA,CAAO,YAAA,IAAgB,MAAA,CAAO,YAAA,CAAa,WAAW,CAAA,EAAG;AAC5D,IAAA,OAAO,yCAAA;AAAA,EACT;AAEA,EAAA,IAAI,OAAO,YAAA,CAAa,IAAA,CAAK,SAAO,GAAA,CAAI,MAAA,GAAS,CAAC,CAAA,EAAG;AACnD,IAAA,OAAO,oDAAA;AAAA,EACT;AAEA,EAAA,OAAO,IAAA;AACT;AAcO,SAAS,gBAAgB,KAAA,EAO9B;AACA,EAAA,OAAO;AAAA,IACL,IAAA,EAAM,MAAM,IAAA,IAAQ,SAAA;AAAA,IACpB,SAAS,KAAA,CAAM,OAAA,GAAU,MAAM,OAAA,CAAQ,QAAA,GAAW,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA,GAAI,QAAQ,KAAA,CAAM,OAAA,CAAQ,UAAS,CAAE,KAAA,CAAM,EAAE,CAAA,GAAI,SAAA;AAAA,IAC7G,WAAA,EAAa,MAAM,WAAA,IAAe,gBAAA;AAAA,IAClC,YAAA,EAAc,KAAA,CAAM,OAAA,CAAQ,KAAA,CAAM,YAAY,IAAI,KAAA,CAAM,YAAA,CAAa,IAAA,CAAK,IAAI,CAAA,GAAI,MAAA;AAAA,IAClF,MAAA,EAAQ,KAAA,CAAM,QAAA,GAAW,QAAA,GAAW,UAAA;AAAA,IACpC,OAAA,EAAS,KAAA,CAAM,SAAA,GAAY,IAAI,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,SAAS,CAAC,CAAA,CAAE,kBAAA,EAAmB,GAAI;AAAA,GACtF;AACF;AA+BO,SAAS,2BAA2B,KAAA,EAA8B;AACvE,EAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,KAAA,CAAM,2CAAoC,CAAC,CAAA;AACpE,EAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,SAAS,KAAA,CAAM,IAAI,EAAE,CAAC,CAAA;AAC7C,EAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,KAAA,CAAM,WAAW,EAAE,CAAC,CAAA;AAC3D,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,cAAA,EAAiB,KAAA,CAAM,aAAa,IAAA,CAAK,IAAI,CAAC,CAAA,CAAE,CAAC,CAAA;AACxE,EAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,aAAa,KAAA,CAAM,EAAE,EAAE,CAAC,CAAA;AAC/C,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,eAAA,EAAkB,MAAM,OAAA,CAAQ,QAAA,EAAU,CAAA,CAAE,CAAC,CAAA;AACpE,EAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,qCAA8B,CAAC,CAAA;AACxD,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,oDAA6C,CAAC,CAAA;AACvE,EAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,MAAM,KAAA,CAAM,EAAE,EAAE,CAAC,CAAA;AAC1C;;;ACtMO,IAAM,SAAA,GAAN,MAAM,UAAA,CAAU;AAAA,EACrB,OAAe,QAAA;AAAA,EACP,QAAA,uBAAe,GAAA,EAAqB;AAAA,EACpC,SAAA,uBAAgB,GAAA,EAA2B;AAAA,EAC3C,cAAA,uBAAqB,GAAA,EAAqB;AAAA,EAC1C,YAAA,uBAAmB,GAAA,EAAoB;AAAA;AAAA;AAAA;AAAA,EAK/C,OAAO,WAAA,GAAyB;AAC9B,IAAA,OAAQ,UAAA,CAAU,QAAA,KAAa,IAAI,UAAA,EAAU;AAAA,EAC/C;AAAA;AAAA;AAAA;AAAA,EAKA,QAAA,CAAY,OAAe,OAAA,EAAwB;AACjD,IAAA,IAAA,CAAK,SAAA,CAAU,GAAA,CAAI,KAAA,EAAO,OAAO,CAAA;AAAA,EACnC;AAAA;AAAA;AAAA;AAAA,EAKA,iBAAA,CAAqB,OAAe,QAAA,EAAmB;AACrD,IAAA,IAAA,CAAK,QAAA,CAAS,GAAA,CAAI,KAAA,EAAO,QAAQ,CAAA;AAAA,EACnC;AAAA;AAAA;AAAA;AAAA,EAKA,QAAW,KAAA,EAAkB;AAE3B,IAAA,IAAI,IAAA,CAAK,cAAA,CAAe,GAAA,CAAI,KAAK,CAAA,EAAG;AAClC,MAAA,OAAO,IAAA,CAAK,cAAA,CAAe,GAAA,CAAI,KAAK,CAAA;AAAA,IACtC;AAGA,IAAA,IAAI,IAAA,CAAK,QAAA,CAAS,GAAA,CAAI,KAAK,CAAA,EAAG;AAC5B,MAAA,MAAM,QAAA,GAAW,IAAA,CAAK,QAAA,CAAS,GAAA,CAAI,KAAK,CAAA;AACxC,MAAA,IAAA,CAAK,cAAA,CAAe,GAAA,CAAI,KAAA,EAAO,QAAQ,CAAA;AACvC,MAAA,OAAO,QAAA;AAAA,IACT;AAGA,IAAA,IAAI,IAAA,CAAK,SAAA,CAAU,GAAA,CAAI,KAAK,CAAA,EAAG;AAC7B,MAAA,MAAM,OAAA,GAAU,IAAA,CAAK,SAAA,CAAU,GAAA,CAAI,KAAK,CAAA;AACxC,MAAA,MAAM,SAAA,GAAY,KAAK,GAAA,EAAI;AAC3B,MAAA,MAAM,WAAW,OAAA,EAAQ;AACzB,MAAA,MAAM,OAAA,GAAU,KAAK,GAAA,EAAI;AAGzB,MAAA,IAAA,CAAK,QAAA,CAAS,GAAA,CAAI,KAAA,EAAO,QAAQ,CAAA;AACjC,MAAA,IAAA,CAAK,cAAA,CAAe,GAAA,CAAI,KAAA,EAAO,QAAQ,CAAA;AACvC,MAAA,IAAA,CAAK,YAAA,CAAa,GAAA,CAAI,KAAA,EAAO,OAAA,GAAU,SAAS,CAAA;AAEhD,MAAA,OAAO,QAAA;AAAA,IACT;AAEA,IAAA,MAAM,IAAI,KAAA,CAAM,CAAA,wBAAA,EAA2B,KAAK,CAAA,CAAE,CAAA;AAAA,EACpD;AAAA;AAAA;AAAA;AAAA,EAKA,IAAO,KAAA,EAAkB;AACvB,IAAA,OAAO,IAAA,CAAK,QAAW,KAAK,CAAA;AAAA,EAC9B;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,KAAA,EAAwB;AAC1B,IAAA,OAAO,IAAA,CAAK,SAAS,GAAA,CAAI,KAAK,KAAK,IAAA,CAAK,SAAA,CAAU,IAAI,KAAK,CAAA;AAAA,EAC7D;AAAA;AAAA;AAAA;AAAA,EAKA,KAAA,GAAc;AACZ,IAAA,IAAA,CAAK,SAAS,KAAA,EAAM;AACpB,IAAA,IAAA,CAAK,UAAU,KAAA,EAAM;AACrB,IAAA,IAAA,CAAK,eAAe,KAAA,EAAM;AAC1B,IAAA,IAAA,CAAK,aAAa,KAAA,EAAM;AAAA,EAC1B;AAAA;AAAA;AAAA;AAAA,EAKA,qBAAA,GAAgD;AAC9C,IAAA,MAAM,UAAkC,EAAC;AACzC,IAAA,IAAA,CAAK,YAAA,CAAa,OAAA,CAAQ,CAAC,IAAA,EAAM,KAAA,KAAU;AACzC,MAAA,OAAA,CAAQ,KAAK,CAAA,GAAI,IAAA;AAAA,IACnB,CAAC,CAAA;AACD,IAAA,OAAO,OAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,OAAO,MAAA,EAAwB;AAC7B,IAAA,MAAA,CAAO,QAAQ,CAAA,KAAA,KAAS;AACtB,MAAA,IAAI;AACF,QAAA,IAAA,CAAK,QAAQ,KAAK,CAAA;AAAA,MACpB,SAAS,KAAA,EAAO;AAAA,MAEhB;AAAA,IACF,CAAC,CAAA;AAAA,EACH;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAA,GAAgC;AAC9B,IAAA,OAAO;AAAA,MACL,GAAG,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,QAAA,CAAS,MAAM,CAAA;AAAA,MAClC,GAAG,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,SAAA,CAAU,MAAM;AAAA,KACrC;AAAA,EACF;AACF,CAAA;AAGO,IAAM,SAAA,GAAY,IAAI,SAAA,EAAU;AAGhC,IAAM,aAAA,GAAgB;AAAA,EAC3B,cAAA,EAAgB,eAAA;AAAA,EAChB,aAAA,EAAe,cAAA;AAAA,EACf,cAAA,EAAgB,eAAA;AAAA,EAChB,kBAAA,EAAoB,mBAAA;AAAA,EACpB,eAAA,EAAiB;AACnB,CAAA;;;ACnHO,SAAS,wBAAwB,aAAA,EAA8B;AACpE,EAAA,aAAA,CACG,QAAQ,UAAU,CAAA,CAClB,WAAA,CAAY,yBAAyB,EACrC,MAAA,CAAO,mBAAA,EAAqB,YAAY,CAAA,CACxC,OAAO,iCAAA,EAAmC,mBAAmB,CAAA,CAC7D,MAAA,CAAO,qCAAqC,+DAA+D,CAAA,CAC3G,MAAA,CAAO,uBAAA,EAAyB,sBAAsB,CAAA,CACtD,MAAA,CAAO,mBAAA,EAAqB,wDAAwD,EACpF,MAAA,CAAO,eAAA,EAAiB,0BAA0B,CAAA,CAClD,OAAO,WAAA,EAAa,0BAA0B,CAAA,CAC9C,MAAA,CAAO,OAAO,QAAA,KAA8B;AAC3C,IAAA,MAAMK,OAAAA,GAAS,SAAA,CAAU,OAAA,CAAuB,aAAA,CAAc,cAAc,CAAA;AAC5E,IAAAA,OAAAA,CAAO,KAAK,qCAAqC,CAAA;AACjD,IAAA,KAAA,CAAML,OAAAA,CAAM,IAAA,CAAK,iCAA0B,CAAC,CAAA;AAE5C,IAAA,IAAI;AACF,MAAA,MAAM,SAAA,GAAY,MAAM,oBAAA,CAAqB,QAAQ,CAAA;AAErD,MAAA,IAAIM,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,QAAAD,OAAAA,CAAO,KAAK,sDAAsD,CAAA;AAClE,QAAAE,OAAO,8BAA8B,CAAA;AACrC,QAAA;AAAA,MACF;AAEA,MAAAF,OAAAA,CAAO,IAAA,CAAK,wBAAA,EAA0B,EAAE,WAAW,EAAE,GAAG,SAAA,EAAW,YAAA,EAAc,UAAU,YAAA,CAAa,IAAA,CAAK,GAAG,CAAA,IAAK,CAAA;AAGrH,MAAA,MAAM,kBAAkB,mBAAA,CAAoB;AAAA,QAC1C,MAAM,SAAA,CAAU,IAAA;AAAA,QAChB,aAAa,SAAA,CAAU,WAAA;AAAA,QACvB,cAAc,SAAA,CAAU;AAAA,OACzB,CAAA;AAED,MAAA,IAAI,eAAA,EAAiB;AACnB,QAAAA,QAAO,KAAA,CAAM,mCAAA,EAAqC,IAAI,KAAA,CAAM,eAAe,CAAC,CAAA;AAC5E,QAAAE,MAAAA,CAAOP,OAAAA,CAAM,GAAA,CAAI,eAAe,CAAC,CAAA;AACjC,QAAA;AAAA,MACF;AAGA,MAAA,MAAM,YAAA,GAAe,SAAA,CAAU,OAAA,CAAuB,aAAA,CAAc,aAAa,CAAA;AACjF,MAAAK,OAAAA,CAAO,KAAK,sCAAsC,CAAA;AAElD,MAAA,MAAM,IAAI,OAAA,EAAQ;AAClB,MAAA,CAAA,CAAE,MAAM,sBAAsB,CAAA;AAE9B,MAAA,IAAI;AAEF,QAAA,MAAM,KAAA,GAAQ,MAAM,YAAA,CAAa,QAAA,CAAS;AAAA,UACxC,MAAM,SAAA,CAAU,IAAA;AAAA,UAChB,aAAa,SAAA,CAAU,WAAA;AAAA,UACvB,cAAc,SAAA,CAAU,YAAA;AAAA,UACxB,QAAA,EAAU,SAAA,CAAU,YAAA,CAAa,CAAC,CAAA,IAAK,YAAA;AAAA,UACvC,YAAY,SAAA,CAAU,UAAA;AAAA,UACtB,QAAA,EAAU;AAAA,YACR,iBAAiB,SAAA,CAAU;AAAA;AAC7B,SACD,CAAA;AAED,QAAA,CAAA,CAAE,KAAK,uCAAkC,CAAA;AACzC,QAAAA,QAAO,IAAA,CAAK,+BAAA,EAAiC,EAAE,OAAA,EAAS,KAAA,CAAM,IAAI,CAAA;AAElE,QAAA,0BAAA,CAA2B,KAAK,CAAA;AAEhC,QAAA,KAAA,CAAM,8BAA8B,CAAA;AAAA,MACtC,SAAS,KAAA,EAAO;AACd,QAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAC9B,QAAA,MAAM,KAAA;AAAA,MACR;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAAA,OAAAA,CAAO,WAAA,CAAY,KAAA,EAAO,2BAA2B,CAAA;AACrD,MAAA,KAAA,CAAML,OAAAA,CAAM,GAAA,CAAI,kBAAkB,CAAC,CAAA;AAAA,IACrC;AAAA,EACF,CAAC,CAAA;AACL;;;ACvFO,IAAM,YAAA,GAAN,cAA2B,KAAA,CAAM;AAAA,EACtC,WAAA,CACE,OAAA,EACO,IAAA,EACA,UAAA,EACA,WAAW,KAAA,EAClB;AACA,IAAA,KAAA,CAAM,OAAO,CAAA;AAJN,IAAA,IAAA,CAAA,IAAA,GAAA,IAAA;AACA,IAAA,IAAA,CAAA,UAAA,GAAA,UAAA;AACA,IAAA,IAAA,CAAA,QAAA,GAAA,QAAA;AAGP,IAAA,IAAA,CAAK,IAAA,GAAO,cAAA;AAAA,EACd;AACF,CAAA;AAEO,IAAM,eAAA,GAAN,cAA8B,YAAA,CAAa;AAAA,EAChD,WAAA,CAAY,SAAiB,UAAA,EAAqB;AAChD,IAAA,KAAA,CAAM,OAAA,EAAS,kBAAA,EAAoB,UAAA,EAAY,KAAK,CAAA;AACpD,IAAA,IAAA,CAAK,IAAA,GAAO,iBAAA;AAAA,EACd;AACF,CAAA;AAEO,IAAM,aAAA,GAAN,cAA4B,YAAA,CAAa;AAAA,EAC9C,WAAA,CAAY,UAAkB,EAAA,EAAY;AACxC,IAAA,KAAA,CAAM,CAAA,EAAG,QAAQ,CAAA,YAAA,EAAe,EAAE,CAAA,CAAA,EAAI,WAAA,EAAa,CAAA,eAAA,EAAkB,QAAA,CAAS,WAAA,EAAa,CAAA,cAAA,CAAA,EAAkB,KAAK,CAAA;AAClH,IAAA,IAAA,CAAK,IAAA,GAAO,eAAA;AAAA,EACd;AACF,CAAA;AAEO,IAAM,YAAA,GAAN,cAA2B,YAAA,CAAa;AAAA,EAC7C,WAAA,CAAY,SAAiB,UAAA,EAAqB;AAChD,IAAA,KAAA,CAAM,OAAA,EAAS,eAAA,EAAiB,UAAA,IAAc,6CAAA,EAA+C,IAAI,CAAA;AACjG,IAAA,IAAA,CAAK,IAAA,GAAO,cAAA;AAAA,EACd;AACF,CAAA;AAEO,IAAM,iBAAA,GAAN,cAAgC,YAAA,CAAa;AAAA,EAClD,WAAA,CAAY,UAAU,qBAAA,EAAuB;AAC3C,IAAA,KAAA,CAAM,OAAA,EAAS,cAAA,EAAgB,sDAAA,EAAwD,KAAK,CAAA;AAC5F,IAAA,IAAA,CAAK,IAAA,GAAO,mBAAA;AAAA,EACd;AACF,CAAA;;;ACpBO,SAAS,mBAAmB,KAAA,EAA2B;AAE5D,EAAA,IAAI,iBAAiB,YAAA,EAAc;AACjC,IAAA,IAAI,UAAoB,EAAC;AAEzB,IAAA,IAAI,iBAAiB,eAAA,EAAiB;AACpC,MAAA,OAAA,GAAU,CAAC,+BAA+B,2CAA2C,CAAA;AAAA,IACvF,CAAA,MAAA,IAAW,iBAAiB,aAAA,EAAe;AACzC,MAAA,OAAA,GAAU,CAAC,4BAA4B,4CAA4C,CAAA;AAAA,IACrF,CAAA,MAAA,IAAW,iBAAiB,YAAA,EAAc;AACxC,MAAA,OAAA,GAAU,CAAC,4BAA4B,0CAA0C,CAAA;AAAA,IACnF,CAAA,MAAA,IAAW,iBAAiB,iBAAA,EAAmB;AAC7C,MAAA,OAAA,GAAU,CAAC,4BAA4B,qDAAsD,CAAA;AAAA,IAC/F;AAEA,IAAA,OAAO;AAAA,MACL,SAAS,KAAA,CAAM,OAAA;AAAA,MACf,UAAA,EAAY,MAAM,UAAA,IAAc,kBAAA;AAAA,MAChC,OAAA;AAAA,MACA,UAAU,KAAA,CAAM;AAAA,KAClB;AAAA,EACF;AAIA,EAAA,MAAM,OAAA,GAAU,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,wBAAA;AACzD,EAAA,OAAO;AAAA,IACL,OAAA;AAAA,IACA,UAAA,EAAY,kEAAA;AAAA,IACZ,OAAA,EAAS,CAAC,uBAAA,EAAyB,oCAAoC,CAAA;AAAA,IACvE,QAAA,EAAU;AAAA,GACZ;AACF;AAKO,SAAS,qBAAA,CAAsB,KAAA,EAAgB,SAAA,GAAY,WAAA,EAAmB;AACnF,EAAA,MAAM,SAAA,GAAY,mBAAmB,KAAK,CAAA;AAE1C,EAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,EAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,GAAA,CAAI,SAAA,GAAO,SAAA,GAAY,SAAS,CAAC,CAAA;AACnD,EAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,GAAA,CAAI,SAAA,GAAY,SAAA,CAAU,OAAO,CAAC,CAAA;AAEpD,EAAA,IAAI,UAAU,UAAA,EAAY;AACxB,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,MAAA,CAAO,wBAAA,GAAoB,SAAA,CAAU,UAAU,CAAC,CAAA;AAAA,EACpE;AAEA,EAAA,IAAI,SAAA,CAAU,OAAA,CAAQ,MAAA,GAAS,CAAA,EAAG;AAChC,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,4BAAqB,CAAC,CAAA;AAC7C,IAAA,SAAA,CAAU,OAAA,CAAQ,QAAQ,CAAA,MAAA,KAAU;AAClC,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,WAAA,GAAS,MAAM,CAAC,CAAA;AAAA,IACzC,CAAC,CAAA;AAAA,EACH;AAEA,EAAA,IAAI,UAAU,QAAA,EAAU;AACtB,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,0CAAmC,CAAC,CAAA;AAAA,EAC7D;AAEA,EAAAO,MAAAA,CAAOP,OAAAA,CAAM,GAAA,CAAI,SAAA,GAAY,YAAY,CAAC,CAAA;AAC5C;;;ACzEO,SAAS,oBAAoB,aAAA,EAA8B;AAChE,EAAA,aAAA,CACG,OAAA,CAAQ,MAAM,CAAA,CACd,WAAA,CAAY,4BAA4B,CAAA,CACxC,MAAA,CAAO,iBAAA,EAAmB,qCAAA,EAAuC,IAAI,CAAA,CACrE,MAAA,CAAO,OAAO,OAAA,KAAyB;AACtC,IAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,kCAA2B,CAAC,CAAA;AAE7C,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,oBAAoB,CAAA;AAE5B,IAAA,IAAI;AAEF,MAAA,MAAM,YAAA,GAAe,SAAA,CAAU,OAAA,CAAuB,aAAA,CAAc,aAAa,CAAA;AAGjF,MAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,IAAA,CAAK;AAAA,QACrC,KAAA,EAAO,QAAA,CAAS,OAAA,CAAQ,KAAK;AAAA,OAC9B,CAAA;AAED,MAAA,CAAA,CAAE,KAAK,sBAAiB,CAAA;AAExB,MAAA,IAAI,MAAA,CAAO,WAAW,CAAA,EAAG;AACvB,QAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOT,OAAAA,CAAM,MAAA,CAAO,iBAAiB,CAAC,CAAA;AAClD,QAAAU,MAAM,8DAA8D,CAAA;AACpE,QAAA;AAAA,MACF;AAEA,MAAA,OAAA,CAAQ,GAAA,CAAI,OAAOV,OAAAA,CAAM,IAAA,CAAK,qBAAqB,MAAA,CAAO,MAAM,IAAI,CAAC,CAAA;AACrE,MAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAE1B,MAAA,MAAA,CAAO,OAAA,CAAQ,CAAC,KAAA,EAAO,KAAA,KAAU;AAC/B,QAAA,MAAM,aAAA,GAAgB,gBAAgB,KAAK,CAAA;AAE3C,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAG,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,aAAA,CAAc,IAAI,CAAA,CAAE,CAAC,CAAA;AAC7D,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,eAAe,aAAA,CAAc,OAAO,EAAE,CAAC,CAAA;AAC9D,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,UAAA,EAAa,KAAA,CAAM,KAAA,GAAQ,KAAA,CAAM,KAAA,CAAM,QAAA,EAAS,GAAI,mBAAmB,CAAA,CAAE,CAAC,CAAA;AACjG,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,aAAA,CAAc,WAAW,EAAE,CAAC,CAAA;AACtE,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,oBAAoB,aAAA,CAAc,YAAY,EAAE,CAAC,CAAA;AACxE,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,WAAA,EAAc,aAAA,CAAc,WAAW,QAAA,GAAW,kBAAA,GAAc,oBAAa,CAAA,CAAE,CAAC,CAAA;AACvG,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,KAAA,CAAM,eAAe,MAAM,CAAC,CAAA;AACrE,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,eAAe,aAAA,CAAc,OAAO,EAAE,CAAC,CAAA;AAC9D,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,MAChB,CAAC,CAAA;AAED,MAAAU,MAAM,yBAAyB,CAAA;AAAA,IAEjC,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,+BAA0B,CAAA;AACjC,MAAA,qBAAA,CAAsB,OAAO,eAAe,CAAA;AAAA,IAC9C;AAAA,EACF,CAAC,CAAA;AACL;ACnDO,SAAS,sBAAsB,aAAA,EAA8B;AAClE,EAAA,aAAA,CACG,QAAQ,QAAQ,CAAA,CAChB,YAAY,+BAA+B,CAAA,CAC3C,OAAO,YAAY;AAClB,IAAAF,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,4BAAqB,CAAC,CAAA;AAEvC,IAAA,IAAI;AACF,MAAA,MAAM,YAAA,GAAe,MAAMW,WAAAA,CAAY;AAAA,QACrC,OAAA,EAAS,oCAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,eAAA,EAAiB,KAAA,EAAO,eAAA,EAAgB;AAAA,UACjD,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,4BAAA,EAA6B;AAAA,UACxD,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,2BAAA,EAA4B;AAAA,UACtD,EAAE,KAAA,EAAO,aAAA,EAAe,KAAA,EAAO,sBAAA,EAAuB;AAAA,UACtD,EAAE,KAAA,EAAO,kBAAA,EAAoB,KAAA,EAAO,kBAAA,EAAmB;AAAA,UACvD,EAAE,KAAA,EAAO,YAAA,EAAc,KAAA,EAAO,iBAAA,EAAkB;AAAA,UAChD,EAAE,KAAA,EAAO,UAAA,EAAY,KAAA,EAAO,kCAAA;AAAmC;AACjE,OACD,CAAA;AAED,MAAA,IAAIL,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,MAAA,CAAA,CAAE,MAAM,yBAAyB,CAAA;AAGjC,MAAA,MAAM,YAAA,GAAe,SAAA,CAAU,OAAA,CAAuB,aAAA,CAAc,aAAa,CAAA;AAGjF,MAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,IAAA,CAAK;AAAA;AAAA,QAEtC,KAAA,EAAO;AAAA,OACR,CAAA;AAGD,MAAA,MAAM,kBAAkB,OAAA,CAAQ,MAAA;AAAA,QAAO,CAAA,KAAA,KACrC,MAAM,YAAA,CAAa,IAAA,CAAK,SAAQ,YAAA,CAA0B,QAAA,CAAS,GAAG,CAAC;AAAA,OACzE;AAEA,MAAA,CAAA,CAAE,KAAK,yBAAoB,CAAA;AAE3B,MAAA,IAAI,eAAA,CAAgB,WAAW,CAAA,EAAG;AAChC,QAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOT,OAAAA,CAAM,MAAA,CAAO,CAAA,mCAAA,EAAsC,aAAa,IAAA,CAAK,IAAI,CAAC,CAAA,CAAE,CAAC,CAAA;AAChG,QAAAU,MAAM,2CAA2C,CAAA;AACjD,QAAA;AAAA,MACF;AAEA,MAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOV,OAAAA,CAAM,IAAA,CAAK,CAAA,MAAA,EAAS,eAAA,CAAgB,MAAM,CAAA,2BAAA,EAA8B,YAAA,CAAa,IAAA,CAAK,IAAI,CAAC,EAAE,CAAC,CAAA;AACrH,MAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAE1B,MAAA,eAAA,CAAgB,OAAA,CAAQ,CAAC,KAAA,EAAO,KAAA,KAAU;AACxC,QAAA,MAAM,YAAA,GAAe,MAAM,YAAA,CAAa,MAAA,CAAO,CAAC,GAAA,KAAS,YAAA,CAA0B,QAAA,CAAS,GAAG,CAAC,CAAA;AAChG,QAAA,MAAM,aAAA,GAAgB,gBAAgB,KAAK,CAAA;AAE3C,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAG,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,aAAA,CAAc,IAAI,CAAA,CAAE,CAAC,CAAA;AAC7D,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,eAAe,aAAA,CAAc,OAAO,EAAE,CAAC,CAAA;AAC9D,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,YAAA,EAAe,aAAa,IAAA,CAAK,IAAI,CAAC,CAAA,CAAE,CAAC,CAAA;AAChE,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,aAAA,CAAc,YAAY,EAAE,CAAC,CAAA;AAC5E,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,KAAA,CAAM,eAAe,MAAM,CAAC,CAAA;AACrE,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,WAAA,EAAc,aAAA,CAAc,WAAW,QAAA,GAAW,kBAAA,GAAc,oBAAa,CAAA,CAAE,CAAC,CAAA;AACvG,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,MAChB,CAAC,CAAA;AAED,MAAAU,MAAM,kBAAkB,CAAA;AAAA,IAE1B,SAAS,KAAA,EAAO;AACd,MAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,iBAAA,IAAqB,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,IAClG;AAAA,EACF,CAAC,CAAA;AACL;AC5EO,SAAS,sBAAsB,aAAA,EAA8B;AAClE,EAAA,aAAA,CACG,QAAQ,QAAQ,CAAA,CAChB,YAAY,6BAA6B,CAAA,CACzC,OAAO,YAAY;AAClB,IAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,wBAAiB,CAAC,CAAA;AAEnC,IAAA,IAAI;AACF,MAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,MAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAGlC,MAAA,MAAM,YAAA,GAAe,SAAA,CAAU,OAAA,CAAuB,aAAA,CAAc,aAAa,CAAA;AACjF,MAAA,MAAM,aAAA,GAAgB,SAAA,CAAU,OAAA,CAAwB,aAAA,CAAc,cAAc,CAAA;AAGpF,MAAA,MAAM,MAAA,GAAS,cAAc,wBAAA,EAAyB;AACtD,MAAA,IAAI,CAAC,MAAA,EAAQ;AACX,QAAAF,MAAAA,CAAOP,OAAAA,CAAM,GAAA,CAAI,uDAAuD,CAAC,CAAA;AACzE,QAAA;AAAA,MACF;AAGA,MAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,IAAA,CAAK;AAAA,QACrC,OAAO,MAAA,CAAO;AAAA,OACf,CAAA;AAED,MAAA,CAAA,CAAE,KAAK,uBAAkB,CAAA;AAEzB,MAAA,IAAI,MAAA,CAAO,WAAW,CAAA,EAAG;AACvB,QAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,MAAA,CAAO,+BAA+B,CAAC,CAAA;AAChE,QAAAU,MAAM,uDAAuD,CAAA;AAC7D,QAAA;AAAA,MACF;AAEA,MAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOV,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,CAAA;AAC7C,MAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAE1B,MAAA,KAAA,MAAW,SAAS,MAAA,EAAQ;AAC1B,QAAA,MAAM,UAAA,GAAa,MAAM,QAAA,GAAWA,OAAAA,CAAM,MAAM,QAAG,CAAA,GAAIA,OAAAA,CAAM,GAAA,CAAI,QAAG,CAAA;AACpE,QAAA,MAAM,UAAA,GAAa,KAAA,CAAM,QAAA,GAAW,QAAA,GAAW,UAAA;AAE/C,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAG,UAAU,CAAA,CAAA,EAAI,KAAA,CAAM,IAAI,CAAA,CAAA,GAAKA,OAAAA,CAAM,IAAA,CAAK,CAAA,GAAA,EAAM,UAAU,CAAA,CAAE,CAAC,CAAA;AAC1E,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,eAAe,KAAA,CAAM,EAAE,EAAE,CAAC,CAAA;AACjD,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,WAAA,EAAc,MAAM,OAAA,CAAQ,QAAA,EAAU,CAAA,CAAE,CAAC,CAAA;AAChE,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,SAAA,EAAY,MAAM,KAAA,CAAM,QAAA,EAAU,CAAA,CAAE,CAAC,CAAA;AAC5D,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,WAAA,EAAc,IAAI,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,SAAS,CAAC,CAAA,CAAE,cAAA,EAAgB,EAAE,CAAC,CAAA;AAC1F,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,uBAAuB,KAAA,CAAM,eAAe,MAAM,CAAC,CAAA;AAC1E,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,gBAAA,EAAmB,KAAA,CAAM,aAAa,IAAA,CAAK,IAAI,CAAC,CAAA,CAAE,CAAC,CAAA;AAC1E,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,MAChB;AAEA,MAAAU,MAAM,wBAAwB,CAAA;AAAA,IAEhC,SAAS,KAAA,EAAO;AACd,MAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,uBAAA,IAA2B,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,IACxG;AAAA,EACF,CAAC,CAAA;AACL;;;AC2NO,SAAS,WAAW,KAAA,EAAwB;AACjD,EAAA,IAAI;AACF,IAAA,IAAI,IAAI,KAAK,CAAA;AACb,IAAA,OAAO,IAAA;AAAA,EACT,CAAA,CAAA,MAAQ;AACN,IAAA,OAAO,KAAA;AAAA,EACT;AACF;;;ACrRO,SAAS,sBAAsB,aAAA,EAA8B;AAClE,EAAA,aAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,8BAA8B,CAAA,CAC1C,MAAA,CAAO,iBAAA,EAAmB,oBAAoB,CAAA,CAC9C,MAAA,CAAO,OAAO,OAAA,KAA2B;AACxC,IAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,2BAAoB,CAAC,CAAA;AAEtC,IAAA,IAAI;AACF,MAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,MAAA,CAAA,CAAE,MAAM,wBAAwB,CAAA;AAGhC,MAAA,MAAM,YAAA,GAAe,SAAA,CAAU,OAAA,CAAuB,aAAA,CAAc,aAAa,CAAA;AAGjF,MAAA,MAAM,QAAA,GAAW,MAAM,YAAA,CAAa,IAAA,CAAK,EAAE,CAAA;AAE3C,MAAA,CAAA,CAAE,KAAK,sBAAiB,CAAA;AAExB,MAAA,IAAI,QAAA,CAAS,WAAW,CAAA,EAAG;AACzB,QAAAF,OAAO,yCAAyC,CAAA;AAChD,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,eAAA;AAEJ,MAAA,IAAI,QAAQ,OAAA,EAAS;AACnB,QAAA,eAAA,GAAkB,OAAA,CAAQ,OAAA;AAAA,MAC5B,CAAA,MAAO;AACL,QAAA,MAAM,aAAA,GAAgB,MAAMK,MAAAA,CAAO;AAAA,UACjC,OAAA,EAAS,yBAAA;AAAA,UACT,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAC,KAAA,MAAW;AAAA,YAChC,OAAO,KAAA,CAAM,EAAA;AAAA,YACb,KAAA,EAAO,GAAG,KAAA,CAAM,IAAI,KAAK,KAAA,CAAM,QAAA,GAAW,WAAW,UAAU,CAAA,CAAA;AAAA,WACjE,CAAE;AAAA,SACH,CAAA;AAED,QAAA,IAAIN,QAAAA,CAAS,aAAa,CAAA,EAAG;AAC3B,UAAAC,OAAO,kBAAkB,CAAA;AACzB,UAAA;AAAA,QACF;AAEA,QAAA,eAAA,GAAkB,aAAA;AAAA,MACpB;AAGA,MAAA,MAAM,YAAA,GAAe,MAAM,YAAA,CAAa,OAAA,CAAQ,eAAe,CAAA;AAE/D,MAAA,IAAI,CAAC,YAAA,EAAc;AACjB,QAAAA,OAAO,iBAAiB,CAAA;AACxB,QAAA;AAAA,MACF;AAEA,MAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOP,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA;AACvD,MAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAC1B,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,OAAO,IAAI,CAAA,CAAA,EAAI,YAAA,CAAa,IAAI,CAAA,CAAE,CAAA;AACzD,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA,EAAI,YAAA,CAAa,WAAW,CAAA,CAAE,CAAA;AACvE,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAA,GAAI,CAAA,CAAA,EAAI,YAAA,CAAa,YAAA,CAAa,IAAA,CAAK,IAAI,CAAC,CAAA,CAAE,CAAA;AACpF,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,aAAa,IAAI,CAAA,CAAA,EAAI,YAAA,CAAa,eAAe,CAAA,IAAA,CAAM,CAAA;AAC9E,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA,EAAI,YAAA,CAAa,EAAE,CAAA,CAAE,CAAA;AAG3D,MAAA,MAAM,YAAA,GAAe,MAAMY,MAAAA,CAAO;AAAA,QAChC,OAAA,EAAS,gCAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,MAAA,EAAQ,KAAA,EAAO,gBAAA,EAAU;AAAA,UAClC,EAAE,KAAA,EAAO,aAAA,EAAe,KAAA,EAAO,uBAAA,EAAiB;AAAA,UAChD,EAAE,KAAA,EAAO,UAAA,EAAY,KAAA,EAAO,4BAAA,EAAsB;AAAA,UAClD,EAAE,KAAA,EAAO,cAAA,EAAgB,KAAA,EAAO,+BAAA,EAAoB;AAAA,UACpD,EAAE,KAAA,EAAO,OAAA,EAAS,KAAA,EAAO,mBAAA,EAAa;AAAA,UACtC,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAO,6BAAA;AAAuB;AAChD,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,MAAM,UAOF,EAAC;AAGL,MAAA,IAAI,YAAA,KAAiB,MAAA,IAAU,YAAA,KAAiB,KAAA,EAAO;AACrD,QAAA,MAAM,OAAA,GAAU,MAAMM,IAAAA,CAAK;AAAA,UACzB,OAAA,EAAS,iBAAA;AAAA,UACT,aAAa,YAAA,CAAa,IAAA;AAAA,UAC1B,YAAA,EAAc,YAAA,KAAiB,KAAA,GAAQ,YAAA,CAAa,IAAA,GAAO,KAAA,CAAA;AAAA,UAC3D,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,YAAA,IAAI,CAAC,OAAO,OAAO,kBAAA;AACnB,YAAA,IAAI,KAAA,CAAM,MAAA,GAAS,CAAA,EAAG,OAAO,oCAAA;AAAA,UAC/B;AAAA,SACD,CAAA;AAED,QAAA,IAAIP,QAAAA,CAAS,OAAO,CAAA,EAAG;AACrB,UAAAC,OAAO,kBAAkB,CAAA;AACzB,UAAA;AAAA,QACF;AAEA,QAAA,OAAA,CAAQ,IAAA,GAAO,OAAA;AAAA,MACjB;AAGA,MAAA,IAAI,YAAA,KAAiB,aAAA,IAAiB,YAAA,KAAiB,KAAA,EAAO;AAC5D,QAAA,MAAM,cAAA,GAAiB,MAAMM,IAAAA,CAAK;AAAA,UAChC,OAAA,EAAS,kBAAA;AAAA,UACT,aAAa,YAAA,CAAa,WAAA;AAAA,UAC1B,YAAA,EAAc,YAAA,KAAiB,KAAA,GAAQ,YAAA,CAAa,WAAA,GAAc,KAAA,CAAA;AAAA,UAClE,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,YAAA,IAAI,CAAC,OAAO,OAAO,yBAAA;AACnB,YAAA,IAAI,KAAA,CAAM,MAAA,GAAS,EAAA,EAAI,OAAO,4CAAA;AAAA,UAChC;AAAA,SACD,CAAA;AAED,QAAA,IAAIP,QAAAA,CAAS,cAAc,CAAA,EAAG;AAC5B,UAAAC,OAAO,kBAAkB,CAAA;AACzB,UAAA;AAAA,QACF;AAEA,QAAA,OAAA,CAAQ,WAAA,GAAc,cAAA;AAAA,MACxB;AAGA,MAAA,IAAI,YAAA,KAAiB,UAAA,IAAc,YAAA,KAAiB,KAAA,EAAO;AACzD,QAAA,MAAM,WAAA,GAAc,MAAMM,IAAAA,CAAK;AAAA,UAC7B,OAAA,EAAS,2BAAA;AAAA,UACT,WAAA,EAAa,+BAAA;AAAA,UACb,YAAA,EAAc,YAAA,KAAiB,KAAA,GAAQ,KAAA,CAAA,GAAY,KAAA,CAAA;AAAA,UACnD,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,YAAA,IAAI,CAAC,OAAO,OAAO,sBAAA;AACnB,YAAA,IAAI,CAAC,UAAA,CAAW,KAAK,CAAA,EAAG;AACtB,cAAA,OAAO,0BAAA;AAAA,YACT;AACA,YAAA;AAAA,UACF;AAAA,SACD,CAAA;AAED,QAAA,IAAIP,QAAAA,CAAS,WAAW,CAAA,EAAG;AACzB,UAAAC,OAAO,kBAAkB,CAAA;AACzB,UAAA;AAAA,QACF;AAEA,QAAA,OAAA,CAAQ,QAAA,GAAW,WAAA;AAAA,MACrB;AAGA,MAAA,IAAI,YAAA,KAAiB,cAAA,IAAkB,YAAA,KAAiB,KAAA,EAAO;AAC7D,QAAA,MAAM,eAAA,GAAkB,MAAMI,WAAAA,CAAY;AAAA,UACxC,OAAA,EAAS,4BAAA;AAAA,UACT,OAAA,EAAS;AAAA,YACP,EAAE,KAAA,EAAO,eAAA,EAAiB,KAAA,EAAO,yBAAA,EAAmB;AAAA,YACpD,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,0CAAA,EAAiC;AAAA,YAC5D,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,qCAAA,EAA+B;AAAA,YACzD,EAAE,KAAA,EAAO,WAAA,EAAa,KAAA,EAAO,qBAAA,EAAe;AAAA,YAC5C,EAAE,KAAA,EAAO,aAAA,EAAe,KAAA,EAAO,uBAAA,EAAiB;AAAA,YAChD,EAAE,KAAA,EAAO,aAAA,EAAe,KAAA,EAAO,gCAAA,EAA0B;AAAA,YACzD,EAAE,KAAA,EAAO,kBAAA,EAAoB,KAAA,EAAO,mCAAA,EAAwB;AAAA,YAC5D,EAAE,KAAA,EAAO,YAAA,EAAc,KAAA,EAAO,2BAAA;AAAqB,WACrD;AAAA,UACA,QAAA,EAAU;AAAA,SACX,CAAA;AAED,QAAA,IAAIL,QAAAA,CAAS,eAAe,CAAA,EAAG;AAC7B,UAAAC,OAAO,kBAAkB,CAAA;AACzB,UAAA;AAAA,QACF;AAEA,QAAA,OAAA,CAAQ,YAAA,GAAe,eAAA;AAAA,MACzB;AAGA,MAAA,IAAI,YAAA,KAAiB,OAAA,IAAW,YAAA,KAAiB,KAAA,EAAO;AACtD,QAAA,MAAM,QAAA,GAAW,MAAMM,IAAAA,CAAK;AAAA,UAC1B,OAAA,EAAS,8BAAA;AAAA,UACT,WAAA,EAAa,OAAA;AAAA,UACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,YAAA,IAAI,CAAC,OAAO,OAAO,mBAAA;AACnB,YAAA,MAAM,GAAA,GAAM,WAAW,KAAK,CAAA;AAC5B,YAAA,IAAI,KAAA,CAAM,GAAG,CAAA,IAAK,GAAA,GAAM,GAAG,OAAO,sCAAA;AAAA,UACpC;AAAA,SACD,CAAA;AAED,QAAA,IAAIP,QAAAA,CAAS,QAAQ,CAAA,EAAG;AACtB,UAAAC,OAAO,kBAAkB,CAAA;AACzB,UAAA;AAAA,QACF;AAEA,QAAA,OAAA,CAAQ,OAAA,GAAU,EAAE,YAAA,EAAc,UAAA,CAAW,QAAQ,CAAA,EAAE;AAAA,MACzD;AAGA,MAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOP,OAAAA,CAAM,IAAA,CAAK,2BAAoB,CAAC,CAAA;AACnD,MAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAE1B,MAAA,MAAA,CAAO,OAAA,CAAQ,OAAO,CAAA,CAAE,OAAA,CAAQ,CAAC,CAAC,GAAA,EAAK,KAAK,CAAA,KAAM;AAChD,QAAA,IAAI,KAAA,CAAM,OAAA,CAAQ,KAAK,CAAA,EAAG;AACxB,UAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAG,GAAG,CAAA,CAAA,CAAG,CAAA,GAAI,CAAA,CAAA,EAAI,KAAA,CAAM,IAAA,CAAK,IAAI,CAAC,CAAA,CAAE,CAAA;AAAA,QAC5D,CAAA,MAAO;AACL,UAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,EAAG,GAAG,CAAA,CAAA,CAAG,CAAA,GAAI,CAAA,CAAA,EAAI,KAAK,CAAA,CAAE,CAAA;AAAA,QACjD;AAAA,MACF,CAAC,CAAA;AAED,MAAA,MAAM,SAAA,GAAY,MAAMc,OAAAA,CAAQ;AAAA,QAC9B,OAAA,EAAS;AAAA,OACV,CAAA;AAED,MAAA,IAAIR,QAAAA,CAAS,SAAS,CAAA,IAAK,CAAC,SAAA,EAAW;AACrC,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,MAAM,gBAAgBE,OAAAA,EAAQ;AAC9B,MAAA,aAAA,CAAc,MAAM,mBAAmB,CAAA;AAEvC,MAAA,IAAI;AAEF,QAAA,MAAM,YAAA,GAAe,MAAM,YAAA,CAAa,MAAA,CAAO,eAAA,EAAiB;AAAA,UAC9D,MAAM,OAAA,CAAQ,IAAA;AAAA,UACd,aAAa,OAAA,CAAQ,WAAA;AAAA,UACrB,cAAc,OAAA,CAAQ,YAAA;AAAA,UACtB,QAAA,EAAU;AAAA,YACR,UAAU,OAAA,CAAQ,QAAA;AAAA,YAClB,SAAS,OAAA,CAAQ;AAAA;AACnB,SACD,CAAA;AAED,QAAA,aAAA,CAAc,KAAK,oCAA+B,CAAA;AAElD,QAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOT,OAAAA,CAAM,KAAA,CAAM,mCAA4B,CAAC,CAAA;AAC5D,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,aAAa,YAAA,CAAa,EAAE,EAAE,CAAC,CAAA;AACtD,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,SAAS,YAAA,CAAa,IAAI,EAAE,CAAC,CAAA;AACpD,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,YAAA,CAAa,WAAW,EAAE,CAAC,CAAA;AAClE,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,yBAAyB,CAAC,CAAA;AAEjD,QAAAU,MAAM,wBAAwB,CAAA;AAAA,MAChC,SAAS,KAAA,EAAO;AACd,QAAA,aAAA,CAAc,KAAK,sBAAiB,CAAA;AACpC,QAAA,MAAM,KAAA;AAAA,MACR;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,uBAAA,IAA2B,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,IACxG;AAAA,EACF,CAAC,CAAA;AACL;AClQO,SAAS,sBAAsB,aAAA,EAA8B;AAClE,EAAA,aAAA,CACG,QAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,uDAAuD,EACnE,MAAA,CAAO,kBAAA,EAAoB,oBAAoB,CAAA,CAC/C,OAAO,QAAA,EAAU,+BAA+B,CAAA,CAChD,MAAA,CAAO,OAAO,OAAA,KAA2B;AACxC,IAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,8BAAuB,CAAC,CAAA;AAEzC,IAAA,IAAI;AAEF,MAAA,MAAM,YAAA,GAAe,SAAA,CAAU,OAAA,CAAuB,aAAA,CAAc,aAAa,CAAA;AAEjF,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,0CAAgC,CAAC,CAAA;AAC1D,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,oEAAoE,CAAC,CAAA;AAC5F,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,uCAAuC,CAAC,CAAA;AAC/D,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,qCAAgC,CAAC,CAAA;AACxD,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,4CAAuC,CAAC,CAAA;AAC/D,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,oCAA+B,CAAC,CAAA;AACvD,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,mCAA8B,CAAC,CAAA;AACtD,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAEd,MAAA,IAAI,QAAQ,KAAA,EAAO;AAEjB,QAAA,MAAM,KAAA,GAAQ,MAAM,YAAA,CAAa,OAAA,CAAQ,QAAQ,KAAK,CAAA;AACtD,QAAA,IAAI,KAAA,EAAO;AACT,UAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,KAAA,CAAM,IAAI,EAAE,CAAC,CAAA;AACrD,UAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,OAAA,EAAU,MAAM,KAAA,CAAM,QAAA,EAAU,CAAA,CAAE,CAAC,CAAA;AAC1D,UAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,QAAA,EAAW,MAAM,QAAA,GAAW,QAAA,GAAW,UAAU,CAAA,CAAE,CAAC,CAAA;AAAA,QAC7E,CAAA,MAAO;AACL,UAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,GAAA,CAAI,oBAAoB,OAAA,CAAQ,KAAK,EAAE,CAAC,CAAA;AAAA,QAC5D;AAAA,MACF;AAEA,MAAAU,MAAM,yDAAyD,CAAA;AAAA,IAEjE,SAAS,KAAA,EAAO;AACd,MAAA,qBAAA,CAAsB,OAAO,oBAAoB,CAAA;AAAA,IACnD;AAAA,EACF,CAAC,CAAA;AACL;ACbO,SAAS,yBAAyB,aAAA,EAA8B;AACrE,EAAA,aAAA,CACG,OAAA,CAAQ,WAAW,CAAA,CACnB,WAAA,CAAY,kCAAkC,CAAA,CAC9C,MAAA,CAAO,yBAAyB,wBAAwB,CAAA,CACxD,OAAO,QAAA,EAAU,mCAAmC,EACpD,MAAA,CAAO,uBAAA,EAAyB,gCAAgC,CAAA,CAChE,MAAA,CAAO,OAAO,OAAA,KAA8B;AAC3C,IAAAF,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,2BAAoB,CAAC,CAAA;AAEtC,IAAA,IAAI;AACF,MAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,MAAA,CAAA,CAAE,MAAM,2BAA2B,CAAA;AAGnC,MAAA,MAAM,YAAA,GAAe,SAAA,CAAU,OAAA,CAAuB,aAAA,CAAc,aAAa,CAAA;AAEjF,MAAA,IAAI,SAAA;AAEJ,MAAA,IAAI;AAEF,QAAA,IAAI,QAAQ,KAAA,EAAO;AACjB,UAAA,MAAM,cAAA,GAAiB,MAAM,YAAA,CAAa,YAAA,CAAa,QAAQ,KAAK,CAAA;AACpE,UAAA,SAAA,GAAY;AAAA,YACV,aAAA,EAAe,MAAA,CAAO,cAAA,CAAe,aAAa,CAAA;AAAA,YAClD,eAAe,cAAA,CAAe,aAAA;AAAA,YAC9B,aAAa,cAAA,CAAe,WAAA;AAAA,YAC5B,eAAe,cAAA,CAAe,aAAA;AAAA,YAC9B,mBAAmB,cAAA,CAAe,SAAA;AAAA,YAClC,aAAA,EAAe,CAAA;AAAA,YACf,WAAA,EAAa,OAAO,CAAC,CAAA;AAAA,YACrB,YAAA,EAAc,CAAA;AAAA,YACd,WAAW,cAAA,CAAe,SAAA;AAAA,YAC1B,WAAA,EAAa,CAAA;AAAA,YACb,cAAA,EAAgB,CAAA;AAAA,YAChB,gBAAgB,EAAC;AAAA,YACjB,eAAe,EAAC;AAAA,YAChB,YAAY,EAAC;AAAA,YACb,eAAe,EAAC;AAAA,YAChB,eAAe,EAAC;AAAA,YAChB,aAAA,EAAe;AAAA,cACb,YAAA,EAAc,CAAA;AAAA,cACd,aAAA,EAAe,CAAA;AAAA,cACf,UAAA,EAAY,CAAA;AAAA,cACZ,aAAA,EAAe;AAAA,aACjB;AAAA,YACA,QAAA,EAAU,CAAC,0CAA0C;AAAA,WACvD;AAAA,QACF,CAAA,MAAO;AACL,UAAA,MAAM,IAAI,MAAM,6CAA6C,CAAA;AAAA,QAC/D;AAAA,MACF,SAAS,KAAA,EAAO;AACd,QAAA,CAAA,CAAE,KAAK,gCAA2B,CAAA;AAGlC,QAAA,MAAM,iBAAA,GAAoC;AAAA,UACxC,aAAA,EAAe,CAAA;AAAA,UACf,aAAA,EAAe,CAAA;AAAA,UACf,WAAA,EAAa,CAAA;AAAA,UACb,aAAA,EAAe,CAAA;AAAA,UACf,iBAAA,EAAmB,CAAA;AAAA,UACnB,aAAA,EAAe,CAAA;AAAA,UACf,WAAA,EAAa,OAAO,CAAC,CAAA;AAAA,UACrB,YAAA,EAAc,CAAA;AAAA,UACd,SAAA,EAAW,CAAA;AAAA,UACX,WAAA,EAAa,CAAA;AAAA,UACb,cAAA,EAAgB,CAAA;AAAA,UAChB,gBAAgB,EAAC;AAAA,UACjB,eAAe,EAAC;AAAA,UAChB,YAAY,EAAC;AAAA,UACb,eAAe,EAAC;AAAA,UAChB,eAAe,EAAC;AAAA,UAChB,aAAA,EAAe;AAAA,YACb,YAAA,EAAc,CAAA;AAAA,YACd,aAAA,EAAe,CAAA;AAAA,YACf,UAAA,EAAY,CAAA;AAAA,YACZ,aAAA,EAAe;AAAA,WACjB;AAAA,UACA,UAAU;AAAC,SACb;AAEA,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,QAAA,OAAA,CAAQ,GAAA,CAAIT,OAAAA,CAAM,MAAA,CAAO,2BAAoB,CAAC,CAAA;AAC9C,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,6DAA6D,CAAC,CAAA;AACrF,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,0BAA0B,CAAC,CAAA;AAElD,QAAA,MAAM,kBAAA,GAAqB;AAAA,UACzB,WAAW,iBAAA,CAAkB,SAAA;AAAA,UAC7B,eAAe,iBAAA,CAAkB,aAAA;AAAA,UACjC,eAAe,iBAAA,CAAkB,aAAA;AAAA,UACjC,aAAA,EAAe,MAAA,CAAO,iBAAA,CAAkB,aAAa,CAAA;AAAA,UACrD,YAAA,EAAc,CAAA;AAAA,UACd,aAAa,iBAAA,CAAkB,WAAA;AAAA,UAC/B,UAAA,EAAY,CAAA;AAAA,UACZ,UAAA,EAAY,CAAA;AAAA,UACZ,QAAA,EAAU,CAAA;AAAA,UACV,WAAA,EAAa;AAAA,SACf;AAEA,QAAA,eAAA,CAAgB,kBAAkB,CAAA,CAAE,OAAA,CAAQ,CAAA,IAAA,KAAQ;AAClD,UAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,IAAA,GAAO,IAAI,CAAC,CAAA;AAAA,QACrC,CAAC,CAAA;AACD,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,0BAA0B,CAAC,CAAA;AAClD,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,2BAAsB,IAAIA,OAAAA,CAAM,IAAA,CAAK,iCAAiC,CAAC,CAAA;AAC9F,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,yBAAoB,IAAIA,OAAAA,CAAM,IAAA,CAAK,8BAA8B,CAAC,CAAA;AACzF,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,sBAAiB,IAAIA,OAAAA,CAAM,IAAA,CAAK,wCAAwC,CAAC,CAAA;AAChG,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,8CAA8C,CAAC,CAAA;AAEtE,QAAAU,MAAM,+BAA+B,CAAA;AACrC,QAAA;AAAA,MACF;AAEA,MAAA,CAAA,CAAE,KAAK,yBAAoB,CAAA;AAG3B,MAAA,GAAA,CAAI,IAAA,CAAK;AAAA,EAAKV,OAAAA,CAAM,IAAA,CAAK,iCAA0B,CAAC,CAAA,CAAE,CAAA;AACtD,MAAA,GAAA,CAAI,IAAA,CAAK,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAEvB,MAAA,IAAI,OAAA,CAAQ,KAAA,IAAS,OAAA,CAAQ,IAAA,EAAM;AAEjC,QAAA,GAAA,CAAI,IAAA;AAAA,UACF,GAAGA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA,CAAA,EAAI,UAAU,YAAY;AAAA,EACtDA,QAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA,CAAA,EAAI,UAAU,SAAS;AAAA,EAC1DA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC,CAAA,CAAA,EAAA,CAAK,UAAU,WAAA,GAAc,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAC,CAAA;AAAA,EACvEA,OAAAA,CAAM,KAAK,iBAAiB,CAAC,IAAI,SAAA,CAAU,aAAA,CAAc,OAAA,CAAQ,CAAC,CAAC,CAAA;AAAA,EACnEA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA,CAAA,EAAA,CAAK,MAAA,CAAO,SAAA,CAAU,aAAa,CAAA,GAAI,GAAA,EAAe,OAAA,CAAQ,CAAC,CAAC,CAAA;AAAA;AAAA,SAClG;AAEA,QAAA,IAAI,OAAO,IAAA,CAAK,SAAA,CAAU,cAAc,CAAA,CAAE,SAAS,CAAA,EAAG;AACpD,UAAA,GAAA,CAAI,IAAA,CAAK;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,6BAAsB,CAAC,CAAA,CAAE,CAAA;AAClD,UAAA,MAAA,CAAO,OAAA,CAAQ,UAAU,cAAc,CAAA,CAAE,QAAQ,CAAC,CAAC,QAAA,EAAU,KAAK,CAAA,KAAM;AACtE,YAAA,GAAA,CAAI,IAAA,CAAK,MAAMA,OAAAA,CAAM,IAAA,CAAK,WAAW,GAAG,CAAC,CAAA,CAAA,EAAI,KAAK,CAAA,CAAE,CAAA;AAAA,UACtD,CAAC,CAAA;AAAA,QACH;AAEA,QAAA,IAAI,SAAA,CAAU,aAAA,CAAc,MAAA,GAAS,CAAA,EAAG;AACtC,UAAA,GAAA,CAAI,IAAA,CAAK;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,2BAAoB,CAAC,CAAA,CAAE,CAAA;AAChD,UAAA,SAAA,CAAU,aAAA,CAAc,OAAA,CAAQ,CAAC,KAAA,KAAU;AACzC,YAAA,MAAM,IAAA,GAAO,IAAI,IAAA,CAAK,MAAA,CAAO,MAAM,SAAS,CAAA,GAAI,GAAI,CAAA,CAAE,kBAAA,EAAmB;AACzE,YAAA,MAAM,eAAe,MAAA,CAAO,KAAA,CAAM,QAAQ,CAAA,GAAI,GAAA,EAAe,QAAQ,CAAC,CAAA;AACtE,YAAA,GAAA,CAAI,IAAA,CAAK,MAAMA,OAAAA,CAAM,IAAA,CAAK,OAAO,GAAG,CAAC,CAAA,CAAA,EAAI,WAAW,CAAA,IAAA,CAAM,CAAA;AAAA,UAC5D,CAAC,CAAA;AAAA,QACH;AAEA,QAAA,IAAI,SAAA,CAAU,UAAA,CAAW,MAAA,GAAS,CAAA,EAAG;AACnC,UAAA,GAAA,CAAI,IAAA,CAAK;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,wBAAiB,CAAC,CAAA,CAAE,CAAA;AAC7C,UAAA,SAAA,CAAU,UAAA,CAAW,MAAM,CAAA,EAAG,CAAC,EAAE,OAAA,CAAQ,CAAC,QAAmE,KAAA,KAAkB;AAC7H,YAAA,GAAA,CAAI,IAAA;AAAA,cACF,CAAA,GAAA,EAAM,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,OAAO,OAAO;AAAA,MAAA,EACzBA,OAAAA,CAAM,KAAK,OAAO,CAAC,IAAI,MAAA,CAAO,QAAQ,MAAMA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAA,CAAK,OAAO,MAAA,CAAO,UAAU,IAAI,GAAA,EAAe,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA;AAAA,aACrI;AAAA,UACF,CAAC,CAAA;AAAA,QACH;AAAA,MAEF,CAAA,MAAO;AAEL,QAAA,GAAA,CAAI,IAAA;AAAA,UACF,GAAGA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC,CAAA,CAAA,EAAI,UAAU,WAAW;AAAA,EACpDA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC,IAAI,SAAA,CAAU,cAAc,CAAA,EAAA,EAAA,CAAO,SAAA,CAAU,iBAAiB,SAAA,CAAU,WAAA,GAAe,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAC,CAAA;AAAA,EACpIA,QAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA,CAAA,EAAI,UAAU,YAAY;AAAA,EACtDA,QAAM,IAAA,CAAK,aAAa,CAAC,CAAA,CAAA,EAAI,UAAU,SAAS;AAAA,EAChDA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA,CAAA,EAAA,CAAK,MAAA,CAAO,SAAA,CAAU,WAAW,CAAA,GAAI,GAAA,EAAe,OAAA,CAAQ,CAAC,CAAC,CAAA;AAAA;AAAA,SACjG;AAEA,QAAA,IAAI,SAAA,CAAU,aAAA,CAAc,MAAA,GAAS,CAAA,EAAG;AACtC,UAAA,GAAA,CAAI,IAAA,CAAK;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,+BAAwB,CAAC,CAAA,CAAE,CAAA;AACpD,UAAA,SAAA,CAAU,aAAA,CAAc,MAAM,CAAA,EAAG,CAAC,EAAE,OAAA,CAAQ,CAAC,UAAgD,KAAA,KAAkB;AAC7G,YAAA,GAAA,CAAI,IAAA,CAAK,CAAA,GAAA,EAAM,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,SAAS,IAAI,CAAA,EAAA,EAAK,QAAA,CAAS,UAAU,CAAA,QAAA,CAAU,CAAA;AAAA,UAC9E,CAAC,CAAA;AAAA,QACH;AAEA,QAAA,IAAI,SAAA,CAAU,aAAA,CAAc,MAAA,GAAS,CAAA,EAAG;AACtC,UAAA,GAAA,CAAI,IAAA,CAAK;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,+BAA0B,CAAC,CAAA,CAAE,CAAA;AACtD,UAAA,SAAA,CAAU,aAAA,CAAc,MAAM,CAAA,EAAG,CAAC,EAAE,OAAA,CAAQ,CAAC,OAAsF,KAAA,KAAkB;AACnJ,YAAA,GAAA,CAAI,IAAA;AAAA,cACF,CAAA,GAAA,EAAM,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,MAAM,IAAI;AAAA,MAAA,EACrBA,QAAM,IAAA,CAAK,eAAe,CAAC,CAAA,CAAA,EAAI,MAAM,WAAW,CAAA,IAAA,EAAOA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,OAAO,KAAA,CAAM,aAAa,IAAI,GAAS,CAAA,IAAA;AAAA,aACpI;AAAA,UACF,CAAC,CAAA;AAAA,QACH;AAGA,QAAA,GAAA,CAAI,IAAA,CAAK;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,2BAAoB,CAAC,CAAA,CAAE,CAAA;AAChD,QAAA,GAAA,CAAI,IAAA;AAAA,UACF,CAAA,GAAA,EAAMA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,aAAA,CAAc,YAAA,GAAe,IAAI,GAAA,GAAM,EAAE,CAAA,EAAG,SAAA,CAAU,cAAc,YAAY,CAAA;AAAA,GAAA,EAC1HA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,IAAI,SAAA,CAAU,aAAA,CAAc,aAAA,GAAgB,CAAA,GAAI,GAAA,GAAM,EAAE,CAAA,EAAG,SAAA,CAAU,cAAc,aAAa,CAAA;AAAA,GAAA,EAC7HA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,SAAA,CAAU,aAAA,CAAc,UAAA,GAAa,CAAA,GAAI,GAAA,GAAM,EAAE,CAAA,EAAG,SAAA,CAAU,cAAc,UAAU,CAAA;AAAA,GAAA,EACpHA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,IAAI,SAAA,CAAU,aAAA,CAAc,aAAA,GAAgB,CAAA,GAAI,GAAA,GAAM,EAAE,CAAA,EAAG,SAAA,CAAU,cAAc,aAAa,CAAA,CAAA;AAAA,SACrI;AAAA,MACF;AAGA,MAAA,IAAI,SAAA,CAAU,QAAA,CAAS,MAAA,GAAS,CAAA,EAAG;AACjC,QAAA,GAAA,CAAI,IAAA,CAAK;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,iCAA0B,CAAC,CAAA,CAAE,CAAA;AACtD,QAAA,SAAA,CAAU,QAAA,CAAS,OAAA,CAAQ,CAAC,OAAA,KAAoB;AAC9C,UAAA,GAAA,CAAI,IAAA,CAAK,CAAA,aAAA,EAAS,OAAO,CAAA,CAAE,CAAA;AAAA,QAC7B,CAAC,CAAA;AAAA,MACH;AAEA,MAAAU,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,2BAAoB,CAAC;AAAA;AAAA;AAAA;;AAAA,EAIlCA,OAAAA,CAAM,IAAA,CAAK,uCAAuC,CAAC,CAAA,4BAAA;AAAA,OACxD;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,GAAA,CAAI,MAAM,CAAA,0BAAA,EAA6B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,IACnG;AAAA,EACF,CAAC,CAAA;AACL;;;AC7PA,eAAA,EAAA;AAaO,IAAM,gBAAN,MAAoB;AAAA,EACzB,OAAwB,SAAA,GAAY,aAAA;AAAA,EACpC,OAAwB,UAAA,GAAa,EAAA;AAAA,EACrC,OAAwB,WAAA,GAAc,EAAA;AAAA,EACtC,OAAwB,SAAA,GAAY,EAAA;AAAA,EACpC,OAAwB,UAAA,GAAa,EAAA;AAAA,EACrC,OAAwB,OAAA,GAAU,CAAA;AAAA,EAClC,OAAwB,WAAA,GAAc,oBAAA;AAAA;AAAA;AAAA;AAAA,EAKtC,OAAe,aAAA,GAAwB;AACrC,IAAA,OAAOL,OAAAA,CAAQ,OAAA,EAAQ,EAAG,IAAA,CAAK,WAAW,CAAA;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA,EAKA,OAAe,eAAe,GAAA,EAAqB;AACjD,IAAA,OAAOA,QAAQ,IAAA,CAAK,aAAA,EAAc,EAAG,CAAA,EAAG,GAAG,CAAA,IAAA,CAAM,CAAA;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA,EAKA,aAAqB,SAAA,CAAU,QAAA,EAAkB,IAAA,EAA+B;AAC9E,IAAA,OAAO,IAAI,OAAA,CAAQ,CAACA,QAAAA,EAAS,MAAA,KAAW;AACtC,MAAA,MAAM,UAAA,GAAa,UAAU,uBAAA,IAA2B,GAAA;AACxD,MAAA,MAAA,CAAO,QAAA,EAAU,IAAA,EAAM,IAAA,CAAK,UAAA,EAAY,EAAE,GAAG,UAAA,EAAW,EAAG,CAAC,GAAA,EAAK,UAAA,KAAe;AAC9E,QAAA,IAAI,GAAA,SAAY,GAAG,CAAA;AAAA,aACdA,SAAQ,UAAU,CAAA;AAAA,MACzB,CAAC,CAAA;AAAA,IACH,CAAC,CAAA;AAAA,EACH;AAAA;AAAA;AAAA;AAAA,EAKA,aAAqB,gBAAA,GAAkC;AACrD,IAAA,MAAM,GAAA,GAAM,KAAK,aAAA,EAAc;AAC/B,IAAA,IAAI;AACF,MAAA,MAAM,OAAO,GAAG,CAAA;AAAA,IAClB,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,MAAM,GAAA,EAAK,EAAE,WAAW,IAAA,EAAM,IAAA,EAAM,KAAO,CAAA;AAAA,IACnD;AAEA,IAAA,MAAM,KAAA,CAAM,KAAK,GAAK,CAAA;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,OAAA,CAAQ,IAAA,EAAc,QAAA,EAA0C;AAC3E,IAAA,MAAM,IAAA,GAAO,WAAA,CAAY,IAAA,CAAK,WAAW,CAAA;AACzC,IAAA,MAAM,EAAA,GAAK,WAAA,CAAY,IAAA,CAAK,SAAS,CAAA;AACrC,IAAA,MAAM,GAAA,GAAM,MAAM,IAAA,CAAK,SAAA,CAAU,UAAU,IAAI,CAAA;AAE/C,IAAA,MAAM,MAAA,GAAS,cAAA,CAAe,IAAA,CAAK,SAAA,EAAW,KAAK,EAAE,CAAA;AACrD,IAAA,MAAM,SAAA,GAAY,OAAO,MAAA,CAAO;AAAA,MAC9B,MAAA,CAAO,MAAA,CAAO,IAAA,EAAM,MAAM,CAAA;AAAA,MAC1B,OAAO,KAAA;AAAM,KACd,CAAA;AAGD,IAAA,MAAM,OAAA,GAAU,OAAO,UAAA,EAAW;AAGlC,IAAA,MAAM,WAAW,MAAA,CAAO,MAAA,CAAO,CAAC,SAAA,EAAW,OAAO,CAAC,CAAA;AAEnD,IAAA,OAAO;AAAA,MACL,EAAA,EAAI,EAAA,CAAG,QAAA,CAAS,KAAK,CAAA;AAAA,MACrB,IAAA,EAAM,IAAA,CAAK,QAAA,CAAS,KAAK,CAAA;AAAA,MACzB,SAAA,EAAW,QAAA,CAAS,QAAA,CAAS,KAAK,CAAA;AAAA,MAClC,SAAS,IAAA,CAAK;AAAA,KAChB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,OAAA,CAAQ,aAAA,EAA8B,QAAA,EAAmC;AACpF,IAAA,IAAI,aAAA,CAAc,OAAA,KAAY,IAAA,CAAK,OAAA,EAAS;AAC1C,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,gCAAA,EAAmC,aAAA,CAAc,OAAO,CAAA,CAAE,CAAA;AAAA,IAC5E;AAEA,IAAA,MAAM,IAAA,GAAO,MAAA,CAAO,IAAA,CAAK,aAAA,CAAc,MAAM,KAAK,CAAA;AAClD,IAAA,MAAM,EAAA,GAAK,MAAA,CAAO,IAAA,CAAK,aAAA,CAAc,IAAI,KAAK,CAAA;AAC9C,IAAA,MAAM,QAAA,GAAW,MAAA,CAAO,IAAA,CAAK,aAAA,CAAc,WAAW,KAAK,CAAA;AAG3D,IAAA,MAAM,YAAY,QAAA,CAAS,QAAA,CAAS,GAAG,QAAA,CAAS,MAAA,GAAS,KAAK,UAAU,CAAA;AACxE,IAAA,MAAM,UAAU,QAAA,CAAS,QAAA,CAAS,QAAA,CAAS,MAAA,GAAS,KAAK,UAAU,CAAA;AAEnE,IAAA,MAAM,GAAA,GAAM,MAAM,IAAA,CAAK,SAAA,CAAU,UAAU,IAAI,CAAA;AAE/C,IAAA,MAAM,QAAA,GAAW,gBAAA,CAAiB,IAAA,CAAK,SAAA,EAAW,KAAK,EAAE,CAAA;AACzD,IAAA,QAAA,CAAS,WAAW,OAAO,CAAA;AAE3B,IAAA,IAAI;AACF,MAAA,MAAM,SAAA,GAAY,OAAO,MAAA,CAAO;AAAA,QAC9B,QAAA,CAAS,OAAO,SAAS,CAAA;AAAA,QACzB,SAAS,KAAA;AAAM,OAChB,CAAA;AAED,MAAA,OAAO,SAAA,CAAU,SAAS,MAAM,CAAA;AAAA,IAClC,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,IAAI,MAAM,uDAAuD,CAAA;AAAA,IACzE;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,KAAA,CAAM,GAAA,EAAa,IAAA,EAAc,QAAA,EAAiC;AAC7E,IAAA,MAAM,KAAK,gBAAA,EAAiB;AAC5B,IAAA,MAAM,SAAA,GAAY,MAAM,IAAA,CAAK,OAAA,CAAQ,MAAM,QAAQ,CAAA;AACnD,IAAA,MAAMoB,KAAAA,GAAO,IAAA,CAAK,cAAA,CAAe,GAAG,CAAA;AAGpC,IAAA,MAAM,SAAA,CAAUA,OAAM,IAAA,CAAK,SAAA,CAAU,WAAW,IAAA,EAAM,CAAC,GAAG,MAAM,CAAA;AAGhE,IAAA,MAAM,KAAA,CAAMA,OAAM,GAAK,CAAA;AAAA,EACzB;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,QAAA,CAAS,GAAA,EAAa,QAAA,EAAmC;AACpE,IAAA,MAAMA,KAAAA,GAAO,IAAA,CAAK,cAAA,CAAe,GAAG,CAAA;AAEpC,IAAA,IAAI;AACF,MAAA,MAAM,OAAA,GAAU,MAAM,QAAA,CAASA,KAAAA,EAAM,MAAM,CAAA;AAC3C,MAAA,MAAM,SAAA,GAAY,IAAA,CAAK,KAAA,CAAM,OAAO,CAAA;AACpC,MAAA,OAAO,MAAM,IAAA,CAAK,OAAA,CAAQ,SAAA,EAAW,QAAQ,CAAA;AAAA,IAC/C,SAAS,KAAA,EAAO;AACd,MAAA,IAAI,iBAAiB,KAAA,IAAS,MAAA,IAAU,KAAA,IAAS,KAAA,CAAM,SAAS,QAAA,EAAU;AACxE,QAAA,MAAM,IAAI,KAAA,CAAM,CAAA,uBAAA,EAA0B,GAAG,CAAA,CAAE,CAAA;AAAA,MACjD;AACA,MAAA,MAAM,KAAA;AAAA,IACR;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,OAAO,GAAA,EAA+B;AACjD,IAAA,IAAI;AACF,MAAA,MAAM,MAAA,CAAO,IAAA,CAAK,cAAA,CAAe,GAAG,CAAC,CAAA;AACrC,MAAA,OAAO,IAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,OAAO,KAAA;AAAA,IACT;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,aAAa,YAAA,CAAa,GAAA,EAAa,cAAA,EAA4B,QAAA,EAAiC;AAClG,IAAA,MAAM,YAAY,IAAA,CAAK,SAAA,CAAU,KAAA,CAAM,IAAA,CAAK,cAAc,CAAC,CAAA;AAC3D,IAAA,MAAM,IAAA,CAAK,KAAA,CAAM,GAAA,EAAK,SAAA,EAAW,QAAQ,CAAA;AAAA,EAC3C;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,eAAA,CAAgB,GAAA,EAAa,QAAA,EAA0C;AAClF,IAAA,MAAM,aAAA,GAAgB,MAAM,IAAA,CAAK,QAAA,CAAS,KAAK,QAAQ,CAAA;AACvD,IAAA,MAAM,YAAY,IAAI,UAAA,CAAW,IAAA,CAAK,KAAA,CAAM,aAAa,CAAa,CAAA;AACtE,IAAA,OAAO,MAAM,6BAA6B,SAAS,CAAA;AAAA,EACrD;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,OAAO,GAAA,EAA4B;AAC9C,IAAA,MAAMA,KAAAA,GAAO,IAAA,CAAK,cAAA,CAAe,GAAG,CAAA;AACpC,IAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,OAAO,aAAkB,CAAA;AAClD,IAAA,IAAI;AACF,MAAA,MAAM,OAAOA,KAAI,CAAA;AAAA,IACnB,SAAS,KAAA,EAAO;AACd,MAAA,IAAI,iBAAiB,KAAA,IAAS,MAAA,IAAU,KAAA,IAAS,KAAA,CAAM,SAAS,QAAA,EAAU;AACxE,QAAA,MAAM,KAAA;AAAA,MACR;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,QAAA,GAA8B;AACzC,IAAA,MAAM,EAAE,OAAA,EAAQ,GAAI,MAAM,OAAO,aAAkB,CAAA;AACnD,IAAA,IAAI;AACF,MAAA,MAAM,GAAA,GAAM,KAAK,aAAA,EAAc;AAC/B,MAAA,MAAM,KAAA,GAAQ,MAAM,OAAA,CAAQ,GAAG,CAAA;AAC/B,MAAA,OAAO,KAAA,CACJ,MAAA,CAAO,CAAA,CAAA,KAAK,CAAA,CAAE,SAAS,MAAM,CAAC,CAAA,CAC9B,GAAA,CAAI,CAAA,CAAA,KAAK,CAAA,CAAE,OAAA,CAAQ,MAAA,EAAQ,EAAE,CAAC,CAAA;AAAA,IACnC,SAAS,KAAA,EAAO;AACd,MAAA,OAAO,EAAC;AAAA,IACV;AAAA,EACF;AACF,CAAA;AAKA,eAAsB,cAAA,CAAe,UAAU,kBAAA,EAAqC;AAClF,EAAA,MAAM,EAAE,eAAA,EAAgB,GAAI,MAAM,OAAO,UAAe,CAAA;AACxD,EAAA,MAAM,KAAK,eAAA,CAAgB;AAAA,IACzB,OAAO,OAAA,CAAQ,KAAA;AAAA,IACf,QAAQ,OAAA,CAAQ;AAAA,GACjB,CAAA;AAED,EAAA,OAAO,IAAI,OAAA,CAAQ,CAACpB,QAAAA,KAAY;AAE9B,IAAA,IAAI,OAAA,CAAQ,MAAM,KAAA,EAAO;AACvB,MAAA,OAAA,CAAQ,KAAA,CAAM,WAAW,IAAI,CAAA;AAAA,IAC/B;AAEA,IAAA,OAAA,CAAQ,MAAA,CAAO,MAAM,OAAO,CAAA;AAE5B,IAAA,IAAI,QAAA,GAAW,EAAA;AACf,IAAA,OAAA,CAAQ,KAAA,CAAM,EAAA,CAAG,MAAA,EAAQ,CAAC,IAAA,KAAS;AACjC,MAAA,MAAM,GAAA,GAAM,KAAK,QAAA,EAAS;AAE1B,MAAA,QAAQ,GAAA;AAAK,QACX,KAAK,IAAA;AAAA,QACL,KAAK,IAAA;AAAA,QACL,KAAK,GAAA;AACH,UAAA,OAAA,CAAQ,MAAM,KAAA,EAAM;AACpB,UAAA,OAAA,CAAQ,KAAA,CAAM,mBAAmB,MAAM,CAAA;AACvC,UAAA,IAAI,OAAA,CAAQ,MAAM,KAAA,EAAO;AACvB,YAAA,OAAA,CAAQ,KAAA,CAAM,WAAW,KAAK,CAAA;AAAA,UAChC;AACA,UAAA,OAAA,CAAQ,MAAA,CAAO,MAAM,IAAI,CAAA;AACzB,UAAA,EAAA,CAAG,KAAA,EAAM;AACT,UAAAA,SAAQ,QAAQ,CAAA;AAChB,UAAA;AAAA,QACF,KAAK,GAAA;AACH,UAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AACd,UAAA;AAAA,QACF,KAAK,MAAA;AACH,UAAA,IAAI,QAAA,CAAS,SAAS,CAAA,EAAG;AACvB,YAAA,QAAA,GAAW,QAAA,CAAS,KAAA,CAAM,CAAA,EAAG,EAAE,CAAA;AAC/B,YAAA,OAAA,CAAQ,MAAA,CAAO,MAAM,OAAO,CAAA;AAAA,UAC9B;AACA,UAAA;AAAA,QACF;AACE,UAAA,QAAA,IAAY,GAAA;AACZ,UAAA,OAAA,CAAQ,MAAA,CAAO,MAAM,GAAG,CAAA;AACxB,UAAA;AAAA;AACJ,IACF,CAAC,CAAA;AAAA,EACH,CAAC,CAAA;AACH;AAKO,SAAS,YAAY,IAAA,EAAiC;AAC3D,EAAA,IAAI,OAAO,SAAS,QAAA,EAAU;AAG5B,IAAA,IAAA,GAAO,EAAA;AAAA,EACT,CAAA,MAAA,IAAW,gBAAgB,UAAA,EAAY;AAErC,IAAA,IAAA,CAAK,KAAK,CAAC,CAAA;AAAA,EACb;AACF;AC9OA,IAAM,oBAAN,MAAwB;AAAA,EACtB,OAAe,KAAA,mBAAQ,IAAI,GAAA,EAA2B;AAAA,EAEtD,aAAa,SAAA,CAAa,QAAA,EAAkB,IAAA,EAAwB;AAClE,IAAA,MAAM,OAAA,GAAU,QAAA;AAGhB,IAAA,IAAI,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,OAAO,CAAA,EAAG;AAC3B,MAAA,MAAM,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,OAAO,CAAA;AAAA,IAC9B;AAGA,IAAA,MAAM,SAAA,GAAY,IAAA,CAAK,kBAAA,CAAmB,QAAA,EAAU,IAAI,CAAA;AACxD,IAAA,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,OAAA,EAAS,SAAS,CAAA;AAEjC,IAAA,IAAI;AACF,MAAA,MAAM,SAAA;AAAA,IACR,CAAA,SAAE;AACA,MAAA,IAAA,CAAK,KAAA,CAAM,OAAO,OAAO,CAAA;AAAA,IAC3B;AAAA,EACF;AAAA,EAEA,aAAqB,kBAAA,CAAsB,QAAA,EAAkB,IAAA,EAAwB;AACnF,IAAA,MAAM,QAAA,GAAW,GAAG,QAAQ,CAAA,IAAA,CAAA;AAC5B,IAAA,MAAM,UAAA,GAAa,GAAG,QAAQ,CAAA,OAAA,CAAA;AAE9B,IAAA,IAAI;AAEF,MAAA,IAAI;AACF,QAAA,MAAMqB,QAAA,CAAG,OAAO,QAAQ,CAAA;AACxB,QAAA,MAAMA,QAAA,CAAG,QAAA,CAAS,QAAA,EAAU,UAAU,CAAA;AAAA,MACxC,CAAA,CAAA,MAAQ;AAAA,MAER;AAGA,MAAA,MAAMA,QAAA,CAAG,UAAU,QAAA,EAAU,IAAA,CAAK,UAAU,IAAA,EAAM,IAAA,EAAM,CAAC,CAAC,CAAA;AAG1D,MAAA,MAAMA,QAAA,CAAG,MAAA,CAAO,QAAA,EAAU,QAAQ,CAAA;AAGlC,MAAA,IAAI;AACF,QAAA,MAAMA,QAAA,CAAG,OAAO,UAAU,CAAA;AAAA,MAC5B,CAAA,CAAA,MAAQ;AAAA,MAER;AAAA,IAEF,SAAS,KAAA,EAAO;AAEd,MAAA,IAAI;AACF,QAAA,MAAMA,QAAA,CAAG,OAAO,QAAQ,CAAA;AAAA,MAC1B,CAAA,CAAA,MAAQ;AAAA,MAER;AAGA,MAAA,IAAI;AACF,QAAA,MAAMA,QAAA,CAAG,OAAO,UAAU,CAAA;AAC1B,QAAA,MAAMA,QAAA,CAAG,QAAA,CAAS,UAAA,EAAY,QAAQ,CAAA;AACtC,QAAA,MAAMA,QAAA,CAAG,OAAO,UAAU,CAAA;AAAA,MAC5B,CAAA,CAAA,MAAQ;AAAA,MAER;AAEA,MAAA,MAAM,KAAA;AAAA,IACR;AAAA,EACF;AAAA,EAEA,aAAa,SAAY,QAAA,EAAqC;AAC5D,IAAA,MAAM,OAAA,GAAU,QAAA;AAGhB,IAAA,IAAI,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,OAAO,CAAA,EAAG;AAC3B,MAAA,MAAM,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,OAAO,CAAA;AAAA,IAC9B;AAEA,IAAA,IAAI;AACF,MAAA,MAAM,IAAA,GAAO,MAAMA,QAAA,CAAG,QAAA,CAAS,UAAU,OAAO,CAAA;AAChD,MAAA,OAAO,IAAA,CAAK,MAAM,IAAI,CAAA;AAAA,IACxB,SAAS,KAAA,EAAO;AACd,MAAA,IAAI,iBAAiB,KAAA,IAAS,MAAA,IAAU,KAAA,IAAS,KAAA,CAAM,SAAS,QAAA,EAAU;AACxE,QAAA,OAAO,IAAA;AAAA,MACT;AACA,MAAA,MAAM,KAAA;AAAA,IACR;AAAA,EACF;AACF,CAAA;AAGA,IAAM,qBAAA,GAAwB,IAAA,CAAK3B,OAAAA,EAAQ,EAAG,eAAe,QAAQ,CAAA;AAoB9D,IAAM,qBAAN,MAAyB;AAAA;AAAA;AAAA;AAAA,EAK9B,aAAa,mBAAA,CACX,SAAA,EACA,WAAA,EACA,WAAA,EAKC;AAED,IAAqB,MAAM4B,qBAAAA;AAG3B,IAAA,MAAM,UAAU,SAAA,CAAU,WAAA,EAAY,CAAE,OAAA,CAAQ,QAAQ,GAAG,CAAA;AAG3D,IAAA,MAAM,OAAO,UAAA,EAAW;AAGxB,IAAA,MAAM,YAAA,GAAe,IAAI,UAAA,CAAW,EAAE,CAAA;AACtC,IAAA,MAAA,CAAO,gBAAgB,YAAY,CAAA;AACnC,IAAA,MAAM,gBAAA,GAAmB,MAAMxB,4BAAAA,CAA6B,YAAY,CAAA;AAGxE,IAAA,MAAM,WAAA,GAAgC;AAAA,MACpC,OAAA;AAAA,MACA,IAAA;AAAA,MACA,IAAA,EAAM,SAAA;AAAA,MACN,WAAA;AAAA,MACA,WAAA,EAAa;AAAA,QACX,SAAA,EAAW,gBAAA,CAAiB,OAAA,CAAQ,QAAA;AAAS,OAC/C;AAAA,MACA,WAAA,EAAa,YAAY,QAAA,EAAS;AAAA,MAClC,SAAA,EAAW,KAAK,GAAA,EAAI;AAAA,MACpB,SAAA,EAAW,KAAK,GAAA;AAAI,KACtB;AAEA,IAAA,OAAO;AAAA,MACL,WAAA,EAAa,gBAAA;AAAA,MACb,WAAA;AAAA,MACA,SAAA,EAAW;AAAA;AAAA,KACb;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,eAAA,CAAgB,WAAA,EAA+B,SAAA,EAAwB,QAAA,EAAkC;AAEpH,IAAA,MAAMuB,SAAG,KAAA,CAAM,qBAAA,EAAuB,EAAE,SAAA,EAAW,MAAM,CAAA;AAGzD,IAAA,MAAM,QAAA,GAAW,IAAA,CAAK,qBAAA,EAAuB,WAAA,CAAY,OAAO,CAAA;AAChE,IAAA,MAAMA,SAAG,KAAA,CAAM,QAAA,EAAU,EAAE,SAAA,EAAW,MAAM,CAAA;AAG5C,IAAA,MAAM,eAAA,GAAkB,IAAA,CAAK,QAAA,EAAU,kBAAkB,CAAA;AACzD,IAAA,MAAMA,QAAA,CAAG,UAAU,eAAA,EAAiB,IAAA,CAAK,UAAU,WAAA,EAAa,IAAA,EAAM,CAAC,CAAC,CAAA;AAGxE,IAAA,MAAME,KAAAA,CAAM,iBAAiB,GAAK,CAAA;AAGlC,IAAA,IAAI,aAAa,QAAA,EAAU;AACzB,MAAA,MAAM,YAAA,GAAe,CAAA,MAAA,EAAS,WAAA,CAAY,OAAO,CAAA,CAAA;AAEjD,MAAA,MAAM,aAAA,GAAgB,MAAMzB,4BAAAA,CAA6B,SAAS,CAAA;AAElE,MAAA,MAAM,aAAA,GAAgB;AAAA,QACpB,SAAA,EAAW,EAAE,QAAA,EAAU,MAAM,cAAc,OAAA,EAAQ;AAAA,QACnD;AAAA,OACF;AACA,MAAA,MAAM,aAAA,CAAc,YAAA,CAAa,YAAA,EAAc,aAAA,EAAsB,QAAQ,CAAA;AAE7E,MAAA,WAAA,CAAY,SAAS,CAAA;AAAA,IACvB;AAGA,IAAA,MAAM,eAAA,GAAkB,IAAA,CAAK,qBAAA,EAAuB,mBAAmB,CAAA;AAEvE,IAAA,IAAI;AACF,MAAA,MAAM,cAAsC,MAAM,iBAAA,CAAkB,QAAA,CAAS,eAAe,KAAK,EAAC;AAGlG,MAAA,WAAA,CAAY,WAAA,CAAY,IAAI,CAAA,GAAI,WAAA,CAAY,OAAA;AAG5C,MAAA,MAAM,iBAAA,CAAkB,SAAA,CAAU,eAAA,EAAiB,WAAW,CAAA;AAAA,IAEhE,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,OAAA,GAAU,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA;AACzD,MAAA,OAAA,CAAQ,KAAA,CAAM,gCAAgC,OAAO,CAAA;AACrD,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,+BAAA,EAAkC,OAAO,CAAA,CAAE,CAAA;AAAA,IAC7D;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,gBAAgB,OAAA,EAAmD;AAC9E,IAAA,IAAI;AACF,MAAA,MAAM,eAAA,GAAkB,IAAA,CAAK,qBAAA,EAAuB,OAAA,EAAS,kBAAkB,CAAA;AAC/E,MAAA,MAAM,eAAA,GAAkB,MAAMuB,QAAA,CAAG,QAAA,CAAS,iBAAiB,OAAO,CAAA;AAClE,MAAA,OAAO,IAAA,CAAK,MAAM,eAAe,CAAA;AAAA,IACnC,SAAS,KAAA,EAAO;AAEd,MAAA,IAAI,iBAAiB,KAAA,IAAS,MAAA,IAAU,KAAA,IAAS,KAAA,CAAM,SAAS,QAAA,EAAU;AACxE,QAAA,OAAO,IAAA;AAAA,MACT;AACA,MAAA,MAAM,OAAA,GAAU,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA;AACzD,MAAA,OAAA,CAAQ,KAAA,CAAM,CAAA,oCAAA,EAAuC,OAAO,CAAA,CAAA,CAAA,EAAK,OAAO,CAAA;AACxE,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,qCAAA,EAAwC,OAAO,CAAA,EAAA,EAAK,OAAO,CAAA,CAAE,CAAA;AAAA,IAC/E;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,sBAAsB,IAAA,EAAgD;AACjF,IAAA,IAAI;AAEF,MAAA,MAAM,eAAA,GAAkB,IAAA,CAAK,qBAAA,EAAuB,mBAAmB,CAAA;AACvE,MAAA,MAAM,WAAA,GAAc,MAAMA,QAAA,CAAG,QAAA,CAAS,iBAAiB,OAAO,CAAA;AAC9D,MAAA,MAAM,WAAA,GAAc,IAAA,CAAK,KAAA,CAAM,WAAW,CAAA;AAE1C,MAAA,MAAM,OAAA,GAAU,YAAY,IAAI,CAAA;AAChC,MAAA,IAAI,CAAC,SAAS,OAAO,IAAA;AAErB,MAAA,OAAO,MAAM,IAAA,CAAK,eAAA,CAAgB,OAAO,CAAA;AAAA,IAC3C,SAAS,KAAA,EAAO;AAEd,MAAA,IAAI,iBAAiB,KAAA,IAAS,MAAA,IAAU,KAAA,IAAS,KAAA,CAAM,SAAS,QAAA,EAAU;AACxE,QAAA,OAAO,IAAA;AAAA,MACT;AACA,MAAA,MAAM,OAAA,GAAU,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA;AACzD,MAAA,OAAA,CAAQ,KAAA,CAAM,CAAA,kCAAA,EAAqC,IAAI,CAAA,CAAA,CAAA,EAAK,OAAO,CAAA;AACnE,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,oCAAA,EAAuC,OAAO,CAAA,CAAE,CAAA;AAAA,IAClE;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,iBAAiB,YAAA,EAAoD;AAChF,IAAA,IAAI;AACF,MAAA,MAAM,SAAA,GAAY,MAAMA,QAAA,CAAG,OAAA,CAAQ,qBAAqB,CAAA;AACxD,MAAA,MAAM,SAA6B,EAAC;AAEpC,MAAA,KAAA,MAAW,WAAW,SAAA,EAAW;AAC/B,QAAA,IAAI,YAAY,mBAAA,EAAqB;AAErC,QAAA,MAAM,WAAA,GAAc,MAAM,IAAA,CAAK,eAAA,CAAgB,OAAO,CAAA;AACtD,QAAA,IAAI,WAAA,IAAe,WAAA,CAAY,WAAA,KAAgB,YAAA,CAAa,UAAS,EAAG;AACtE,UAAA,MAAA,CAAO,KAAK,WAAW,CAAA;AAAA,QACzB;AAAA,MACF;AAEA,MAAA,OAAO,MAAA,CAAO,KAAK,CAAC,CAAA,EAAG,MAAM,CAAA,CAAE,SAAA,GAAY,EAAE,SAAS,CAAA;AAAA,IACxD,SAAS,KAAA,EAAO;AAEd,MAAA,IAAI,iBAAiB,KAAA,IAAS,MAAA,IAAU,KAAA,IAAS,KAAA,CAAM,SAAS,QAAA,EAAU;AACxE,QAAA,OAAO,EAAC;AAAA,MACV;AACA,MAAA,MAAM,OAAA,GAAU,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA;AACzD,MAAA,OAAA,CAAQ,KAAA,CAAM,CAAA,8BAAA,EAAiC,YAAY,CAAA,CAAA,CAAA,EAAK,OAAO,CAAA;AACvE,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,+BAAA,EAAkC,OAAO,CAAA,CAAE,CAAA;AAAA,IAC7D;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,iBAAA,CAAkB,WAAA,EAA+B,QAAA,EAA2C;AAEvG,IAAA,QAAA,KAAa,MAAM,cAAA,CAAe,CAAA,yBAAA,EAA4B,WAAA,CAAY,IAAI,CAAA,EAAA,CAAI,CAAA;AAGlF,IAAA,MAAM,YAAA,GAAe,CAAA,MAAA,EAAS,WAAA,CAAY,OAAO,CAAA,CAAA;AACjD,IAAA,MAAM,OAAA,GAAU,MAAM,aAAA,CAAc,eAAA,CAAgB,cAAc,QAAQ,CAAA;AAG1E,IAAA,WAAA,CAAY,QAAQ,CAAA;AAGpB,IAAA,OAAO,OAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,iBAAA,CAAkB,OAAA,EAAiB,OAAA,EAAmD;AACjG,IAAA,MAAM,mBAAA,GAAsB,MAAM,IAAA,CAAK,eAAA,CAAgB,OAAO,CAAA;AAC9D,IAAA,IAAI,CAAC,mBAAA,EAAqB;AACxB,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,oCAAA,EAAuC,OAAO,CAAA,CAAE,CAAA;AAAA,IAClE;AAEA,IAAA,MAAM,kBAAA,GAAuC;AAAA,MAC3C,GAAG,mBAAA;AAAA,MACH,GAAG,OAAA;AAAA,MACH,SAAA,EAAW,KAAK,GAAA;AAAI,KACtB;AAEA,IAAA,MAAM,IAAA,CAAK,gBAAgB,kBAAkB,CAAA;AAAA,EAC/C;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,kBAAkB,OAAA,EAAgC;AAC7D,IAAA,MAAM,WAAA,GAAc,MAAM,IAAA,CAAK,eAAA,CAAgB,OAAO,CAAA;AACtD,IAAA,IAAI,CAAC,WAAA,EAAa;AAGlB,IAAA,MAAM,eAAA,GAAkB,IAAA,CAAK,qBAAA,EAAuB,mBAAmB,CAAA;AACvE,IAAA,IAAI;AACF,MAAA,MAAM,cAAsC,MAAM,iBAAA,CAAkB,QAAA,CAAS,eAAe,KAAK,EAAC;AAGlG,MAAA,OAAO,WAAA,CAAY,YAAY,IAAI,CAAA;AAGnC,MAAA,MAAM,iBAAA,CAAkB,SAAA,CAAU,eAAA,EAAiB,WAAW,CAAA;AAAA,IAEhE,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,OAAA,GAAU,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA;AACzD,MAAA,OAAA,CAAQ,KAAA,CAAM,gDAAgD,OAAO,CAAA;AAAA,IAEvE;AAGA,IAAA,MAAM,QAAA,GAAW,IAAA,CAAK,qBAAA,EAAuB,OAAO,CAAA;AACpD,IAAA,MAAMA,QAAA,CAAG,GAAG,QAAA,EAAU,EAAE,WAAW,IAAA,EAAM,KAAA,EAAO,MAAM,CAAA;AAAA,EACxD;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,iBAAiB,OAAA,EAAmC;AAC/D,IAAA,OAAQ,MAAM,IAAA,CAAK,eAAA,CAAgB,OAAO,CAAA,KAAO,IAAA;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,YAAA,GAAkC;AAC7C,IAAA,IAAI;AACF,MAAA,MAAM,SAAA,GAAY,MAAMA,QAAA,CAAG,OAAA,CAAQ,qBAAqB,CAAA;AACxD,MAAA,OAAO,SAAA,CAAU,MAAA,CAAO,CAAA,GAAA,KAAO,GAAA,KAAQ,mBAAmB,CAAA;AAAA,IAC5D,SAAS,KAAA,EAAO;AAEd,MAAA,IAAI,iBAAiB,KAAA,IAAS,MAAA,IAAU,KAAA,IAAS,KAAA,CAAM,SAAS,QAAA,EAAU;AACxE,QAAA,OAAO,EAAC;AAAA,MACV;AACA,MAAA,MAAM,OAAA,GAAU,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA;AACzD,MAAA,OAAA,CAAQ,KAAA,CAAM,4BAA4B,OAAO,CAAA;AACjD,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,0BAAA,EAA6B,OAAO,CAAA,CAAE,CAAA;AAAA,IACxD;AAAA,EACF;AACF,CAAA;AA6PO,IAAM,qBAAN,MAAyB;AAAA;AAAA;AAAA;AAAA,EAK9B,aAAa,WAAA,CAAY,OAAA,EAAiB,UAAA,EAAmC;AAC3E,IAAA,MAAM,WAAA,GAAc,MAAM,kBAAA,CAAmB,eAAA,CAAgB,OAAO,CAAA;AACpE,IAAA,IAAI,CAAC,WAAA,EAAa;AAChB,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,oCAAA,EAAuC,OAAO,CAAA,CAAE,CAAA;AAAA,IAClE;AAGA,IAAA,MAAMA,QAAA,CAAG,MAAMG,OAAAA,CAAQ,UAAU,GAAG,EAAE,SAAA,EAAW,MAAM,CAAA;AAGvD,IAAA,MAAM,UAAA,GAAa;AAAA,MACjB,OAAA,EAAS,OAAA;AAAA,MACT,UAAA,EAAY,KAAK,GAAA,EAAI;AAAA,MACrB;AAAA,KACF;AAEA,IAAA,MAAMH,QAAA,CAAG,UAAU,UAAA,EAAY,IAAA,CAAK,UAAU,UAAA,EAAY,IAAA,EAAM,CAAC,CAAC,CAAA;AAAA,EACpE;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,aAAa,UAAA,EAAqC;AAC7D,IAAA,MAAM,UAAA,GAAa,MAAMA,QAAA,CAAG,QAAA,CAAS,YAAY,OAAO,CAAA;AACxD,IAAA,MAAM,MAAA,GAAS,IAAA,CAAK,KAAA,CAAM,UAAU,CAAA;AAEpC,IAAA,IAAI,CAAC,OAAO,WAAA,EAAa;AACvB,MAAA,MAAM,IAAI,MAAM,4BAA4B,CAAA;AAAA,IAC9C;AAEA,IAAA,MAAM,cAAgC,MAAA,CAAO,WAAA;AAG7C,IAAA,MAAM,mBAAA,GAAsB,MAAM,kBAAA,CAAmB,eAAA,CAAgB,YAAY,OAAO,CAAA;AACxF,IAAA,IAAI,mBAAA,EAAqB;AACvB,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,MAAA,EAAS,WAAA,CAAY,OAAO,CAAA,eAAA,CAAiB,CAAA;AAAA,IAC/D;AAGA,IAAA,MAAM,kBAAA,CAAmB,gBAAgB,WAAW,CAAA;AAEpD,IAAA,OAAO,WAAA,CAAY,OAAA;AAAA,EACrB;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,eAAA,CAAgB,YAAA,EAAuB,SAAA,EAAkC;AACpF,IAAA,MAAM,MAAA,GAAS,MAAM,kBAAA,CAAmB,gBAAA,CAAiB,YAAY,CAAA;AAGrE,IAAA,MAAMA,SAAG,KAAA,CAAM,SAAA,EAAW,EAAE,SAAA,EAAW,MAAM,CAAA;AAE7C,IAAA,KAAA,MAAW,SAAS,MAAA,EAAQ;AAC1B,MAAA,MAAM,aAAa,IAAA,CAAK,SAAA,EAAW,CAAA,EAAG,KAAA,CAAM,OAAO,CAAA,KAAA,CAAO,CAAA;AAC1D,MAAA,MAAM,IAAA,CAAK,WAAA,CAAY,KAAA,CAAM,OAAA,EAAS,UAAU,CAAA;AAAA,IAClD;AAAA,EACF;AACF,CAAA;;;AChtBO,SAAS,2BAA2B,aAAA,EAA8B;AACvE,EAAA,aAAA,CACG,QAAQ,aAAa,CAAA,CACrB,YAAY,0BAA0B,CAAA,CACtC,OAAO,YAAY;AAClB,IAAAR,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,qCAA8B,CAAC,CAAA;AAEhD,IAAA,IAAI;AAEF,MAAA,MAAM,aAAA,GAAgB,SAAA,CAAU,OAAA,CAAwB,aAAA,CAAc,cAAc,CAAA;AACpF,MAAA,MAAM,MAAA,GAAS,cAAc,wBAAA,EAAyB;AAEtD,MAAA,IAAI,CAAC,MAAA,EAAQ;AACX,QAAAO,MAAAA,CAAOP,OAAAA,CAAM,GAAA,CAAI,uDAAuD,CAAC,CAAA;AACzE,QAAA;AAAA,MACF;AAEA,MAAA,MAAM,MAAA,GAAS,MAAMY,MAAAA,CAAO;AAAA,QAC1B,OAAA,EAAS,4BAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,MAAA,EAAQ,KAAA,EAAO,sCAAA,EAAgC;AAAA,UACxD,EAAE,KAAA,EAAO,MAAA,EAAQ,KAAA,EAAO,qCAAA,EAA0B;AAAA,UAClD,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,oCAAA,EAA8B;AAAA,UACxD,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,qCAAA,EAA+B;AAAA,UAC1D,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,2CAAA;AAAgC;AAC5D,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,MAAM,CAAA,EAAG;AACpB,QAAAC,OAAO,qBAAqB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,QAAQ,MAAA;AAAQ,QACd,KAAK,MAAA;AACH,UAAA,MAAM,eAAA,CAAgB,OAAO,OAAO,CAAA;AACpC,UAAA;AAAA,QACF,KAAK,MAAA;AACH,UAAA,MAAM,eAAA,CAAgB,OAAO,OAAO,CAAA;AACpC,UAAA;AAAA,QACF,KAAK,QAAA;AACH,UAAA,MAAM,iBAAA,CAAkB,OAAO,OAAO,CAAA;AACtC,UAAA;AAAA,QACF,KAAK,SAAA;AACH,UAAA,MAAM,kBAAA,EAAmB;AACzB,UAAA;AAAA,QACF,KAAK,QAAA;AACH,UAAA,MAAM,iBAAA,CAAkB,OAAO,OAAO,CAAA;AACtC,UAAA;AAAA;AAGJ,MAAAG,MAAM,iCAAiC,CAAA;AAAA,IACzC,SAAS,KAAA,EAAO;AACd,MAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,SAAA,IAAa,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,IAC1F;AAAA,EACF,CAAC,CAAA;AACL;AAGA,eAAe,gBAAgB,YAAA,EAAuB;AACpD,EAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,EAAA,CAAA,CAAE,MAAM,8BAA8B,CAAA;AAEtC,EAAA,MAAM,WAAA,GAAc,MAAM,kBAAA,CAAmB,gBAAA,CAAiB,YAAY,CAAA;AAE1E,EAAA,CAAA,CAAE,KAAK,2BAAsB,CAAA;AAE7B,EAAA,IAAI,WAAA,CAAY,WAAW,CAAA,EAAG;AAC5B,IAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOT,OAAAA,CAAM,MAAA,CAAO,4BAA4B,CAAC,CAAA;AAC7D,IAAA;AAAA,EACF;AAEA,EAAA,OAAA,CAAQ,GAAA,CAAI,OAAOA,OAAAA,CAAM,IAAA,CAAK,qCAA8B,WAAA,CAAY,MAAM,GAAG,CAAC,CAAA;AAClF,EAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAE1B,EAAA,WAAA,CAAY,OAAA,CAAQ,CAAC,IAAA,EAAM,KAAA,KAAU;AACnC,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAG,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,IAAA,CAAK,IAAI,CAAA,CAAE,CAAC,CAAA;AACpD,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,IAAA,CAAK,OAAO,EAAE,CAAC,CAAA;AACtD,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,YAAY,IAAA,CAAK,IAAI,EAAE,CAAC,CAAA;AAC/C,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,iBAAA,EAAoB,KAAK,WAAA,CAAY,SAAS,EAAE,CAAC,CAAA;AACxE,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,YAAA,EAAe,IAAI,IAAA,CAAK,IAAA,CAAK,SAAS,CAAA,CAAE,cAAA,EAAgB,CAAA,CAAE,CAAC,CAAA;AAClF,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,SAAA,EAAY,KAAK,QAAA,GAAW,YAAA,GAAU,WAAM,CAAA,CAAE,CAAC,CAAA;AACtE,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,EAChB,CAAC,CAAA;AACH;AAEA,eAAe,gBAAgB,YAAA,EAAuB;AACpD,EAAA,MAAM,WAAA,GAAc,MAAM,kBAAA,CAAmB,gBAAA,CAAiB,YAAY,CAAA;AAE1E,EAAA,IAAI,WAAA,CAAY,WAAW,CAAA,EAAG;AAC5B,IAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,MAAA,CAAO,4BAA4B,CAAC,CAAA;AAC7D,IAAA;AAAA,EACF;AAEA,EAAA,MAAM,eAAA,GAAkB,MAAMY,MAAAA,CAAO;AAAA,IACnC,OAAA,EAAS,+BAAA;AAAA,IACT,OAAA,EAAS,WAAA,CAAY,GAAA,CAAI,CAAA,IAAA,MAAS;AAAA,MAChC,OAAO,IAAA,CAAK,OAAA;AAAA,MACZ,OAAO,CAAA,EAAG,IAAA,CAAK,IAAI,CAAA,EAAA,EAAK,KAAK,IAAI,CAAA,CAAA;AAAA,KACnC,CAAE;AAAA,GACH,CAAA;AAED,EAAA,IAAIN,QAAAA,CAAS,eAAe,CAAA,EAAG;AAC7B,IAAA;AAAA,EACF;AAEA,EAAA,MAAM,sBAAsB,WAAA,CAAY,IAAA,CAAK,CAAA,IAAA,KAAQ,IAAA,CAAK,YAAY,eAAe,CAAA;AAErF,EAAA,IAAI,CAAC,mBAAA,EAAqB;AACxB,IAAA,OAAA,CAAQ,GAAA,CAAIN,OAAAA,CAAM,GAAA,CAAI,iBAAiB,CAAC,CAAA;AACxC,IAAA;AAAA,EACF;AAEA,EAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,IAAA,CAAK,8BAAuB,CAAC,CAAA;AACtD,EAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAC1B,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,OAAO,IAAI,CAAA,CAAA,EAAI,mBAAA,CAAoB,IAAI,CAAA,CAAE,CAAA;AAChE,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA,EAAI,mBAAA,CAAoB,OAAO,CAAA,CAAE,CAAA;AACvE,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,OAAO,IAAI,CAAA,CAAA,EAAI,mBAAA,CAAoB,IAAI,CAAA,CAAE,CAAA;AAChE,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA,EAAI,mBAAA,CAAoB,WAAW,CAAA,CAAE,CAAA;AAC9E,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,eAAe,IAAI,CAAA,CAAA,EAAI,mBAAA,CAAoB,WAAA,CAAY,SAAS,CAAA,CAAE,CAAA;AACzF,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,QAAQ,IAAI,CAAA,CAAA,EAAI,mBAAA,CAAoB,WAAW,CAAA,CAAE,CAAA;AACxE,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAA,GAAI,CAAA,CAAA,EAAI,IAAI,IAAA,CAAK,mBAAA,CAAoB,SAAS,CAAA,CAAE,cAAA,EAAgB,CAAA,CAAE,CAAA;AACnG,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAA,GAAI,CAAA,CAAA,EAAI,IAAI,IAAA,CAAK,mBAAA,CAAoB,SAAS,CAAA,CAAE,cAAA,EAAgB,CAAA,CAAE,CAAA;AAEnG,EAAA,IAAI,oBAAoB,QAAA,EAAU;AAChC,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,YAAY,IAAI,CAAA,CAAA,EAAI,mBAAA,CAAoB,QAAQ,CAAA,CAAE,CAAA;AACzE,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA,EAAI,mBAAA,CAAoB,UAAU,CAAA,CAAE,CAAA;AAAA,EAC/E;AACF;AAEA,eAAe,kBAAkB,YAAA,EAAuB;AACtD,EAAA,MAAM,WAAA,GAAc,MAAM,kBAAA,CAAmB,gBAAA,CAAiB,YAAY,CAAA;AAE1E,EAAA,IAAI,WAAA,CAAY,WAAW,CAAA,EAAG;AAC5B,IAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,MAAA,CAAO,4BAA4B,CAAC,CAAA;AAC7D,IAAA;AAAA,EACF;AAEA,EAAA,MAAM,UAAA,GAAa,MAAMY,MAAAA,CAAO;AAAA,IAC9B,OAAA,EAAS,cAAA;AAAA,IACT,OAAA,EAAS;AAAA,MACP,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,+BAAA,EAAyB;AAAA,MACnD,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAO,6BAAA;AAAuB;AAChD,GACD,CAAA;AAED,EAAA,IAAIN,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,IAAA;AAAA,EACF;AAEA,EAAA,IAAI,eAAe,QAAA,EAAU;AAC3B,IAAA,MAAM,eAAA,GAAkB,MAAMM,MAAAA,CAAO;AAAA,MACnC,OAAA,EAAS,yBAAA;AAAA,MACT,OAAA,EAAS,WAAA,CAAY,GAAA,CAAI,CAAA,IAAA,MAAS;AAAA,QAChC,OAAO,IAAA,CAAK,OAAA;AAAA,QACZ,OAAO,CAAA,EAAG,IAAA,CAAK,IAAI,CAAA,EAAA,EAAK,KAAK,IAAI,CAAA,CAAA;AAAA,OACnC,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIN,QAAAA,CAAS,eAAe,CAAA,EAAG;AAC7B,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,UAAA,GAAa,MAAMO,IAAAA,CAAK;AAAA,MAC5B,OAAA,EAAS,mBAAA;AAAA,MACT,WAAA,EAAa,kBAAkB,eAAe,CAAA,KAAA,CAAA;AAAA,MAC9C,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,QAAA,IAAI,CAAC,OAAO,OAAO,yBAAA;AAAA,MACrB;AAAA,KACD,CAAA;AAED,IAAA,IAAIP,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,IAAIG,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,oBAAoB,CAAA;AAE5B,IAAA,IAAI;AACF,MAAA,MAAM,kBAAA,CAAmB,WAAA,CAAY,eAAA,EAA2B,UAAoB,CAAA;AACpF,MAAA,CAAA,CAAE,KAAK,uBAAkB,CAAA;AACzB,MAAA,OAAA,CAAQ,GAAA,CAAIT,QAAM,KAAA,CAAM;AAAA,8BAAA,EAA8B,UAAU,EAAE,CAAC,CAAA;AAAA,IACrE,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,sBAAiB,CAAA;AACxB,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,GAAA,CAAI,iBAAA,IAAqB,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,IACvG;AAAA,EACF,CAAA,MAAO;AACL,IAAA,MAAM,SAAA,GAAY,MAAMa,IAAAA,CAAK;AAAA,MAC3B,OAAA,EAAS,mBAAA;AAAA,MACT,WAAA,EAAa,iBAAA;AAAA,MACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,QAAA,IAAI,CAAC,OAAO,OAAO,8BAAA;AAAA,MACrB;AAAA,KACD,CAAA;AAED,IAAA,IAAIP,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,IAAIG,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,qBAAqB,CAAA;AAE7B,IAAA,IAAI;AACF,MAAA,MAAM,kBAAA,CAAmB,eAAA,CAAgB,YAAA,EAAc,SAAmB,CAAA;AAC1E,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,MAAA,OAAA,CAAQ,GAAA,CAAIT,QAAM,KAAA,CAAM;AAAA,mCAAA,EAAmC,SAAS,EAAE,CAAC,CAAA;AAAA,IACzE,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,sBAAiB,CAAA;AACxB,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,GAAA,CAAI,iBAAA,IAAqB,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,IACvG;AAAA,EACF;AACF;AAEA,eAAe,kBAAA,GAAqB;AAClC,EAAA,MAAM,UAAA,GAAa,MAAMa,IAAAA,CAAK;AAAA,IAC5B,OAAA,EAAS,mBAAA;AAAA,IACT,WAAA,EAAa,qBAAA;AAAA,IACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,MAAA,IAAI,CAAC,OAAO,OAAO,yBAAA;AAAA,IACrB;AAAA,GACD,CAAA;AAED,EAAA,IAAIP,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,IAAA;AAAA,EACF;AAEA,EAAA,MAAM,IAAIG,OAAAA,EAAQ;AAClB,EAAA,CAAA,CAAE,MAAM,oBAAoB,CAAA;AAE5B,EAAA,IAAI;AACF,IAAA,MAAM,OAAA,GAAU,MAAM,kBAAA,CAAmB,YAAA,CAAa,UAAoB,CAAA;AAC1E,IAAA,CAAA,CAAE,KAAK,uBAAkB,CAAA;AACzB,IAAA,OAAA,CAAQ,GAAA,CAAIT,QAAM,KAAA,CAAM;AAAA,uBAAA,EAAuB,OAAO,EAAE,CAAC,CAAA;AAAA,EAC3D,SAAS,KAAA,EAAO;AACd,IAAA,CAAA,CAAE,KAAK,uBAAkB,CAAA;AACzB,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,GAAA,CAAI,kBAAA,IAAsB,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EACxG;AACF;AAEA,eAAe,kBAAkB,YAAA,EAAuB;AACtD,EAAA,MAAM,WAAA,GAAc,MAAM,kBAAA,CAAmB,gBAAA,CAAiB,YAAY,CAAA;AAE1E,EAAA,IAAI,WAAA,CAAY,WAAW,CAAA,EAAG;AAC5B,IAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,MAAA,CAAO,4BAA4B,CAAC,CAAA;AAC7D,IAAA;AAAA,EACF;AAEA,EAAA,MAAM,eAAA,GAAkB,MAAMY,MAAAA,CAAO;AAAA,IACnC,OAAA,EAAS,yBAAA;AAAA,IACT,OAAA,EAAS,WAAA,CAAY,GAAA,CAAI,CAAA,IAAA,MAAS;AAAA,MAChC,OAAO,IAAA,CAAK,OAAA;AAAA,MACZ,OAAO,CAAA,EAAG,IAAA,CAAK,IAAI,CAAA,EAAA,EAAK,KAAK,IAAI,CAAA,CAAA;AAAA,KACnC,CAAE;AAAA,GACH,CAAA;AAED,EAAA,IAAIN,QAAAA,CAAS,eAAe,CAAA,EAAG;AAC7B,IAAA;AAAA,EACF;AAEA,EAAA,MAAM,sBAAsB,WAAA,CAAY,IAAA,CAAK,CAAA,IAAA,KAAQ,IAAA,CAAK,YAAY,eAAe,CAAA;AAErF,EAAA,IAAI,CAAC,mBAAA,EAAqB;AACxB,IAAA,OAAA,CAAQ,GAAA,CAAIN,OAAAA,CAAM,GAAA,CAAI,iBAAiB,CAAC,CAAA;AACxC,IAAA;AAAA,EACF;AAEA,EAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,IAAA,CAAK,uEAA6D,CAAC,CAAA;AAC5F,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,GAAA,CAAI,kBAAkB,IAAI,CAAA,CAAA,EAAI,mBAAA,CAAoB,IAAI,CAAA,CAAE,CAAA;AAC1E,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,GAAA,CAAI,OAAO,IAAI,CAAA,CAAA,EAAI,mBAAA,CAAoB,IAAI,CAAA,CAAE,CAAA;AAC/D,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,+BAA+B,CAAC,CAAA;AAEzD,EAAA,MAAM,SAAA,GAAY,MAAMc,OAAAA,CAAQ;AAAA,IAC9B,OAAA,EAAS;AAAA,GACV,CAAA;AAED,EAAA,IAAIR,QAAAA,CAAS,SAAS,CAAA,IAAK,CAAC,SAAA,EAAW;AACrC,IAAA,OAAA,CAAQ,GAAA,CAAIN,OAAAA,CAAM,IAAA,CAAK,oBAAoB,CAAC,CAAA;AAC5C,IAAA;AAAA,EACF;AAEA,EAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,EAAA,CAAA,CAAE,MAAM,yBAAyB,CAAA;AAEjC,EAAA,IAAI;AACF,IAAA,MAAM,kBAAA,CAAmB,iBAAA,CAAkB,mBAAA,CAAoB,OAAO,CAAA;AACtE,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAC9B,IAAA,OAAA,CAAQ,GAAA,CAAIT,QAAM,KAAA,CAAM;AAAA,kCAAA,EAAkC,mBAAA,CAAoB,IAAI,CAAA,CAAE,CAAC,CAAA;AAAA,EACvF,SAAS,KAAA,EAAO;AACd,IAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,GAAA,CAAI,mBAAA,IAAuB,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EACzG;AACF;ACxSO,SAAS,oBAAoB,aAAA,EAA8B;AAChE,EAAA,aAAA,CACG,OAAA,CAAQ,MAAM,CAAA,CACd,WAAA,CAAY,uBAAuB,CAAA,CACnC,QAAA,CAAS,QAAA,EAAU,YAAY,CAAA,CAC/B,MAAA,CAAO,OAAO,IAAA,KAAS;AACtB,IAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,6BAAsB,CAAC,CAAA;AAExC,IAAA,IAAI;AACF,MAAA,IAAI,CAAC,IAAA,EAAM;AACT,QAAA,IAAA,GAAO,MAAMa,IAAAA,CAAK;AAAA,UAChB,OAAA,EAAS,mBAAA;AAAA,UACT,WAAA,EAAa,4CAAA;AAAA,UACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,YAAA,IAAI,CAAC,OAAO,OAAO,kBAAA;AACnB,YAAA,IAAI,CAAC,iEAAA,CAAkE,IAAA,CAAK,KAAK,CAAA,EAAG;AAClF,cAAA,OAAO,qBAAA;AAAA,YACT;AAAA,UACF;AAAA,SACD,CAAA;AAED,QAAA,IAAIP,QAAAA,CAAS,IAAI,CAAA,EAAG;AAClB,UAAAC,OAAO,kBAAkB,CAAA;AACzB,UAAA;AAAA,QACF;AAAA,MACF;AAEA,MAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,MAAA,CAAA,CAAE,MAAM,qBAAqB,CAAA;AAE7B,MAAA,MAAM,WAAA,GAAc,MAAM,kBAAA,CAAmB,qBAAA,CAAsB,IAAc,CAAA;AAEjF,MAAA,IAAI,CAAC,WAAA,EAAa;AAChB,QAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,QAAA,OAAA,CAAQ,GAAA,CAAIT,OAAAA,CAAM,MAAA,CAAO,8BAAA,GAAiC,IAAI,CAAC,CAAA;AAC/D,QAAAU,MAAM,0EAA0E,CAAA;AAChF,QAAA;AAAA,MACF;AAEA,MAAA,CAAA,CAAE,KAAK,oBAAe,CAAA;AAEtB,MAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOV,OAAAA,CAAM,IAAA,CAAK,0BAAmB,CAAC,CAAA;AAClD,MAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAC1B,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,OAAO,IAAI,CAAA,CAAA,EAAI,WAAA,CAAY,IAAI,CAAA,CAAE,CAAA;AACxD,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,WAAW,IAAI,CAAA,CAAA,EAAI,WAAA,CAAY,OAAO,CAAA,CAAE,CAAA;AAC/D,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,OAAO,IAAI,CAAA,CAAA,EAAI,WAAA,CAAY,IAAI,CAAA,CAAE,CAAA;AACxD,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA,EAAI,WAAA,CAAY,WAAW,CAAA,CAAE,CAAA;AACtE,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,eAAe,IAAI,CAAA,CAAA,EAAI,WAAA,CAAY,WAAA,CAAY,SAAS,CAAA,CAAE,CAAA;AACjF,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,QAAQ,IAAI,CAAA,CAAA,EAAI,WAAA,CAAY,WAAW,CAAA,CAAE,CAAA;AAChE,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAA,GAAI,CAAA,CAAA,EAAI,IAAI,IAAA,CAAK,WAAA,CAAY,SAAS,CAAA,CAAE,cAAA,EAAgB,CAAA,CAAE,CAAA;AAC3F,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAA,GAAI,CAAA,CAAA,EAAI,IAAI,IAAA,CAAK,WAAA,CAAY,SAAS,CAAA,CAAE,cAAA,EAAgB,CAAA,CAAE,CAAA;AAE3F,MAAA,IAAI,YAAY,QAAA,EAAU;AACxB,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,YAAY,IAAI,CAAA,CAAA,EAAI,WAAA,CAAY,QAAQ,CAAA,CAAE,CAAA;AAAA,MACnE;AAEA,MAAA,IAAI,YAAY,UAAA,EAAY;AAC1B,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA,EAAI,WAAA,CAAY,UAAU,CAAA,CAAE,CAAA;AAAA,MACvE;AAEA,MAAAU,MAAM,wBAAwB,CAAA;AAAA,IAChC,SAAS,KAAA,EAAO;AACd,MAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,iBAAA,IAAqB,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,IAClG;AAAA,EACF,CAAC,CAAA;AACL;;;ACzEO,IAAM,YAAA,GAAe,IAAI,OAAA,CAAQ,OAAO,EAC5C,WAAA,CAAY,6CAA6C,CAAA,CACzD,KAAA,CAAM,GAAG,CAAA;AAcZ,uBAAA,CAAwB,YAAY,CAAA;AACpC,mBAAA,CAAoB,YAAY,CAAA;AAChC,qBAAA,CAAsB,YAAY,CAAA;AAClC,qBAAA,CAAsB,YAAY,CAAA;AAClC,qBAAA,CAAsB,YAAY,CAAA;AAClC,qBAAA,CAAsB,YAAY,CAAA;AAClC,wBAAA,CAAyB,YAAY,CAAA;AACrC,0BAAA,CAA2B,YAAY,CAAA;AACvC,mBAAA,CAAoB,YAAY,CAAA;AAGhC,YAAA,CAAa,aAAA,CAAc;AAAA,EACzB,eAAA,EAAiB,IAAA;AAAA,EACjB,cAAA,EAAgB,CAAC,GAAA,KAAQ,GAAA,CAAI,MAAK,GAAI,GAAA,GAAM,IAAI,KAAA;AAClD,CAAC,CAAA;AAGD,YAAA,CAAa,YAAY,OAAA,EAAS;AAAA,EAChCA,OAAAA,CAAM,IAAA,CAAK,wCAAiC,CAAC;;AAAA,EAE7CA,OAAAA,CAAM,MAAA,CAAO,kBAAkB,CAAC;AAAA;AAAA;AAAA;;AAAA,EAKhCA,OAAAA,CAAM,MAAA,CAAO,mBAAmB,CAAC;AAAA;AAAA;AAAA;AAAA;;AAAA,EAMjCA,OAAAA,CAAM,MAAA,CAAO,aAAa,CAAC;AAAA;AAAA;;AAAA,EAI3BA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC;AAAA;AAAA;AAAA;AAAA;;AAAA,EAM9BA,OAAAA,CAAM,IAAA,CAAK,iBAAU,CAAC;AAAA,EAAA,EACpBA,OAAAA,CAAM,KAAK,mBAAc,CAAC,yBAAyBA,OAAAA,CAAM,IAAA,CAAK,4BAA4B,CAAC;AAAA,EAAA,EAC3FA,OAAAA,CAAM,KAAK,YAAO,CAAC,uBAAuBA,OAAAA,CAAM,IAAA,CAAK,sCAAsC,CAAC;AAAA,EAAA,EAC5FA,OAAAA,CAAM,IAAA,CAAK,4EAAuE,CAAC;AAAA,EAAA,EACnFA,OAAAA,CAAM,IAAA,CAAK,8EAAyE,CAAC;;AAAA,EAEvFA,OAAAA,CAAM,IAAA,CAAK,6BAAsB,CAAC;AAAA;AAAA;AAAA,CAGnC,CAAA;;;AC9DD,WAAA,EAAA;AAGA,kBAAA,EAAA;;;ACRO,SAAS,cAAc,QAAA,EAAmC;AAC/D,EAAA,MAAM,GAAA,GAAM,MAAA,CAAO,QAAQ,CAAA,GAAI,GAAA;AAC/B,EAAA,OAAO,GAAA,CAAI,QAAQ,CAAC,CAAA;AACtB;ADSO,IAAM,gBAAgB,IAAIoB,OAAAA,CAAQ,QAAQ,CAAA,CAC9C,YAAY,mCAAmC,CAAA;AAElD,aAAA,CACG,QAAQ,OAAO,CAAA,CACf,YAAY,wCAAwC,CAAA,CACpD,OAAO,YAAY;AAClB,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,KAAA,CAAM,oCAA0B,CAAC,CAAA;AAE7C,EAAA,IAAI;AACF,IAAA,MAAM,OAAA,GAAU,MAAMY,MAAAA,CAAO;AAAA,MAC3B,OAAA,EAAS,wBAAA;AAAA,MACT,OAAA,EAAS;AAAA,QACP,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,gCAAA,EAA0B;AAAA,QACpD,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,6BAAA,EAAuB;AAAA,QAClD,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,gCAAA;AAA0B;AACvD,KACD,CAAA;AAED,IAAA,IAAIN,QAAAA,CAAS,OAAO,CAAA,EAAG;AACrB,MAAAC,OAAO,iBAAiB,CAAA;AACxB,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,UAAA,GAAa,MAAMM,IAAAA,CAAK;AAAA,MAC5B,OAAA,EAAS,6BAAA;AAAA,MACT,WAAA,EAAa,0BAAA;AAAA,MACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,QAAA,IAAI,CAAC,OAAO,OAAO,yBAAA;AAEnB,QAAA,MAAM,YAAA,GAAe,KAAA,CAAM,OAAA,CAAQ,GAAA,EAAKxB,SAAS,CAAA;AACjD,QAAA,IAAI,CAACH,UAAAA,CAAW,YAAY,CAAA,EAAG;AAC7B,UAAA,OAAO,6BAA6B,YAAY,CAAA,CAAA;AAAA,QAClD;AACA,QAAA,OAAO,KAAA,CAAA;AAAA,MACT;AAAA,KACD,CAAA;AAED,IAAA,IAAIoB,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,MAAAC,OAAO,iBAAiB,CAAA;AACxB,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,IAAAA,CAAK;AAAA,MACxB,OAAA,EAAS,4BAAA;AAAA,MACT,WAAA,EAAa;AAAA,KACd,CAAA;AAED,IAAA,IAAIP,QAAAA,CAAS,MAAM,CAAA,EAAG;AACpB,MAAAC,OAAO,iBAAiB,CAAA;AACxB,MAAA;AAAA,IACF;AAGA,IAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOP,OAAAA,CAAM,IAAA,CAAK,kCAA2B,CAAC,CAAA;AAC1D,IAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAC1B,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,KAAA,CAAM,UAAU,CAAA,GAAI,CAAA,CAAA,EAAI,OAAO,CAAA,CAAE,CAAA;AACnD,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,KAAA,CAAM,SAAS,CAAA,GAAI,CAAA,CAAA,EAAI,UAAU,CAAA,CAAE,CAAA;AACrD,IAAA,IAAI,MAAA,EAAQ;AACV,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,KAAA,CAAM,UAAU,CAAA,GAAI,CAAA,CAAA,EAAI,MAAM,CAAA,CAAE,CAAA;AAAA,IACpD;AAEA,IAAA,MAAM,SAAA,GAAY,MAAMc,OAAAA,CAAQ;AAAA,MAC9B,OAAA,EAAS;AAAA,KACV,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,SAAS,CAAA,IAAK,CAAC,SAAA,EAAW;AACrC,MAAAC,OAAO,iBAAiB,CAAA;AACxB,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,yBAAyB,CAAA;AAGjC,IAAA,MAAM,qBAAqB,UAAA,CAAW,QAAA,GAAW,OAAA,CAAQ,GAAA,EAAKpB,SAAS,CAAA;AACvE,IAAA,UAAA,CAAW;AAAA,MACT,OAAA;AAAA,MACA,UAAA,EAAY,kBAAA;AAAA,MACZ,MAAA,EAAQ,MAAA,GAAS,MAAA,CAAO,QAAA,EAAS,GAAI,KAAA;AAAA,KACtC,CAAA;AAED,IAAA,CAAA,CAAE,KAAK,6BAAwB,CAAA;AAE/B,IAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOW,OAAAA,CAAM,KAAA,CAAM,6CAAsC,CAAC,CAAA;AACtE,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,mCAAmC,CAAC,CAAA;AAE3D,IAAAU,MAAM,8BAA8B,CAAA;AAAA,EAEtC,SAAS,KAAA,EAAO;AACd,IAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,gBAAA,IAAoB,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EACjG;AACF,CAAC,CAAA;AAEH,aAAA,CACG,QAAQ,MAAM,CAAA,CACd,YAAY,4BAA4B,CAAA,CACxC,OAAO,YAAY;AAClB,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,KAAA,CAAM,iCAA0B,CAAC,CAAA;AAE7C,EAAA,IAAI;AACF,IAAA,MAAMb,UAAS,UAAA,EAAW;AAE1B,IAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOa,OAAAA,CAAM,IAAA,CAAK,uCAA6B,CAAC,CAAA;AAC5D,IAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAC1B,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,KAAA,CAAM,UAAU,IAAI,CAAA,CAAA,EAAIb,OAAAA,CAAO,OAAO,CAAA,CAAE,CAAA;AAC1D,IAAA,OAAA,CAAQ,GAAA,CAAIa,OAAAA,CAAM,KAAA,CAAM,UAAU,CAAA,GAAI,CAAA,CAAA,EAAIb,OAAAA,CAAO,MAAA,IAAU,CAAA,QAAA,EAAWA,OAAAA,CAAO,OAAO,CAAA,IAAA,CAAM,CAAA,CAAE,CAAA;AAC5F,IAAA,OAAA,CAAQ,GAAA,CAAIa,QAAM,KAAA,CAAM,SAAS,IAAI,CAAA,CAAA,EAAIb,OAAAA,CAAO,UAAU,CAAA,CAAE,CAAA;AAC5D,IAAA,OAAA,CAAQ,GAAA,CAAIa,QAAM,KAAA,CAAM,aAAa,IAAI,CAAA,CAAA,EAAIb,OAAAA,CAAO,SAAS,CAAA,CAAE,CAAA;AAC/D,IAAA,OAAA,CAAQ,GAAA,CAAIa,QAAM,IAAA,CAAK,cAAc,IAAI,CAAA,CAAA,EAAI,aAAA,EAAe,CAAA,CAAE,CAAA;AAG9D,IAAA,IAAId,UAAAA,CAAWC,OAAAA,CAAO,UAAU,CAAA,EAAG;AACjC,MAAA,MAAM,IAAIsB,OAAAA,EAAQ;AAClB,MAAA,CAAA,CAAE,MAAM,4BAA4B,CAAA;AAEpC,MAAA,IAAI;AAEF,QAAA,MAAM,MAAA,GAAS,kBAAA;AAAA,UACbtB,OAAAA,CAAO,WACNA,OAAAA,CAAO,OAAA,KAAY,WAAW,+BAAA,GAC9BA,OAAAA,CAAO,OAAA,KAAY,SAAA,GAAY,gCAAA,GAC/B,qCAAA;AAAA,SACH;AAEA,QAAA,MAAM,UAAA,GAAaI,YAAAA,CAAaJ,OAAAA,CAAO,UAAA,EAAY,OAAO,CAAA;AAC1D,QAAA,MAAM,MAAA,GAAS,MAAMM,4BAAAA,CAA6B,IAAI,WAAW,IAAA,CAAK,KAAA,CAAM,UAAU,CAAC,CAAC,CAAA;AACxF,QAAA,MAAM,eAAA,GAAkB,MAAM,MAAA,CAAO,GAAA,CAAI,WAAW,MAAA,CAAO,OAAO,EAAE,IAAA,EAAK;AACzE,QAAA,MAAM,UAAU,eAAA,CAAgB,KAAA;AAEhC,QAAA,CAAA,CAAE,KAAK,EAAE,CAAA;AACT,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,QAAA,OAAA,CAAQ,GAAA,CAAIO,QAAM,IAAA,CAAK,2BAAoB,IAAI,CAAA,CAAA,EAAI,MAAA,CAAO,OAAO,CAAA,CAAE,CAAA;AACnE,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,2BAAoB,IAAI,CAAA,CAAA,EAAI,aAAA,CAAc,OAAO,CAAC,CAAA,IAAA,CAAM,CAAA;AAAA,MACjF,SAAS,KAAA,EAAO;AACd,QAAA,CAAA,CAAE,KAAK,EAAE,CAAA;AACT,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,8CAAoC,CAAC,CAAA;AAAA,MAChE;AAAA,IACF,CAAA,MAAO;AACL,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,qCAA2B,CAAC,CAAA;AAAA,IACvD;AAEA,IAAAU,MAAM,yBAAyB,CAAA;AAAA,EACjC,SAAS,KAAA,EAAO;AACd,IAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,gCAAA,IAAoC,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EACjH;AACF,CAAC,CAAA;AAEH,aAAA,CACG,QAAQ,OAAO,CAAA,CACf,YAAY,yBAAyB,CAAA,CACrC,OAAO,YAAY;AAClB,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,MAAA,CAAO,+BAAwB,CAAC,CAAA;AAE5C,EAAA,MAAM,SAAA,GAAY,MAAMc,OAAAA,CAAQ;AAAA,IAC9B,OAAA,EAAS;AAAA,GACV,CAAA;AAED,EAAA,IAAIR,QAAAA,CAAS,SAAS,CAAA,IAAK,CAAC,SAAA,EAAW;AACrC,IAAAC,OAAO,iBAAiB,CAAA;AACxB,IAAA;AAAA,EACF;AAEA,EAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,EAAA,CAAA,CAAE,MAAM,4BAA4B,CAAA;AAEpC,EAAA,WAAA,EAAY;AAEZ,EAAA,CAAA,CAAE,KAAK,6BAAwB,CAAA;AAE/B,EAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOT,OAAAA,CAAM,MAAA,CAAO,qDAA8C,CAAC,CAAA;AAC/E,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,+CAA+C,CAAC,CAAA;AAEvE,EAAAU,MAAM,iBAAiB,CAAA;AACzB,CAAC,CAAA;AEhKI,IAAM,gBAAN,MAAoB;AAAA,EACjB,MAAA;AAAA,EACA,SAAA;AAAA,EAER,YAAYvB,OAAAA,EAAgC;AAC1C,IAAA,IAAA,CAAK,MAAA,GAAS;AAAA,MACZ,gBAAA,EAAkB,EAAA;AAAA;AAAA,MAClB,gBAAA,EAAkB,EAAA;AAAA;AAAA,MAClB,aAAA,EAAe,CAAA;AAAA,MACf,UAAU,IAAA,CAAK,IAAA,CAAK,GAAG,OAAA,EAAQ,EAAG,eAAe,QAAQ,CAAA;AAAA,MACzD,GAAGA;AAAA,KACL;AAEA,IAAA,IAAA,CAAK,YAAY,IAAA,CAAK,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,UAAU,eAAe,CAAA;AAAA,EAClE;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,UAAA,GAA4B;AAChC,IAAA,IAAI;AACF,MAAA,MAAM6B,GAAAA,CAAG,MAAM,IAAA,CAAK,MAAA,CAAO,UAAU,EAAE,SAAA,EAAW,MAAM,CAAA;AAAA,IAC1D,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,IAAA,CAAK,qDAAqD,KAAK,CAAA;AAAA,IACzE;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc,kBAAA,GAA+C;AAC3D,IAAA,IAAI;AACF,MAAA,MAAM,OAAO,MAAMA,GAAAA,CAAG,QAAA,CAAS,IAAA,CAAK,WAAW,MAAM,CAAA;AACrD,MAAA,OAAO,IAAA,CAAK,MAAM,IAAI,CAAA;AAAA,IACxB,SAAS,KAAA,EAAO;AACd,MAAA,OAAO,EAAC;AAAA,IACV;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc,YAAY,OAAA,EAAuC;AAC/D,IAAA,IAAI;AACF,MAAA,MAAM,OAAA,GAAU,MAAM,IAAA,CAAK,kBAAA,EAAmB;AAC9C,MAAA,OAAA,CAAQ,KAAK,OAAO,CAAA;AAGpB,MAAA,MAAM,aAAA,GAAgB,OAAA,CAAQ,KAAA,CAAM,CAAA,GAAI,CAAA;AAExC,MAAA,MAAMA,GAAAA,CAAG,UAAU,IAAA,CAAK,SAAA,EAAW,KAAK,SAAA,CAAU,aAAA,EAAe,IAAA,EAAM,CAAC,CAAC,CAAA;AAAA,IAC3E,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,IAAA,CAAK,4CAA4C,KAAK,CAAA;AAAA,IAChE;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,iBAAA,CACJ,aAAA,EACA,MAAA,EACA,OAAA,EACuB;AACvB,IAAA,MAAM,OAAA,GAAU,MAAM,IAAA,CAAK,kBAAA,EAAmB;AAC9C,IAAA,MAAM,GAAA,GAAM,KAAK,GAAA,EAAI;AACrB,IAAA,MAAM,SAAA,GAAY,GAAA,GAAO,EAAA,GAAK,EAAA,GAAK,EAAA,GAAK,GAAA;AACxC,IAAA,MAAM,aAAA,GAAgB,GAAA,GAAO,IAAA,CAAK,MAAA,CAAO,mBAAmB,EAAA,GAAK,GAAA;AAGjE,IAAA,MAAM,mBAAmB,OAAA,CAAQ,MAAA;AAAA,MAAO,CAAA,GAAA,KACtC,IAAI,aAAA,KAAkB,aAAA,IACtB,IAAI,MAAA,KAAW,MAAA,IACf,IAAI,OAAA,KAAY;AAAA,KAClB;AAGA,IAAA,MAAM,gBAAgB,gBAAA,CAAiB,MAAA,CAAO,CAAA,GAAA,KAAO,GAAA,CAAI,YAAY,SAAS,CAAA;AAC9E,IAAA,MAAM,oBAAoB,aAAA,CAAc,MAAA;AAGxC,IAAA,MAAM,iBAAiB,gBAAA,CAAiB,MAAA,CAAO,CAAA,GAAA,KAAO,GAAA,CAAI,YAAY,aAAa,CAAA;AACnF,IAAA,MAAM,gBAAA,GAAmB,eAAe,MAAA,GAAS,CAAA;AAGjD,IAAA,MAAM,WAAA,GAAc,gBAAA,CAAiB,IAAA,CAAK,CAAC,CAAA,EAAG,CAAA,KAAM,CAAA,CAAE,SAAA,GAAY,CAAA,CAAE,SAAS,CAAA,CAAE,CAAC,CAAA;AAEhF,IAAA,IAAI,iBAAA,IAAqB,IAAA,CAAK,MAAA,CAAO,gBAAA,EAAkB;AACrD,MAAA,OAAO;AAAA,QACL,UAAA,EAAY,KAAA;AAAA,QACZ,iBAAA;AAAA,QACA,kBAAA,EAAoB,KAAK,MAAA,CAAO,gBAAA;AAAA,QAChC;AAAA,OACF;AAAA,IACF;AAEA,IAAA,IAAI,gBAAA,EAAkB;AACpB,MAAA,MAAM,eAAA,GAAkB,cAAA,CAAe,CAAC,CAAA,CAAE,SAAA;AAC1C,MAAA,MAAM,aAAA,GAAgB,IAAA,CAAK,IAAA,CAAA,CAAM,eAAA,GAAmB,IAAA,CAAK,OAAO,gBAAA,GAAmB,EAAA,GAAK,GAAA,GAAQ,GAAA,IAAO,GAAK,CAAA;AAE5G,MAAA,OAAO;AAAA,QACL,UAAA,EAAY,KAAA;AAAA,QACZ,aAAA;AAAA,QACA,iBAAA;AAAA,QACA,kBAAA,EAAoB,KAAK,MAAA,CAAO,gBAAA;AAAA,QAChC;AAAA,OACF;AAAA,IACF;AAEA,IAAA,OAAO;AAAA,MACL,UAAA,EAAY,IAAA;AAAA,MACZ,iBAAA;AAAA,MACA,kBAAA,EAAoB,KAAK,MAAA,CAAO,gBAAA;AAAA,MAChC;AAAA,KACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,aAAA,CACJ,aAAA,EACA,OAAA,EACA,MAAA,EACA,QACA,SAAA,EACe;AACf,IAAA,MAAM,OAAA,GAAyB;AAAA,MAC7B,aAAA;AAAA,MACA,OAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA,EAAW,KAAK,GAAA,EAAI;AAAA,MACpB,MAAA;AAAA,MACA;AAAA,KACF;AAEA,IAAA,MAAM,IAAA,CAAK,YAAY,OAAO,CAAA;AAAA,EAChC;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,cAAc,aAAA,EAMjB;AACD,IAAA,MAAM,OAAA,GAAU,MAAM,IAAA,CAAK,kBAAA,EAAmB;AAC9C,IAAA,MAAM,gBAAA,GAAmB,gBACrB,OAAA,CAAQ,MAAA,CAAO,SAAO,GAAA,CAAI,aAAA,KAAkB,aAAa,CAAA,GACzD,OAAA;AAEJ,IAAA,MAAM,kBAAA,GAAqB,gBAAA,CAAiB,MAAA,CAAO,CAAA,GAAA,KAAO,IAAI,SAAS,CAAA;AACvE,IAAA,MAAM,gBAAA,GAAmB,iBAAiB,MAAA,CAAO,CAAC,KAAK,GAAA,KAAQ,GAAA,GAAM,GAAA,CAAI,MAAA,EAAQ,CAAC,CAAA;AAElF,IAAA,MAAM,mBAA2C,EAAC;AAClD,IAAA,MAAM,oBAA4C,EAAC;AAEnD,IAAA,gBAAA,CAAiB,QAAQ,CAAA,GAAA,KAAO;AAC9B,MAAA,gBAAA,CAAiB,IAAI,MAAM,CAAA,GAAA,CAAK,iBAAiB,GAAA,CAAI,MAAM,KAAK,CAAA,IAAK,CAAA;AACrE,MAAA,iBAAA,CAAkB,IAAI,OAAO,CAAA,GAAA,CAAK,kBAAkB,GAAA,CAAI,OAAO,KAAK,CAAA,IAAK,CAAA;AAAA,IAC3E,CAAC,CAAA;AAED,IAAA,OAAO;AAAA,MACL,eAAe,gBAAA,CAAiB,MAAA;AAAA,MAChC,oBAAoB,kBAAA,CAAmB,MAAA;AAAA,MACvC,gBAAA;AAAA,MACA,gBAAA;AAAA,MACA;AAAA,KACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,gBAAA,CAAiB,UAAA,GAAa,EAAA,EAAqB;AACvD,IAAA,MAAM,OAAA,GAAU,MAAM,IAAA,CAAK,kBAAA,EAAmB;AAC9C,IAAA,MAAM,aAAa,IAAA,CAAK,GAAA,KAAS,UAAA,GAAa,EAAA,GAAK,KAAK,EAAA,GAAK,GAAA;AAE7D,IAAA,MAAM,kBAAkB,OAAA,CAAQ,MAAA,CAAO,CAAA,GAAA,KAAO,GAAA,CAAI,YAAY,UAAU,CAAA;AACxE,IAAA,MAAM,YAAA,GAAe,OAAA,CAAQ,MAAA,GAAS,eAAA,CAAgB,MAAA;AAEtD,IAAA,IAAI,eAAe,CAAA,EAAG;AACpB,MAAA,MAAMA,GAAAA,CAAG,UAAU,IAAA,CAAK,SAAA,EAAW,KAAK,SAAA,CAAU,eAAA,EAAiB,IAAA,EAAM,CAAC,CAAC,CAAA;AAAA,IAC7E;AAEA,IAAA,OAAO,YAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAA,GAOI;AACF,IAAA,OAAO;AAAA,MACL;AAAA,QACE,IAAA,EAAM,iBAAA;AAAA,QACN,EAAA,EAAI,QAAA;AAAA,QACJ,WAAA,EAAa,8CAAA;AAAA,QACb,QAAA,EAAU,CAAC,QAAA,EAAU,SAAS,CAAA;AAAA,QAC9B,SAAA,EAAW,QAAA;AAAA,QACX,aAAA,EAAe;AAAA,OACjB;AAAA,MACA;AAAA,QACE,IAAA,EAAM,SAAA;AAAA,QACN,EAAA,EAAI,SAAA;AAAA,QACJ,WAAA,EAAa,yCAAA;AAAA,QACb,QAAA,EAAU,CAAC,QAAA,EAAU,SAAS,CAAA;AAAA,QAC9B,SAAA,EAAW,QAAA;AAAA,QACX,aAAA,EAAe;AAAA,OACjB;AAAA,MACA;AAAA,QACE,IAAA,EAAM,aAAA;AAAA,QACN,EAAA,EAAI,KAAA;AAAA,QACJ,WAAA,EAAa,sCAAA;AAAA,QACb,QAAA,EAAU,CAAC,QAAA,EAAU,SAAS,CAAA;AAAA,QAC9B,SAAA,EAAW,QAAA;AAAA,QACX,aAAA,EAAe;AAAA;AACjB,KACF;AAAA,EACF;AACF,CAAA;;;AC9PA,mBAAA,EAAA;AACA,kBAAA,EAAA;AA0BA,eAAe,uBAAA,CACb,aAAA,EACA,OAAA,EACA,MAAA,GAAS,CAAA,EACc;AACvB,EAAA,IAAI;AACF,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,qBAAA,EAAiB,MAAM,CAAA,0BAAA,CAA4B,CAAA;AAE/D,IAAA,MAAM,SAAA,GAAY,OAAA,KAAY,QAAA,GAC1B,uCAAA,GACA,uCAAA;AAEJ,IAAA,MAAM,QAAA,GAAW,MAAM,KAAA,CAAM,SAAA,EAAW;AAAA,MACtC,MAAA,EAAQ,MAAA;AAAA,MACR,OAAA,EAAS;AAAA,QACP,cAAA,EAAgB;AAAA,OAClB;AAAA,MACA,IAAA,EAAM,KAAK,SAAA,CAAU;AAAA,QACnB,MAAA,EAAQ,aAAA;AAAA,QACR,UAAU,MAAA,GAAS,GAAA;AAAA;AAAA,QACnB,OAAA,EAAS;AAAA,OACV;AAAA,KACF,CAAA;AAED,IAAA,IAAI,CAAC,SAAS,EAAA,EAAI;AAChB,MAAA,MAAM,IAAI,MAAM,CAAA,KAAA,EAAQ,QAAA,CAAS,MAAM,CAAA,EAAA,EAAK,QAAA,CAAS,UAAU,CAAA,CAAE,CAAA;AAAA,IACnE;AAEA,IAAA,MAAM,IAAA,GAAO,MAAM,QAAA,CAAS,IAAA,EAAK;AAEjC,IAAA,IAAI,KAAK,SAAA,EAAW;AAClB,MAAA,MAAM,WAAA,GAAc,CAAA,+BAAA,EAAkC,IAAA,CAAK,SAAS,YAAY,OAAO,CAAA,CAAA;AAEvF,MAAA,OAAO;AAAA,QACL,MAAA,EAAQ,iBAAA;AAAA,QACR,OAAA,EAAS,IAAA;AAAA,QACT,WAAW,IAAA,CAAK,SAAA;AAAA,QAChB,MAAA;AAAA,QACA;AAAA,OACF;AAAA,IACF,CAAA,MAAO;AACL,MAAA,MAAM,IAAI,KAAA,CAAM,IAAA,CAAK,KAAA,IAAS,kCAAkC,CAAA;AAAA,IAClE;AAAA,EACF,SAAS,KAAA,EAAO;AACd,IAAA,OAAO;AAAA,MACL,MAAA,EAAQ,iBAAA;AAAA,MACR,OAAA,EAAS,KAAA;AAAA,MACT,KAAA,EAAO,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU;AAAA,KAClD;AAAA,EACF;AACF;AAKA,eAAe,wBAAA,CACb,eACA,OAAA,EACuB;AACvB,EAAA,IAAI;AACF,IAAA,OAAA,CAAQ,IAAI,CAAA,kDAAA,CAA0C,CAAA;AAGtD,IAAA,MAAM,SAAA,GAAY,OAAA,KAAY,QAAA,GAC1B,qDAAA,GACA,sDAAA;AAEJ,IAAA,MAAM,QAAA,GAAW,MAAM,KAAA,CAAM,SAAA,EAAW;AAAA,MACtC,MAAA,EAAQ,MAAA;AAAA,MACR,OAAA,EAAS;AAAA,QACP,cAAA,EAAgB;AAAA,OAClB;AAAA,MACA,IAAA,EAAM,KAAK,SAAA,CAAU;AAAA,QACnB,OAAA,EAAS,aAAA;AAAA,QACT;AAAA,OACD;AAAA,KACF,CAAA;AAED,IAAA,IAAI,CAAC,SAAS,EAAA,EAAI;AAChB,MAAA,MAAM,IAAI,MAAM,CAAA,KAAA,EAAQ,QAAA,CAAS,MAAM,CAAA,EAAA,EAAK,QAAA,CAAS,UAAU,CAAA,CAAE,CAAA;AAAA,IACnE;AAEA,IAAA,MAAM,IAAA,GAAO,MAAM,QAAA,CAAS,IAAA,EAAK;AAEjC,IAAA,IAAI,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,SAAA,EAAW;AACjC,MAAA,MAAM,SAAA,GAAY,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,SAAA;AACtC,MAAA,MAAM,MAAA,GAAS,KAAK,MAAA,IAAU,CAAA;AAC9B,MAAA,MAAM,WAAA,GAAc,CAAA,+BAAA,EAAkC,SAAS,CAAA,SAAA,EAAY,OAAO,CAAA,CAAA;AAElF,MAAA,OAAO;AAAA,QACL,MAAA,EAAQ,SAAA;AAAA,QACR,OAAA,EAAS,IAAA;AAAA,QACT,SAAA;AAAA,QACA,MAAA;AAAA,QACA;AAAA,OACF;AAAA,IACF,CAAA,MAAO;AACL,MAAA,MAAM,IAAI,KAAA,CAAM,IAAA,CAAK,KAAA,IAAU,IAAA,CAAK,WAAkC,mCAAmC,CAAA;AAAA,IAC3G;AAAA,EACF,SAAS,KAAA,EAAO;AACd,IAAA,OAAO;AAAA,MACL,MAAA,EAAQ,SAAA;AAAA,MACR,OAAA,EAAS,KAAA;AAAA,MACT,KAAA,EAAO,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU;AAAA,KAClD;AAAA,EACF;AACF;AAKA,eAAe,qBAAA,CACb,aAAA,EACA,OAAA,EACA,MAAA,GAAS,CAAA,EACc;AACvB,EAAA,IAAI;AACF,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,qBAAA,EAAiB,MAAM,CAAA,uBAAA,CAAyB,CAAA;AAE5D,IAAA,MAAM,MAAA,GAAS,OAAA,KAAY,QAAA,GACvB,+BAAA,GACA,gCAAA;AAGJ,IAAA,MAAM,MAAA,GAAS,mBAAmB,MAAM,CAAA;AAGxC,IAAA,MAAM,WAAW,MAAA,CAAO,IAAA,CAAK,KAAA,CAAM,MAAA,GAAS,GAAa,CAAC,CAAA;AAE1D,IAAA,MAAM,MAAM,MAAA,CAAO,GAAA;AACnB,IAAA,MAAM,aAAA,GAAgB,MAAM,GAAA,CAAI,cAAA;AAAA,MAC9B/B,UAAQ,aAAa,CAAA;AAAA,MACrB;AAAA,MACA,IAAA,EAAK;AACP,IAAA,MAAM,SAAA,GAAY,aAAA;AAElB,IAAA,MAAM,WAAA,GAAc,CAAA,+BAAA,EAAkC,SAAS,CAAA,SAAA,EAAY,OAAO,CAAA,CAAA;AAElF,IAAA,OAAO;AAAA,MACL,MAAA,EAAQ,aAAA;AAAA,MACR,OAAA,EAAS,IAAA;AAAA,MACT,SAAA;AAAA,MACA,MAAA;AAAA,MACA;AAAA,KACF;AAAA,EACF,SAAS,KAAA,EAAO;AACd,IAAA,OAAO;AAAA,MACL,MAAA,EAAQ,aAAA;AAAA,MACR,OAAA,EAAS,KAAA;AAAA,MACT,KAAA,EAAO,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU;AAAA,KAClD;AAAA,EACF;AACF;AAMA,eAAe,YAAA,CAAa,eAAuB,OAAA,EAAgD;AACjG,EAAA,IAAI;AACF,IAAA,MAAM,MAAA,GAAS,OAAA,KAAY,QAAA,GACvB,+BAAA,GACA,gCAAA;AAGJ,IAAA,MAAM,MAAA,GAAS,mBAAmB,MAAM,CAAA;AAExC,IAAA,MAAM,EAAE,KAAA,EAAO,OAAA,EAAQ,GAAI,MAAM,MAAA,CAAO,GAAA,CAAI,UAAA,CAAWA,SAAAA,CAAQ,aAAa,CAAC,CAAA,CAAE,IAAA,EAAK;AACpF,IAAA,OAAO,MAAA,CAAO,OAAO,CAAA,GAAI,GAAA;AAAA,EAC3B,SAAS,KAAA,EAAO;AACd,IAAA,OAAA,CAAQ,IAAA,CAAK,4BAA4B,KAAK,CAAA;AAC9C,IAAA,OAAO,CAAA;AAAA,EACT;AACF;AAKA,eAAe,cAAc,OAAA,EAAuC;AAClE,EAAA,IAAI;AACF,IAAA,OAAA,CAAQ,IAAI,uDAAgD,CAAA;AAC5D,IAAA,OAAA,CAAQ,IAAI,0TAAsD,CAAA;AAElE,IAAA,MAAM,OAAA,GAAU,QAAQ,OAAA,IAAW,QAAA;AACnC,IAAA,MAAM,MAAA,GAAS,UAAA,CAAW,OAAA,CAAQ,MAAA,IAAU,GAAG,CAAA;AAC/C,IAAA,MAAM,MAAA,GAAS,QAAQ,MAAA,IAAU,KAAA;AAEjC,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,mBAAA,EAAe,OAAO,CAAA,CAAE,CAAA;AACpC,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,kBAAA,EAAc,MAAM,CAAA,IAAA,CAAM,CAAA;AACtC,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,kBAAA,EAAc,MAAM,CAAA,CAAE,CAAA;AAClC,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAGd,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AACxC,IAAA,MAAM,cAAc,UAAA,EAAW;AAG/B,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AACxC,IAAA,IAAI,aAAA;AACJ,IAAA,IAAI,UAAA;AAGJ,IAAA,MAAM,YAAA,GAAe,cAAc,eAAA,EAAgB;AACnD,IAAA,IAAI,YAAA,EAAc;AAChB,MAAA,aAAA,GAAgB,aAAa,QAAA,CAAS,OAAA;AACtC,MAAA,UAAA,GAAa,aAAa,QAAA,CAAS,IAAA;AACnC,MAAA,OAAA,CAAQ,IAAI,CAAA,+BAAA,EAA2Be,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAE,CAAA;AAC/D,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,mBAAA,EAAe,aAAa,CAAA,CAAE,CAAA;AAAA,IAC5C,CAAA,MAAO;AAEL,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,uCAA6B,CAAC,CAAA;AACvD,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,IAAI,wBAAwB,CAAA;AACpC,MAAA,OAAA,CAAQ,IAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,sBAAA,CAAwB,CAAA;AAC1E,MAAA,OAAA,CAAQ,IAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,yBAAA,CAA2B,CAAA;AAC7E,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAGA,IAAA,MAAM,cAAA,GAAiB,MAAM,YAAA,CAAa,aAAA,EAAe,OAAO,CAAA;AAChE,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,2BAAA,EAAuB,cAAc,CAAA,IAAA,CAAM,CAAA;AACvD,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAGd,IAAA,MAAM,OAAA,GAAU,WAAW,KAAA,GAAQ,CAAC,UAAU,SAAS,CAAA,GAAI,CAAC,MAAM,CAAA;AAClE,IAAA,MAAM,UAA0B,EAAC;AAEjC,IAAA,KAAA,MAAW,cAAc,OAAA,EAAS;AAChC,MAAA,OAAA,CAAQ,GAAA,CAAI;AAAA,mBAAA,EAAiB,UAAU,CAAA,iBAAA,CAAmB,CAAA;AAC1D,MAAA,MAAM,SAAS,MAAM,aAAA,CAAc,iBAAA,CAAkB,aAAA,EAAe,YAAY,OAAO,CAAA;AAEvF,MAAA,IAAI,CAAC,OAAO,UAAA,EAAY;AACtB,QAAA,IAAI,OAAO,aAAA,EAAe;AACxB,UAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,0BAAA,EAAwB,MAAA,CAAO,aAAa,CAAA,6BAAA,CAA+B,CAAA;AAAA,QACzF,CAAA,MAAO;AACL,UAAA,OAAA,CAAQ,IAAI,CAAA,+BAAA,EAA2B,MAAA,CAAO,iBAAiB,CAAA,CAAA,EAAI,MAAA,CAAO,kBAAkB,CAAA,gBAAA,CAAkB,CAAA;AAAA,QAChH;AAEA,QAAA,OAAA,CAAQ,IAAA,CAAK;AAAA,UACX,MAAA,EAAQ,UAAA;AAAA,UACR,OAAA,EAAS,KAAA;AAAA,UACT,KAAA,EAAO,MAAA,CAAO,aAAA,GACV,CAAA,mBAAA,EAAsB,MAAA,CAAO,aAAa,CAAA,SAAA,CAAA,GAC1C,CAAA,qBAAA,EAAwB,MAAA,CAAO,iBAAiB,CAAA,CAAA,EAAI,MAAA,CAAO,kBAAkB,CAAA,EAAA;AAAA,SAClF,CAAA;AACD,QAAA;AAAA,MACF;AAGA,MAAA,IAAI,MAAA;AAEJ,MAAA,IAAI,eAAe,QAAA,EAAU;AAC3B,QAAA,MAAA,GAAS,MAAM,uBAAA,CAAwB,aAAA,EAAe,OAAA,EAAS,MAAM,CAAA;AAAA,MACvE,CAAA,MAAA,IAAW,eAAe,SAAA,EAAW;AACnC,QAAA,MAAA,GAAS,MAAM,wBAAA,CAAyB,aAAA,EAAe,OAAO,CAAA;AAAA,MAChE,CAAA,MAAO;AACL,QAAA,MAAA,GAAS,EAAE,MAAA,EAAQ,UAAA,EAAY,OAAA,EAAS,KAAA,EAAO,OAAO,gBAAA,EAAiB;AAAA,MACzE;AAGA,MAAA,IAAI,MAAA,CAAO,OAAA,IAAW,MAAA,CAAO,SAAA,EAAW;AACtC,QAAA,MAAM,aAAA,CAAc,aAAA;AAAA,UAClB,aAAA;AAAA,UACA,OAAA;AAAA,UACA,UAAA;AAAA,UACA,OAAO,MAAA,IAAU,MAAA;AAAA,UACjB,MAAA,CAAO;AAAA,SACT;AAAA,MACF;AAEA,MAAA,OAAA,CAAQ,KAAK,MAAM,CAAA;AAAA,IACrB;AAGA,IAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,IAAA,CAAK,CAAA,CAAA,KAAK,EAAE,OAAO,CAAA;AAC9C,IAAA,IAAI,CAAC,UAAA,IAAc,MAAA,KAAW,KAAA,EAAO;AACnC,MAAA,OAAA,CAAQ,IAAI,+CAAwC,CAAA;AAEpD,MAAA,MAAM,YAAY,MAAM,aAAA,CAAc,iBAAA,CAAkB,aAAA,EAAe,OAAO,OAAO,CAAA;AACrF,MAAA,IAAI,UAAU,UAAA,EAAY;AACxB,QAAA,MAAM,MAAA,GAAS,MAAM,qBAAA,CAAsB,aAAA,EAAe,SAAS,MAAM,CAAA;AAEzE,QAAA,IAAI,MAAA,CAAO,OAAA,IAAW,MAAA,CAAO,SAAA,EAAW;AACtC,UAAA,MAAM,aAAA,CAAc,aAAA;AAAA,YAClB,aAAA;AAAA,YACA,OAAA;AAAA,YACA,KAAA;AAAA,YACA,OAAO,MAAA,IAAU,MAAA;AAAA,YACjB,MAAA,CAAO;AAAA,WACT;AAAA,QACF;AAEA,QAAA,OAAA,CAAQ,KAAK,MAAM,CAAA;AAAA,MACrB,CAAA,MAAO;AACL,QAAA,OAAA,CAAQ,IAAI,sCAAiC,CAAA;AAAA,MAC/C;AAAA,IACF;AAGA,IAAA,OAAA,CAAQ,IAAI,2BAAoB,CAAA;AAChC,IAAA,OAAA,CAAQ,IAAI,0TAAsD,CAAA;AAElE,IAAA,IAAI,aAAA,GAAgB,CAAA;AACpB,IAAA,OAAA,CAAQ,OAAA,CAAQ,CAAC,MAAA,EAAQ,KAAA,KAAU;AACjC,MAAA,MAAM,MAAA,GAAS,MAAA,CAAO,OAAA,GAAU,QAAA,GAAM,QAAA;AACtC,MAAA,OAAA,CAAQ,IAAI,CAAA,EAAG,MAAM,CAAA,CAAA,EAAI,MAAA,CAAO,MAAM,CAAA,CAAA,CAAG,CAAA;AAEzC,MAAA,IAAI,OAAO,OAAA,EAAS;AAClB,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,WAAA,EAAc,MAAA,CAAO,MAAM,CAAA,IAAA,CAAM,CAAA;AAC7C,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,cAAA,EAAiB,MAAA,CAAO,SAAS,CAAA,CAAE,CAAA;AAC/C,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,aAAA,EAAgB,MAAA,CAAO,WAAW,CAAA,CAAE,CAAA;AAChD,QAAA,aAAA,IAAiB,OAAO,MAAA,IAAU,CAAA;AAAA,MACpC,CAAA,MAAO;AACL,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,UAAA,EAAa,MAAA,CAAO,KAAK,CAAA,CAAE,CAAA;AAAA,MACzC;AAEA,MAAA,IAAI,QAAQ,OAAA,CAAQ,MAAA,GAAS,CAAA,EAAG,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,IAChD,CAAC,CAAA;AAED,IAAA,OAAA,CAAQ,IAAI,0TAAsD,CAAA;AAClE,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,0BAAA,EAAsB,aAAa,CAAA,IAAA,CAAM,CAAA;AAGrD,IAAA,IAAI,gBAAgB,CAAA,EAAG;AACrB,MAAA,OAAA,CAAQ,IAAI,iDAA4C,CAAA;AACxD,MAAA,MAAM,IAAI,OAAA,CAAQ,CAAAL,aAAW,UAAA,CAAWA,QAAAA,EAAS,GAAI,CAAC,CAAA;AAEtD,MAAA,MAAM,YAAA,GAAe,MAAM,YAAA,CAAa,aAAA,EAAe,OAAO,CAAA;AAC9D,MAAA,OAAA,CAAQ,IAAI,CAAA,yBAAA,EAAqB,YAAY,CAAA,OAAA,EAAU,YAAA,GAAe,cAAc,CAAA,KAAA,CAAO,CAAA;AAAA,IAC7F;AAGA,IAAA,OAAA,CAAQ,IAAI,0BAAmB,CAAA;AAC/B,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,YAAA,EAAe,aAAa,CAAA,CAAE,CAAA;AAC1C,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,YAAA,EAAe,OAAO,CAAA,CAAE,CAAA;AACpC,IAAA,OAAA,CAAQ,IAAI,CAAA,YAAA,EAAe,MAAM,aAAa,aAAA,EAAe,OAAO,CAAC,CAAA,IAAA,CAAM,CAAA;AAE3E,IAAA,OAAA,CAAQ,IAAI,kFAA2E,CAAA;AAAA,EAEzF,SAAS,KAAA,EAAO;AACd,IAAA,OAAA,CAAQ,KAAA,CAAM,iCAA4B,KAAK,CAAA;AAC/C,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AACF;AAKO,SAAS,mBAAmB0B,QAAAA,EAAwB;AACzD,EAAAA,QAAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,YAAY,kCAAkC,CAAA,CAC9C,MAAA,CAAO,yBAAA,EAA2B,iCAAA,EAAmC,QAAQ,CAAA,CAC7E,MAAA,CAAO,yBAAyB,0BAAA,EAA4B,GAAG,CAAA,CAC/D,MAAA,CAAO,qBAAA,EAAuB,8BAA8B,CAAA,CAC5D,MAAA,CAAO,yBAAyB,oCAAA,EAAsC,KAAK,CAAA,CAC3E,MAAA,CAAO,QAAA,EAAU,+BAA+B,CAAA,CAChD,MAAA,CAAO,CAAC,QAAA,KAA4B;AACnC,IAAA,aAAA,CAAc,QAAQ,CAAA,CAAE,KAAA,CAAM,OAAA,CAAQ,KAAK,CAAA;AAAA,EAC7C,CAAC,CAAA;AAGH,EAAA,MAAM,SAAA,GAAYA,SAAQ,QAAA,CAAS,IAAA,CAAK,SAAO,GAAA,CAAI,IAAA,OAAW,QAAQ,CAAA;AAEtE,EAAA,SAAA,CACG,QAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,sBAAsB,EAClC,MAAA,CAAO,qBAAA,EAAuB,sBAAsB,CAAA,CACpD,OAAO,yBAAA,EAA2B,mCAAA,EAAqC,QAAQ,CAAA,CAC/E,MAAA,CAAO,OAAO,QAAA,KAAkE;AAC/E,IAAA,IAAI;AACF,MAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AAExC,MAAA,IAAI,aAAA;AACJ,MAAA,IAAI,UAAA;AAEJ,MAAA,IAAI,SAAS,MAAA,EAAQ;AAEnB,QAAA,MAAM,MAAA,GAAS,aAAA,CAAc,SAAA,CAAU,QAAA,CAAS,MAAM,CAAA;AACtD,QAAA,IAAI,CAAC,MAAA,EAAQ;AACX,UAAA,OAAA,CAAQ,KAAA,CAAM,CAAA,eAAA,EAAa,QAAA,CAAS,MAAM,CAAA,WAAA,CAAa,CAAA;AACvD,UAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,QAChB;AACA,QAAA,aAAA,GAAgB,OAAO,QAAA,CAAS,OAAA;AAChC,QAAA,UAAA,GAAa,OAAO,QAAA,CAAS,IAAA;AAAA,MAC/B,CAAA,MAAO;AAEL,QAAA,MAAM,YAAA,GAAe,cAAc,eAAA,EAAgB;AACnD,QAAA,IAAI,CAAC,YAAA,EAAc;AACjB,UAAA,OAAA,CAAQ,MAAM,qEAAgE,CAAA;AAC9E,UAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,QAChB;AACA,QAAA,aAAA,GAAgB,aAAa,QAAA,CAAS,OAAA;AACtC,QAAA,UAAA,GAAa,aAAa,QAAA,CAAS,IAAA;AAAA,MACrC;AAEA,MAAA,MAAM,UAAU,MAAM,YAAA,CAAa,aAAA,EAAe,QAAA,CAAS,WAAW,QAAQ,CAAA;AAC9E,MAAA,OAAA,CAAQ,IAAI,CAAA,kBAAA,EAAcrB,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAE,CAAA;AAClD,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,mBAAA,EAAe,aAAa,CAAA,CAAE,CAAA;AAC1C,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,mBAAA,EAAeA,OAAAA,CAAM,KAAA,CAAM,CAAA,EAAG,OAAO,CAAA,IAAA,CAAM,CAAC,CAAA,EAAA,EAAK,QAAA,CAAS,OAAO,CAAA,CAAA,CAAG,CAAA;AAAA,IAClF,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,KAAA,CAAM,mCAA8B,KAAK,CAAA;AACjD,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAAA,EACF,CAAC,CAAA;AAGH,EAAA,SAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,qCAAqC,CAAA,CACjD,MAAA,CAAO,uBAAuB,sBAAsB,CAAA,CACpD,OAAO,yBAAA,EAA2B,mCAAA,EAAqC,QAAQ,CAAA,CAC/E,MAAA,CAAO,yBAAyB,+CAA+C,CAAA,CAC/E,MAAA,CAAO,OAAO,QAAA,KAAmF;AAChG,IAAA,IAAI;AACF,MAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AACxC,MAAA,MAAM,cAAc,UAAA,EAAW;AAE/B,MAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AAExC,MAAA,IAAI,aAAA;AACJ,MAAA,IAAI,UAAA;AAEJ,MAAA,IAAI,SAAS,MAAA,EAAQ;AACnB,QAAA,MAAM,MAAA,GAAS,aAAA,CAAc,SAAA,CAAU,QAAA,CAAS,MAAM,CAAA;AACtD,QAAA,IAAI,CAAC,MAAA,EAAQ;AACX,UAAA,OAAA,CAAQ,KAAA,CAAM,CAAA,eAAA,EAAa,QAAA,CAAS,MAAM,CAAA,WAAA,CAAa,CAAA;AACvD,UAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,QAChB;AACA,QAAA,aAAA,GAAgB,OAAO,QAAA,CAAS,OAAA;AAChC,QAAA,UAAA,GAAa,OAAO,QAAA,CAAS,IAAA;AAAA,MAC/B,CAAA,MAAO;AACL,QAAA,MAAM,YAAA,GAAe,cAAc,eAAA,EAAgB;AACnD,QAAA,IAAI,CAAC,YAAA,EAAc;AACjB,UAAA,OAAA,CAAQ,MAAM,qEAAgE,CAAA;AAC9E,UAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,QAChB;AACA,QAAA,aAAA,GAAgB,aAAa,QAAA,CAAS,OAAA;AACtC,QAAA,UAAA,GAAa,aAAa,QAAA,CAAS,IAAA;AAAA,MACrC;AAEA,MAAA,MAAM,OAAA,GAAU,SAAS,OAAA,IAAW,QAAA;AACpC,MAAA,MAAM,OAAA,GAAU,QAAA,CAAS,MAAA,GAAS,CAAC,QAAA,CAAS,MAAM,CAAA,GAAI,CAAC,QAAA,EAAU,SAAA,EAAW,KAAK,CAAA;AAEjF,MAAA,OAAA,CAAQ,IAAI,yBAAkB,CAAA;AAC9B,MAAA,OAAA,CAAQ,IAAI,0TAAsD,CAAA;AAClE,MAAA,OAAA,CAAQ,IAAI,CAAA,QAAA,EAAWA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAE,CAAA;AAC/C,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,SAAA,EAAY,aAAa,CAAA,CAAE,CAAA;AACvC,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,SAAA,EAAY,OAAO,CAAA,CAAE,CAAA;AACjC,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAEd,MAAA,KAAA,MAAW,UAAU,OAAA,EAAS;AAC1B,QAAA,MAAM,SAAS,MAAM,aAAA,CAAc,iBAAA,CAAkB,aAAA,EAAe,QAAQ,OAAO,CAAA;AACnF,QAAA,MAAM,UAAA,GAAa,MAAA,CAAO,UAAA,GAAa,QAAA,GAAM,QAAA;AAE7C,QAAA,OAAA,CAAQ,IAAI,CAAA,EAAG,UAAU,IAAI,MAAA,CAAO,WAAA,EAAa,CAAA,QAAA,CAAU,CAAA;AAC3D,QAAA,OAAA,CAAQ,IAAI,CAAA,gBAAA,EAAmB,MAAA,CAAO,UAAA,GAAa,KAAA,GAAQ,IAAI,CAAA,CAAE,CAAA;AAEjE,QAAA,IAAI,OAAO,aAAA,EAAe;AACxB,UAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,cAAA,EAAiB,MAAA,CAAO,aAAa,CAAA,QAAA,CAAU,CAAA;AAAA,QAC7D;AAEA,QAAA,OAAA,CAAQ,IAAI,CAAA,gBAAA,EAAmB,MAAA,CAAO,iBAAiB,CAAA,CAAA,EAAI,MAAA,CAAO,kBAAkB,CAAA,CAAE,CAAA;AAEtF,QAAA,IAAI,OAAO,WAAA,EAAa;AACtB,UAAA,MAAM,WAAW,IAAI,IAAA,CAAK,OAAO,WAAA,CAAY,SAAS,EAAE,cAAA,EAAe;AACvE,UAAA,OAAA,CAAQ,IAAI,CAAA,iBAAA,EAAoB,QAAQ,KAAK,MAAA,CAAO,WAAA,CAAY,MAAM,CAAA,KAAA,CAAO,CAAA;AAC7E,UAAA,IAAI,MAAA,CAAO,YAAY,SAAA,EAAW;AAChC,YAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,mBAAA,EAAsB,MAAA,CAAO,WAAA,CAAY,SAAS,CAAA,CAAE,CAAA;AAAA,UAClE;AAAA,QACF;AACA,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,MAChB;AAGF,MAAA,MAAM,KAAA,GAAQ,MAAM,aAAA,CAAc,aAAA,EAAc;AAChD,MAAA,OAAA,CAAQ,IAAI,8BAAuB,CAAA;AACnC,MAAA,OAAA,CAAQ,IAAI,0TAAsD,CAAA;AAClE,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,gBAAA,EAAmB,KAAA,CAAM,aAAa,CAAA,CAAE,CAAA;AACpD,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,qBAAA,EAAwB,KAAA,CAAM,kBAAkB,CAAA,CAAE,CAAA;AAC9D,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,oBAAA,EAAuB,KAAA,CAAM,gBAAgB,CAAA,IAAA,CAAM,CAAA;AAC/D,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAEd,MAAA,OAAA,CAAQ,IAAI,YAAY,CAAA;AACxB,MAAA,MAAA,CAAO,OAAA,CAAQ,MAAM,gBAAgB,CAAA,CAAE,QAAQ,CAAC,CAAC,MAAA,EAAQ,KAAK,CAAA,KAAM;AAClE,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,GAAA,EAAM,MAAM,CAAA,EAAA,EAAK,KAAK,CAAA,SAAA,CAAW,CAAA;AAAA,MAC/C,CAAC,CAAA;AAED,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,IAAI,aAAa,CAAA;AACzB,MAAA,MAAA,CAAO,OAAA,CAAQ,MAAM,iBAAiB,CAAA,CAAE,QAAQ,CAAC,CAACsB,QAAAA,EAAS,KAAK,CAAA,KAAM;AACpE,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,GAAA,EAAMA,QAAO,CAAA,EAAA,EAAK,KAAK,CAAA,SAAA,CAAW,CAAA;AAAA,MAChD,CAAC,CAAA;AAAA,IAEH,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,KAAA,CAAM,yCAAoC,KAAK,CAAA;AACvD,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAAA,EACF,CAAC,CAAA;AAEH,EAAA,SAAA,CACG,QAAQ,SAAS,CAAA,CACjB,YAAY,+BAA+B,CAAA,CAC3C,OAAO,YAAY;AAClB,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AACxC,IAAA,MAAM,OAAA,GAAU,cAAc,mBAAA,EAAoB;AAElD,IAAA,OAAA,CAAQ,IAAI,oCAA6B,CAAA;AACzC,IAAA,OAAA,CAAQ,IAAI,0TAAsD,CAAA;AAElE,IAAA,OAAA,CAAQ,OAAA,CAAQ,CAAC,MAAA,EAAQ,KAAA,KAAU;AACjC,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAG,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,OAAO,IAAI,CAAA,EAAA,EAAK,MAAA,CAAO,EAAE,CAAA,CAAA,CAAG,CAAA;AACzD,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,gBAAA,EAAmB,MAAA,CAAO,WAAW,CAAA,CAAE,CAAA;AACnD,MAAA,OAAA,CAAQ,IAAI,CAAA,aAAA,EAAgB,MAAA,CAAO,SAAS,IAAA,CAAK,IAAI,CAAC,CAAA,CAAE,CAAA;AACxD,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,eAAA,EAAkB,MAAA,CAAO,SAAS,CAAA,CAAE,CAAA;AAChD,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,mBAAA,EAAsB,MAAA,CAAO,aAAa,CAAA,CAAE,CAAA;AACxD,MAAA,IAAI,QAAQ,OAAA,CAAQ,MAAA,GAAS,CAAA,EAAG,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,IAChD,CAAC,CAAA;AAAA,EACH,CAAC,CAAA;AAEH,EAAA,SAAA,CACG,OAAA,CAAQ,OAAO,CAAA,CACf,WAAA,CAAY,kCAAkC,CAAA,CAC9C,MAAA,CAAO,mBAAA,EAAqB,yBAAA,EAA2B,IAAI,CAAA,CAC3D,MAAA,CAAO,OAAO,QAAA,KAAgC;AAC7C,IAAA,IAAI;AACF,MAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AACxC,MAAA,MAAM,cAAc,UAAA,EAAW;AAE/B,MAAA,MAAM,UAAA,GAAa,QAAA,CAAS,QAAA,CAAS,IAAA,IAAQ,IAAI,CAAA;AACjD,MAAA,MAAM,YAAA,GAAe,MAAM,aAAA,CAAc,gBAAA,CAAiB,UAAU,CAAA;AAEpE,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,kBAAA,EAAc,YAAY,CAAA,oBAAA,CAAsB,CAAA;AAC5D,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,eAAA,EAAW,UAAU,CAAA,gBAAA,CAAkB,CAAA;AAAA,IACrD,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,KAAA,CAAM,2CAAsC,KAAK,CAAA;AACzD,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAAA,EACF,CAAC,CAAA;AACL;AChjBY,IAAA,YAAA,qBAAAC,aAAAA,KAAL;AACLA,EAAAA,aAAAA,CAAA,aAAA,CAAA,eAAA,CAAA,GAAA,CAAA,CAAA,GAAA,eAAA;AACAA,EAAAA,aAAAA,CAAA,aAAA,CAAA,aAAA,CAAA,GAAA,CAAA,CAAA,GAAA,aAAA;AACAA,EAAAA,aAAAA,CAAA,aAAA,CAAA,QAAA,CAAA,GAAA,CAAA,CAAA,GAAA,QAAA;AAHUA,EAAAA,OAAAA,aAAAA;AAAA,CAAA,EAAA,YAAA,IAAA,EAAA,CAAA;AAYL,SAAS,sBAAA,GAAyD;AACvE,EAAA,OAAO,eAAe,YAAY,CAAA;AACpC;ACmGO,SAAS,eAAA,GAA2C;AACzD,EAAA,OAAOC,gBAAAA,CAAiB;IACtB,CAAC,MAAA,EAAQC,mBAAmB,CAAA;IAC5B,CAAC,OAAA,EAASA,mBAAmB,CAAA;IAC7B,CAAC,QAAA,EAAUC,eAAe,CAAA;AAC1B,IAAA;AACE,MAAA,UAAA;AACAC,MAAAA,gBAAAA,CAAiBF,mBAAAA,EAAqB;AACpC,QAAA,MAAA,EAAQG,aAAAA,EAAc;QACtB,SAAA,EAAW;OACZ;AAAA,KAAA;IAEH,CAAC,OAAA,EAAS,wBAAwB,CAAA;AAClC,IAAA;AACE,MAAA,UAAA;AACAD,MAAAA,gBAAAA,CAAiBD,eAAAA,EAAiB;AAChC,QAAA,MAAA,EAAQE,aAAAA,EAAc;QACtB,SAAA,EAAW;OACZ;AAAA,KAAA;IAEH,CAAC,iBAAA,EAAmBF,eAAe,CAAA;AACnC,IAAA;AACE,MAAA,gBAAA;AACAC,MAAAA,gBAAAA,CAAiBF,mBAAAA,EAAqB;AACpC,QAAA,MAAA,EAAQG,aAAAA,EAAc;QACtB,SAAA,EAAW;OACZ;AAAA;GAEJ,CAAA;AACH;AAYO,SAAS,YACd,cAAA,EAC0D;AACnDC,EAAAA,OAAAA,aAAAA;AACL,IAAA,cAAA;IACA,eAAA;AAAgB,GAAA;AAEpB;AAEA,eAAsB,UAAA,CACpB,GAAA,EACA5C,SAAAA,EACAE,OAAAA,EACmC;AACnC,EAAA,MAAM,YAAA,GAAe,MAAM,eAAA,CAAgB,GAAA,EAAKF,WAASE,OAAM,CAAA;AAC/D2C,EAAAA,mBAAAA,CAAoB,YAAY,CAAA;AACzB,EAAA,OAAA,YAAA;AACT;AAEA,eAAsB,eAAA,CACpB,GAAA,EACA7C,SAAAA,EACAE,OAAAA,EACwC;AACxC,EAAA,MAAM,YAAA,GAAe,MAAM4C,mBAAAA,CAAoB,GAAA,EAAK9C,WAASE,OAAM,CAAA;AACnE,EAAA,OAAO,YAAY,YAAY,CAAA;AACjC;ACjLO,IAAM,gCAAA,GACX,8CAAA;ACqBK,IAAM,qBAAA,GACX,6CAAA;ACnBF,IAAI,OAAA,CAAQ,GAAA,CAAI,QAAA,KAAa,YAAA,EAAc;ACwD3C,IAAI,OAAA,CAAQ,GAAA,CAAI,QAAA,KAAa,YAAA,EAAc;AC7CpC,SAAS,cACd,KAAA,EAMY;AACZ,EAAA,IAAI,CAAC,KAAA,EAAO;AACJ,IAAA,MAAA,IAAI,MAAM,qBAAqB,CAAA;AAAA,EAAA;AAEvC,EAAA,IAAI,OAAO,KAAA,KAAU,QAAA,IAAY,SAAA,IAAa,KAAA,EAAO;AACnD,IAAA,OAAO,KAAA,CAAM,OAAA;AAAA,EAAA;AAEX,EAAA,IAAA,KAAA,CAAM,OAAA,CAAQ,KAAK,CAAA,EAAG;AACxB,IAAA,OAAO,MAAM,CAAC,CAAA;AAAA,EAAA;AAET,EAAA,OAAA,KAAA;AACT;AAsEO,SAAS,qBAAA,CACd,gBACA,uBAAA,EACA;AACA,EAAA,OAAO,CACL,OAAA,KACgD;AAC5C,IAAA,IAAA,CAAC,QAAQ,KAAA,EAAO;AAElB,MAAA,OAAO,OAAO,MAAA,CAAO;QACnB,OAAA,EAAS,cAAA;AACT,QAAA,IAAA,EAAM,WAAA,CAAY;OACnB,CAAA;AAAA,IAAA;AAGH,IAAA,MAAM,YAAA,GAAe,OAAA,CAAQ,UAAA,GACzB,WAAA,CAAY,WACZ,WAAA,CAAY,QAAA;AAChB,IAAA,OAAO,OAAO,MAAA,CAAO;MACnB,OAAA,EAAS,aAAA,CAAc,QAAQ,KAAK,CAAA;AACpC,MAAA,IAAA,EAAM,oBAAoB,OAAA,CAAQ,KAAK,CAAA,GACnC,mBAAA,CAAoB,YAAY,CAAA,GAChC,YAAA;MACJ,GAAI,mBAAA,CAAoB,QAAQ,KAAK,CAAA,GAAI,EAAE,MAAA,EAAQ,OAAA,CAAQ,KAAA,EAAM,GAAI;KACtE,CAAA;AAAA,EAAA,CAAA;AAEL;AAEO,SAAS,oBACd,KAAA,EAIsC;AAEpC,EAAA,OAAA,CAAC,CAAC,KAAA,IACF,OAAO,UAAU,QAAA,IACjB,SAAA,IAAa,KAAA,IACb6C,qBAAAA,CAAuB,KAAK,CAAA;AAEhC;AC3IA,eAAsB,sBAAA,CACpB,KAAA,EACA7C,OAAAA,GAAmD,EAAA,EACnB;AAC1B,EAAA,MAAA;IACJ,cAAA,GAAiB;GAAA,GACfA,OAAAA;AACJ,EAAA,OAAO,MAAM,wBAAA,CAAyB;AACpC,IAAA,cAAA;IACA,KAAA,EAAO;MACL8C,iBAAAA,EAAkB,CAAE,MAAA,CAAO,KAAA,CAAM,KAAK,CAAA;MACtCA,iBAAAA,EAAkB,CAAE,MAAA,CAAO,KAAA,CAAM,YAAY,CAAA;MAC7CA,iBAAAA,EAAkB,CAAE,MAAA,CAAO,KAAA,CAAM,IAAI;AAAA;GAExC,CAAA;AACH;ACDO,IAAM,qCAAA,GAAwC,CAAA;AAgD9C,SAAS,8CAAA,GAA6G;AACpHC,EAAAA,OAAAA,gBAAAA;AACLC,IAAAA,gBAAAA,CAAiB,CAAC,CAAC,eAAA,EAAiBC,YAAAA,EAAc,CAAC,CAAC,CAAA;AACpD,IAAA,CAAC,KAAA,MAAW;MACV,GAAG,KAAA;MACH,aAAA,EAAe;AAAA,KAAA;AACjB,GAAA;AAEJ;AAsCA,eAAsB,wCAAA,CASpB,OAQAjD,OAAAA,EAWA;AAEM,EAAA,MAAA,cAAA,GACsB,gCAAA;AAG5B,EAAA,MAAM,gBAAA,GAAmB;AACvB,IAAA,KAAA,EAAO,EAAE,KAAA,EAAO,KAAA,CAAM,KAAA,IAAS,IAAA,EAAM,YAAY,IAAA,EAAK;AACtD,IAAA,GAAA,EAAK,EAAE,KAAA,EAAO,KAAA,CAAM,GAAA,IAAO,IAAA,EAAM,YAAY,IAAA,EAAK;AAClD,IAAA,KAAA,EAAO,EAAE,KAAA,EAAO,KAAA,CAAM,KAAA,IAAS,IAAA,EAAM,YAAY,KAAA,EAAM;AACvD,IAAA,IAAA,EAAM,EAAE,KAAA,EAAO,KAAA,CAAM,IAAA,IAAQ,IAAA,EAAM,YAAY,KAAA,EAAM;AACrD,IAAA,aAAA,EAAe,EAAE,KAAA,EAAO,KAAA,CAAM,aAAA,IAAiB,IAAA,EAAM,YAAY,KAAA,EAAM;AACvE,IAAA,YAAA,EAAc,EAAE,KAAA,EAAO,KAAA,CAAM,YAAA,IAAgB,IAAA,EAAM,YAAY,KAAA;AAAM,GAAA;AAEvE,EAAA,MAAM,QAAA,GAAW,gBAAA;AAMb,EAAA,IAAA,CAAC,QAAA,CAAS,YAAA,CAAa,KAAA,EAAO;AAChC,IAAA,QAAA,CAAS,aAAa,KAAA,GACpB,6CAAA;AAAA,EAAA;AAEA,EAAA,IAAA,CAAC,QAAA,CAAS,GAAA,CAAI,KAAA,EAAO;AACd,IAAA,QAAA,CAAA,GAAA,CAAI,KAAA,GAAQ,MAAM,sBAAA,CAAuB;MAChD,KAAA,EAAO,aAAA,CAAc,QAAA,CAAS,KAAA,CAAM,KAAK,CAAA;MACzC,YAAA,EAAc,aAAA,CAAc,QAAA,CAAS,YAAA,CAAa,KAAK,CAAA;MACvD,IAAA,EAAM,aAAA,CAAc,QAAA,CAAS,IAAA,CAAK,KAAK;KACxC,CAAA;AAAA,EAAA;AAEC,EAAA,IAAA,CAAC,QAAA,CAAS,aAAA,CAAc,KAAA,EAAO;AACjC,IAAA,QAAA,CAAS,cAAc,KAAA,GACrB,kCAAA;AAAA,EAAA;AAGE,EAAA,MAAA,cAAA,GAAiB,sBAAsB,cAA2B,CAAA;AACxE,EAAA,OAAO,OAAO,MAAA,CAAO;IACnB,QAAA,EAAU;AACR,MAAA,cAAA,CAAe,SAAS,KAAK,CAAA;AAC7B,MAAA,cAAA,CAAe,SAAS,GAAG,CAAA;AAC3B,MAAA,cAAA,CAAe,SAAS,KAAK,CAAA;AAC7B,MAAA,cAAA,CAAe,SAAS,IAAI,CAAA;AAC5B,MAAA,cAAA,CAAe,SAAS,aAAa,CAAA;AACrC,MAAA,cAAA,CAAe,SAAS,YAAY;AAAA,KAAA;AAEtC,IAAA,IAAA,EAAM,8CAAA,EAAA,CAAiD,MAAA,CAAO,EAAE,CAAA;AAChE,IAAA;GASD,CAAA;AACH;ACrLO,IAAM,sBAAA,GAAyB,CAAA;AAwC/B,SAAS,iCAAA,GAAmF;AAC1F+C,EAAAA,OAAAA,gBAAAA;IACLC,gBAAAA,CAAiB;MACf,CAAC,eAAA,EAAiBC,cAAc,CAAA;MAChC,CAAC,QAAA,EAAUC,eAAe;KAC3B,CAAA;AACD,IAAA,CAAC,KAAA,MAAW,EAAE,GAAG,KAAA,EAAO,eAAe,sBAAA,EAAuB;AAAA,GAAA;AAElE;AAkCO,SAAS,sBAAA,CAMd,OACAlD,OAAAA,EASA;AAEM,EAAA,MAAA,cAAA,GAA2C,qBAAA;AAGjD,EAAA,MAAM,gBAAA,GAAmB;AACvB,IAAA,MAAA,EAAQ,EAAE,KAAA,EAAO,KAAA,CAAM,MAAA,IAAU,IAAA,EAAM,YAAY,IAAA,EAAK;AACxD,IAAA,WAAA,EAAa,EAAE,KAAA,EAAO,KAAA,CAAM,WAAA,IAAe,IAAA,EAAM,YAAY,IAAA,EAAK;AAClE,IAAA,SAAA,EAAW,EAAE,KAAA,EAAO,KAAA,CAAM,SAAA,IAAa,IAAA,EAAM,YAAY,KAAA;AAAM,GAAA;AAEjE,EAAA,MAAM,QAAA,GAAW,gBAAA;AAMX,EAAA,MAAAmD,KAAAA,GAAO,EAAE,GAAG,KAAA,EAAM;AAGxB,EAAA,MAAM,iBAAA,GAAA,CAAoCA,KAAAA,CAAK,YAAA,IAAgB,EAAA,EAAI,GAAA;AACjE,IAAA,CAAC,MAAA,MAAY;AACX,MAAA,OAAA,EAAS,MAAA,CAAO,OAAA;AAChB,MAAA,IAAA,EAAMC,WAAAA,CAAY,eAAA;AAClB,MAAA;AAAA,KAAA;AACF,GAAA;AAGI,EAAA,MAAA,cAAA,GAAiB,sBAAsB,cAA2B,CAAA;AACxE,EAAA,OAAO,OAAO,MAAA,CAAO;IACnB,QAAA,EAAU;AACR,MAAA,cAAA,CAAe,SAAS,MAAM,CAAA;AAC9B,MAAA,cAAA,CAAe,SAAS,WAAW,CAAA;AACnC,MAAA,cAAA,CAAe,SAAS,SAAS,CAAA;MACjC,GAAG;AAAA,KAAA;AAEL,IAAA,IAAA,EAAM,mCAAA,CAAoC,MAAA;AACxCD,MAAAA;AAAA,KAAA;AAEF,IAAA;GASD,CAAA;AACH;ACvIA,IAAI,OAAA,CAAQ,GAAA,CAAI,QAAA,KAAa,YAAA,EAAc;;;ACnB3C,kBAAA,EAAA;AAOA,IAAM,iBAAA,GAAoB,8CAAA;AAC1B,IAAM,QAAA,GAAW,CAAA;AACjB,IAAM,cAAA,GAAiB,GAAA;AAGvB,IAAM,kBAAkBvB,IAAAA,CAAK,IAAA,CAAK,OAAA,CAAQ,GAAA,IAAO,4BAA4B,CAAA;AAC7E,IAAM,gBAAA,GAAmB,EAAA;AAOzB,SAAS,UAAA,GAAqC;AAC5C,EAAA,IAAI;AACF,IAAA,IAAIC,GAAAA,CAAG,UAAA,CAAW,eAAe,CAAA,EAAG;AAClC,MAAA,MAAM,IAAA,GAAOA,GAAAA,CAAG,YAAA,CAAa,eAAA,EAAiB,OAAO,CAAA;AACrD,MAAA,OAAO,IAAA,CAAK,MAAM,IAAI,CAAA;AAAA,IACxB;AAAA,EACF,SAAS,KAAA,EAAO;AAAA,EAEhB;AACA,EAAA,OAAO,EAAC;AACV;AAEA,SAAS,WAAW,MAAA,EAAgC;AAClD,EAAA,IAAI;AACF,IAAAA,GAAAA,CAAG,cAAc,eAAA,EAAiB,IAAA,CAAK,UAAU,MAAA,EAAQ,IAAA,EAAM,CAAC,CAAC,CAAA;AAAA,EACnE,SAAS,KAAA,EAAO;AAAA,EAEhB;AACF;AAEA,SAAS,SAAS,MAAA,EAAyB;AACzC,EAAA,MAAM,SAAS,UAAA,EAAW;AAC1B,EAAA,MAAM,SAAA,GAAY,OAAO,MAAM,CAAA;AAC/B,EAAA,IAAI,CAAC,WAAW,OAAO,IAAA;AAEvB,EAAA,MAAM,mBAAmB,IAAA,CAAK,GAAA,EAAI,GAAI,SAAA,KAAc,MAAO,EAAA,GAAK,EAAA,CAAA;AAChE,EAAA,OAAO,eAAA,IAAmB,gBAAA;AAC5B;AAEA,SAAS,sBAAsB,MAAA,EAAwB;AACrD,EAAA,MAAM,SAAS,UAAA,EAAW;AAC1B,EAAA,MAAM,SAAA,GAAY,OAAO,MAAM,CAAA;AAC/B,EAAA,IAAI,CAAC,WAAW,OAAO,SAAA;AAEvB,EAAA,MAAM,mBAAmB,IAAA,CAAK,GAAA,EAAI,GAAI,SAAA,KAAc,MAAO,EAAA,GAAK,EAAA,CAAA;AAChE,EAAA,MAAM,cAAA,GAAiB,IAAA,CAAK,IAAA,CAAK,gBAAA,GAAmB,eAAe,CAAA;AAEnE,EAAA,IAAI,cAAA,IAAkB,GAAG,OAAO,SAAA;AAChC,EAAA,IAAI,cAAA,KAAmB,GAAG,OAAO,QAAA;AACjC,EAAA,OAAO,GAAG,cAAc,CAAA,MAAA,CAAA;AAC1B;AAEA,SAAS,YAAY,MAAA,EAAgB;AACnC,EAAA,MAAM,SAAS,UAAA,EAAW;AAC1B,EAAA,MAAA,CAAO,MAAM,CAAA,GAAI,IAAA,CAAK,GAAA,EAAI;AAC1B,EAAA,UAAA,CAAW,MAAM,CAAA;AACnB;AAEO,IAAM,cAAA,GAAiB,IAAII,OAAAA,CAAQ,SAAS,EAChD,WAAA,CAAY,kFAAkF,CAAA,CAC9F,MAAA,CAAO,2BAAA,EAA6B,oDAAoD,CAAA,CACxF,MAAA,CAAO,OAAO,OAAA,KAAY;AACzB,EAAA,MAAMX,YAAU,GAAA,EAAI;AAEpB,EAAA,IAAI;AAEF,IAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,GAAA,CAAI,aAAA,IAAiBM,IAAAA,CAAK,KAAK,OAAA,CAAQ,GAAA,CAAI,IAAA,IAAQ,EAAA,EAAI,wBAAwB,CAAA;AAE1G,IAAA,IAAI,CAACC,GAAAA,CAAG,UAAA,CAAW,UAAU,CAAA,EAAG;AAC9B,MAAA,OAAA,CAAQ,KAAA,CAAMhB,OAAAA,CAAM,GAAA,CAAI,0BAAqB,CAAC,CAAA;AAC9C,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,aAAA,EAAgB,UAAU,EAAE,CAAC,CAAA;AACpD,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,kEAAkE,CAAC,CAAA;AAC5F,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,sBAAsB,CAAC,CAAA;AAC9C,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAGA,IAAA,MAAM,cAAA,GAAiB,IAAI,UAAA,CAAW,IAAA,CAAK,KAAA,CAAMgB,IAAG,YAAA,CAAa,UAAA,EAAY,OAAO,CAAC,CAAC,CAAA;AACtF,IAAA,MAAM,aAAA,GAAgB,MAAMvB,8BAAAA,CAA6B,cAAc,CAAA;AAEvE,IAAA,MAAM,mBAAmB,OAAA,CAAQ,SAAA,GAC7BR,QAAQ,OAAA,CAAQ,SAAS,IACzB,aAAA,CAAc,OAAA;AAElB,IAAA,OAAA,CAAQ,GAAA,CAAIe,OAAAA,CAAM,IAAA,CAAK,2CAAoC,CAAC,CAAA;AAC5D,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,IAAI,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA;AACtC,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,aAAA,EAAgB,gBAAgB,EAAE,CAAC,CAAA;AAC1D,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,UAAA,EAAa,eAAe,cAAA,EAAgB,QAAQ,CAAC,CAAA;AAC5E,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,iBAAA,CAAmB,CAAC,CAAA;AAG3C,IAAA,IAAI,CAAC,QAAA,CAAS,gBAAgB,CAAA,EAAG;AAC/B,MAAA,MAAM,aAAA,GAAgB,sBAAsB,gBAAgB,CAAA;AAC5D,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,MAAA,CAAO;AAAA,uDAAA,CAAsD,CAAC,CAAA;AAChF,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,4BAAA,EAA+B,aAAa,EAAE,CAAC,CAAA;AACtE,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAGA,IAAAS,SAAAA,CAAQ,MAAM,yBAAyB,CAAA;AACvC,IAAA,MAAM,MAAA,GAAS,kBAAA;AAAA,MACb,OAAA,CAAQ,IAAI,cAAA,IAAkB;AAAA,KAChC;AACA,IAAA,MAAM,MAAM,MAAA,CAAO,GAAA;AAEnB,IAAA,MAAM,gBAAA,GAAmBxB,QAAQ,iBAAiB,CAAA;AAGlD,IAAA,MAAM,CAAC,kBAAkB,CAAA,GAAI,MAAM,sBAAA,CAAuB;AAAA,MACxD,IAAA,EAAM,gBAAA;AAAA,MACN,OAAO,aAAA,CAAc,OAAA;AAAA,MACrB,YAAA,EAAc;AAAA,KACf,CAAA;AAGD,IAAA,IAAI;AACF,MAAA,MAAM,iBAAA,GAAoB,MAAM,UAAA,CAAW,GAAA,EAAK,kBAAkB,CAAA;AAClE,MAAA,MAAM,gBAAgB,MAAA,CAAO,iBAAA,CAAkB,IAAA,CAAK,MAAM,IAAI,EAAA,IAAM,QAAA;AAEpE,MAAA,IAAI,gBAAgB,cAAA,EAAgB;AAClC,QAAAwB,SAAAA,CAAQ,KAAK,6BAA6B,CAAA;AAC1C,QAAA,OAAA,CAAQ,GAAA,CAAIT,QAAM,GAAA,CAAI;AAAA,uBAAA,EAAuB,aAAA,CAAc,cAAA,EAAgB,CAAA,MAAA,CAAQ,CAAC,CAAA;AACpF,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,4DAA4D,CAAC,CAAA;AACpF,QAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,MAChB;AAEA,MAAAS,UAAQ,OAAA,CAAQ,CAAA,gBAAA,EAAmB,aAAA,CAAc,cAAA,EAAgB,CAAA,MAAA,CAAQ,CAAA;AAAA,IAC3E,SAAS,KAAA,EAAO;AACd,MAAAA,SAAAA,CAAQ,KAAK,wBAAwB,CAAA;AACrC,MAAA,OAAA,CAAQ,GAAA,CAAIT,OAAAA,CAAM,GAAA,CAAI,2CAAsC,CAAC,CAAA;AAC7D,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,uCAAuC,CAAC,CAAA;AAC/D,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAGA,IAAAS,SAAAA,CAAQ,MAAM,uCAAuC,CAAA;AACrD,IAAA,MAAM,CAAC,qBAAqB,CAAA,GAAI,MAAM,sBAAA,CAAuB;AAAA,MAC3D,IAAA,EAAM,gBAAA;AAAA,MACN,KAAA,EAAO,gBAAA;AAAA,MACP,YAAA,EAAc;AAAA,KACf,CAAA;AAGD,IAAA,MAAM,EAAE,OAAO,eAAA,EAAgB,GAAI,MAAM,GAAA,CAAI,kBAAA,GAAqB,IAAA,EAAK;AAGvE,IAAA,MAAM,oBAAA,GAAuB,MAAM,wCAAA,CAAyC;AAAA,MAC1E,KAAA,EAAO,aAAA;AAAA,MACP,IAAA,EAAM,gBAAA;AAAA,MACN,KAAA,EAAO,gBAAA;AAAA,MACP,GAAA,EAAK;AAAA,KACN,CAAA;AAGD,IAAA,MAAM,qBAAqB,MAAA,CAAO,cAAc,CAAA,GAAI,MAAA,CAAO,MAAM,QAAQ,CAAA;AACzE,IAAA,MAAM,sBAAsB,sBAAA,CAAuB;AAAA,MACjD,MAAA,EAAQ,kBAAA;AAAA,MACR,WAAA,EAAa,qBAAA;AAAA,MACb,SAAA,EAAW,aAAA;AAAA,MACX,MAAA,EAAQ;AAAA,KACT,CAAA;AAED,IAAAA,UAAQ,IAAA,GAAO,yBAAA;AAGf,IAAA,MAAM,qBAAqB,MAAM,IAAA;AAAA,MAC/B,wBAAA,CAAyB,EAAE,OAAA,EAAS,CAAA,EAAG,CAAA;AAAA,MACvC,CAAC,EAAA,KAAO,mCAAA,CAAoC,aAAA,EAAe,EAAE,CAAA;AAAA,MAC7D,CAAC,EAAA,KACC,2CAAA;AAAA,QACE,eAAA;AAAA,QACA;AAAA,OACF;AAAA,MACF,CAAC,EAAA,KAAO,mCAAA,CAAoC,oBAAA,EAAsB,EAAE,CAAA;AAAA,MACpE,CAAC,EAAA,KAAO,mCAAA,CAAoC,mBAAA,EAAqB,EAAE;AAAA,KACrE;AAEA,IAAAA,SAAAA,CAAQ,IAAA,GAAO,CAAA,aAAA,EAAgB,cAAA,CAAe,gBAAgB,CAAA,SAAA,CAAA;AAG9D,IAAA,MAAM,iBAAA,GAAoB,MAAM,iCAAA,CAAkC,kBAAkB,CAAA;AAEpF,IAAA,MAAM,4BAA4B,gCAAA,CAAiC;AAAA,MACjE,GAAA;AAAA,MACA,gBAAA,EAAkB,KAAA;AAAA;AAAA,KACnB,CAAA;AAED,IAAA,MAAM,YAAY,MAAM,yBAAA,CAA0B,mBAAmB,EAAE,UAAA,EAAY,aAAa,CAAA;AAEhG,IAAAA,SAAAA,CAAQ,QAAQ,oBAAoB,CAAA;AAGpC,IAAA,WAAA,CAAY,gBAAgB,CAAA;AAG5B,IAAA,MAAM,cAAA,GAAiB,MAAM,UAAA,CAAW,GAAA,EAAK,qBAAqB,CAAA;AAClE,IAAA,MAAM,aAAa,MAAA,CAAO,cAAA,CAAe,IAAA,CAAK,MAAM,IAAI,EAAA,IAAM,QAAA;AAE9D,IAAA,OAAA,CAAQ,GAAA,CAAIT,OAAAA,CAAM,KAAA,CAAM,8BAAyB,CAAC,CAAA;AAClD,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,gBAAgB,GAAGA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA;AAC/D,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAA,EAAGA,QAAM,IAAA,CAAK,CAAA,+BAAA,EAAkC,SAAS,CAAA,eAAA,CAAiB,CAAC,CAAA;AAC/G,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAA,EAAGA,OAAAA,CAAM,KAAA,CAAM,CAAA,EAAG,UAAA,CAAW,cAAA,EAAgB,CAAA,MAAA,CAAQ,CAAC,CAAA;AAE7F,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,yBAAkB,CAAC,CAAA;AAC1C,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,wCAAwC,CAAC,CAAA;AAChE,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,2CAA2C,CAAC,CAAA;AACnE,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,8BAA8B,CAAC,CAAA;AACtD,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,wCAAwC,CAAC,CAAA;AAAA,EAElE,SAAS,KAAA,EAAY;AACnB,IAAAS,SAAAA,CAAQ,KAAK,gBAAgB,CAAA;AAC7B,IAAA,OAAA,CAAQ,MAAMT,OAAAA,CAAM,GAAA,CAAI,oBAAa,CAAA,EAAG,MAAM,OAAO,CAAA;AAErD,IAAA,IAAI,KAAA,CAAM,OAAA,EAAS,QAAA,CAAS,+BAA+B,CAAA,EAAG;AAC5D,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,oBAAoB,CAAC,CAAA;AAC9C,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,oCAA+B,CAAC,CAAA;AACvD,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,iCAA4B,CAAC,CAAA;AACpD,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,6BAAwB,CAAC,CAAA;AAAA,IAClD;AAEA,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AACF,CAAC,CAAA;AC5PH,IAAM,SAAA,GAAY,UAAU,IAAI,CAAA;AASzB,IAAM,aAAa,IAAIoB,OAAAA,CAAQ,KAAK,CAAA,CACxC,YAAY,oCAAoC,CAAA;AAEnD,UAAA,CACG,OAAA,CAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,4BAA4B,CAAA,CACxC,MAAA,CAAO,cAAA,EAAgB,kBAAA,EAAoB,KAAK,CAAA,CAChD,OAAO,yBAAA,EAA2B,6BAA6B,EAC/D,MAAA,CAAO,WAAA,EAAa,0BAA0B,KAAK,CAAA,CACnD,MAAA,CAAO,OAAO,OAAA,KAA4B;AACrC,EAAA,IAAI;AACF,IAAAZ,KAAAA,CAAM,EAAA,CAAG,IAAA,CAAK,2CAA+B,CAAC,CAAA;AAG9C,IAAA,MAAM,iBAAiBtB,UAAAA,CAAWE,IAAAA,CAAK,QAAQ,GAAA,EAAI,EAAG,cAAc,CAAC,CAAA;AAErE,IAAA,IAAI,CAAC,OAAA,CAAQ,MAAA,IAAU,CAAC,cAAA,EAAgB;AACtC,MAAA,MAAM,UAAA,GAAa,MAAM0B,OAAAA,CAAQ;AAAA,QAC/B,OAAA,EAAS,kDAAA;AAAA,QACT,YAAA,EAAc;AAAA,OACf,CAAA;AAED,MAAA,IAAI,UAAA,EAAY;AACd,QAAA,MAAM0B,KAAI/B,OAAAA,EAAQ;AAClB,QAAA+B,EAAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,QAAA,IAAI;AACF,UAAA,MAAM,UAAU,aAAa,CAAA;AAC7B,UAAAA,EAAAA,CAAE,KAAK,qBAAqB,CAAA;AAAA,QAC9B,SAAS,KAAA,EAAO;AACd,UAAAA,EAAAA,CAAE,KAAK,8BAA8B,CAAA;AACrC,UAAA,MAAM,KAAA;AAAA,QACR;AAAA,MACF,CAAA,MAAO;AACL,QAAA9B,KAAAA,CAAM,EAAA,CAAG,MAAA,CAAO,0CAAgC,CAAC,CAAA;AACjD,QAAA;AAAA,MACF;AAAA,IACF;AAGA,IAAA,MAAM,cAAA,GAAiB,MAAM,oBAAA,EAAqB;AAGlD,IAAA,MAAM,WAAA,GAAc,iBAAA;AACpB,IAAA,MAAM,OAAA,GAAU,QAAQ,OAAA,IAAW,QAAA;AACnC,IAAA,MAAM,aAAA,GAAgB,OAAA,KAAY,QAAA,GAAW,EAAA,GAAK,IAAI,OAAO,CAAA,CAAA;AAE7D,IAAA,IAAI,UAAA;AACJ,IAAA,IAAI,QAAQ,MAAA,EAAQ;AAClB,MAAA,UAAA,GAAa,CAAA,EAAG,cAAc,CAAA,CAAA,EAAI,cAAA,KAAmB,MAAA,GAAS,eAAe,YAAY,CAAA,CAAA,EAAI,WAAW,CAAA,EAAG,aAAa,CAAA,CAAA;AAAA,IAC1H,CAAA,MAAO;AACL,MAAA,MAAM,WAAW,OAAA,CAAQ,GAAA,GAAO,cAAA,KAAmB,MAAA,GAAS,UAAU,YAAA,GAAgB,EAAA;AACtF,MAAA,UAAA,GAAa,CAAA,EAAG,cAAc,CAAA,CAAA,EAAI,cAAA,KAAmB,MAAA,GAAS,KAAA,GAAQ,SAAS,CAAA,CAAA,EAAI,QAAQ,CAAA,CAAA,EAAI,WAAW,CAAA,EAAG,aAAa,CAAA,CAAA;AAAA,IAC5H;AAEA,IAAA,MAAM,IAAID,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,KAAA,CAAM,CAAA,WAAA,EAAc,WAAW,CAAA,EAAG,aAAa,CAAA,CAAE,CAAA;AAEnD,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,UAAU,UAAU,CAAA;AAErD,MAAA,KAAK,MAAA;AACL,MAAA,KAAK,MAAA;AACL,MAAA,CAAA,CAAE,IAAA,CAAK,CAAA,uBAAA,EAA0B,WAAW,CAAA,CAAE,CAAA;AAG9C,MAAA,IAAI,CAAC,QAAQ,MAAA,EAAQ;AACnB,QAAA,IAAA;AAAA,UACE,CAAA;;AAAA,EAEd,EAAA,CAAG,IAAA,CAAK,oDAAoD,CAAC;;AAAA;AAAA,EAG7D,GAAG,IAAA,CAAK;AAAA;AAAA;AAAA,CAGT,CAAC,CAAA,CAAA;AAAA,UACc;AAAA,SACF;AAAA,MACF;AAEA,MAAAC,KAAAA,CAAM,EAAA,CAAG,KAAA,CAAM,oCAA+B,CAAC,CAAA;AAAA,IACjD,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,uBAAuB,CAAA;AAC9B,MAAA,OAAA,CAAQ,KAAA,CAAM,GAAG,GAAA,CAAI;AAAA,OAAA,EAAY,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,EAAE,CAAC,CAAA;AAC5F,MAAAA,KAAAA,CAAM,EAAA,CAAG,GAAA,CAAI,gCAA2B,CAAC,CAAA;AACzC,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAAA,EACF,SAAS,KAAA,EAAO;AACd,IAAA,OAAA,CAAQ,KAAA,CAAM,GAAG,GAAA,CAAI;AAAA,OAAA,EAAY,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,EAAE,CAAC,CAAA;AAC5F,IAAAA,KAAAA,CAAM,EAAA,CAAG,GAAA,CAAI,gCAA2B,CAAC,CAAA;AACzC,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AACF,CAAC,CAAA;AAEP,UAAA,CACG,QAAQ,MAAM,CAAA,CACd,YAAY,8CAA8C,CAAA,CAC1D,OAAO,YAAY;AACd,EAAAF,KAAAA,CAAM,EAAA,CAAG,IAAA,CAAK,sCAA+B,CAAC,CAAA;AAE9C,EAAA,IAAI;AAEF,IAAA,MAAM,SAAA,GAAYpB,KAAK,OAAA,CAAQ,GAAA,IAAO,cAAA,EAAgB,aAAA,EAAe,OAAO,cAAc,CAAA;AAC1F,IAAA,MAAM,QAAA,GAAWF,WAAW,SAAS,CAAA;AAErC,IAAA,IAAI,QAAA,EAAU;AACZ,MAAA,MAAM,cAAc,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,SAAA,EAAW,OAAO,CAAC,CAAA;AAC/D,MAAA,OAAA,CAAQ,GAAA,CAAI,EAAA,CAAG,KAAA,CAAM,gCAA2B,CAAC,CAAA;AACjD,MAAA,OAAA,CAAQ,IAAI,EAAA,CAAG,IAAA,CAAK,cAAc,WAAA,CAAY,OAAO,EAAE,CAAC,CAAA;AACxD,MAAA,OAAA,CAAQ,GAAA,CAAI,EAAA,CAAG,IAAA,CAAK,CAAA,QAAA,EAAWH,IAAAA,CAAK,OAAA,CAAQ,GAAA,EAAI,EAAG,cAAA,EAAgB,aAAA,EAAe,KAAK,CAAC,EAAE,CAAC,CAAA;AAAA,IAC7F,CAAA,MAAO;AACL,MAAA,OAAA,CAAQ,GAAA,CAAI,EAAA,CAAG,MAAA,CAAO,oCAA+B,CAAC,CAAA;AAAA,IACxD;AAGA,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,UAAU,uCAAuC,CAAA;AAC1E,MAAA,IAAI,MAAA,CAAO,QAAA,CAAS,iBAAiB,CAAA,EAAG;AACtC,QAAA,OAAA,CAAQ,GAAA,CAAI,EAAA,CAAG,KAAA,CAAM,iCAA4B,CAAC,CAAA;AAClD,QAAA,MAAM,YAAA,GAAe,wBAAA,CAAyB,IAAA,CAAK,MAAM,CAAA;AACzD,QAAA,IAAI,YAAA,EAAc;AAChB,UAAA,OAAA,CAAQ,GAAA,CAAI,GAAG,IAAA,CAAK,CAAA,WAAA,EAAc,aAAa,CAAC,CAAC,EAAE,CAAC,CAAA;AAAA,QACtD;AAAA,MACF;AAAA,IACF,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,GAAA,CAAI,EAAA,CAAG,MAAA,CAAO,qCAAgC,CAAC,CAAA;AAAA,IACzD;AAGA,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,UAAU,kCAAkC,CAAA;AACrE,MAAA,OAAA,CAAQ,GAAA,CAAI,GAAG,IAAA,CAAK;AAAA,0BAAA,EAAwB,MAAA,CAAO,IAAA,EAAM,CAAA,CAAE,CAAC,CAAA;AAAA,IAC9D,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,GAAA,CAAI,EAAA,CAAG,IAAA,CAAK,gDAAsC,CAAC,CAAA;AAAA,IAC7D;AAGA,IAAA,IAAI,CAAC,QAAA,EAAU;AACb,MAAA,OAAA,CAAQ,GAAA,CAAI,EAAA,CAAG,IAAA,CAAK,uBAAuB,CAAC,CAAA;AAC5C,MAAA,OAAA,CAAQ,GAAA,CAAI,EAAA,CAAG,IAAA,CAAK,8BAA8B,CAAC,CAAA;AACnD,MAAA,OAAA,CAAQ,GAAA,CAAI,EAAA,CAAG,IAAA,CAAK,uCAAuC,CAAC,CAAA;AAAA,IAC9D;AAEA,IAAAsB,KAAAA,CAAM,EAAA,CAAG,KAAA,CAAM,0BAAqB,CAAC,CAAA;AAAA,EACvC,SAAS,KAAA,EAAO;AACd,IAAA,OAAA,CAAQ,KAAA,CAAM,GAAG,GAAA,CAAI;AAAA,OAAA,EAAY,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,EAAE,CAAC,CAAA;AAC5F,IAAAA,KAAAA,CAAM,EAAA,CAAG,GAAA,CAAI,+BAA0B,CAAC,CAAA;AACxC,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AACF,CAAC,CAAA;AAEP,eAAe,oBAAA,GAAwC;AAErD,EAAA,IAAIxB,UAAAA,CAAWE,KAAK,OAAA,CAAQ,GAAA,IAAO,WAAW,CAAC,GAAG,OAAO,KAAA;AACzD,EAAA,IAAIF,UAAAA,CAAWE,KAAK,OAAA,CAAQ,GAAA,IAAO,WAAW,CAAC,GAAG,OAAO,MAAA;AACzD,EAAA,IAAIF,UAAAA,CAAWE,KAAK,OAAA,CAAQ,GAAA,IAAO,gBAAgB,CAAC,GAAG,OAAO,MAAA;AAG9D,EAAA,OAAO,KAAA;AACT;AC3KA,IAAMqD,UAAAA,GAAYC,UAAUC,IAAI,CAAA;AAEzB,IAAM,aAAA,GAAgB,IAAIvB,OAAAA,CAAQ,QAAQ,EAC9C,WAAA,CAAY,6CAA6C,CAAA,CACzD,MAAA,CAAO,aAAA,EAAe,mCAAmC,CAAA,CACzD,MAAA,CAAO,OAAO,OAAA,KAAiC;AAC9C,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,kCAA2B,CAAC,CAAA;AAE7C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,6BAA6B,CAAA;AAGrC,IAAA,IAAI,cAAA,GAAiB,QAAA;AAGrB,IAAA,MAAM,cAAA,GAAiB,aAAA,CAAc,MAAA,EAAQ,OAAA,EAAQ;AACrD,IAAA,IAAI,cAAA,IAAkB,gBAAA,CAAiB,IAAA,CAAK,cAAc,CAAA,EAAG;AAC3D,MAAA,cAAA,GAAiB,cAAA;AAAA,IACnB;AAGA,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,YAAA,EAAAlB,cAAAA,EAAa,GAAI,MAAM,OAAO,IAAI,CAAA;AAC1C,MAAA,MAAM,EAAE,aAAA,EAAAqD,cAAAA,EAAc,GAAI,MAAM,OAAO,KAAK,CAAA;AAC5C,MAAA,MAAM,EAAE,SAAAzB,QAAAA,EAAS,IAAA,EAAA/B,QAAK,GAAI,MAAM,OAAO,MAAM,CAAA;AAE7C,MAAA,MAAM,UAAA,GAAawD,cAAAA,CAAc,MAAA,CAAA,IAAA,CAAY,GAAG,CAAA;AAChD,MAAA,MAAM,SAAA,GAAYzB,SAAQ,UAAU,CAAA;AAGpC,MAAA,MAAM,aAAA,GAAgB;AAAA,QACpB/B,MAAAA,CAAK,WAAW,oBAAoB,CAAA;AAAA,QACpCA,MAAAA,CAAK,WAAW,uBAAuB,CAAA;AAAA,QACvCA,MAAAA,CAAK,WAAW,8BAA8B,CAAA;AAAA,QAC9C;AAAA,OACF;AAEA,MAAA,KAAA,MAAW2B,SAAQ,aAAA,EAAe;AAChC,QAAA,IAAI;AACF,UAAA,MAAM,MAAM,IAAA,CAAK,KAAA,CAAMxB,cAAAA,CAAawB,KAAAA,EAAM,OAAO,CAAC,CAAA;AAClD,UAAA,IAAI,GAAA,CAAI,IAAA,KAAS,iBAAA,IAAqB,GAAA,CAAI,OAAA,EAAS;AACjD,YAAA,cAAA,GAAiB,GAAA,CAAI,OAAA;AACrB,YAAA;AAAA,UACF;AAAA,QACF,CAAA,CAAA,MAAQ;AAAA,QAER;AAAA,MACF;AAAA,IACF,CAAA,CAAA,MAAQ;AAAA,IAER;AAGA,IAAA,IAAI,mBAAmB,QAAA,EAAU;AAC/B,MAAA,IAAI;AAEF,QAAA,MAAM,QAAA,GAAW;AAAA,UACf,sBAAA;AAAA,UACA;AAAA,SACF;AAEA,QAAA,KAAA,MAAW,OAAO,QAAA,EAAU;AAC1B,UAAA,IAAI;AACF,YAAA,MAAM,EAAE,QAAO,GAAI,MAAM0B,WAAU,GAAA,EAAK,EAAE,OAAA,EAAS,GAAA,EAAM,CAAA;AAEzD,YAAA,MAAM,YAAA,GAAe,sBAAA,CAAuB,IAAA,CAAK,MAAM,CAAA;AACvD,YAAA,IAAI,YAAA,EAAc;AAChB,cAAA,cAAA,GAAiB,aAAa,CAAC,CAAA;AAC/B,cAAA;AAAA,YACF;AAAA,UACF,CAAA,CAAA,MAAQ;AAAA,UAER;AAAA,QACF;AAAA,MACF,CAAA,CAAA,MAAQ;AAAA,MAER;AAAA,IACF;AAGA,IAAA,IAAI,mBAAmB,QAAA,EAAU;AAC/B,MAAA,IAAI;AACF,QAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAMA,WAAU,qGAAqG,CAAA;AACxI,QAAA,MAAM,KAAA,GAAQ,wBAAA,CAAyB,IAAA,CAAK,MAAM,CAAA;AAClD,QAAA,IAAI,KAAA,EAAO;AACT,UAAA,cAAA,GAAiB,MAAM,CAAC,CAAA;AAAA,QAC1B;AAAA,MACF,CAAA,CAAA,MAAQ;AAAA,MAER;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,QAAQ,4BAA4B,CAAA;AAGtC,IAAA,MAAM,EAAE,MAAA,EAAQ,aAAA,EAAc,GAAI,MAAMA,WAAU,kCAAkC,CAAA;AACpF,IAAA,MAAM,MAAA,GAAS,cAAc,IAAA,EAAK;AAElC,IAAA,CAAA,CAAE,KAAK,+BAA0B,CAAA;AAEjC,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIzC,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAA,EAAGA,QAAM,MAAA,CAAO,CAAA,CAAA,EAAI,cAAc,CAAA,CAAE,CAAC,CAAA;AAC9E,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAA,EAAGA,QAAM,KAAA,CAAM,CAAA,CAAA,EAAI,MAAM,CAAA,CAAE,CAAC,CAAA;AACpE,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAGd,IAAA,IAAI,mBAAmB,MAAA,EAAQ;AAC7B,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,KAAA,CAAM,kDAA6C,CAAC,CAAA;AACtE,MAAAU,MAAM,kBAAkB,CAAA;AACxB,MAAA;AAAA,IACF;AAGA,IAAA,MAAM,OAAA,GAAU,eAAA,CAAgB,MAAA,EAAQ,cAAc,CAAA,GAAI,CAAA;AAE1D,IAAA,IAAI,CAAC,OAAA,EAAS;AACZ,MAAA,OAAA,CAAQ,GAAA,CAAIV,OAAAA,CAAM,MAAA,CAAO,+EAAqE,CAAC,CAAA;AAC/F,MAAAU,MAAM,kBAAkB,CAAA;AACxB,MAAA;AAAA,IACF;AAGA,IAAA,OAAA,CAAQ,GAAA,CAAIV,OAAAA,CAAM,IAAA,CAAK,6BAAsB,CAAC,CAAA;AAC9C,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,QAAA,EAAW,MAAM,mBAAmB,CAAC,CAAA;AAC5D,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAGd,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,aAAA,GAAgB,MAAMc,OAAAA,CAAQ;AAAA,QAClC,OAAA,EAAS,+BAAA;AAAA,QACT,YAAA,EAAc;AAAA,OACf,CAAA;AAED,MAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,EAAG;AAC3B,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,aAAA;AAAA,IACjB;AAEA,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAAG,MAAM,kBAAkB,CAAA;AACxB,MAAA;AAAA,IACF;AAGA,IAAA,MAAM,gBAAgBD,OAAAA,EAAQ;AAC9B,IAAA,aAAA,CAAc,MAAM,mCAAmC,CAAA;AAGvD,IAAA,IAAI,QAAA,GAAW,KAAA;AACf,IAAA,IAAI,SAAA,GAAY,EAAA;AAEhB,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAMgC,WAAU,uCAAuC,CAAA;AAC1E,MAAA,IAAI,MAAA,CAAO,QAAA,CAAS,iBAAiB,CAAA,EAAG;AACtC,QAAA,QAAA,GAAW,IAAA;AAEX,QAAA,KAAK,QAAA;AACL,QAAA,SAAA,GAAY,uCAAA;AAAA,MACd;AAAA,IACF,CAAA,CAAA,MAAQ;AAAA,IAER;AAGA,IAAA,IAAI,CAAC,SAAA,EAAW;AAEd,MAAA,IAAI;AACF,QAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAMA,WAAU,kBAAkB,CAAA;AACrD,QAAA,IAAI,OAAO,QAAA,CAAS,KAAK,KAAK,MAAA,CAAO,QAAA,CAAS,MAAM,CAAA,EAAG;AACrD,UAAA,SAAA,GAAY,uCAAA;AACZ,UAAA,OAAA,CAAQ,GAAA,CAAIzC,OAAAA,CAAM,MAAA,CAAO,0FAAgF,CAAC,CAAA;AAAA,QAC5G,CAAA,MAAO;AAEL,UAAA,SAAA,GAAY,uCAAA;AAAA,QACd;AAAA,MACF,CAAA,CAAA,MAAQ;AAEN,QAAA,SAAA,GAAY,uCAAA;AAAA,MACd;AAAA,IACF;AAEA,IAAA,aAAA,CAAc,QAAQ,4BAA4B,CAAA;AAElD,IAAA,IAAI;AAGF,MAAA,MAAM,EAAE,KAAA,EAAM,GAAI,MAAM,OAAO,eAAe,CAAA;AAE9C,MAAA,MAAM,IAAI,OAAA,CAAc,CAACL,QAAAA,EAAS,MAAA,KAAW;AAE3C,QAAA,MAAM,KAAA,GAAQ,SAAA,CAAU,KAAA,CAAM,GAAG,CAAA;AACjC,QAAA,MAAM,GAAA,GAAM,MAAM,CAAC,CAAA;AACnB,QAAA,MAAM,OAAA,GAAU,KAAA,CAAM,KAAA,CAAM,CAAC,CAAA;AAE7B,QAAA,MAAM,KAAA,GAAQ,KAAA,CAAM,GAAA,EAAK,IAAA,EAAM;AAAA,UAC7B,KAAA,EAAO,SAAA;AAAA,UACP,KAAA,EAAO;AAAA,SACR,CAAA;AAED,QAAA,KAAA,CAAM,EAAA,CAAG,OAAA,EAAS,CAAC,IAAA,KAAS;AAC1B,UAAA,IAAI,IAAA,KAAS,CAAA,EAAGA,QAAAA,EAAQ;AAAA,sBACZ,IAAI,KAAA,CAAM,CAAA,yBAAA,EAA4B,IAAI,EAAE,CAAC,CAAA;AAAA,QAC3D,CAAC,CAAA;AAED,QAAA,KAAA,CAAM,GAAG,OAAA,EAAS,CAAC,GAAA,KAAQ,MAAA,CAAO,GAAG,CAAC,CAAA;AAAA,MACxC,CAAC,CAAA;AAED,MAAA,aAAA,CAAc,KAAK,2BAAsB,CAAA;AAEzC,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIK,OAAAA,CAAM,KAAA,CAAM,4CAAqC,CAAC,CAAA;AAC9D,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,cAAA,EAAiB,cAAc,CAAA,KAAA,EAAQ,MAAM,EAAE,CAAC,CAAA;AACvE,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAGd,MAAA,IAAI;AACF,QAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAMyC,WAAU,sBAAsB,CAAA;AACzD,QAAA,MAAM,aAAc,iBAAA,CAAkB,IAAA,CAAK,OAAO,IAAA,EAAM,IAAK,CAAC,CAAA;AAC9D,QAAA,IAAI,UAAA,IAAc,eAAe,MAAA,EAAQ;AACvC,UAAA,OAAA,CAAQ,GAAA,CAAIzC,OAAAA,CAAM,KAAA,CAAM,0BAAqB,CAAA,EAAGA,QAAM,IAAA,CAAK,CAAA,CAAA,EAAI,UAAU,CAAA,CAAE,CAAC,CAAA;AAAA,QAC9E;AAAA,MACF,CAAA,CAAA,MAAQ;AAAA,MAER;AAEA,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,aAAc,CAAC,CAAA;AACtC,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,mCAA8B,CAAC,CAAA;AACtD,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,6BAAwB,CAAC,CAAA;AAChD,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,6BAAwB,CAAC,CAAA;AAChD,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,wFAAiF,CAAC,CAAA;AAE3G,MAAAU,MAAM,+BAA+B,CAAA;AAAA,IACvC,SAAS,KAAA,EAAO;AACd,MAAA,aAAA,CAAc,KAAK,sBAAiB,CAAA;AAEpC,MAAA,OAAA,CAAQ,MAAM,EAAE,CAAA;AAChB,MAAA,OAAA,CAAQ,KAAA,CAAMV,QAAM,GAAA,CAAI,uBAAuB,GAAG,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA;AAC1G,MAAA,OAAA,CAAQ,MAAM,EAAE,CAAA;AAChB,MAAA,OAAA,CAAQ,KAAA,CAAMA,OAAAA,CAAM,MAAA,CAAO,mDAAmD,CAAC,CAAA;AAC/E,MAAA,OAAA,CAAQ,KAAA,CAAMA,OAAAA,CAAM,IAAA,CAAK,yCAAyC,CAAC,CAAA;AACnE,MAAA,OAAA,CAAQ,KAAA,CAAMA,QAAM,IAAA,CAAK,8CAA8C,IAAIA,OAAAA,CAAM,GAAA,CAAI,yBAAyB,CAAC,CAAA;AAC/G,MAAA,OAAA,CAAQ,MAAM,EAAE,CAAA;AAChB,MAAA,OAAA,CAAQ,KAAA,CAAMA,OAAAA,CAAM,GAAA,CAAI,6BAA6B,CAAC,CAAA;AACtD,MAAA,OAAA,CAAQ,KAAA,CAAMA,OAAAA,CAAM,IAAA,CAAK,8BAA8B,CAAC,CAAA;AAExD,MAAAU,MAAM,eAAe,CAAA;AACrB,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAA,OAAA,CAAQ,KAAA,CAAMV,QAAM,GAAA,CAAI,QAAQ,GAAG,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA;AAC3F,IAAAU,MAAM,qBAAqB,CAAA;AAC3B,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AACF,CAAC,CAAA;AAGH,SAAS,eAAA,CAAgB,IAAY,EAAA,EAAoB;AACvD,EAAA,MAAM,SAAS,EAAA,CAAG,KAAA,CAAM,GAAG,CAAA,CAAE,IAAI,MAAM,CAAA;AACvC,EAAA,MAAM,SAAS,EAAA,CAAG,KAAA,CAAM,GAAG,CAAA,CAAE,IAAI,MAAM,CAAA;AAEvC,EAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,IAAA,CAAK,GAAA,CAAI,OAAO,MAAA,EAAQ,MAAA,CAAO,MAAM,CAAA,EAAG,CAAA,EAAA,EAAK;AAC/D,IAAA,MAAM,KAAA,GAAQ,MAAA,CAAO,CAAC,CAAA,IAAK,CAAA;AAC3B,IAAA,MAAM,KAAA,GAAQ,MAAA,CAAO,CAAC,CAAA,IAAK,CAAA;AAE3B,IAAA,IAAI,KAAA,GAAQ,OAAO,OAAO,CAAA;AAC1B,IAAA,IAAI,KAAA,GAAQ,OAAO,OAAO,EAAA;AAAA,EAC5B;AAEA,EAAA,OAAO,CAAA;AACT;;;AC7QA,WAAA,EAAA;ACCO,IAAM,eAAN,MAAmB;AAAA,EACxB,OAAwB,cAAA,mBAAiB,IAAI,GAAA,CAA0C;AAAA,IACrF;AAAA,MACE,2CAAA;AAAA,MACA,OAAO;AAAA,QACL,OAAA,EAAS,0BAAA;AAAA,QACT,UAAA,EAAY,iDAAA;AAAA,QACZ,OAAA,EAAS;AAAA,UACP,uCAAA;AAAA,UACA,qCAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,QAAA,EAAU;AAAA,OACZ;AAAA,KACF;AAAA,IACA;AAAA,MACE,wCAAA;AAAA,MACA,CAAC,KAAA,MAAW;AAAA,QACV,OAAA,EAAS,qBAAA;AAAA,QACT,UAAA,EAAY,4CAAA;AAAA,QACZ,OAAA,EAAS;AAAA,UACP,yBAAA;AAAA,UACA,+BAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,QAAA,EAAU;AAAA,OACZ;AAAA,KACF;AAAA,IACA;AAAA,MACE,6CAAA;AAAA,MACA,OAAO;AAAA,QACL,OAAA,EAAS,mBAAA;AAAA,QACT,UAAA,EAAY,2DAAA;AAAA,QACZ,OAAA,EAAS;AAAA,UACP,+BAAA;AAAA,UACA,8CAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,QAAA,EAAU;AAAA,OACZ;AAAA,KACF;AAAA,IACA;AAAA,MACE,gCAAA;AAAA,MACA,CAAC,KAAA,MAAW;AAAA,QACV,OAAA,EAAS,yBAAA;AAAA,QACT,UAAA,EAAY,wDAAA;AAAA,QACZ,OAAA,EAAS;AAAA,UACP,4BAAA;AAAA,UACA,6CAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,QAAA,EAAU;AAAA,OACZ;AAAA,KACF;AAAA,IACA;AAAA,MACE,oBAAA;AAAA,MACA,CAAC,KAAA,MAAW;AAAA,QACV,OAAA,EAAS,+BAAA;AAAA,QACT,UAAA,EAAY,4DAAA;AAAA,QACZ,OAAA,EAAS;AAAA,UACP,wCAAA;AAAA,UACA,2CAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,QAAA,EAAU;AAAA,OACZ;AAAA,KACF;AAAA,IACA;AAAA,MACE,aAAA;AAAA,MACA,CAAC,KAAA,MAAW;AAAA,QACV,OAAA,EAAS,qBAAA;AAAA,QACT,UAAA,EAAY,4CAAA;AAAA,QACZ,OAAA,EAAS;AAAA,UACP,oCAAA;AAAA,UACA,6CAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,QAAA,EAAU,IAAA;AAAA,QACV,UAAA,EAAY;AAAA,OACd;AAAA,KACF;AAAA,IACA;AAAA,MACE,6BAAA;AAAA,MACA,CAAC,KAAA,MAAW;AAAA,QACV,OAAA,EAAS,0BAAA;AAAA,QACT,UAAA,EAAY,0CAAA;AAAA,QACZ,OAAA,EAAS;AAAA,UACP,gCAAA;AAAA,UACA,8BAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,QAAA,EAAU,IAAA;AAAA,QACV,UAAA,EAAY;AAAA,OACd;AAAA,KACF;AAAA,IACA;AAAA,MACE,+CAAA;AAAA,MACA,CAAC,KAAA,MAAW;AAAA,QACV,OAAA,EAAS,mBAAA;AAAA,QACT,UAAA,EAAY,mDAAA;AAAA,QACZ,OAAA,EAAS;AAAA,UACP,wCAAA;AAAA,UACA,qCAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,QAAA,EAAU;AAAA,OACZ;AAAA,KACF;AAAA,IACA;AAAA,MACE,sCAAA;AAAA,MACA,CAAC,KAAA,MAAW;AAAA,QACV,OAAA,EAAS,wBAAA;AAAA,QACT,UAAA,EAAY,qDAAA;AAAA,QACZ,OAAA,EAAS;AAAA,UACP,gCAAA;AAAA,UACA,qCAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,QAAA,EAAU;AAAA,OACZ;AAAA,KACF;AAAA,IACA;AAAA,MACE,oCAAA;AAAA,MACA,CAAC,KAAA,MAAW;AAAA,QACV,OAAA,EAAS,4BAAA;AAAA,QACT,UAAA,EAAY,kDAAA;AAAA,QACZ,OAAA,EAAS;AAAA,UACP,0CAAA;AAAA,UACA,+CAAA;AAAA,UACA;AAAA,SACF;AAAA,QACA,QAAA,EAAU;AAAA,OACZ;AAAA;AACF,GACD,CAAA;AAAA;AAAA;AAAA;AAAA,EAKD,OAAO,MAAA,CAAO,KAAA,EAAwB,OAAA,EAA8B;AAElE,IAAA,MAAM,eAAe,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,OAAO,KAAK,CAAA;AAC1E,IAAA,MAAM,SAAA,GAAY,IAAA,CAAK,UAAA,CAAW,YAAY,CAAA;AAG9C,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIV,OAAAA,CAAM,GAAA,CAAI,IAAA,CAAK,gBAAW,IAAIA,OAAAA,CAAM,GAAA,CAAI,SAAA,CAAU,OAAO,CAAC,CAAA;AAGtE,IAAA,IAAI,SAAS,SAAA,EAAW;AACtB,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,cAAc,OAAA,CAAQ,SAAS,EAAE,CAAC,CAAA;AAAA,IAC3D;AAGA,IAAA,IAAI,SAAA,CAAU,UAAA,IAAc,OAAA,EAAS,UAAA,EAAY;AAC/C,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,MAAA,CAAO,YAAK,IAAIA,OAAAA,CAAM,MAAA,CAAO,IAAA,CAAK,gBAAgB,CAAC,CAAA;AACrE,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,GAAA,EAAM,UAAU,UAAA,IAAc,OAAA,EAAS,UAAU,CAAA,CAAE,CAAC,CAAA;AAAA,IAC7E;AAGA,IAAA,IAAI,SAAA,CAAU,OAAA,CAAQ,MAAA,GAAS,CAAA,EAAG;AAChC,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,YAAK,IAAIA,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK,aAAa,CAAC,CAAA;AAC9D,MAAA,SAAA,CAAU,OAAA,CAAQ,OAAA,CAAQ,CAAC,MAAA,EAAQ,KAAA,KAAU;AAC3C,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,GAAA,EAAM,QAAQ,CAAC,CAAA,EAAA,EAAK,MAAM,CAAA,CAAE,CAAC,CAAA;AAAA,MACtD,CAAC,CAAA;AAAA,IACH;AAGA,IAAA,IAAI,SAAA,CAAU,QAAA,IAAY,OAAA,EAAS,QAAA,EAAU;AAC3C,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,IAAI,UAAU,UAAA,EAAY;AACxB,QAAA,MAAM,OAAA,GAAU,IAAA,CAAK,KAAA,CAAM,SAAA,CAAU,aAAa,GAAI,CAAA;AACtD,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,+BAAA,EAAwB,OAAO,UAAU,CAAC,CAAA;AAAA,MACnE,CAAA,MAAO;AACL,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,wCAAiC,CAAC,CAAA;AAAA,MAC3D;AAAA,IACF;AAGA,IAAA,IAAI,OAAA,CAAQ,GAAA,CAAI,KAAA,IAAS,OAAA,CAAQ,IAAI,OAAA,EAAS;AAC5C,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,8BAAuB,CAAC,CAAA;AAC/C,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,GAAA,EAAM,YAAY,EAAE,CAAC,CAAA;AAC5C,MAAA,IAAI,KAAA,YAAiB,KAAA,IAAS,KAAA,CAAM,KAAA,EAAO;AACzC,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA;AACzC,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,KAAA,CAAM,KAAA,CAAM,MAAM,IAAI,CAAA,CAAE,GAAA,CAAI,CAAA,IAAA,KAAQ,QAAQ,IAAI,CAAA,CAAE,IAAA,CAAK,IAAI,CAAC,CAAC,CAAA;AAAA,MACtF;AAAA,IACF;AAEA,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAKA,OAAe,WAAW,YAAA,EAAiC;AAEzD,IAAA,KAAA,MAAW,CAAC,OAAA,EAAS,OAAO,CAAA,IAAK,KAAK,cAAA,EAAgB;AACpD,MAAA,IAAI,OAAA,CAAQ,IAAA,CAAK,YAAY,CAAA,EAAG;AAC9B,QAAA,OAAO,QAAQ,YAAY,CAAA;AAAA,MAC7B;AAAA,IACF;AAGA,IAAA,OAAO;AAAA,MACL,OAAA,EAAS,IAAA,CAAK,iBAAA,CAAkB,YAAY,CAAA;AAAA,MAC5C,UAAA,EAAY,+BAAA;AAAA,MACZ,OAAA,EAAS;AAAA,QACP,6BAAA;AAAA,QACA,gCAAA;AAAA,QACA,4BAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,QAAA,EAAU;AAAA,KACZ;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,OAAe,kBAAkB,OAAA,EAAyB;AAExD,IAAA,IAAI,UAAU,OAAA,CACX,OAAA,CAAQ,aAAA,EAAe,EAAE,EACzB,OAAA,CAAQ,gBAAA,EAAkB,EAAE,CAAA,CAC5B,QAAQ,gBAAA,EAAkB,EAAE,CAAA,CAC5B,OAAA,CAAQ,mBAAmB,EAAE,CAAA;AAGhC,IAAA,OAAA,GAAU,OAAA,CAAQ,OAAA,CAAQ,oBAAA,EAAsB,EAAE,CAAA;AAClD,IAAA,OAAA,GAAU,OAAA,CAAQ,OAAA,CAAQ,iBAAA,EAAmB,EAAE,CAAA;AAG/C,IAAA,OAAA,GAAU,OAAA,CAAQ,OAAA,CAAQ,qBAAA,EAAuB,WAAW,CAAA;AAG5D,IAAA,OAAA,GAAU,OAAA,CAAQ,OAAO,CAAC,CAAA,CAAE,aAAY,GAAI,OAAA,CAAQ,MAAM,CAAC,CAAA;AAE3D,IAAA,OAAO,OAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,SAAA,CACX,SAAA,EACA,OAAA,GAKI,EAAC,EACO;AACZ,IAAA,MAAM;AAAA,MACJ,UAAA,GAAa,CAAA;AAAA,MACb,YAAA,GAAe,GAAA;AAAA,MACf,QAAA,GAAW,GAAA;AAAA,MACX;AAAA,KACF,GAAI,OAAA;AAEJ,IAAA,IAAI,SAAA;AAEJ,IAAA,KAAA,IAAS,OAAA,GAAU,CAAA,EAAG,OAAA,IAAW,UAAA,EAAY,OAAA,EAAA,EAAW;AACtD,MAAA,IAAI;AACF,QAAA,OAAO,MAAM,SAAA,EAAU;AAAA,MACzB,SAAS,KAAA,EAAO;AAEd,QAAA,SAAA,GAAY,iBAAiB,KAAA,GAAQ,KAAA,GAAQ,IAAI,KAAA,CAAM,MAAA,CAAO,KAAK,CAAC,CAAA;AAEpE,QAAA,IAAI,YAAY,UAAA,EAAY;AAC1B,UAAA,MAAM,SAAA;AAAA,QACR;AAGA,QAAA,MAAM,KAAA,GAAQ,IAAA,CAAK,GAAA,CAAI,YAAA,GAAe,IAAA,CAAK,IAAI,CAAA,EAAG,OAAA,GAAU,CAAC,CAAA,EAAG,QAAQ,CAAA;AAExE,QAAA,IAAI,OAAA,EAAS;AACX,UAAA,OAAA,CAAQ,SAAS,SAAS,CAAA;AAAA,QAC5B,CAAA,MAAO;AACL,UAAAD,IAAI,IAAA,CAAK,CAAA,QAAA,EAAW,OAAO,CAAA,qBAAA,EAAwB,KAAK,CAAA,KAAA,CAAO,CAAA;AAAA,QACjE;AAEA,QAAA,MAAM,IAAI,OAAA,CAAQ,CAAAJ,aAAW,UAAA,CAAWA,QAAAA,EAAS,KAAK,CAAC,CAAA;AAAA,MACzD;AAAA,IACF;AAEA,IAAA,MAAM,SAAA;AAAA,EACR;AACF,CAAA;AAaO,SAAS,WAAA,CAAY,OAAwB,OAAA,EAA8B;AAChF,EAAA,YAAA,CAAa,MAAA,CAAO,OAAO,OAAO,CAAA;AACpC;;;ADhTA,gBAAA,EAAA;AAIO,IAAM,kBAAkB,IAAIyB,OAAAA,CAAQ,UAAU,CAAA,CAClD,YAAY,gCAAgC,CAAA;AAE/C,eAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,8BAA8B,CAAA,CAC1C,MAAA,CAAO,qBAAqB,eAAe,CAAA,CAC3C,OAAO,yBAAA,EAA2B,0CAA0C,EAC5E,MAAA,CAAO,6BAAA,EAA+B,+BAA+B,CAAA,CACrE,MAAA,CAAO,OAAO,OAAA,KAAmC;AAChD,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA;AAE1C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,qBAAqB,CAAA;AAG5B,IAAA,IAAI,OAAO,OAAA,CAAQ,IAAA;AACnB,IAAA,IAAI,CAAC,IAAA,EAAM;AACT,MAAA,MAAM,SAAA,GAAY,MAAMI,IAAAA,CAAK;AAAA,QAC3B,OAAA,EAAS,uBAAA;AAAA,QACT,WAAA,EAAa,mBAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,KAAA,IAAS,KAAA,CAAM,IAAA,EAAK,CAAE,WAAW,CAAA,EAAG;AACvC,YAAA,OAAO,2BAAA;AAAA,UACT;AACA,UAAA,IAAI,KAAA,CAAM,SAAS,EAAA,EAAI;AACrB,YAAA,OAAO,sCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,QAAAC,OAAO,6BAA6B,CAAA;AACpC,QAAA;AAAA,MACF;AAEA,MAAA,IAAA,GAAO,UAAU,QAAA,EAAS;AAAA,IAC5B;AAGA,IAAA,IAAI,UAAU,OAAA,CAAQ,OAAA;AACtB,IAAA,IAAI,CAAC,OAAA,EAAS;AACZ,MAAA,MAAM,YAAA,GAAe,MAAMM,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,qCAAA;AAAA,QACT,WAAA,EAAa,mBAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,KAAA,IAAS,KAAA,CAAM,IAAA,EAAK,CAAE,WAAW,CAAA,EAAG;AACvC,YAAA,OAAO,yCAAA;AAAA,UACT;AACA,UAAA,MAAM,SAAA,GAAY,MAAM,KAAA,CAAM,GAAG,EAAE,GAAA,CAAI,CAAA,CAAA,KAAK,CAAA,CAAE,IAAA,EAAM,CAAA;AACpD,UAAA,IAAI,SAAA,CAAU,SAAS,CAAA,EAAG;AACxB,YAAA,OAAO,sCAAA;AAAA,UACT;AACA,UAAA,IAAI,SAAA,CAAU,SAAS,EAAA,EAAI;AACzB,YAAA,OAAO,4BAAA;AAAA,UACT;AAEA,UAAA,KAAA,MAAW,QAAQ,SAAA,EAAW;AAC5B,YAAA,IAAI;AACF,cAAA5B,QAAQ,IAAI,CAAA;AAAA,YACd,CAAA,CAAA,MAAQ;AACN,cAAA,OAAO,2BAA2B,IAAI,CAAA,CAAA;AAAA,YACxC;AAAA,UACF;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,6BAA6B,CAAA;AACpC,QAAA;AAAA,MACF;AAEA,MAAA,OAAA,GAAU,aAAa,QAAA,EAAS;AAAA,IAClC;AAEA,IAAA,MAAM,eAAA,GAAkB,QAAQ,KAAA,CAAM,GAAG,EAAE,GAAA,CAAI,CAAA,CAAA,KAAK,CAAA,CAAE,IAAA,EAAM,CAAA;AAG5D,IAAA,IAAI,YAAY,OAAA,CAAQ,SAAA;AACxB,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,MAAM,cAAA,GAAiB,MAAMK,MAAAA,CAAO;AAAA,QAClC,OAAA,EAAS,sBAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,GAAA,EAAK,KAAA,EAAO,aAAA,EAAe,MAAM,wBAAA,EAAyB;AAAA,UACnE,EAAE,KAAA,EAAO,GAAA,EAAK,KAAA,EAAO,cAAA,EAAgB,MAAM,oBAAA,EAAqB;AAAA,UAChE,EAAE,OAAO,IAAA,CAAK,IAAA,CAAK,gBAAgB,MAAA,GAAS,CAAC,EAAE,QAAA,EAAS,EAAG,OAAO,CAAA,EAAG,IAAA,CAAK,KAAK,eAAA,CAAgB,MAAA,GAAS,CAAC,CAAC,CAAA,WAAA,CAAA,EAAe,MAAM,iBAAA,EAAkB;AAAA,UACjJ,EAAE,KAAA,EAAO,eAAA,CAAgB,MAAA,CAAO,QAAA,EAAS,EAAG,KAAA,EAAO,CAAA,EAAG,eAAA,CAAgB,MAAM,CAAA,WAAA,CAAA,EAAe,IAAA,EAAM,yBAAA;AAA0B;AAC7H,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,cAAc,CAAA,EAAG;AAC5B,QAAAC,OAAO,6BAA6B,CAAA;AACpC,QAAA;AAAA,MACF;AAEA,MAAA,SAAA,GAAY,eAAe,QAAA,EAAS;AAAA,IACtC;AAEA,IAAA,MAAM,YAAA,GAAe,SAAS,SAAS,CAAA;AAGvC,IAAAsC,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC;AAAA,EAC/BA,OAAAA,CAAM,IAAA,CAAK,OAAO,CAAC,IAAI,IAAI;AAAA,EAC3BA,QAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,gBAAgB,MAAM;AAAA,EAChDA,OAAAA,CAAM,KAAK,YAAY,CAAC,IAAI,YAAY,CAAA,IAAA,EAAO,gBAAgB,MAAM;AAAA,EACrEA,QAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,OAAO,OAAA,CAAQ,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,GAAA,EAAM,MAAA,CAAO,OAAA,CAAQ,KAAA,CAAM,EAAE,CAAC;AAAA,EAClFA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,YAAA,KAAiB,eAAA,CAAgB,MAAA,GAAS,SAAA,GAAY,YAAA,KAAiB,CAAA,GAAI,SAAA,GAAY,UAAU,CAAA,CAAA;AAAA,MAC/H;AAAA,KACF;AAEA,IAAA,MAAM,aAAA,GAAgB,MAAMc,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS;AAAA,KACV,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,6BAA6B,CAAA;AACpC,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,oCAAoC,CAAA;AAE5C,IAAA,IAAI;AACF,MAAA,MAAM,YAAY,MAAM,UAAA,CAAW,WAAW,cAAA,CAAe,WAAA,CAAY,MAAM,CAAA,EAAG;AAAA,QAChF,SAAS,eAAA,CAAgB,GAAA,CAAI,CAAA,IAAA,KAAQtB,OAAAA,CAAQ,IAAI,CAAC,CAAA;AAAA,QAClD,SAAA,EAAW,YAAA;AAAA,QACX,UAAA,EAAY,MAAA,CAAO,IAAA,CAAK,GAAA,EAAK,CAAA;AAAA,QAC7B,IAAA,EAAM,CAAA,SAAA,EAAY,IAAA,CAAK,GAAA,EAAK,CAAA,CAAA;AAAA,QAC5B,YAAA,EAAc;AAAA,OACf,CAAA;AAED,MAAA,IAAI,CAAC,SAAA,EAAW;AACd,QAAA,MAAM,IAAI,MAAM,qCAAqC,CAAA;AAAA,MACvD;AAEA,MAAA,CAAA,CAAE,KAAK,gCAAgC,CAAA;AAEvC,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,SAAA,EAAW,QAAQ,CAAA;AAEtD,MAAAyB,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,KAAA,CAAM,gCAAgC,CAAC;;AAAA,EAC7CA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC;AAAA,EAC/BA,OAAAA,CAAM,IAAA,CAAK,OAAO,CAAC,IAAI,IAAI;AAAA,EAC3BA,QAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,gBAAgB,MAAM;AAAA,EAChDA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,IAAI,YAAY,CAAA;;AAAA,EACxCA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC;AAAA,EAC1BA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,IAAI,SAAS;AAAA,EACrCA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,IAAI,WAAW;;AAAA,EACtCA,OAAAA,CAAM,MAAA,CAAO,aAAa,CAAC;AAAA;AAAA,oBAAA,EAEPA,OAAAA,CAAM,IAAA,CAAK,kCAAkC,CAAC;AAAA,uDAAA;AAAA,OAEvE;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,2BAA2B,CAAA;AAClC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,2BAAA,EAA8B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACpG;AACF,CAAC,CAAA;AAEH,eAAA,CACG,QAAQ,MAAM,CAAA,CACd,YAAY,4BAA4B,CAAA,CACxC,OAAO,YAAY;AAClB,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA;AAEzC,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,6BAA6B,CAAA;AAErC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,UAAA,CAAW,cAAc,EAAE,OAAA,EAAS,MAAA,CAAO,OAAA,EAAS,CAAA;AAEvF,IAAA,CAAA,CAAE,IAAA,CAAK,CAAA,MAAA,EAAS,SAAA,CAAU,MAAM,CAAA,iBAAA,CAAmB,CAAA;AAEnD,IAAA,IAAI,SAAA,CAAU,WAAW,CAAA,EAAG;AAC1B,MAAAC,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,2BAA2B,CAAC;;AAAA,EACzCA,OAAAA,CAAM,KAAK,sBAAsB,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,kCAAkC,CAAC;AAAA,EACpFA,OAAAA,CAAM,IAAA,CAAK,oDAAoD,CAAC,CAAA;AAAA,OACrE;AACA,MAAA;AAAA,IACF;AAGA,IAAAD,IAAI,IAAA,CAAK;AAAA,EAAKC,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC;AAAA,CAAI,CAAA;AAEtD,IAAA,SAAA,CAAU,OAAA,CAAQ,CAAC,QAAA,EAAU,KAAA,KAAU;AACrC,MAAA,MAAM,SAAA,GAAY,QAAA,CAAS,OAAA,KAAY,MAAA,CAAO,OAAA;AAC9C,MAAA,MAAM,IAAA,GAAO,YAAYA,OAAAA,CAAM,KAAA,CAAM,SAAS,CAAA,GAAIA,OAAAA,CAAM,KAAK,QAAQ,CAAA;AAErE,MAAAD,GAAAA,CAAI,IAAA;AAAA,QACF,CAAA,EAAGC,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAG,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,QAAA,CAAS,IAAI,CAAA,CAAE,CAAC;AAAA,GAAA,EACzCA,QAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,SAAS,OAAA,CAAQ,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,GAAA,EAAM,QAAA,CAAS,OAAA,CAAQ,KAAA,CAAM,EAAE,CAAC;AAAA,GAAA,EACtFA,QAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,QAAA,CAAS,QAAQ,MAAM;AAAA,GAAA,EACjDA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA,EAAI,SAAS,SAAS,CAAA,IAAA,EAAO,QAAA,CAAS,OAAA,CAAQ,MAAM;AAAA,GAAA,EAC5EA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,IAAI,IAAI;AAAA,GAAA,EAChCA,QAAM,IAAA,CAAK,oBAAoB,CAAC,CAAA,CAAA,EAAI,QAAA,CAAS,oBAAoB,CAAC;AAAA;AAAA,OAC1E;AAAA,IACF,CAAC,CAAA;AAED,IAAAU,KAAAA;AAAA,MACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,WAAW,CAAC;AAAA,EACzBA,OAAAA,CAAM,IAAA,CAAK,kCAAkC,CAAC,CAAA;AAAA,EAC9CA,OAAAA,CAAM,IAAA,CAAK,gCAAgC,CAAC,CAAA;AAAA,EAC5CA,OAAAA,CAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA,oBAAA;AAAA,KACxC;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,0BAAA,EAA6B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACnG;AACF,CAAC,CAAA;;;AErOH,WAAA,EAAA;AAEA,gBAAA,EAAA;AAIO,IAAM,kBAAkB,IAAIqB,OAAAA,CAAQ,UAAU,CAAA,CAClD,YAAY,6BAA6B,CAAA;AAE5C,eAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,kCAAkC,CAAA,CAC9C,MAAA,CAAO,uBAAuB,gBAAgB,CAAA,CAC9C,OAAO,iCAAA,EAAmC,sBAAsB,EAChE,MAAA,CAAO,eAAA,EAAiB,mDAAmD,CAAA,CAC3E,MAAA,CAAO,OAAO,OAAA,KAAmC;AAChD,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,MAAA,CAAO,4BAA4B,CAAC,CAAA;AAEhD,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,2BAA2B,CAAA;AAEnC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAG7C,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,UAAA,CAAW,cAAc,EAAE,OAAA,EAAS,MAAA,CAAO,OAAA,EAAS,CAAA;AAEvF,IAAA,CAAA,CAAE,IAAA,CAAK,CAAA,MAAA,EAAS,SAAA,CAAU,MAAM,CAAA,iBAAA,CAAmB,CAAA;AAEnD,IAAA,IAAI,SAAA,CAAU,WAAW,CAAA,EAAG;AAC1B,MAAAC,MAAM,oFAAoF,CAAA;AAC1F,MAAA;AAAA,IACF;AAGA,IAAA,MAAM,cAAA,GAAiB,MAAME,MAAAA,CAAO;AAAA,MAClC,OAAA,EAAS,+BAAA;AAAA,MACT,OAAA,EAAS,SAAA,CAAU,GAAA,CAAI,CAAA,EAAA,MAAO;AAAA,QAC5B,OAAO,EAAA,CAAG,OAAA;AAAA,QACV,OAAO,EAAA,CAAG,IAAA;AAAA,QACV,MAAM,CAAA,EAAG,EAAA,CAAG,SAAS,CAAA,IAAA,EAAO,EAAA,CAAG,QAAQ,MAAM,CAAA,oBAAA;AAAA,OAC/C,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIN,QAAAA,CAAS,cAAc,CAAA,EAAG;AAC5B,MAAAC,OAAO,6BAA6B,CAAA;AACpC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,gBAAA,GAAmB,UAAU,IAAA,CAAK,CAAA,EAAA,KAAM,GAAG,OAAA,KAAY,cAAA,CAAe,UAAU,CAAA;AAGtF,IAAA,IAAI,QAAQ,OAAA,CAAQ,KAAA;AACpB,IAAA,IAAI,CAAC,KAAA,EAAO;AACV,MAAA,MAAM,UAAA,GAAa,MAAMM,IAAAA,CAAK;AAAA,QAC5B,OAAA,EAAS,iBAAA;AAAA,QACT,WAAA,EAAa,oCAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,KAAA,IAAS,KAAA,CAAM,IAAA,EAAK,CAAE,WAAW,CAAA,EAAG;AACvC,YAAA,OAAO,4BAAA;AAAA,UACT;AACA,UAAA,IAAI,KAAA,CAAM,SAAS,GAAA,EAAK;AACtB,YAAA,OAAO,wCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,QAAAC,OAAO,6BAA6B,CAAA;AACpC,QAAA;AAAA,MACF;AAEA,MAAA,KAAA,GAAQ,WAAW,QAAA,EAAS;AAAA,IAC9B;AAGA,IAAA,IAAI,OAAO,OAAA,CAAQ,IAAA;AACnB,IAAA,IAAI,CAAC,IAAA,EAAM;AACT,MAAA,MAAM,UAAA,GAAa,MAAMK,MAAAA,CAAO;AAAA,QAC9B,OAAA,EAAS,gBAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,sBAAA,EAAwB,MAAM,4BAAA,EAA6B;AAAA,UACrF,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,kBAAA,EAAoB,MAAM,yBAAA,EAA0B;AAAA,UAC/E,EAAE,KAAA,EAAO,UAAA,EAAY,KAAA,EAAO,mBAAA,EAAqB,MAAM,8BAAA,EAA+B;AAAA,UACtF,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,eAAA,EAAiB,MAAM,0BAAA;AAA2B;AAC9E,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,QAAAC,OAAO,6BAA6B,CAAA;AACpC,QAAA;AAAA,MACF;AAEA,MAAA,IAAA,GAAO,WAAW,QAAA,EAAS;AAAA,IAC7B;AAGA,IAAA,IAAI,cAAc,OAAA,CAAQ,WAAA;AAC1B,IAAA,IAAI,CAAC,WAAA,EAAa;AAChB,MAAA,MAAM,gBAAA,GAAmB,MAAMM,IAAAA,CAAK;AAAA,QAClC,OAAA,EAAS,uBAAA;AAAA,QACT,WAAA,EAAa,4DAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,KAAA,IAAS,KAAA,CAAM,IAAA,EAAK,CAAE,SAAS,EAAA,EAAI;AACtC,YAAA,OAAO,+DAAA;AAAA,UACT;AACA,UAAA,IAAI,KAAA,CAAM,SAAS,GAAA,EAAM;AACvB,YAAA,OAAO,+CAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,gBAAgB,CAAA,EAAG;AAC9B,QAAAC,OAAO,6BAA6B,CAAA;AACpC,QAAA;AAAA,MACF;AAEA,MAAA,WAAA,GAAc,iBAAiB,QAAA,EAAS;AAAA,IAC1C;AAGA,IAAA,MAAM,QAAA,GAAW,MAAMK,MAAAA,CAAO;AAAA,MAC5B,OAAA,EAAS,gBAAA;AAAA,MACT,OAAA,EAAS;AAAA,QACP,EAAE,KAAA,EAAO,GAAA,EAAK,KAAA,EAAO,OAAA,EAAS,MAAM,gBAAA,EAAiB;AAAA,QACrD,EAAE,KAAA,EAAO,GAAA,EAAK,KAAA,EAAO,QAAA,EAAU,MAAM,iBAAA,EAAkB;AAAA,QACvD,EAAE,KAAA,EAAO,GAAA,EAAK,KAAA,EAAO,QAAA,EAAU,MAAM,qBAAA,EAAsB;AAAA,QAC3D,EAAE,KAAA,EAAO,IAAA,EAAM,KAAA,EAAO,SAAA,EAAW,MAAM,mBAAA;AAAoB;AAC7D,KACD,CAAA;AAED,IAAA,IAAIN,QAAAA,CAAS,QAAQ,CAAA,EAAG;AACtB,MAAAC,OAAO,6BAA6B,CAAA;AACpC,MAAA;AAAA,IACF;AAGA,IAAAsC,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC;AAAA,EAC/BA,QAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,iBAAiB,IAAI;AAAA,EAChDA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,IAAI,KAAK;AAAA,EAC7BA,QAAM,IAAA,CAAK,OAAO,CAAC,CAAA,CAAA,EAAI,IAAA,CAAK,aAAa;AAAA,EACzCA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,WAAA,CAAY,KAAA,CAAM,CAAA,EAAG,GAAG,CAAC,CAAA,EAAG,WAAA,CAAY,MAAA,GAAS,GAAA,GAAM,QAAQ,EAAE;AAAA,EAC/FA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,IAAI,QAAQ,CAAA;AAAA,EACxCA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA,CAAA,EAAI,iBAAiB,SAAS,CAAA,IAAA,EAAO,gBAAA,CAAiB,OAAA,CAAQ,MAAM,CAAA,CAAA;AAAA,MACpG;AAAA,KACF;AAEA,IAAA,MAAM,aAAA,GAAgB,MAAMc,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS;AAAA,KACV,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,6BAA6B,CAAA;AACpC,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,oCAAoC,CAAA;AAE5C,IAAA,IAAI;AACF,MAAA,MAAM,YAAY,MAAM,UAAA,CAAW,WAAW,cAAA,CAAe,WAAA,CAAY,MAAM,CAAA,EAAG;AAAA,QAChF,QAAA,EAAUtB,OAAAA,CAAQ,gBAAA,CAAiB,OAAO,CAAA;AAAA,QAC1C,KAAA;AAAA,QACA,WAAA;AAAA,QACA,YAAA,EAAc,IAAA;AAAA,QACd,cAAA,EAAgB,QAAA,CAAS,QAAkB,CAAA,GAAI,EAAA,GAAK,IAAA;AAAA;AAAA,QACpD,UAAA,EAAY,MAAA,CAAO,IAAA,CAAK,GAAA,EAAK;AAAA,OAC9B,CAAA;AAED,MAAA,IAAI,CAAC,SAAA,EAAW;AACd,QAAA,MAAM,IAAI,MAAM,qCAAqC,CAAA;AAAA,MACvD;AAEA,MAAA,CAAA,CAAE,KAAK,gCAAgC,CAAA;AAEvC,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,SAAA,EAAW,QAAQ,CAAA;AAEtD,MAAAyB,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,KAAA,CAAM,gCAAgC,CAAC;;AAAA,EAC7CA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC;AAAA,EAC/BA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,IAAI,KAAK;AAAA,EAC7BA,QAAM,IAAA,CAAK,OAAO,CAAC,CAAA,CAAA,EAAI,IAAA,CAAK,aAAa;AAAA,EACzCA,QAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,iBAAiB,IAAI;AAAA,EAChDA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,IAAI,QAAQ,CAAA;;AAAA,EACxCA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC;AAAA,EAC1BA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,IAAI,SAAS;AAAA,EACrCA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,IAAI,WAAW;;AAAA,EACtCA,OAAAA,CAAM,MAAA,CAAO,aAAa,CAAC;AAAA;AAAA,oBAAA,EAEPA,OAAAA,CAAM,IAAA,CAAK,uBAAuB,CAAC;AAAA,2BAAA,EAC5BA,OAAAA,CAAM,IAAA,CAAK,gCAAgC,CAAC,CAAA;AAAA,OAC5E;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,2BAA2B,CAAA;AAClC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,2BAAA,EAA8B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACpG;AACF,CAAC,CAAA;AAEH,eAAA,CACG,OAAA,CAAQ,MAAM,CAAA,CACd,WAAA,CAAY,2BAA2B,CAAA,CACvC,MAAA,CAAO,UAAA,EAAY,4BAA4B,CAAA,CAC/C,MAAA,CAAO,OAAO,QAAA,KAAmC;AAChD,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,MAAA,CAAO,sBAAsB,CAAC,CAAA;AAE1C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,sBAAsB,CAAA;AAE9B,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAQ,SAAQ,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AACnE,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAG7C,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,UAAA,CAAW,aAAA,EAAc;AAE5D,IAAA,CAAA,CAAE,IAAA,CAAK,CAAA,MAAA,EAAS,SAAA,CAAU,MAAM,CAAA,UAAA,CAAY,CAAA;AAE5C,IAAA,IAAI,SAAA,CAAU,WAAW,CAAA,EAAG;AAC1B,MAAAC,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,oBAAoB,CAAC;;AAAA,EAClCA,OAAAA,CAAM,KAAK,sBAAsB,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,kCAAkC,CAAC;AAAA,EACpFA,OAAAA,CAAM,IAAA,CAAK,gDAAgD,CAAC,CAAA;AAAA,OACjE;AACA,MAAA;AAAA,IACF;AAGA,IAAAD,IAAI,IAAA,CAAK;AAAA,EAAKC,OAAAA,CAAM,IAAA,CAAK,uBAAuB,CAAC;AAAA,CAAI,CAAA;AAErD,IAAA,SAAA,CAAU,OAAA,CAAQ,CAAC,QAAA,EAAU,KAAA,KAAU;AACrC,MAAA,MAAM,MAAA,GAAS,QAAA,CAAS,MAAA,CAAO,WAAA,EAAY;AAC3C,MAAA,MAAM,WAAA,GAAc,MAAA,KAAW,QAAA,GAAWA,OAAAA,CAAM,MAAA,GAC7B,MAAA,KAAW,QAAA,GAAWA,OAAAA,CAAM,KAAA,GAC5B,MAAA,KAAW,QAAA,GAAWA,OAAAA,CAAM,MAAMA,OAAAA,CAAM,IAAA;AAE3D,MAAA,MAAM,QAAA,GAAW,SAAS,QAAA,IAAY,CAAA;AACtC,MAAA,MAAM,YAAA,GAAe,SAAS,YAAA,IAAgB,CAAA;AAC9C,MAAA,MAAM,aAAa,QAAA,GAAW,YAAA;AAC9B,MAAA,MAAM,YAAY,QAAA,CAAS,SAAA;AAE3B,MAAAD,GAAAA,CAAI,IAAA;AAAA,QACF,CAAA,EAAGC,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAG,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,QAAA,CAAS,KAAK,CAAA,CAAE,CAAC;AAAA,GAAA,EAC1CA,OAAAA,CAAM,KAAK,OAAO,CAAC,IAAI,QAAA,CAAS,IAAA,CAAK,aAAa;AAAA,GAAA,EAClDA,OAAAA,CAAM,KAAK,SAAS,CAAC,IAAI,WAAA,CAAY,MAAA,CAAO,WAAA,EAAa,CAAC;AAAA,GAAA,EAC1DA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,QAAQ,CAAA,MAAA,EAAS,YAAY,CAAA,KAAA,EAAQ,UAAU,CAAA,CAAA,EAAI,SAAS,CAAA;AAAA,GAAA,EACpFA,QAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,SAAS,OAAA,CAAQ,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,GAAA,EAAM,QAAA,CAAS,OAAA,CAAQ,KAAA,CAAM,EAAE,CAAC;AAAA,GAAA,EACtFA,QAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,SAAS,QAAA,GAAW,IAAI,IAAA,CAAK,MAAA,CAAO,SAAS,QAAQ,CAAA,GAAI,GAAI,CAAA,CAAE,kBAAA,KAAuB,KAAK;AAAA;AAAA,OAC9H;AAAA,IACF,CAAC,CAAA;AAED,IAAAU,KAAAA;AAAA,MACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,WAAW,CAAC;AAAA,EACzBA,OAAAA,CAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA;AAAA,EACnCA,OAAAA,CAAM,IAAA,CAAK,kCAAkC,CAAC,CAAA,sBAAA;AAAA,KACnD;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,0BAAA,EAA6B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACnG;AACF,CAAC,CAAA;;;AC1QH,WAAA,EAAA;AAEA,gBAAA,EAAA;AAIO,IAAM,cAAc,IAAIqB,OAAAA,CAAQ,MAAM,CAAA,CAC1C,WAAA,CAAY,8BAA8B,CAAA,CAC1C,MAAA,CAAO,0BAAA,EAA4B,kBAAkB,EACrD,MAAA,CAAO,uBAAA,EAAyB,gCAAgC,CAAA,CAChE,MAAA,CAAO,OAAO,OAAA,KAAyB;AACtC,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,MAAA,CAAO,kBAAkB,CAAC,CAAA;AAEtC,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,6BAA6B,CAAA;AAErC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAG7C,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,UAAA,CAAW,aAAA,EAAc;AAE5D,IAAA,CAAA,CAAE,IAAA,CAAK,CAAA,MAAA,EAAS,SAAA,CAAU,MAAM,CAAA,iBAAA,CAAmB,CAAA;AAEnD,IAAA,IAAI,SAAA,CAAU,WAAW,CAAA,EAAG;AAC1B,MAAAC,MAAM,sCAAsC,CAAA;AAC5C,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,mBAAmB,OAAA,CAAQ,QAAA;AAC/B,IAAA,IAAI,CAAC,gBAAA,EAAkB;AACrB,MAAA,MAAM,cAAA,GAAiB,MAAME,MAAAA,CAAO;AAAA,QAClC,OAAA,EAAS,6BAAA;AAAA,QACT,OAAA,EAAS,SAAA,CAAU,GAAA,CAAI,CAAAkC,SAAAA,MAAa;AAAA,UAClC,OAAOA,SAAAA,CAAS,OAAA;AAAA,UAChB,OAAOA,SAAAA,CAAS,KAAA;AAAA,UAChB,IAAA,EAAM,CAAA,EAAGA,SAAAA,CAAS,IAAI,CAAA,GAAA,EAAMA,SAAAA,CAAS,QAAA,IAAY,CAAC,CAAA,MAAA,EAASA,SAAAA,CAAS,YAAA,IAAgB,CAAC,CAAA,GAAA;AAAA,SACvF,CAAE;AAAA,OACH,CAAA;AAED,MAAA,IAAIxC,QAAAA,CAAS,cAAc,CAAA,EAAG;AAC5B,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,gBAAA,GAAmB,eAAe,QAAA,EAAS;AAAA,IAC7C;AAEA,IAAA,MAAM,WAAW,SAAA,CAAU,IAAA,CAAK,CAAA,CAAA,KAAK,CAAA,CAAE,YAAY,gBAAgB,CAAA;AACnE,IAAA,IAAI,CAAC,QAAA,EAAU;AACb,MAAAR,GAAAA,CAAI,MAAM,kCAAkC,CAAA;AAC5C,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,SAAS,OAAA,CAAQ,MAAA;AACrB,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,MAAM,UAAA,GAAa,MAAMa,MAAAA,CAAO;AAAA,QAC9B,OAAA,EAAS,kBAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,KAAA,EAAO,KAAA,EAAO,eAAA,EAAiB,MAAM,+BAAA,EAAgC;AAAA,UAC9E,EAAE,KAAA,EAAO,IAAA,EAAM,KAAA,EAAO,aAAA,EAAe,MAAM,2BAAA,EAA4B;AAAA,UACvE,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,SAAA,EAAW,MAAM,wBAAA;AAAyB;AACvE,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,MAAA,GAAS,UAAA;AAAA,IACX;AAGA,IAAAsC,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC;AAAA,EAC3BA,QAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,SAAS,KAAK;AAAA,EACzCA,OAAAA,CAAM,KAAK,OAAO,CAAC,IAAI,QAAA,CAAS,IAAA,CAAK,aAAa;AAAA,EAClDA,QAAM,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA,EAAI,MAAA,CAAO,aAAa;AAAA,EAChDA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA,CAAA,EAAI,QAAA,CAAS,QAAA,IAAY,CAAC,CAAA,MAAA,EAAS,QAAA,CAAS,YAAA,IAAgB,CAAC,CAAA;AAAA,EACzFA,QAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,SAAS,SAAS,CAAA,cAAA,CAAA;AAAA,MAChD;AAAA,KACF;AAEA,IAAA,MAAM,WAAA,GAAc,MAAMc,OAAAA,CAAQ;AAAA,MAChC,OAAA,EAAS,CAAA,mBAAA,EAAsB,MAAA,CAAO,WAAA,EAAa,CAAA,EAAA;AAAA,KACpD,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,WAAW,CAAA,IAAK,CAAC,WAAA,EAAa;AACzC,MAAAC,OAAO,kBAAkB,CAAA;AACzB,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,+BAA+B,CAAA;AAEvC,IAAA,IAAI;AACF,MAAA,MAAM,YAAY,MAAM,UAAA,CAAW,WAAW,IAAA,CAAK,WAAA,CAAY,MAAM,CAAA,EAAG;AAAA,QACtE,QAAA,EAAUtB,QAAQ,gBAAiB,CAAA;AAAA,QACnC,IAAA,EAAM;AAAA,OACP,CAAA;AAED,MAAA,IAAI,CAAC,SAAA,EAAW;AACd,QAAA,MAAM,IAAI,MAAM,qCAAqC,CAAA;AAAA,MACvD;AAEA,MAAA,CAAA,CAAE,KAAK,yBAAyB,CAAA;AAEhC,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,SAAA,EAAW,QAAQ,CAAA;AAEtD,MAAAyB,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,KAAA,CAAM,yBAAyB,CAAC;;AAAA,EACtCA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC;AAAA,EAC3BA,QAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,SAAS,KAAK;AAAA,EACzCA,QAAM,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA,EAAI,MAAA,CAAO,aAAa;AAAA,EAChDA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA;;AAAA,EACrBA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC;AAAA,EAC1BA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,IAAI,SAAS;AAAA,EACrCA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,IAAI,WAAW;;AAAA,EACtCA,OAAAA,CAAM,MAAA,CAAO,kDAAkD,CAAC,CAAA;AAAA,OACrE;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,qBAAqB,CAAA;AAC5B,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,gBAAA,EAAmB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACzF;AACF,CAAC,CAAA;;;ACpIH,WAAA,EAAA;AAEA,gBAAA,EAAA;AAIO,IAAM,cAAc,IAAIqB,OAAAA,CAAQ,MAAM,CAAA,CAC1C,YAAY,kCAAkC,CAAA;AAEjD,WAAA,CACG,QAAQ,OAAO,CAAA,CACf,WAAA,CAAY,oBAAoB,EAChC,MAAA,CAAO,sBAAA,EAAwB,cAAc,CAAA,CAC7C,OAAO,mBAAA,EAAqB,eAAe,CAAA,CAC3C,MAAA,CAAO,OAAO,OAAA,KAAyB;AACtC,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,KAAA,CAAM,YAAY,CAAC,CAAA;AAE/B,EAAA,IAAI;AACF,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAG7C,IAAA,IAAI,cAAc,OAAA,CAAQ,IAAA;AAC1B,IAAA,IAAI,CAAC,WAAA,EAAa;AAChB,MAAA,MAAM,SAAA,GAAY,MAAMa,IAAAA,CAAK;AAAA,QAC3B,OAAA,EAAS,gCAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,0BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,QAAAC,OAAO,sBAAsB,CAAA;AAC7B,QAAA;AAAA,MACF;AAEA,MAAA,WAAA,GAAc,SAAA,CAAU,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC1C;AAGA,IAAA,IAAI,OAAO,OAAA,CAAQ,IAAA;AACnB,IAAA,IAAI,CAAC,IAAA,EAAM;AACT,MAAA,MAAM,UAAA,GAAa,MAAMK,MAAAA,CAAO;AAAA,QAC9B,OAAA,EAAS,uBAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,OAAA,EAAS,KAAA,EAAO,OAAA,EAAS,MAAM,oBAAA,EAAqB;AAAA,UAC7D,EAAE,KAAA,EAAO,WAAA,EAAa,KAAA,EAAO,WAAA,EAAa,MAAM,uBAAA,EAAwB;AAAA,UACxE,EAAE,KAAA,EAAO,YAAA,EAAc,KAAA,EAAO,YAAA,EAAc,MAAM,oBAAA,EAAqB;AAAA,UACvE,EAAE,KAAA,EAAO,UAAA,EAAY,KAAA,EAAO,UAAA,EAAY,MAAM,mBAAA;AAAoB;AACpE,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,QAAAC,OAAO,sBAAsB,CAAA;AAC7B,QAAA;AAAA,MACF;AAEA,MAAA,IAAA,GAAO,WAAW,QAAA,EAAS;AAAA,IAC7B;AAEA,IAAA,MAAM,YAAA,GAAe,MAAMO,OAAAA,CAAQ;AAAA,MACjC,OAAA,EAAS,CAAA,MAAA,EAAS,IAAI,CAAA,SAAA,EAAY,WAAW,CAAA,CAAA;AAAA,KAC9C,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,YAAY,CAAA,IAAK,CAAC,YAAA,EAAc;AAC3C,MAAAC,OAAO,sBAAsB,CAAA;AAC7B,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,gCAAgC,CAAA;AAExC,IAAA,IAAI;AACF,MAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,UAAA,CAAW,SAAA,CAAU;AAAA,QACtD,IAAA,EAAMxB,QAAQ,WAAW,CAAA;AAAA,QACzB,IAAA;AAAA,QACA,SAAS,MAAA,CAAO,OAAA;AAAA,QAChB,MAAA,EAAQ,YAAY,MAAM;AAAA,OAC3B,CAAA;AAED,MAAA,IAAI,CAAC,SAAA,EAAW;AACd,QAAA,MAAM,IAAI,MAAM,qCAAqC,CAAA;AAAA,MACvD;AAEA,MAAA,CAAA,CAAE,KAAK,4BAA4B,CAAA;AAEnC,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,SAAA,EAAW,QAAQ,CAAA;AAEtD,MAAAyB,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,KAAA,CAAM,eAAe,CAAC;;AAAA,EAC5BA,OAAAA,CAAM,IAAA,CAAK,OAAO,CAAC,IAAI,WAAW;AAAA,EAClCA,QAAM,IAAA,CAAK,OAAO,CAAC,CAAA,CAAA,EAAI,IAAA,CAAK,aAAa;AAAA,EACzCA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,IAAI,WAAW,CAAA;AAAA,OAC3C;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,sBAAsB,CAAA;AAC7B,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,sBAAA,EAAyB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC/F;AACF,CAAC,CAAA;AAEH,WAAA,CACG,QAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,uBAAuB,EACnC,MAAA,CAAO,sBAAA,EAAwB,cAAc,CAAA,CAC7C,OAAO,mBAAA,EAAqB,gBAAgB,CAAA,CAC5C,MAAA,CAAO,OAAO,OAAA,KAAyB;AACtC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,GAAA,CAAI,aAAa,CAAC,CAAA;AAE9B,EAAA,IAAI;AACF,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAG7C,IAAA,IAAI,cAAc,OAAA,CAAQ,IAAA;AAC1B,IAAA,IAAI,CAAC,WAAA,EAAa;AAChB,MAAA,MAAM,SAAA,GAAY,MAAMa,IAAAA,CAAK;AAAA,QAC3B,OAAA,EAAS,mCAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,0BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,QAAAC,OAAO,uBAAuB,CAAA;AAC9B,QAAA;AAAA,MACF;AAEA,MAAA,WAAA,GAAc,SAAA,CAAU,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC1C;AAGA,IAAA,IAAI,OAAO,OAAA,CAAQ,IAAA;AACnB,IAAA,IAAI,CAAC,IAAA,EAAM;AACT,MAAA,MAAM,UAAA,GAAa,MAAMK,MAAAA,CAAO;AAAA,QAC9B,OAAA,EAAS,wBAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,OAAA,EAAS,KAAA,EAAO,OAAA,EAAS,MAAM,qBAAA,EAAsB;AAAA,UAC9D,EAAE,KAAA,EAAO,WAAA,EAAa,KAAA,EAAO,WAAA,EAAa,MAAM,8BAAA,EAA+B;AAAA,UAC/E,EAAE,KAAA,EAAO,YAAA,EAAc,KAAA,EAAO,YAAA,EAAc,MAAM,2BAAA,EAA4B;AAAA,UAC9E,EAAE,KAAA,EAAO,UAAA,EAAY,KAAA,EAAO,UAAA,EAAY,MAAM,yBAAA;AAA0B;AAC1E,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,QAAAC,OAAO,uBAAuB,CAAA;AAC9B,QAAA;AAAA,MACF;AAEA,MAAA,IAAA,GAAO,WAAW,QAAA,EAAS;AAAA,IAC7B;AAEA,IAAA,MAAM,aAAA,GAAgB,MAAMO,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS,CAAA,OAAA,EAAU,IAAI,CAAA,WAAA,EAAc,WAAW,CAAA,CAAA;AAAA,KACjD,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,uBAAuB,CAAA;AAC9B,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,gCAAgC,CAAA;AAExC,IAAA,IAAI;AACF,MAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,UAAA,CAAW,UAAA,CAAW;AAAA,QACvD,IAAA,EAAMxB,QAAQ,WAAW,CAAA;AAAA,QACzB,IAAA;AAAA,QACA,SAAS,MAAA,CAAO,OAAA;AAAA,QAChB,MAAA,EAAQ,YAAY,MAAM;AAAA,OAC3B,CAAA;AAED,MAAA,IAAI,CAAC,SAAA,EAAW;AACd,QAAA,MAAM,IAAI,MAAM,qCAAqC,CAAA;AAAA,MACvD;AAEA,MAAA,CAAA,CAAE,KAAK,4BAA4B,CAAA;AAEnC,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,SAAA,EAAW,QAAQ,CAAA;AAEtD,MAAAyB,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,GAAA,CAAI,eAAe,CAAC;;AAAA,EAC1BA,OAAAA,CAAM,IAAA,CAAK,OAAO,CAAC,IAAI,WAAW;AAAA,EAClCA,QAAM,IAAA,CAAK,OAAO,CAAC,CAAA,CAAA,EAAI,IAAA,CAAK,aAAa;AAAA,EACzCA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,IAAI,WAAW,CAAA;AAAA,OAC3C;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,uBAAuB,CAAA;AAC9B,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,uBAAA,EAA0B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAChG;AACF,CAAC,CAAA;;;ACxNI,IAAM,oBAAoB,IAAIqB,OAAAA,CAAQ,YAAY,CAAA,CACtD,YAAY,oCAAoC,CAAA;AAGnD,iBAAA,CAAkB,WAAW,eAAe,CAAA;AAC5C,iBAAA,CAAkB,WAAW,eAAe,CAAA;AAC5C,iBAAA,CAAkB,WAAW,WAAW,CAAA;AACxC,iBAAA,CAAkB,WAAW,WAAW,CAAA;AAGxC,iBAAA,CACG,OAAO,YAAY;AAClB,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA;AAEzC,EAAAD,IAAI,IAAA,CAAK;AAAA,EAAKC,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC;AAAA,CAAI,CAAA;AACnD,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,2BAA2B,CAAC,CAAA,0BAAA,CAA4B,CAAA;AAC/E,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,2BAA2B,CAAC,CAAA,8BAAA,CAAgC,CAAA;AACnF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA,2BAAA,CAA6B,CAAA;AAC5E,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA,+BAAA,CAAiC,CAAA;AAEhF,EAAAU,MAAM,8CAA8C,CAAA;AACtD,CAAC,CAAA;ACnBH,mBAAA,EAAA;AACA,kBAAA,EAAA;AAsCO,SAAS,aAAa,QAAA,EAA+B;AAC1D,EAAA,MAAM,aAAa,IAAA,CAAK,KAAA,CAAO,SAAS,IAAA,GAAO,QAAA,CAAS,aAAc,GAAG,CAAA;AACzE,EAAA,MAAM,MAAA,GAAS,IAAA,CAAK,KAAA,CAAM,UAAA,GAAa,CAAC,CAAA;AACxC,EAAA,MAAM,QAAQ,EAAA,GAAK,MAAA;AAEnB,EAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOV,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA;AAChD,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,GAAG,CAAA,GAAIA,QAAM,KAAA,CAAM,QAAA,CAAI,MAAA,CAAO,MAAM,CAAC,CAAA,GAAIA,QAAM,IAAA,CAAK,QAAA,CAAI,MAAA,CAAO,KAAK,CAAC,CAAA,GAAIA,OAAAA,CAAM,IAAA,CAAK,GAAG,CAAA,GAAI,CAAA,CAAA,EAAI,UAAU,CAAA,CAAA,CAAG,CAAA;AACnI,EAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,KAAA,EAAQ,QAAA,CAAS,IAAI,CAAA,CAAA,EAAI,QAAA,CAAS,UAAU,CAAA,EAAA,CAAI,IAAIA,OAAAA,CAAM,KAAA,CAAM,QAAA,CAAS,WAAW,IAAI,IAAI,CAAA;AACrH;AAKA,eAAsB,kBAAkB,IAAA,EAA2D;AACjG,EAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AAGxC,EAAA,IAAI,aAAqB,QAAA;AACzB,EAAA,MAAM,QAAA,GAAW,cAAc,WAAA,EAAY;AAC3C,EAAA,MAAM,aAAA,GAAgB,IAAI,GAAA,CAAI,QAAA,CAAS,IAAI,CAAA,CAAA,KAAK,CAAA,CAAE,IAAI,CAAC,CAAA;AAEvD,EAAA,IAAI,aAAA,CAAc,GAAA,CAAI,UAAU,CAAA,EAAG;AAEjC,IAAA,IAAI,CAAA,GAAI,CAAA;AACR,IAAA,OAAO,aAAA,CAAc,GAAA,CAAI,CAAA,KAAA,EAAQ,CAAC,EAAE,CAAA,EAAG;AACrC,MAAA,CAAA,EAAA;AAAA,IACF;AACA,IAAA,UAAA,GAAa,QAAQ,CAAC,CAAA,CAAA;AAAA,EACxB;AAEA,EAAA,MAAM,EAAE,QAAQ,QAAA,EAAS,GAAI,MAAM,aAAA,CAAc,YAAA,CAAa,YAAY,QAAQ,CAAA;AAElF,EAAA,MAAM,MAAA,GAAS,MAAM,aAAA,CAAc,SAAA,CAAU,UAAU,CAAA;AACvD,EAAA,IAAI,CAAC,MAAA,EAAQ;AACX,IAAA,MAAM,IAAI,MAAM,yBAAyB,CAAA;AAAA,EAC3C;AAEA,EAAA,OAAO;AAAA,IACL,MAAA;AAAA,IACA,OAAA,EAAS,OAAO,QAAA,CAAS,OAAA;AAAA,IACzB,OAAA,EAAS,CAAA;AAAA,IACT,KAAA,EAAO,IAAA;AAAA,IACP;AAAA,GACF;AACF;AAKA,eAAsB,mBAAmB,UAAA,EAAyC;AAChF,EAAA,MAAM,YAAA,GAAe,UAAA,CAAW,OAAA,CAAQ,GAAA,EAAKX,SAAS,CAAA;AAEtD,EAAA,IAAI,CAACH,UAAAA,CAAW,YAAY,CAAA,EAAG;AAC7B,IAAA,MAAM,IAAI,KAAA,CAAM,CAAA,0BAAA,EAA6B,YAAY,CAAA,CAAE,CAAA;AAAA,EAC7D;AAEA,EAAA,MAAM,UAAA,GAAaK,YAAAA,CAAa,YAAA,EAAc,OAAO,CAAA;AACrD,EAAA,MAAM,QAAA,GAAW,IAAA,CAAK,KAAA,CAAM,UAAU,CAAA;AACtC,EAAA,MAAM,UAAA,GAAa,IAAI,UAAA,CAAW,QAAQ,CAAA;AAE1C,EAAA,MAAM,MAAA,GAAS,MAAME,4BAAAA,CAA6B,UAAU,CAAA;AAE5D,EAAA,OAAO;AAAA,IACL,MAAA;AAAA,IACA,SAAS,MAAA,CAAO,OAAA;AAAA,IAChB,OAAA,EAAS,CAAA;AAAA,IACT,KAAA,EAAO;AAAA,GACT;AACF;AAKA,eAAsB,kBAAA,CACpB,eACA,OAAA,EACiB;AACjB,EAAA,IAAI;AACF,IAAA,MAAM,MAAA,GAAS,OAAA,KAAY,QAAA,GACvB,+BAAA,GACA,gCAAA;AAGJ,IAAA,MAAM,MAAA,GAAS,mBAAmB,MAAM,CAAA;AACxC,IAAA,MAAM,EAAE,KAAA,EAAO,OAAA,EAAQ,GAAI,MAAM,MAAA,CAAO,GAAA,CAAI,UAAA,CAAWR,SAAAA,CAAQ,aAAa,CAAC,CAAA,CAAE,IAAA,EAAK;AACpF,IAAA,OAAO,MAAA,CAAO,OAAO,CAAA,GAAI,GAAA;AAAA,EAC3B,SAAS,KAAA,EAAO;AACd,IAAA,OAAA,CAAQ,IAAA,CAAK,4BAA4B,KAAK,CAAA;AAC9C,IAAA,OAAO,CAAA;AAAA,EACT;AACF;AAKA,eAAsB,UAAA,CACpB,aAAA,EACA,OAAA,EACA,YAAA,GAAe,CAAA,EACkD;AACjE,EAAA,MAAM,IAAIwB,OAAAA,EAAQ;AAClB,EAAA,CAAA,CAAE,MAAM,gCAAgC,CAAA;AAExC,EAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AACxC,EAAA,MAAM,cAAc,UAAA,EAAW;AAE/B,EAAA,IAAI,aAAA,GAAgB,CAAA;AACpB,EAAA,MAAM,SAAmB,EAAC;AAC1B,EAAA,MAAM,OAAA,GAAU,CAAC,MAAA,EAAQ,QAAA,EAAU,KAAK,CAAA;AAExC,EAAA,KAAA,MAAW,UAAU,OAAA,EAAS;AAC5B,IAAA,IAAI,iBAAiB,YAAA,EAAc;AAEnC,IAAA,IAAI;AAEF,MAAA,MAAM,SAAS,MAAM,aAAA,CAAc,iBAAA,CAAkB,aAAA,EAAe,QAAQ,OAAO,CAAA;AACnF,MAAA,IAAI,CAAC,OAAO,UAAA,EAAY;AACtB,QAAA,MAAA,CAAO,IAAA,CAAK,CAAA,EAAG,MAAM,CAAA,cAAA,CAAgB,CAAA;AACrC,QAAA;AAAA,MACF;AAGA,MAAA,IAAI,MAAA;AAEJ,MAAA,IAAI,WAAW,MAAA,EAAQ;AACrB,QAAA,MAAM,QAAA,GAAW,MAAM,KAAA,CAAM,sCAAA,EAAwC;AAAA,UACnE,MAAA,EAAQ,MAAA;AAAA,UACR,OAAA,EAAS,EAAE,cAAA,EAAgB,kBAAA,EAAmB;AAAA,UAC9C,IAAA,EAAM,KAAK,SAAA,CAAU;AAAA,YACnB,MAAA,EAAQ,aAAA;AAAA,YACR,QAAA,EAAU;AAAA;AAAA,WACX;AAAA,SACF,CAAA;AAED,QAAA,MAAM,IAAA,GAAO,MAAM,QAAA,CAAS,IAAA,EAAK;AACjC,QAAA,MAAA,GAAS;AAAA,UACP,OAAA,EAAS,OAAA,CAAQ,IAAA,CAAK,SAAS,CAAA;AAAA,UAC/B,WAAW,IAAA,CAAK,SAAA;AAAA,UAChB,MAAA,EAAQ,CAAA;AAAA,UACR,OAAO,IAAA,CAAK;AAAA,SACd;AAAA,MACF,CAAA,MAAA,IAAW,WAAW,QAAA,EAAU;AAC9B,QAAA,MAAM,QAAA,GAAW,MAAM,KAAA,CAAM,uCAAA,EAAyC;AAAA,UACpE,MAAA,EAAQ,MAAA;AAAA,UACR,OAAA,EAAS,EAAE,cAAA,EAAgB,kBAAA,EAAmB;AAAA,UAC9C,IAAA,EAAM,KAAK,SAAA,CAAU;AAAA,YACnB,MAAA,EAAQ,aAAA;AAAA,YACR,QAAA,EAAU,GAAA;AAAA,YACV,OAAA,EAAS;AAAA,WACV;AAAA,SACF,CAAA;AAED,QAAA,MAAM,IAAA,GAAO,MAAM,QAAA,CAAS,IAAA,EAAK;AACjC,QAAA,MAAA,GAAS;AAAA,UACP,OAAA,EAAS,OAAA,CAAQ,IAAA,CAAK,SAAS,CAAA;AAAA,UAC/B,WAAW,IAAA,CAAK,SAAA;AAAA,UAChB,MAAA,EAAQ,CAAA;AAAA,UACR,OAAO,IAAA,CAAK;AAAA,SACd;AAAA,MACF,CAAA,MAAO;AAEL,QAAA,MAAM,MAAA,GAAS,OAAA,KAAY,QAAA,GACvB,+BAAA,GACA,gCAAA;AAEJ,QAAA,MAAM,MAAA,GAAS,mBAAmB,MAAM,CAAA;AACxC,QAAA,IAAI;AACF,UAAA,MAAM,QAAA,GAAW,WAAA;AACjB,UAAA,MAAM,SAAA,GAAY,MAAM,MAAA,CAAO,GAAA,CAAI,cAAA;AAAA,YACjCxB,UAAQ,aAAa,CAAA;AAAA,YACrB;AAAA,YACA,IAAA,EAAK;AAEP,UAAA,MAAA,GAAS;AAAA,YACP,OAAA,EAAS,IAAA;AAAA,YACT,SAAA;AAAA,YACA,MAAA,EAAQ;AAAA,WACV;AAAA,QACF,SAAS,KAAA,EAAO;AACd,UAAA,MAAA,GAAS;AAAA,YACP,OAAA,EAAS,KAAA;AAAA,YACT,KAAA,EAAO,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU;AAAA,WAClD;AAAA,QACF;AAAA,MACF;AAEA,MAAA,IAAI,MAAA,CAAO,OAAA,IAAW,MAAA,CAAO,SAAA,EAAW;AACtC,QAAA,MAAM,aAAA,CAAc,aAAA;AAAA,UAClB,aAAA;AAAA,UACA,OAAA;AAAA,UACA,MAAA;AAAA,UACA,OAAO,MAAA,IAAU,CAAA;AAAA,UACjB,MAAA,CAAO;AAAA,SACT;AACA,QAAA,aAAA,IAAiB,OAAO,MAAA,IAAU,CAAA;AAClC,QAAA,CAAA,CAAE,QAAQ,CAAA,SAAA,EAAY,MAAA,CAAO,MAAM,CAAA,UAAA,EAAa,MAAM,CAAA,CAAE,CAAA;AAAA,MAC1D,CAAA,MAAO;AACL,QAAA,MAAA,CAAO,KAAK,CAAA,EAAG,MAAM,KAAK,MAAA,CAAO,KAAA,IAAS,QAAQ,CAAA,CAAE,CAAA;AAAA,MACtD;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,MAAA,CAAO,IAAA,CAAK,GAAG,MAAM,CAAA,EAAA,EAAK,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,IACtF;AAAA,EACF;AAEA,EAAA,CAAA,CAAE,KAAK,aAAA,GAAgB,CAAA,GAAI,CAAA,gBAAA,EAAc,aAAa,SAAS,0BAAqB,CAAA;AAEpF,EAAA,IAAI,gBAAgB,CAAA,EAAG;AAErB,IAAA,OAAA,CAAQ,GAAA,CAAIe,OAAAA,CAAM,IAAA,CAAK,0CAA0C,CAAC,CAAA;AAClE,IAAA,MAAM,IAAI,OAAA,CAAQ,CAAAL,aAAW,UAAA,CAAWA,QAAAA,EAAS,GAAI,CAAC,CAAA;AAAA,EACxD;AAEA,EAAA,OAAO;AAAA,IACL,SAAS,aAAA,GAAgB,CAAA;AAAA,IACzB,MAAA,EAAQ,aAAA;AAAA,IACR;AAAA,GACF;AACF;AAyEO,SAAS,iBAAiB,MAAA,EAA2B;AAC1D,EAAA,OAAA,CAAQ,IAAI,IAAA,GAAOK,OAAAA,CAAM,IAAA,CAAK,KAAA,CAAM,2BAAoB,CAAC,CAAA;AACzD,EAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAE1B,EAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA;AACpD,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAA,GAAIA,QAAM,KAAA,CAAM,MAAA,CAAO,MAAA,CAAO,OAAO,CAAC,CAAA;AAC3E,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,cAAc,IAAIA,OAAAA,CAAM,KAAA,CAAM,CAAA,EAAG,MAAA,CAAO,OAAO,OAAA,CAAQ,OAAA,CAAQ,CAAC,CAAC,MAAM,CAAC,CAAA;AAC/F,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,cAAc,IAAIA,OAAAA,CAAM,KAAA,CAAM,MAAA,CAAO,OAAO,CAAC,CAAA;AACpE,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAA,GAAIA,OAAAA,CAAM,KAAA,CAAM,MAAA,CAAO,MAAA,CAAO,KAAA,GAAQ,YAAA,GAAe,iBAAiB,CAAC,CAAA;AAE5G,EAAA,IAAI,OAAO,eAAA,EAAiB;AAC1B,IAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA;AACjD,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,cAAc,IAAIA,OAAAA,CAAM,KAAA,CAAM,MAAA,CAAO,eAAe,CAAC,CAAA;AAC5E,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,cAAc,IAAIA,OAAAA,CAAM,KAAA,CAAM,gBAAW,CAAC,CAAA;AAAA,EACnE;AAEA,EAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA;AAC/C,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,cAAc,IAAIA,OAAAA,CAAM,KAAA,CAAM,MAAA,CAAO,UAAU,CAAC,CAAA;AACvE,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,cAAc,IAAIA,OAAAA,CAAM,KAAA,CAAM,cAAS,CAAC,CAAA;AAE/D,EAAA,IAAI,MAAA,CAAO,MAAA,CAAO,MAAA,GAAS,CAAA,EAAG;AAC5B,IAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,MAAA,CAAO,qCAA2B,CAAC,CAAA;AAC5D,IAAA,MAAA,CAAO,MAAA,CAAO,QAAQ,CAAA,KAAA,KAAS;AAC7B,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,WAAM,IAAIA,OAAAA,CAAM,MAAA,CAAO,KAAK,CAAC,CAAA;AAAA,IACtD,CAAC,CAAA;AAAA,EACH;AAEA,EAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC,CAAA;AAC5C,EAAA,IAAI,CAAC,OAAO,YAAA,EAAc;AACxB,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,+BAA+B,CAAC,CAAA;AACvD,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,2BAA2B,CAAC,CAAA;AAAA,EACrD;AACA,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,+BAA+B,CAAC,CAAA;AACvD,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,oBAAoB,CAAC,CAAA;AAC5C,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA;AAC/C,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA;AAEhD,EAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,KAAA,CAAM,kCAA2B,CAAC,CAAA;AAC7D;AAKO,SAAS,gBAAgB,OAAA,EAAuC;AACrE,EAAA,IAAI,OAAA,KAAY,QAAA,IAAY,OAAA,KAAY,SAAA,EAAW;AACjD,IAAA,MAAM,IAAI,MAAM,wEAAwE,CAAA;AAAA,EAC1F;AACA,EAAA,OAAO,OAAA;AACT;;;ACnWA,WAAA,EAAA;AACA,WAAA,EAAA;AAEO,IAAM,oBAAoB,IAAIoB,OAAAA,CAAQ,YAAY,CAAA,CACtD,YAAY,wCAAwC,CAAA;AAGvD,iBAAA,CACG,OAAA,CAAQ,KAAK,CAAA,CACb,WAAA,CAAY,+CAA+C,CAAA,CAC3D,MAAA,CAAO,2BAA2B,iCAAA,EAAmC,QAAQ,EAC7E,MAAA,CAAO,cAAA,EAAgB,qBAAqB,CAAA,CAC5C,MAAA,CAAO,mBAAmB,+BAA+B,CAAA,CACzD,MAAA,CAAO,OAAO,OAAA,KAA+E;AAC5F,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,mDAA4C,CAAC,CAAA;AAE9D,EAAA,MAAM,WAAW,EAAE,IAAA,EAAM,GAAG,UAAA,EAAY,CAAA,EAAG,aAAa,EAAA,EAAG;AAC3D,EAAA,MAAM,SAAmB,EAAC;AAC1B,EAAA,IAAI,MAAA;AACJ,EAAA,IAAI,eAAA;AACJ,EAAA,IAAI,YAAA,GAAe,KAAA;AAEnB,EAAA,IAAI;AAEF,IAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,IAAA,QAAA,CAAS,WAAA,GAAc,mBAAA;AACvB,IAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,IAAA,MAAM,OAAA,GAAU,eAAA,CAAgB,OAAA,CAAQ,OAAA,IAAW,QAAQ,CAAA;AAC3D,IAAAD,GAAAA,CAAI,OAAA,CAAQ,CAAA,gBAAA,EAAc,OAAO,CAAA,CAAE,CAAA;AAGnC,IAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,IAAA,QAAA,CAAS,WAAA,GAAc,uBAAA;AACvB,IAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,IAAA,MAAM,IAAIU,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,6BAA6B,CAAA;AAErC,IAAA,MAAM,YAAA,GAAe,MAAM,iBAAA,EAAkB;AAC7C,IAAA,MAAA,GAAS,YAAA;AAET,IAAA,CAAA,CAAE,KAAK,mCAA8B,CAAA;AACrC,IAAAV,GAAAA,CAAI,KAAK,CAAA,0BAAA,EAAsBC,OAAAA,CAAM,MAAM,MAAA,CAAO,OAAO,CAAC,CAAA,CAAE,CAAA;AAC5D,IAAAD,IAAI,IAAA,CAAK,CAAA,oBAAA,EAAgBC,QAAM,IAAA,CAAK,iCAAiC,CAAC,CAAA,CAAE,CAAA;AAGxE,IAAAD,GAAAA,CAAI,KAAK,EAAE,CAAA;AACX,IAAAA,GAAAA,CAAI,KAAK,6CAAsC,CAAA;AAC/C,IAAAA,GAAAA,CAAI,KAAK,8CAA8C,CAAA;AACvD,IAAAA,GAAAA,CAAI,KAAK,EAAE,CAAA;AACX,IAAAA,IAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,YAAA,CAAa,QAAQ,CAAC,CAAA;AAC5C,IAAAD,GAAAA,CAAI,KAAK,EAAE,CAAA;AAGX,IAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,IAAA,QAAA,CAAS,WAAA,GAAc,6BAAA;AACvB,IAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,IAAA,MAAM,aAAA,GAAgB,MAAM,UAAA,CAAW,MAAA,CAAO,SAAS,OAAO,CAAA;AAC9D,IAAA,IAAI,cAAc,OAAA,EAAS;AACzB,MAAA,MAAA,CAAO,OAAA,GAAU,MAAM,kBAAA,CAAmB,MAAA,CAAO,SAAS,OAAO,CAAA;AACjE,MAAAA,GAAAA,CAAI,OAAA,CAAQ,CAAA,0BAAA,EAAwB,aAAA,CAAc,MAAM,CAAA,IAAA,CAAM,CAAA;AAAA,IAChE,CAAA,MAAO;AACL,MAAA,MAAA,CAAO,KAAK,gEAAgE,CAAA;AAC5E,MAAAA,GAAAA,CAAI,KAAK,mDAAyC,CAAA;AAAA,IACpD;AAGA,IAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,IAAA,QAAA,CAAS,WAAA,GAAc,0BAAA;AACvB,IAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,IAAA,UAAA,CAAW;AAAA,MACT,OAAA;AAAA,MACA,UAAA,EAAY,iCAAA;AAAA,MACZ,MAAA,EAAQ,OAAA,KAAY,QAAA,GAChB,+BAAA,GACA;AAAA,KACL,CAAA;AAED,IAAAA,GAAAA,CAAI,QAAQ,4BAAuB,CAAA;AAGnC,IAAA,IAAI,CAAC,OAAA,CAAQ,YAAA,IAAgB,MAAA,CAAO,UAAU,IAAA,EAAM;AAClD,MAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,MAAA,QAAA,CAAS,WAAA,GAAc,gDAAA;AACvB,MAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,MAAA,MAAM,cAAA,GAAiB,MAAMe,OAAAA,CAAQ;AAAA,QACnC,OAAA,EAAS,iDAAA;AAAA,QACT,YAAA,EAAc;AAAA,OACf,CAAA;AAED,MAAA,IAAI,CAACR,QAAAA,CAAS,cAAc,CAAA,IAAK,cAAA,EAAgB;AAC/C,QAAA,IAAI;AACF,UAAA,MAAM,YAAA,GAAe,MAAMO,IAAAA,CAAK;AAAA,YAC9B,OAAA,EAAS,uBAAA;AAAA,YACT,WAAA,EAAa,sBAAA;AAAA,YACb,YAAA,EAAc;AAAA,WACf,CAAA;AAED,UAAA,IAAI,CAACP,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC3B,YAAA,CAAA,CAAE,MAAM,6BAA6B,CAAA;AAGrC,YAAA,MAAM,EAAE,gBAAA,EAAAyC,iBAAAA,EAAkB,WAAA,EAAAC,YAAAA,KAAgB,MAAM,OAAA,CAAA,OAAA,EAAA,CAAA,IAAA,CAAA,OAAA,WAAA,EAAA,EAAA,cAAA,CAAA,CAAA;AAChD,YAAA,MAAM,EAAE,mBAAA,EAAAC,oBAAAA,EAAoB,GAAI,MAAM,OAAA,CAAA,OAAA,EAAA,CAAA,IAAA,CAAA,OAAA,gBAAA,EAAA,EAAA,mBAAA,CAAA,CAAA;AACtC,YAAA,MAAM,EAAE,OAAA,EAAS,QAAA,EAAS,GAAI,MAAM,OAAO,mBAAmB,CAAA;AAE9D,YAAA,MAAM,EAAE,MAAA,EAAQ,SAAA,EAAU,GAAI,MAAMF,kBAAiB,OAAO,CAAA;AAC5D,YAAA,MAAM,UAAA,GAAaE,qBAAoB,SAAS,CAAA;AAEhD,YAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,UAAA,CAAW,cAAA;AAAA,cAC5CD,YAAAA,CAAY,OAAO,MAAM,CAAA;AAAA,cACzB;AAAA,gBACE,IAAA,EAAM,aAAa,QAAA,EAAS;AAAA,gBAC5B,OAAA,EAAS,CAAC,MAAA,CAAO,MAAA,CAAO,OAAO,CAAA;AAAA,gBAC/B,SAAA,EAAW,CAAA;AAAA,gBACX,YAAA,EAAc,UAAA;AAAA,gBACd,UAAA,EAAY,MAAA,CAAO,IAAA,CAAK,GAAA,EAAK;AAAA;AAC/B,aACF;AAGA,YAAA,eAAA,GAAkB,MAAA,CAAO,OAAA;AACzB,YAAA,CAAA,CAAE,KAAK,gCAA2B,CAAA;AAElC,YAAAjD,IAAI,IAAA,CAAK,CAAA,4BAAA,EAAwBC,QAAM,KAAA,CAAM,eAAe,CAAC,CAAA,CAAE,CAAA;AAC/D,YAAAD,GAAAA,CAAI,KAAK,CAAA,oBAAA,EAAgB,cAAA,CAAe,aAAa,EAAA,EAAI,OAAO,CAAC,CAAA,CAAE,CAAA;AAAA,UACrE;AAAA,QACF,SAAS,KAAA,EAAO;AACd,UAAA,MAAA,CAAO,KAAK,CAAA,0BAAA,EAA6B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AACnG,UAAAA,GAAAA,CAAI,KAAK,gDAAsC,CAAA;AAAA,QACjD;AAAA,MACF;AAAA,IACF;AAGA,IAAA,IAAI,CAAC,OAAA,CAAQ,SAAA,IAAa,MAAA,CAAO,UAAU,IAAA,EAAM;AAC/C,MAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,MAAA,QAAA,CAAS,WAAA,GAAc,wCAAA;AACvB,MAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,MAAA,MAAM,aAAA,GAAgB,MAAMe,OAAAA,CAAQ;AAAA,QAClC,OAAA,EAAS;AAAA,OACV,CAAA;AAED,MAAA,IAAI,CAACR,QAAAA,CAAS,aAAa,CAAA,IAAK,aAAA,EAAe;AAC7C,QAAAP,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,+CAAwC,CAAC,CAAA;AAG/D,QAAA,MAAM,EAAE,KAAA,EAAM,GAAI,MAAM,OAAO,eAAe,CAAA;AAC9C,QAAA,MAAM,KAAA,GAAQ,KAAA,CAAM,OAAA,CAAQ,IAAA,CAAK,CAAC,CAAA,EAAG,CAAC,OAAA,CAAQ,IAAA,CAAK,CAAC,CAAA,EAAG,OAAA,EAAS,UAAU,CAAA,EAAG;AAAA,UAC3E,KAAA,EAAO,SAAA;AAAA,UACP,KAAK,OAAA,CAAQ;AAAA,SACd,CAAA;AAED,QAAA,MAAM,IAAI,OAAA,CAAc,CAACL,QAAAA,KAAY;AACnC,UAAA,KAAA,CAAM,EAAA,CAAG,OAAA,EAAS,CAAC,IAAA,KAAS;AAC1B,YAAA,IAAI,SAAS,CAAA,EAAG;AACd,cAAA,YAAA,GAAe,IAAA;AACf,cAAAI,GAAAA,CAAI,QAAQ,qCAAgC,CAAA;AAAA,YAC9C,CAAA,MAAO;AACL,cAAA,MAAA,CAAO,KAAK,4CAA4C,CAAA;AAAA,YAC1D;AACA,YAAAJ,QAAAA,EAAQ;AAAA,UACV,CAAC,CAAA;AAAA,QACH,CAAC,CAAA;AAAA,MACH;AAAA,IACF;AAGA,IAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,IAAA,QAAA,CAAS,WAAA,GAAc,iBAAA;AACvB,IAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,IAAA,MAAM,MAAA,GAAsB;AAAA,MAC1B,OAAA,EAAS,IAAA;AAAA,MACT,MAAA;AAAA,MACA,eAAA;AAAA,MACA,OAAA;AAAA,MACA,YAAY,aAAA,EAAc;AAAA,MAC1B,YAAA;AAAA,MACA;AAAA,KACF;AAEA,IAAA,gBAAA,CAAiB,MAAM,CAAA;AACvB,IAAAe,KAAAA,CAAMV,OAAAA,CAAM,KAAA,CAAM,wCAAiC,CAAC,CAAA;AAAA,EAEtD,SAAS,KAAA,EAAO;AACd,IAAAO,MAAAA,CAAOP,QAAM,GAAA,CAAI,gBAAA,IAAoB,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAC/F,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AACF,CAAC,CAAA;AAGH,iBAAA,CACG,OAAA,CAAQ,UAAU,CAAA,CAClB,WAAA,CAAY,8CAA8C,CAAA,CAC1D,MAAA,CAAO,2BAA2B,iCAAA,EAAmC,QAAQ,EAC7E,MAAA,CAAO,qBAAA,EAAuB,8BAA8B,CAAA,CAC5D,MAAA,CAAO,mBAAmB,+BAA+B,CAAA,CACzD,MAAA,CAAO,OAAO,OAAA,KAA2E;AACxF,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,0DAAmD,CAAC,CAAA;AAErE,EAAA,MAAM,WAAW,EAAE,IAAA,EAAM,GAAG,UAAA,EAAY,CAAA,EAAG,aAAa,EAAA,EAAG;AAC3D,EAAA,MAAM,SAAmB,EAAC;AAC1B,EAAA,IAAI,MAAA;AACJ,EAAA,IAAI,eAAA;AAEJ,EAAA,IAAI;AAEF,IAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,IAAA,QAAA,CAAS,WAAA,GAAc,mBAAA;AACvB,IAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,IAAA,MAAM,OAAA,GAAU,eAAA,CAAgB,OAAA,CAAQ,OAAA,IAAW,QAAQ,CAAA;AAC3D,IAAAD,GAAAA,CAAI,OAAA,CAAQ,CAAA,gBAAA,EAAc,OAAO,CAAA,CAAE,CAAA;AAGnC,IAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,IAAA,QAAA,CAAS,WAAA,GAAc,2BAAA;AACvB,IAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,IAAA,IAAI,aAAa,OAAA,CAAQ,MAAA;AACzB,IAAA,IAAI,CAAC,UAAA,EAAY;AACf,MAAA,MAAM,SAAA,GAAY,MAAMc,IAAAA,CAAK;AAAA,QAC3B,OAAA,EAAS,kCAAA;AAAA,QACT,WAAA,EAAa,0BAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,yBAAA;AACnB,UAAA,MAAM,YAAA,GAAe,KAAA,CAAM,OAAA,CAAQ,GAAA,EAAKxB,SAAS,CAAA;AACjD,UAAA,IAAI,CAACH,UAAAA,CAAW,YAAY,CAAA,EAAG;AAC7B,YAAA,OAAO,6BAA6B,YAAY,CAAA,CAAA;AAAA,UAClD;AACA,UAAA,OAAO,KAAA,CAAA;AAAA,QACT;AAAA,OACD,CAAA;AAED,MAAA,IAAIoB,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,QAAAC,OAAO,iBAAiB,CAAA;AACxB,QAAA;AAAA,MACF;AAEA,MAAA,UAAA,GAAa,UAAU,QAAA,EAAS;AAAA,IAClC;AAEA,IAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,mBAAmB,CAAA;AAE3B,IAAA,MAAA,GAAS,MAAM,mBAAmB,UAAU,CAAA;AAC5C,IAAA,MAAA,CAAO,OAAA,GAAU,MAAM,kBAAA,CAAmB,MAAA,CAAO,SAAS,OAAO,CAAA;AAEjE,IAAA,CAAA,CAAE,KAAK,qCAAgC,CAAA;AACvC,IAAAV,GAAAA,CAAI,KAAK,CAAA,0BAAA,EAAsBC,OAAAA,CAAM,MAAM,MAAA,CAAO,OAAO,CAAC,CAAA,CAAE,CAAA;AAC5D,IAAAD,GAAAA,CAAI,IAAA,CAAK,CAAA,2BAAA,EAAuBC,OAAAA,CAAM,KAAA,CAAM,CAAA,EAAG,MAAA,CAAO,OAAA,CAAQ,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA,CAAM,CAAC,CAAA,CAAE,CAAA;AAGjF,IAAA,IAAI,MAAA,CAAO,UAAU,GAAA,EAAK;AACxB,MAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,MAAA,QAAA,CAAS,WAAA,GAAc,yBAAA;AACvB,MAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,MAAAD,GAAAA,CAAI,KAAK,oCAA0B,CAAA;AAEnC,MAAA,MAAM,cAAA,GAAiB,MAAMe,OAAAA,CAAQ;AAAA,QACnC,OAAA,EAAS;AAAA,OACV,CAAA;AAED,MAAA,IAAI,CAACR,QAAAA,CAAS,cAAc,CAAA,IAAK,cAAA,EAAgB;AAC/C,QAAA,MAAM,gBAAgB,MAAM,UAAA,CAAW,MAAA,CAAO,OAAA,EAAS,SAAS,CAAC,CAAA;AACjE,QAAA,IAAI,cAAc,OAAA,EAAS;AACzB,UAAA,MAAA,CAAO,OAAA,GAAU,MAAM,kBAAA,CAAmB,MAAA,CAAO,SAAS,OAAO,CAAA;AACjE,UAAAP,GAAAA,CAAI,OAAA,CAAQ,CAAA,0BAAA,EAAwB,aAAA,CAAc,MAAM,CAAA,IAAA,CAAM,CAAA;AAAA,QAChE,CAAA,MAAO;AACL,UAAA,MAAA,CAAO,KAAK,gEAAgE,CAAA;AAC5E,UAAAA,GAAAA,CAAI,KAAK,mDAAyC,CAAA;AAAA,QACpD;AAAA,MACF;AAAA,IACF,CAAA,MAAO;AACL,MAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,MAAA,QAAA,CAAS,WAAA,GAAc,yBAAA;AACvB,MAAA,YAAA,CAAa,QAAQ,CAAA;AACrB,MAAAA,GAAAA,CAAI,QAAQ,sCAAiC,CAAA;AAAA,IAC/C;AAGA,IAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,IAAA,QAAA,CAAS,WAAA,GAAc,0BAAA;AACvB,IAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,IAAA,MAAM,kBAAA,GAAqB,UAAA,CAAW,OAAA,CAAQ,GAAA,EAAKV,SAAS,CAAA;AAC5D,IAAA,UAAA,CAAW;AAAA,MACT,OAAA;AAAA,MACA,UAAA,EAAY,kBAAA;AAAA,MACZ,MAAA,EAAQ,OAAA,KAAY,QAAA,GAChB,+BAAA,GACA;AAAA,KACL,CAAA;AAED,IAAAU,GAAAA,CAAI,QAAQ,4BAAuB,CAAA;AAGnC,IAAA,IAAI,CAAC,OAAA,CAAQ,YAAA,IAAgB,MAAA,CAAO,UAAU,IAAA,EAAM;AAClD,MAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,MAAA,QAAA,CAAS,WAAA,GAAc,0CAAA;AACvB,MAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,MAAA8C,IAAAA;AAAA,QACE,gNAAA;AAAA,QAGA;AAAA,OACF;AAEA,MAAA,MAAM,cAAA,GAAiB,MAAM/B,OAAAA,CAAQ;AAAA,QACnC,OAAA,EAAS;AAAA,OACV,CAAA;AAED,MAAA,IAAI,CAACR,QAAAA,CAAS,cAAc,CAAA,IAAK,cAAA,EAAgB;AAC/C,QAAA,IAAI;AACF,UAAA,MAAM,YAAA,GAAe,MAAMO,IAAAA,CAAK;AAAA,YAC9B,OAAA,EAAS,uBAAA;AAAA,YACT,WAAA,EAAa,kBAAA;AAAA,YACb,YAAA,EAAc;AAAA,WACf,CAAA;AAED,UAAA,IAAI,CAACP,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC3B,YAAA,CAAA,CAAE,MAAM,8BAA8B,CAAA;AAGtC,YAAA,MAAM,EAAE,gBAAA,EAAAyC,iBAAAA,EAAkB,WAAA,EAAAC,YAAAA,KAAgB,MAAM,OAAA,CAAA,OAAA,EAAA,CAAA,IAAA,CAAA,OAAA,WAAA,EAAA,EAAA,cAAA,CAAA,CAAA;AAChD,YAAA,MAAM,EAAE,mBAAA,EAAAC,oBAAAA,EAAoB,GAAI,MAAM,OAAA,CAAA,OAAA,EAAA,CAAA,IAAA,CAAA,OAAA,gBAAA,EAAA,EAAA,mBAAA,CAAA,CAAA;AACtC,YAAA,MAAM,EAAE,OAAA,EAAS,QAAA,EAAS,GAAI,MAAM,OAAO,mBAAmB,CAAA;AAE9D,YAAA,MAAM,EAAE,MAAA,EAAQ,SAAA,EAAU,GAAI,MAAMF,kBAAiB,OAAO,CAAA;AAC5D,YAAA,MAAM,UAAA,GAAaE,qBAAoB,SAAS,CAAA;AAEhD,YAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,UAAA,CAAW,cAAA;AAAA,cAC5CD,YAAAA,CAAY,OAAO,MAAM,CAAA;AAAA,cACzB;AAAA,gBACE,IAAA,EAAM,aAAa,QAAA,EAAS;AAAA,gBAC5B,OAAA,EAAS,CAAC,MAAA,CAAO,MAAA,CAAO,OAAO,CAAA;AAAA,gBAC/B,SAAA,EAAW,CAAA;AAAA,gBACX,YAAA,EAAc,UAAA;AAAA,gBACd,UAAA,EAAY,MAAA,CAAO,IAAA,CAAK,GAAA,EAAK;AAAA;AAC/B,aACF;AAGA,YAAA,eAAA,GAAkB,MAAA,CAAO,OAAA;AACzB,YAAA,CAAA,CAAE,KAAK,gCAA2B,CAAA;AAElC,YAAAjD,IAAI,IAAA,CAAK,CAAA,4BAAA,EAAwBC,QAAM,KAAA,CAAM,eAAe,CAAC,CAAA,CAAE,CAAA;AAC/D,YAAAD,GAAAA,CAAI,KAAK,CAAA,oBAAA,EAAgB,cAAA,CAAe,aAAa,EAAA,EAAI,OAAO,CAAC,CAAA,CAAE,CAAA;AAAA,UACrE;AAAA,QACF,SAAS,KAAA,EAAO;AACd,UAAA,MAAA,CAAO,KAAK,CAAA,0BAAA,EAA6B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AACnG,UAAAA,GAAAA,CAAI,KAAK,gDAAsC,CAAA;AAAA,QACjD;AAAA,MACF;AAAA,IACF;AAGA,IAAA,QAAA,CAAS,IAAA,GAAO,CAAA;AAChB,IAAA,QAAA,CAAS,WAAA,GAAc,iBAAA;AACvB,IAAA,YAAA,CAAa,QAAQ,CAAA;AAErB,IAAA,MAAM,MAAA,GAAsB;AAAA,MAC1B,OAAA,EAAS,IAAA;AAAA,MACT,MAAA;AAAA,MACA,eAAA;AAAA,MACA,OAAA;AAAA,MACA,YAAY,aAAA,EAAc;AAAA,MAC1B,YAAA,EAAc,KAAA;AAAA,MACd;AAAA,KACF;AAEA,IAAA,gBAAA,CAAiB,MAAM,CAAA;AACvB,IAAAW,KAAAA,CAAMV,OAAAA,CAAM,KAAA,CAAM,wCAAiC,CAAC,CAAA;AAAA,EAEtD,SAAS,KAAA,EAAO;AACd,IAAAO,MAAAA,CAAOP,QAAM,GAAA,CAAI,gBAAA,IAAoB,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAC/F,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AACF,CAAC,CAAA;AAGH,iBAAA,CACG,OAAO,YAAY;AAClB,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,kCAA2B,CAAC,CAAA;AAE7C,EAAA,MAAM,MAAA,GAAS,MAAMY,MAAAA,CAAO;AAAA,IAC1B,OAAA,EAAS,oCAAA;AAAA,IACT,OAAA,EAAS;AAAA,MACP;AAAA,QACE,KAAA,EAAO,KAAA;AAAA,QACP,KAAA,EAAO,8CAAA;AAAA,QACP,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,KAAA,EAAO,UAAA;AAAA,QACP,KAAA,EAAO,kCAAA;AAAA,QACP,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,KAAA,EAAO,QAAA;AAAA,QACP,KAAA,EAAO,+BAAA;AAAA,QACP,IAAA,EAAM;AAAA;AACR;AACF,GACD,CAAA;AAED,EAAA,IAAIN,QAAAA,CAAS,MAAM,CAAA,EAAG;AACpB,IAAAC,OAAO,uBAAuB,CAAA;AAC9B,IAAA;AAAA,EACF;AAEA,EAAA,IAAI,WAAW,KAAA,EAAO;AAEpB,IAAA,MAAM,UAAA,GAAa,kBAAkB,QAAA,CAAS,IAAA,CAAK,SAAO,GAAA,CAAI,IAAA,OAAW,KAAK,CAAA;AAC9E,IAAA,IAAI,UAAA,EAAY;AACd,MAAA,MAAM,UAAA,CAAW,WAAW,CAAC,MAAA,EAAQ,YAAY,CAAA,EAAG,EAAE,IAAA,EAAM,MAAA,EAAQ,CAAA;AAAA,IACtE;AAAA,EACF,CAAA,MAAA,IAAW,WAAW,UAAA,EAAY;AAEhC,IAAA,MAAM,eAAA,GAAkB,kBAAkB,QAAA,CAAS,IAAA,CAAK,SAAO,GAAA,CAAI,IAAA,OAAW,UAAU,CAAA;AACxF,IAAA,IAAI,eAAA,EAAiB;AACnB,MAAA,MAAM,eAAA,CAAgB,WAAW,CAAC,MAAA,EAAQ,YAAY,CAAA,EAAG,EAAE,IAAA,EAAM,MAAA,EAAQ,CAAA;AAAA,IAC3E;AAAA,EACF,CAAA,MAAO;AAEL,IAAA,MAAM,EAAE,KAAA,EAAM,GAAI,MAAM,OAAO,eAAe,CAAA;AAC9C,IAAA,MAAM,KAAA,GAAQ,KAAA,CAAM,OAAA,CAAQ,IAAA,CAAK,CAAC,CAAA,EAAG,CAAC,OAAA,CAAQ,IAAA,CAAK,CAAC,CAAA,EAAG,QAAA,EAAU,OAAO,CAAA,EAAG;AAAA,MACzE,KAAA,EAAO,SAAA;AAAA,MACP,KAAK,OAAA,CAAQ;AAAA,KACd,CAAA;AAED,IAAA,MAAM,IAAI,OAAA,CAAc,CAACZ,QAAAA,KAAY;AACnC,MAAA,KAAA,CAAM,EAAA,CAAG,OAAA,EAAS,MAAMA,QAAAA,EAAS,CAAA;AAAA,IACnC,CAAC,CAAA;AAAA,EACH;AACF,CAAC,CAAA;;;ACzcH,mBAAA,EAAA;AACA,WAAA,EAAA;AACA,WAAA,EAAA;AC8BO,SAAS,OAAA,CAAQ,KAAA,EAAe,OAAA,EAA4B,OAAA,EAIxD;AACT,EAAA,MAAM;AAAA,IACJ,WAAA,GAAc,MAAA;AAAA,IACd,OAAA,GAAU,CAAA;AAAA,IACV;AAAA,GACF,GAAe,EAAC;AAEhB,EAAA,MAAMkB,MAAAA,GAAO,MAAM,OAAA,CAAQ,OAAO,IAAI,OAAA,CAAQ,IAAA,CAAK,IAAI,CAAA,GAAI,OAAA;AAE3D,EAAA,OAAO,MAAMA,MAAAA,EAAM;AAAA,IACjB,KAAA;AAAA,IACA,WAAA;AAAA,IACA,WAAA,EAAa,OAAA;AAAA,IACb,OAAA;AAAA,IACA,KAAA;AAAA,IACA,cAAA,EAAgB;AAAA,GACjB,CAAA;AACH;AAKO,SAAS,UAAA,CAAW,SAAiB,OAAA,EAA4B;AACtE,EAAA,IAAI,OAAA,GAAUb,OAAAA,CAAM,KAAA,CAAM,SAAA,GAAO,OAAO,CAAA;AACxC,EAAA,IAAI,OAAA,IAAW,OAAA,CAAQ,MAAA,GAAS,CAAA,EAAG;AACjC,IAAA,OAAA,IAAW,MAAA,GAAS,OAAA,CAAQ,GAAA,CAAI,CAAA,CAAA,KAAKA,OAAAA,CAAM,IAAA,CAAK,SAAA,GAAO,CAAC,CAAC,CAAA,CAAE,IAAA,CAAK,IAAI,CAAA;AAAA,EACtE;AAEA,EAAA,OAAO,MAAM,OAAA,EAAS;AAAA,IACpB,WAAA,EAAa,OAAA;AAAA,IACb,WAAA,EAAa,OAAA;AAAA,IACb,OAAA,EAAS;AAAA,GACV,CAAA;AACH;AAKO,SAAS,UAAA,CAAW,SAAiB,OAAA,EAA4B;AACtE,EAAA,IAAI,OAAA,GAAUA,OAAAA,CAAM,MAAA,CAAO,gBAAA,GAAS,OAAO,CAAA;AAC3C,EAAA,IAAI,OAAA,IAAW,OAAA,CAAQ,MAAA,GAAS,CAAA,EAAG;AACjC,IAAA,OAAA,IAAW,MAAA,GAASA,QAAM,IAAA,CAAK,UAAU,IAAI,IAAA,GAC3C,OAAA,CAAQ,GAAA,CAAI,CAAC,CAAA,EAAG,CAAA,KAAMA,QAAM,IAAA,CAAK,CAAA,EAAG,IAAI,CAAC,CAAA,EAAA,EAAK,CAAC,CAAA,CAAE,CAAC,CAAA,CAAE,IAAA,CAAK,IAAI,CAAA;AAAA,EACjE;AAEA,EAAA,OAAO,MAAM,OAAA,EAAS;AAAA,IACpB,WAAA,EAAa,QAAA;AAAA,IACb,WAAA,EAAa,OAAA;AAAA,IACb,OAAA,EAAS;AAAA,GACV,CAAA;AACH;AAkFO,SAAS,UAAU,QAAA,EAA4C;AACpE,EAAA,MAAM,GAAA,GAAM,OAAO,QAAA,KAAa,QAAA,GAAW,WAAW,aAAA,CAAc,MAAA,CAAO,QAAQ,CAAC,CAAA;AACpF,EAAA,MAAM,GAAA,GAAM,WAAW,GAAG,CAAA;AAE1B,EAAA,IAAI,GAAA,KAAQ,GAAG,OAAO,OAAA;AACtB,EAAA,IAAI,GAAA,GAAM,MAAQ,OAAO,cAAA;AACzB,EAAA,IAAI,MAAM,CAAA,EAAG,OAAO,GAAG,GAAA,CAAI,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA,CAAA;AACrC,EAAA,IAAI,MAAM,GAAA,EAAK,OAAO,GAAG,GAAA,CAAI,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA,CAAA;AACvC,EAAA,OAAO,CAAA,EAAG,GAAA,CAAI,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA,CAAA;AAC1B;AAyDO,SAAS,UAAA,CAAW,OAAiB,OAAA,EAGjC;AACT,EAAA,MAAM,EAAE,MAAA,GAAS,CAAA,EAAG,SAAS,QAAA,EAAI,GAAe,EAAC;AACjD,EAAA,MAAM,MAAA,GAAS,GAAA,CAAI,MAAA,CAAO,MAAM,CAAA;AAEhC,EAAA,OAAO,KAAA,CAAM,GAAA,CAAI,CAAA,IAAA,KAAQ,CAAA,EAAG,MAAM,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA,EAAI,IAAI,CAAA,CAAE,CAAA,CAAE,KAAK,IAAI,CAAA;AAC9E;AAuCO,SAAS,OAAA,CAAQ,MAAA,GAAS,EAAA,EAAI,IAAA,GAAO,QAAA,EAAa;AACvD,EAAA,OAAOA,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,MAAM,CAAC,CAAA;AACvC;ADvQO,IAAM,gBAAgB,IAAIoB,OAAAA,CAAQ,QAAQ,CAAA,CAC9C,YAAY,2BAA2B,CAAA;AAG1C,aAAA,CACG,OAAA,CAAQ,MAAM,CAAA,CACd,KAAA,CAAM,IAAI,CAAA,CACV,WAAA,CAAY,kBAAkB,CAAA,CAC9B,OAAO,eAAA,EAAiB,wCAAwC,CAAA,CAChE,MAAA,CAAO,OAAO,OAAA,KAAmC;AAChD,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,qCAA8B,CAAC,CAAA;AAEhD,EAAA,IAAI;AACF,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AACxC,IAAA,MAAM,OAAA,GAAU,cAAc,WAAA,EAAY;AAE1C,IAAA,IAAI,OAAA,CAAQ,WAAW,CAAA,EAAG;AACxB,MAAAD,GAAAA,CAAI,KAAK,wDAAwD,CAAA;AACjE,MAAAW,MAAM,sBAAsB,CAAA;AAC5B,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,IAAID,OAAAA,EAAQ;AAGlB,IAAA,MAAM,KAAA,GAAQ,IAAIyC,KAAAA,CAAM;AAAA,MACtB,KAAA,EAAO,cAAA;AAAA,MACP,OAAA,EAAS;AAAA,QACP,EAAE,IAAA,EAAM,MAAA,EAAQ,KAAA,EAAO,MAAA,EAAQ,WAAW,MAAA,EAAO;AAAA,QACjD,EAAE,IAAA,EAAM,SAAA,EAAW,KAAA,EAAO,SAAA,EAAW,WAAW,MAAA,EAAO;AAAA,QACvD,EAAE,IAAA,EAAM,SAAA,EAAW,KAAA,EAAO,SAAA,EAAW,WAAW,QAAA,EAAS;AAAA,QACzD,EAAE,IAAA,EAAM,QAAA,EAAU,KAAA,EAAO,QAAA,EAAU,WAAW,QAAA,EAAS;AAAA,QACvD,EAAE,IAAA,EAAM,SAAA,EAAW,KAAA,EAAO,SAAA,EAAW,WAAW,OAAA,EAAQ;AAAA,QACxD,EAAE,IAAA,EAAM,SAAA,EAAW,KAAA,EAAO,SAAA,EAAW,WAAW,QAAA;AAAS;AAC3D,KACD,CAAA;AAGD,IAAA,KAAA,MAAW,UAAU,OAAA,EAAS;AAC5B,MAAA,IAAI,OAAA,GAAU,GAAA;AAEd,MAAA,IAAI,QAAQ,OAAA,EAAS;AACnB,QAAA,CAAA,CAAE,KAAA,CAAM,CAAA,qBAAA,EAAwB,MAAA,CAAO,IAAI,CAAA,GAAA,CAAK,CAAA;AAChD,QAAA,IAAI;AACF,UAAA,MAAM,MAAM,MAAM,aAAA,CAAc,WAAW,MAAA,CAAO,OAAA,EAAS,OAAO,OAAO,CAAA;AACzE,UAAA,OAAA,GAAU,CAAA,EAAG,GAAA,CAAI,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA,CAAA;AAAA,QAC7B,SAAS,KAAA,EAAO;AACd,UAAA,OAAA,GAAU,OAAA;AAAA,QACZ;AAAA,MACF;AAEA,MAAA,KAAA,CAAM,MAAA,CAAO;AAAA,QACX,IAAA,EAAM,MAAA,CAAO,QAAA,GAAWlD,OAAAA,CAAM,KAAA,CAAM,CAAA,OAAA,EAAK,MAAA,CAAO,IAAI,CAAA,CAAE,CAAA,GAAI,CAAA,EAAA,EAAK,MAAA,CAAO,IAAI,CAAA,CAAA;AAAA,QAC1E,OAAA,EAAS,MAAA,CAAO,OAAA,CAAQ,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA,GAAI,KAAA,GAAQ,MAAA,CAAO,OAAA,CAAQ,KAAA,CAAM,CAAA,CAAE,CAAA;AAAA,QACrE,SAAS,MAAA,CAAO,OAAA;AAAA,QAChB,MAAA,EAAQ,OAAO,QAAA,GAAWA,OAAAA,CAAM,MAAM,QAAQ,CAAA,GAAIA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAA;AAAA,QACvE,OAAA,EAAS,OAAA,CAAQ,OAAA,GAAU,OAAA,GAAU,GAAA;AAAA,QACrC,SAAS,IAAI,IAAA,CAAK,MAAA,CAAO,SAAS,EAAE,kBAAA;AAAmB,OACxD,CAAA;AAAA,IACH;AAEA,IAAA,IAAI,QAAQ,OAAA,EAAS;AACnB,MAAA,CAAA,CAAE,KAAK,wBAAwB,CAAA;AAAA,IACjC;AAEA,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,KAAA,CAAM,UAAA,EAAW;AACjB,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAEd,IAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,OAAO,CAAC,CAAA;AAC5B,IAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,gEAA2D,CAAC,CAAA;AAChF,IAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,6DAAwD,CAAC,CAAA;AAE7E,IAAAU,MAAM,sBAAsB,CAAA;AAAA,EAE9B,SAAS,KAAA,EAAO;AACd,IAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,0BAAA,IAA8B,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EAC3G;AACF,CAAC,CAAA;AAGH,aAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,KAAA,CAAM,KAAK,EACX,WAAA,CAAY,qBAAqB,CAAA,CACjC,MAAA,CAAO,mBAAA,EAAqB,aAAa,EACzC,MAAA,CAAO,qBAAA,EAAuB,uCAAA,EAAyC,QAAQ,CAAA,CAC/E,MAAA,CAAO,eAAe,sCAAsC,CAAA,CAC5D,MAAA,CAAO,OAAO,OAAA,KAAmE;AAChF,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,6BAAsB,CAAC,CAAA;AAExC,EAAA,IAAI;AACF,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AAGxC,IAAA,IAAI,aAAa,OAAA,CAAQ,IAAA;AACzB,IAAA,IAAI,CAAC,UAAA,EAAY;AACf,MAAA,MAAM,SAAA,GAAY,MAAMa,IAAAA,CAAK;AAAA,QAC3B,OAAA,EAAS,cAAA;AAAA,QACT,WAAA,EAAa,aAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,KAAA,IAAS,KAAA,CAAM,MAAK,CAAE,MAAA,KAAW,GAAG,OAAO,kBAAA;AAChD,UAAA,IAAI,CAAC,kBAAA,CAAmB,IAAA,CAAK,KAAK,GAAG,OAAO,oCAAA;AAC5C,UAAA,OAAO,KAAA,CAAA;AAAA,QACT;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,QAAAC,OAAO,2BAA2B,CAAA;AAClC,QAAA;AAAA,MACF;AAEA,MAAA,UAAA,GAAa,UAAU,QAAA,EAAS;AAAA,IAClC;AAGA,IAAA,MAAM,OAAA,GAAW,QAAQ,OAAA,IAAiE,QAAA;AAC1F,IAAA,IAAI,CAAC,CAAC,QAAA,EAAU,SAAA,EAAW,cAAc,CAAA,CAAE,QAAA,CAAS,OAAO,CAAA,EAAG;AAC5D,MAAA,MAAM,IAAI,MAAM,uDAAuD,CAAA;AAAA,IACzE;AAEA,IAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,6BAA6B,CAAA;AAGrC,IAAA,MAAM,EAAE,QAAQ,QAAA,EAAS,GAAI,MAAM,aAAA,CAAc,YAAA,CAAa,YAAY,OAAO,CAAA;AAEjF,IAAA,CAAA,CAAE,KAAK,oCAA+B,CAAA;AAGtC,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAI0C,KAAAA;AAAA,MACVnD,OAAAA,CAAM,MAAA,CAAO,8CAAuC,CAAA,GACpDA,QAAM,KAAA,CAAM,QAAQ,CAAA,GAAI,MAAA,GACxBA,QAAM,GAAA,CAAI,8DAAoD,CAAA,GAC9DA,OAAAA,CAAM,IAAI,+BAA+B,CAAA;AAAA,MACzC;AAAA,QACE,OAAA,EAAS,CAAA;AAAA,QACT,MAAA,EAAQ,CAAA;AAAA,QACR,WAAA,EAAa,QAAA;AAAA,QACb,WAAA,EAAa;AAAA;AACf,KACD,CAAA;AAGD,IAAA,IAAI,OAAA,CAAQ,WAAW,KAAA,EAAO;AAC5B,MAAA,MAAM,SAAA,GAAY,MAAMc,OAAAA,CAAQ;AAAA,QAC9B,OAAA,EAAS,yCAAA;AAAA,QACT,YAAA,EAAc;AAAA,OACf,CAAA;AAED,MAAA,IAAIR,QAAAA,CAAS,SAAS,CAAA,IAAK,CAAC,SAAA,EAAW;AAErC,QAAAP,GAAAA,CAAI,KAAK,wFAA8E,CAAA;AAAA,MACzF;AAAA,IACF;AAGA,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA8C,IAAAA;AAAA,MACE,CAAA,UAAA,EAAa,MAAA,CAAO,QAAA,CAAS,IAAI;AAAA,UAAA,EACpB,MAAA,CAAO,SAAS,OAAO;AAAA,UAAA,EACvB,MAAA,CAAO,SAAS,OAAO;AAAA,UAAA,EACvB,MAAA,CAAO,QAAA,CAAS,QAAA,GAAW,QAAA,GAAW,SAAS,CAAA,CAAA;AAAA,MAC5D;AAAA,KACF;AAGA,IAAA,IAAI,MAAA,CAAO,SAAS,QAAA,EAAU;AAC5B,MAAA,MAAM1D,UAAS,UAAA,EAAW;AAC1B,MAAAA,OAAAA,CAAO,UAAA,GAAa,CAAA,sBAAA,EAAyB,UAAU,CAAA,KAAA,CAAA;AACvD,MAAAA,QAAO,OAAA,GAAU,OAAA;AACjB,MAAA,UAAA,CAAWA,OAAM,CAAA;AACjB,MAAAY,GAAAA,CAAI,QAAQ,6BAAwB,CAAA;AAAA,IACtC;AAEA,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAAA,GAAAA,CAAI,KAAK,aAAa,CAAA;AACtB,IAAAA,IAAI,IAAA,CAAK,CAAA,uBAAA,EAA0BC,QAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAE,CAAA;AAC/D,IAAAD,IAAI,IAAA,CAAK,CAAA,oBAAA,EAAuBC,QAAM,IAAA,CAAK,sBAAsB,CAAC,CAAA,CAAE,CAAA;AACpE,IAAAD,IAAI,IAAA,CAAK,CAAA,sBAAA,EAAyBC,QAAM,IAAA,CAAK,sBAAsB,CAAC,CAAA,CAAE,CAAA;AAEtE,IAAAU,MAAM,6BAA6B,CAAA;AAAA,EAErC,SAAS,KAAA,EAAO;AACd,IAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,2BAAA,IAA+B,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EAC5G;AACF,CAAC,CAAA;AAGH,aAAA,CACG,OAAA,CAAQ,MAAM,CAAA,CACd,KAAA,CAAM,MAAM,CAAA,CACZ,WAAA,CAAY,4BAA4B,CAAA,CACxC,OAAO,mBAAA,EAAqB,sBAAsB,CAAA,CAClD,MAAA,CAAO,OAAO,OAAA,KAA+B;AAC5C,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,0BAAmB,CAAC,CAAA;AAErC,EAAA,IAAI;AACF,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AAExC,IAAA,IAAI,MAAA;AACJ,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,MAAA,GAAS,aAAA,CAAc,SAAA,CAAU,OAAA,CAAQ,IAAI,CAAA;AAC7C,MAAA,IAAI,CAAC,MAAA,EAAQ;AACX,QAAA,MAAM,IAAI,KAAA,CAAM,CAAA,QAAA,EAAW,OAAA,CAAQ,IAAI,CAAA,WAAA,CAAa,CAAA;AAAA,MACtD;AAAA,IACF,CAAA,MAAO;AACL,MAAA,MAAA,GAAS,cAAc,eAAA,EAAgB;AACvC,MAAA,IAAI,CAAC,MAAA,EAAQ;AACX,QAAA,MAAM,IAAI,MAAM,wDAAwD,CAAA;AAAA,MAC1E;AAAA,IACF;AAEA,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,4BAA4B,CAAA;AAGpC,IAAA,MAAM,OAAA,GAAU,MAAM,aAAA,CAAc,UAAA;AAAA,MAClC,OAAO,QAAA,CAAS,OAAA;AAAA,MAChB,OAAO,QAAA,CAAS;AAAA,KAClB;AAEA,IAAA,CAAA,CAAE,KAAK,8BAAyB,CAAA;AAEhC,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAI0C,KAAAA;AAAA,MACVnD,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAA,GACnC,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,OAAO,CAAC,CAAA,MAAA,EAAS,MAAA,CAAO,QAAA,CAAS,IAAI;AAAA,EAChDA,QAAM,IAAA,CAAK,UAAU,CAAC,CAAA,GAAA,EAAM,MAAA,CAAO,SAAS,OAAO;AAAA,EACnDA,QAAM,IAAA,CAAK,UAAU,CAAC,CAAA,GAAA,EAAM,MAAA,CAAO,SAAS,OAAO;AAAA,EACnDA,OAAAA,CAAM,KAAK,UAAU,CAAC,MAAM,OAAA,CAAQ,OAAA,CAAQ,CAAC,CAAC,CAAA;AAAA,EAC9CA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,IAAA,EAAO,MAAA,CAAO,QAAA,CAAS,QAAA,GAAWA,OAAAA,CAAM,KAAA,CAAM,QAAQ,CAAA,GAAI,UAAU;AAAA,EACzFA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,GAAA,EAAM,IAAI,IAAA,CAAK,MAAA,CAAO,QAAA,CAAS,SAAS,CAAA,CAAE,cAAA,EAAgB;AAAA,EAChFA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA,EAAI,IAAI,IAAA,CAAK,MAAA,CAAO,QAAA,CAAS,QAAQ,CAAA,CAAE,cAAA,EAAgB,CAAA,CAAA;AAAA,MAClF;AAAA,QACE,OAAA,EAAS,CAAA;AAAA,QACT,WAAA,EAAa,OAAA;AAAA,QACb,WAAA,EAAa;AAAA;AACf,KACD,CAAA;AAED,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAAD,GAAAA,CAAI,IAAA,CAAK,CAAA,UAAA,EAAa,cAAA,CAAe,MAAA,CAAO,QAAA,CAAS,OAAA,EAAS,MAAA,CAAO,QAAA,CAAS,OAAO,CAAC,CAAA,CAAE,CAAA;AAExF,IAAAW,MAAM,yBAAyB,CAAA;AAAA,EAEjC,SAAS,KAAA,EAAO;AACd,IAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,yBAAA,IAA6B,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EAC1G;AACF,CAAC,CAAA;AAGH,aAAA,CACG,OAAA,CAAQ,KAAK,CAAA,CACb,KAAA,CAAM,QAAQ,CAAA,CACd,WAAA,CAAY,8BAA8B,CAAA,CAC1C,SAAS,QAAA,EAAU,0BAA0B,CAAA,CAC7C,MAAA,CAAO,OAAO,IAAA,KAAkB;AAC/B,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,gCAAyB,CAAC,CAAA;AAE3C,EAAA,IAAI;AACF,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AACxC,IAAA,MAAM,OAAA,GAAU,cAAc,WAAA,EAAY;AAE1C,IAAA,IAAI,OAAA,CAAQ,WAAW,CAAA,EAAG;AACxB,MAAAD,GAAAA,CAAI,MAAM,wDAAwD,CAAA;AAClE,MAAAW,MAAM,sBAAsB,CAAA;AAC5B,MAAA;AAAA,IACF;AAEA,IAAA,IAAI,YAAA,GAAe,IAAA;AAGnB,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,MAAA,GAAS,MAAME,MAAAA,CAAO;AAAA,QAC1B,OAAA,EAAS,4BAAA;AAAA,QACT,OAAA,EAAS,OAAA,CAAQ,GAAA,CAAI,CAAA,CAAA,MAAM;AAAA,UACzB,OAAO,CAAA,CAAE,IAAA;AAAA,UACT,OAAO,CAAA,CAAE,IAAA;AAAA,UACT,MAAM,CAAA,EAAG,CAAA,CAAE,OAAA,CAAQ,KAAA,CAAM,GAAG,CAAC,CAAC,CAAA,GAAA,EAAM,CAAA,CAAE,QAAQ,KAAA,CAAM,CAAA,CAAE,CAAC,CAAA,EAAA,EAAK,EAAE,OAAO,CAAA,CAAA;AAAA,SACvE,CAAE;AAAA,OACH,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,MAAM,CAAA,EAAG;AACpB,QAAAC,OAAO,yBAAyB,CAAA;AAChC,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,OAAO,QAAA,EAAS;AAAA,IACjC;AAGA,IAAA,aAAA,CAAc,gBAAgB,YAAY,CAAA;AAG1C,IAAA,MAAMpB,UAAS,UAAA,EAAW;AAC1B,IAAA,MAAM,MAAA,GAAS,aAAA,CAAc,SAAA,CAAU,YAAY,CAAA;AACnD,IAAA,IAAI,MAAA,EAAQ;AACV,MAAAA,OAAAA,CAAO,UAAA,GAAa,CAAA,sBAAA,EAAyB,YAAY,CAAA,KAAA,CAAA;AACzD,MAAAA,OAAAA,CAAO,OAAA,GAAU,MAAA,CAAO,QAAA,CAAS,OAAA;AACjC,MAAA,UAAA,CAAWA,OAAM,CAAA;AAAA,IACnB;AAEA,IAAAY,GAAAA,CAAI,OAAA,CAAQ,CAAA,2BAAA,EAAyB,YAAY,CAAA,CAAE,CAAA;AAEnD,IAAAW,MAAM,uBAAuB,CAAA;AAAA,EAE/B,SAAS,KAAA,EAAO;AACd,IAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,2BAAA,IAA+B,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EAC5G;AACF,CAAC,CAAA;AAGH,aAAA,CACG,QAAQ,SAAS,CAAA,CACjB,MAAM,KAAK,CAAA,CACX,YAAY,sBAAsB,CAAA,CAClC,OAAO,mBAAA,EAAqB,uBAAuB,EACnD,MAAA,CAAO,WAAA,EAAa,0BAA0B,CAAA,CAC9C,MAAA,CAAO,OAAO,OAAA,KAA8C;AAC3D,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,0BAAmB,CAAC,CAAA;AAErC,EAAA,IAAI;AACF,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AAExC,IAAA,IAAI,QAAQ,GAAA,EAAK;AACf,MAAA,MAAM,OAAA,GAAU,cAAc,WAAA,EAAY;AAC1C,MAAA,IAAI,OAAA,CAAQ,WAAW,CAAA,EAAG;AACxB,QAAAD,GAAAA,CAAI,KAAK,kBAAkB,CAAA;AAC3B,QAAAW,MAAM,sBAAsB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,MAAM,IAAID,OAAAA,EAAQ;AAClB,MAAA,CAAA,CAAE,MAAM,sBAAsB,CAAA;AAE9B,MAAA,MAAM,WAAuF,EAAC;AAE9F,MAAA,KAAA,MAAW,UAAU,OAAA,EAAS;AAC5B,QAAA,IAAI;AACF,UAAA,MAAM,UAAU,MAAM,aAAA,CAAc,WAAW,MAAA,CAAO,OAAA,EAAS,OAAO,OAAO,CAAA;AAC7E,UAAA,QAAA,CAAS,IAAA,CAAK;AAAA,YACZ,MAAM,MAAA,CAAO,IAAA;AAAA,YACb,SAAS,MAAA,CAAO,OAAA;AAAA,YAChB,OAAA;AAAA,YACA,SAAS,MAAA,CAAO;AAAA,WACjB,CAAA;AAAA,QACH,SAAS,KAAA,EAAO;AACd,UAAA,QAAA,CAAS,IAAA,CAAK;AAAA,YACZ,MAAM,MAAA,CAAO,IAAA;AAAA,YACb,SAAS,MAAA,CAAO,OAAA;AAAA,YAChB,OAAA,EAAS,CAAA,CAAA;AAAA,YACT,SAAS,MAAA,CAAO;AAAA,WACjB,CAAA;AAAA,QACH;AAAA,MACF;AAEA,MAAA,CAAA,CAAE,KAAK,+BAA0B,CAAA;AAEjC,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,QAAA,CAAS,QAAQ,CAAA,CAAA,KAAK;AACpB,QAAA,MAAM,UAAA,GAAa,CAAA,CAAE,OAAA,IAAW,CAAA,GAAI,CAAA,EAAG,EAAE,OAAA,CAAQ,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA,CAAA,GAAS,OAAA;AACpE,QAAA,OAAA,CAAQ,GAAA;AAAA,UACN,CAAA,EAAGT,QAAM,IAAA,CAAK,CAAA,CAAE,IAAI,CAAA,CAAE,MAAA,CAAO,EAAE,CAAC,CAAA,CAAA,EAAI,WAAW,MAAA,CAAO,EAAE,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,KAAK,CAAA,CAAA,EAAI,CAAA,CAAE,OAAO,CAAA,CAAA,CAAG,CAAC,CAAA;AAAA,SAC3F;AAAA,MACF,CAAC,CAAA;AACD,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,IAEhB,CAAA,MAAO;AACL,MAAA,IAAI,MAAA;AACJ,MAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,QAAA,MAAA,GAAS,aAAA,CAAc,SAAA,CAAU,OAAA,CAAQ,IAAI,CAAA;AAC7C,QAAA,IAAI,CAAC,MAAA,EAAQ;AACX,UAAA,MAAM,IAAI,KAAA,CAAM,CAAA,QAAA,EAAW,OAAA,CAAQ,IAAI,CAAA,WAAA,CAAa,CAAA;AAAA,QACtD;AAAA,MACF,CAAA,MAAO;AACL,QAAA,MAAA,GAAS,cAAc,eAAA,EAAgB;AACvC,QAAA,IAAI,CAAC,MAAA,EAAQ;AACX,UAAA,MAAM,IAAI,MAAM,kBAAkB,CAAA;AAAA,QACpC;AAAA,MACF;AAEA,MAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,MAAA,CAAA,CAAE,MAAM,qBAAqB,CAAA;AAE7B,MAAA,MAAM,OAAA,GAAU,MAAM,aAAA,CAAc,UAAA;AAAA,QAClC,OAAO,QAAA,CAAS,OAAA;AAAA,QAChB,OAAO,QAAA,CAAS;AAAA,OAClB;AAEA,MAAA,CAAA,CAAE,KAAK,0BAAqB,CAAA;AAE5B,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIT,QAAM,IAAA,CAAK,CAAA,QAAA,EAAW,OAAO,QAAA,CAAS,IAAI,EAAE,CAAC,CAAA;AACzD,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,SAAA,EAAY,OAAO,QAAA,CAAS,OAAO,EAAE,CAAC,CAAA;AAC7D,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,SAAA,EAAY,OAAO,QAAA,CAAS,OAAO,EAAE,CAAC,CAAA;AAC7D,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,KAAA,CAAM,CAAA,SAAA,EAAY,QAAQ,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA,CAAM,CAAC,CAAA;AAC7D,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,IAChB;AAEA,IAAAU,MAAM,wBAAwB,CAAA;AAAA,EAEhC,SAAS,KAAA,EAAO;AACd,IAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,2BAAA,IAA+B,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EAC5G;AACF,CAAC,CAAA;AAGH,aAAA,CACG,QAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,+CAA+C,EAC3D,MAAA,CAAO,mBAAA,EAAqB,aAAa,CAAA,CACzC,OAAO,qBAAA,EAAuB,uCAAA,EAAyC,QAAQ,CAAA,CAC/E,MAAA,CAAO,OAAO,OAAA,KAAiD;AAC9D,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,yBAAkB,CAAC,CAAA;AAEpC,EAAA,IAAI;AACF,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AAGxC,IAAA,IAAI,aAAa,OAAA,CAAQ,IAAA;AACzB,IAAA,IAAI,CAAC,UAAA,EAAY;AACf,MAAA,MAAM,SAAA,GAAY,MAAMa,IAAAA,CAAK;AAAA,QAC3B,OAAA,EAAS,cAAA;AAAA,QACT,WAAA,EAAa,iBAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,KAAA,IAAS,KAAA,CAAM,MAAK,CAAE,MAAA,KAAW,GAAG,OAAO,kBAAA;AAChD,UAAA,IAAI,CAAC,kBAAA,CAAmB,IAAA,CAAK,KAAK,GAAG,OAAO,oCAAA;AAC5C,UAAA,OAAO,KAAA,CAAA;AAAA,QACT;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,UAAA,GAAa,UAAU,QAAA,EAAS;AAAA,IAClC;AAGA,IAAA,MAAM,YAAA,GAAe,MAAMK,MAAAA,CAAO;AAAA,MAChC,OAAA,EAAS,cAAA;AAAA,MACT,OAAA,EAAS;AAAA,QACP,EAAE,KAAA,EAAO,UAAA,EAAY,KAAA,EAAO,8BAAA,EAA+B;AAAA,QAC3D,EAAE,KAAA,EAAO,YAAA,EAAc,KAAA,EAAO,0BAAA;AAA2B;AAC3D,KACD,CAAA;AAED,IAAA,IAAIN,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,MAAAC,OAAO,kBAAkB,CAAA;AACzB,MAAA;AAAA,IACF;AAGA,IAAA,MAAM,WAAA,GAAc,MAAMM,IAAAA,CAAK;AAAA,MAC7B,OAAA,EAAS,YAAA,KAAiB,UAAA,GAAa,oBAAA,GAAuB,oBAAA;AAAA,MAC9D,WAAA,EAAa,YAAA,KAAiB,UAAA,GAAa,sBAAA,GAAyB;AAAA,KACrE,CAAA;AAED,IAAA,IAAIP,QAAAA,CAAS,WAAW,CAAA,EAAG;AACzB,MAAAC,OAAO,kBAAkB,CAAA;AACzB,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,OAAA,GAAW,QAAQ,OAAA,IAAiE,QAAA;AAE1F,IAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,qBAAqB,CAAA;AAG7B,IAAA,MAAM,MAAA,GAAS,MAAM,aAAA,CAAc,YAAA;AAAA,MACjC,UAAA;AAAA,MACA,WAAA,CAAY,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,MAC5B;AAAA,KACF;AAEA,IAAA,CAAA,CAAE,KAAK,qCAAgC,CAAA;AAGvC,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAAoC,IAAAA;AAAA,MACE,CAAA,UAAA,EAAa,MAAA,CAAO,QAAA,CAAS,IAAI;AAAA,UAAA,EACpB,MAAA,CAAO,SAAS,OAAO;AAAA,UAAA,EACvB,MAAA,CAAO,SAAS,OAAO;AAAA,UAAA,EACvB,MAAA,CAAO,QAAA,CAAS,QAAA,GAAW,QAAA,GAAW,UAAU,CAAA,CAAA;AAAA,MAC7D;AAAA,KACF;AAGA,IAAA,IAAI,MAAA,CAAO,SAAS,QAAA,EAAU;AAC5B,MAAA,MAAM1D,UAAS,UAAA,EAAW;AAC1B,MAAAA,OAAAA,CAAO,UAAA,GAAa,CAAA,sBAAA,EAAyB,UAAU,CAAA,KAAA,CAAA;AACvD,MAAAA,QAAO,OAAA,GAAU,OAAA;AACjB,MAAA,UAAA,CAAWA,OAAM,CAAA;AACjB,MAAAY,GAAAA,CAAI,QAAQ,6BAAwB,CAAA;AAAA,IACtC;AAEA,IAAAW,MAAM,8BAA8B,CAAA;AAAA,EAEtC,SAAS,KAAA,EAAO;AACd,IAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,2BAAA,IAA+B,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EAC5G;AACF,CAAC,CAAA;AAGH,aAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,oCAAoC,CAAA,CAChD,MAAA,CAAO,mBAAA,EAAqB,kBAAkB,CAAA,CAC9C,MAAA,CAAO,OAAO,QAAA,KAAgC;AAC7C,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,yBAAkB,CAAC,CAAA;AAEpC,EAAAD,GAAAA,CAAI,KAAK,oDAA0C,CAAA;AACnD,EAAAA,GAAAA,CAAI,KAAK,6CAA6C,CAAA;AAEtD,EAAA,MAAM,OAAA,GAAU,MAAMe,OAAAA,CAAQ;AAAA,IAC5B,OAAA,EAAS,gCAAA;AAAA,IACT,YAAA,EAAc;AAAA,GACf,CAAA;AAED,EAAA,IAAIR,QAAAA,CAAS,OAAO,CAAA,IAAK,CAAC,OAAA,EAAS;AACjC,IAAAC,OAAO,kBAAkB,CAAA;AACzB,IAAA;AAAA,EACF;AAEA,EAAAR,GAAAA,CAAI,MAAM,iDAA4C,CAAA;AACtD,EAAAA,GAAAA,CAAI,KAAK,oDAAoD,CAAA;AAC7D,EAAAA,GAAAA,CAAI,KAAK,iCAAiC,CAAA;AAE1C,EAAAW,MAAM,oBAAoB,CAAA;AAC5B,CAAC,CAAA;AAGH,aAAA,CACG,QAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,iBAAiB,EAC7B,QAAA,CAAS,YAAA,EAAc,qBAAqB,CAAA,CAC5C,SAAS,YAAA,EAAc,iBAAiB,EACxC,MAAA,CAAO,OAAO,SAAkB,OAAA,KAAqB;AACpD,EAAAF,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,6BAAmB,CAAC,CAAA;AAErC,EAAA,IAAI;AACF,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AAExC,IAAA,IAAI,CAAC,OAAA,EAAS;AACZ,MAAA,MAAM,OAAA,GAAU,cAAc,WAAA,EAAY;AAC1C,MAAA,IAAI,OAAA,CAAQ,WAAW,CAAA,EAAG;AACxB,QAAAD,GAAAA,CAAI,MAAM,kBAAkB,CAAA;AAC5B,QAAAW,MAAM,sBAAsB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,MAAM,MAAA,GAAS,MAAME,MAAAA,CAAO;AAAA,QAC1B,OAAA,EAAS,0BAAA;AAAA,QACT,OAAA,EAAS,OAAA,CAAQ,GAAA,CAAI,CAAA,CAAA,MAAM;AAAA,UACzB,OAAO,CAAA,CAAE,IAAA;AAAA,UACT,OAAO,CAAA,CAAE,IAAA;AAAA,UACT,IAAA,EAAM,CAAA,EAAG,CAAA,CAAE,OAAA,CAAQ,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,GAAA,EAAM,CAAA,CAAE,OAAA,CAAQ,KAAA,CAAM,EAAE,CAAC,CAAA;AAAA,SACzD,CAAE;AAAA,OACH,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,MAAM,CAAA,EAAG;AACpB,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,OAAA,GAAU,OAAO,QAAA,EAAS;AAAA,IAC5B;AAEA,IAAA,IAAI,CAAC,OAAA,EAAS;AACZ,MAAA,MAAM,SAAA,GAAY,MAAMM,IAAAA,CAAK;AAAA,QAC3B,OAAA,EAAS,WAAA;AAAA,QACT,WAAA,EAAa,iBAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,KAAA,IAAS,KAAA,CAAM,MAAK,CAAE,MAAA,KAAW,GAAG,OAAO,kBAAA;AAChD,UAAA,IAAI,CAAC,kBAAA,CAAmB,IAAA,CAAK,KAAK,GAAG,OAAO,oCAAA;AAC5C,UAAA,OAAO,KAAA,CAAA;AAAA,QACT;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,OAAA,GAAU,UAAU,QAAA,EAAS;AAAA,IAC/B;AAEA,IAAA,aAAA,CAAc,YAAA,CAAa,SAAS,OAAO,CAAA;AAE3C,IAAAR,IAAI,OAAA,CAAQ,CAAA,gBAAA,EAAc,OAAO,CAAA,MAAA,EAAS,OAAO,CAAA,CAAA,CAAG,CAAA;AAGpD,IAAA,MAAM,YAAA,GAAe,cAAc,eAAA,EAAgB;AACnD,IAAA,IAAI,YAAA,IAAgB,YAAA,CAAa,QAAA,CAAS,IAAA,KAAS,OAAA,EAAS;AAC1D,MAAA,MAAMZ,UAAS,UAAA,EAAW;AAC1B,MAAAA,OAAAA,CAAO,UAAA,GAAa,CAAA,sBAAA,EAAyB,OAAO,CAAA,KAAA,CAAA;AACpD,MAAA,UAAA,CAAWA,OAAM,CAAA;AAAA,IACnB;AAEA,IAAAuB,MAAM,6BAA6B,CAAA;AAAA,EAErC,SAAS,KAAA,EAAO;AACd,IAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,2BAAA,IAA+B,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EAC5G;AACF,CAAC,CAAA;AAGH,aAAA,CACG,OAAA,CAAQ,MAAM,CAAA,CACd,WAAA,CAAY,wDAAwD,CAAA,CACpE,MAAA,CAAO,iBAAA,EAAmB,cAAA,EAAgB,uBAAuB,CAAA,CACjE,MAAA,CAAO,OAAO,OAAA,KAAgC;AAC7C,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,wCAAiC,CAAC,CAAA;AAEnD,EAAA,IAAI;AACF,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AACxC,IAAA,MAAM,MAAA,GAAS,cAAc,eAAA,EAAgB;AAE7C,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,MAAM,IAAI,MAAM,8DAA8D,CAAA;AAAA,IAChF;AAEA,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,4BAA4B,CAAA;AAGpC,IAAA,MAAM,eAAe,MAAM,KAAA,CAAM,CAAA,EAAG,OAAA,CAAQ,MAAM,CAAA,SAAA,CAAA,EAAa;AAAA,MAC7D,MAAA,EAAQ,MAAA;AAAA,MACR,OAAA,EAAS,EAAE,cAAA,EAAgB,kBAAA,EAAmB;AAAA,MAC9C,IAAA,EAAM,KAAK,SAAA,CAAU;AAAA,QACnB,MAAA,EAAQ,UAAA;AAAA,QACR,YAAA,EAAc,OAAO,QAAA,CAAS;AAAA,OAC/B;AAAA,KACF,CAAA;AAED,IAAA,IAAI,CAAC,aAAa,EAAA,EAAI;AACpB,MAAA,MAAM,KAAA,GAAQ,MAAM,YAAA,CAAa,IAAA,EAAK,CAAE,MAAM,OAAO,EAAE,KAAA,EAAO,eAAA,EAAgB,CAAE,CAAA;AAChF,MAAA,MAAM,IAAI,KAAA,CAAM,KAAA,CAAM,KAAA,IAAS,yBAAyB,CAAA;AAAA,IAC1D;AAEA,IAAA,MAAM,EAAE,IAAA,EAAM,OAAA,EAAS,WAAU,GAAI,MAAM,aAAa,IAAA,EAAK;AAE7D,IAAA,CAAA,CAAE,KAAK,6BAAwB,CAAA;AAG/B,IAAAV,GAAAA,CAAI,KAAK,EAAE,CAAA;AACX,IAAAA,GAAAA,CAAI,KAAK,oDAAoD,CAAA;AAC7D,IAAAA,GAAAA,CAAI,KAAK,EAAE,CAAA;AACX,IAAAA,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,IAAI,CAAC,CAAA,mCAAA,CAAqC,CAAA;AACjE,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK;AAAA,GAAA,EAAQ,OAAO;AAAA,CAAI,CAAC,CAAA;AAChD,IAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,IAAI,CAAC,CAAA,oCAAA,CAAsC,CAAA;AAClE,IAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,IAAI,CAAC,CAAA,4BAAA,CAA8B,CAAA;AAC1D,IAAAD,GAAAA,CAAI,KAAK,EAAE,CAAA;AAEX,IAAA8C,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,oBAAoB,CAAC,IAAIA,OAAAA,CAAM,MAAA,CAAO,IAAA,CAAK,IAAI,CAAC;;AAAA,qBAAA,EACtC,IAAA,CAAK,KAAA,CAAM,SAAA,GAAY,EAAE,CAAC,CAAA,SAAA,CAAA;AAAA,MAClD;AAAA,KACF;AAGA,IAAA,CAAA,CAAE,MAAM,yCAAyC,CAAA;AAEjD,IAAA,MAAM,YAAA,GAAe,GAAA;AACrB,IAAA,MAAM,WAAA,GAAc,IAAA,CAAK,KAAA,CAAO,SAAA,GAAY,MAAQ,YAAY,CAAA;AAChE,IAAA,IAAI,QAAA,GAAW,CAAA;AACf,IAAA,IAAI,UAAA,GAAa,KAAA;AACjB,IAAA,IAAI,WAAA,GAAyC,IAAA;AAE7C,IAAA,OAAO,QAAA,GAAW,WAAA,IAAe,CAAC,UAAA,EAAY;AAC5C,MAAA,MAAM,IAAI,OAAA,CAAQ,CAAAL,aAAW,UAAA,CAAWA,QAAAA,EAAS,YAAY,CAAC,CAAA;AAE9D,MAAA,IAAI;AACF,QAAA,MAAM,cAAA,GAAiB,MAAM,KAAA,CAAM,CAAA,EAAG,QAAQ,MAAM,CAAA,eAAA,EAAkB,IAAI,CAAA,CAAE,CAAA;AAE5E,QAAA,IAAI,eAAe,EAAA,EAAI;AACrB,UAAA,MAAM,MAAA,GAAS,MAAM,cAAA,CAAe,IAAA,EAAK;AAEzC,UAAA,IAAI,MAAA,CAAO,WAAW,YAAA,EAAc;AAClC,YAAA,UAAA,GAAa,IAAA;AACb,YAAA,WAAA,GAAc,MAAA;AAAA,UAChB,CAAA,MAAA,IAAW,MAAA,CAAO,MAAA,KAAW,UAAA,EAAY;AACvC,YAAA,MAAM,IAAI,MAAM,2BAA2B,CAAA;AAAA,UAC7C,CAAA,MAAA,IAAW,MAAA,CAAO,MAAA,KAAW,SAAA,EAAW;AACtC,YAAA,MAAM,IAAI,MAAM,sBAAsB,CAAA;AAAA,UACxC;AAAA,QACF,WAAW,cAAA,CAAe,MAAA,KAAW,GAAA,IAAO,cAAA,CAAe,WAAW,GAAA,EAAK;AACzE,UAAA,MAAM,IAAI,MAAM,mCAAmC,CAAA;AAAA,QACrD;AAAA,MACF,SAAS,UAAA,EAAY;AAEnB,QAAA,IAAI,sBAAsB,KAAA,KACrB,UAAA,CAAW,OAAA,CAAQ,QAAA,CAAS,UAAU,CAAA,IACtC,UAAA,CAAW,OAAA,CAAQ,QAAA,CAAS,SAAS,CAAA,IACrC,UAAA,CAAW,OAAA,CAAQ,QAAA,CAAS,WAAW,CAAA,CAAA,EAAI;AAC9C,UAAA,MAAM,UAAA;AAAA,QACR;AAAA,MACF;AAEA,MAAA,QAAA,EAAA;AAGA,MAAA,MAAM,OAAA,GAAU,IAAA,CAAK,KAAA,CAAO,QAAA,GAAW,eAAgB,GAAI,CAAA;AAC3D,MAAA,CAAA,CAAE,OAAA,CAAQ,CAAA,8BAAA,EAAiC,OAAO,CAAA,EAAA,CAAI,CAAA;AAAA,IACxD;AAEA,IAAA,IAAI,CAAC,UAAA,EAAY;AACf,MAAA,MAAM,IAAI,MAAM,0CAA0C,CAAA;AAAA,IAC5D;AAEA,IAAA,CAAA,CAAE,KAAK,oCAA+B,CAAA;AAEtC,IAAA,UAAA,CAAW,wBAAA,EAA0B;AAAA,MACnC,CAAA,YAAA,EAAe,MAAA,CAAO,QAAA,CAAS,OAAA,CAAQ,MAAM,CAAA,EAAG,CAAC,CAAC,CAAA,GAAA,EAAM,MAAA,CAAO,QAAA,CAAS,OAAA,CAAQ,KAAA,CAAM,EAAE,CAAC,CAAA,CAAA;AAAA,MACzF,cAAc,WAAA,EAAa,gBAAA,EAAkB,MAAM,CAAA,EAAG,CAAC,KAAK,WAAW,CAAA,GAAA,CAAA;AAAA,MACvE,EAAA;AAAA,MACA,mDAAA;AAAA,MACA;AAAA,KACD,CAAA;AAED,IAAAe,MAAM,kBAAkB,CAAA;AAAA,EAE1B,SAAS,KAAA,EAAO;AACd,IAAA,IAAI,iBAAiB,KAAA,IAAS,KAAA,CAAM,OAAA,CAAQ,QAAA,CAAS,OAAO,CAAA,EAAG;AAC7D,MAAAH,MAAAA,CAAOP,OAAAA,CAAM,GAAA,CAAI,mEAAmE,CAAC,CAAA;AAAA,IACvF,CAAA,MAAO;AACL,MAAAO,MAAAA,CAAOP,QAAM,GAAA,CAAI,kBAAA,IAAsB,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,IACnG;AAAA,EACF;AACF,CAAC,CAAA;AAIH,aAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,KAAA,CAAM,QAAQ,CAAA,CACd,WAAA,CAAY,iBAAiB,CAAA,CAC7B,QAAA,CAAS,UAAU,uBAAuB,CAAA,CAC1C,OAAO,aAAA,EAAe,mBAAmB,EACzC,MAAA,CAAO,OAAO,MAAe,OAAA,KAAkC;AAC9D,EAAAQ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,gCAAoB,CAAC,CAAA;AAEtC,EAAA,IAAI;AACF,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AAExC,IAAA,IAAI,CAAC,IAAA,EAAM;AACT,MAAA,MAAM,OAAA,GAAU,cAAc,WAAA,EAAY;AAC1C,MAAA,IAAI,OAAA,CAAQ,WAAW,CAAA,EAAG;AACxB,QAAAD,GAAAA,CAAI,MAAM,kBAAkB,CAAA;AAC5B,QAAAW,MAAM,sBAAsB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,MAAM,MAAA,GAAS,MAAME,MAAAA,CAAO;AAAA,QAC1B,OAAA,EAAS,0BAAA;AAAA,QACT,OAAA,EAAS,OAAA,CAAQ,GAAA,CAAI,CAAA,CAAA,MAAM;AAAA,UACzB,OAAO,CAAA,CAAE,IAAA;AAAA,UACT,OAAO,CAAA,CAAE,IAAA;AAAA,UACT,MAAM,CAAA,CAAE,QAAA,GAAWZ,OAAAA,CAAM,MAAA,CAAO,eAAe,CAAA,GAAI;AAAA,SACrD,CAAE;AAAA,OACH,CAAA;AAED,MAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,EAAG;AACpB,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,IAAA,GAAO,OAAO,QAAA,EAAS;AAAA,IACzB;AAGA,IAAA,MAAM,MAAA,GAAS,aAAA,CAAc,SAAA,CAAU,IAAI,CAAA;AAC3C,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,QAAA,EAAW,IAAI,CAAA,WAAA,CAAa,CAAA;AAAA,IAC9C;AAGA,IAAA,IAAI,CAAC,SAAS,KAAA,EAAO;AACnB,MAAAR,GAAAA,CAAI,IAAA,CAAK,CAAA,mDAAA,EAA4C,IAAI,CAAA,CAAE,CAAA;AAC3D,MAAAA,IAAI,IAAA,CAAK,CAAA,SAAA,EAAY,MAAA,CAAO,QAAA,CAAS,OAAO,CAAA,CAAE,CAAA;AAE9C,MAAA,MAAM,SAAA,GAAY,MAAMe,OAAAA,CAAQ;AAAA,QAC9B,OAAA,EAAS,8CAAA;AAAA,QACT,YAAA,EAAc;AAAA,OACf,CAAA;AAED,MAAA,IAAIR,QAAAA,CAAS,SAAS,CAAA,IAAK,CAAC,SAAA,EAAW;AACrC,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAAA,IACF;AAEA,IAAA,aAAA,CAAc,aAAa,IAAI,CAAA;AAE/B,IAAAR,GAAAA,CAAI,OAAA,CAAQ,CAAA,uBAAA,EAAqB,IAAI,CAAA,CAAE,CAAA;AAEvC,IAAAW,MAAM,gBAAgB,CAAA;AAAA,EAExB,SAAS,KAAA,EAAO;AACd,IAAAH,MAAAA,CAAOP,QAAM,GAAA,CAAI,2BAAA,IAA+B,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EAC5G;AACF,CAAC,CAAA;AAGH,aAAA,CACG,OAAO,YAAY;AAElB,EAAA,MAAM,aAAA,CAAc,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,IAAA,EAAK,KAAM,MAAM,CAAA,EAAG,UAAA,CAAW,OAAA,CAAQ,IAAI,CAAA;AAC1F,CAAC,CAAA;AEzzBI,IAAM,qBAAqB,IAAIoB,OAAAA,CAAQ,aAAa,CAAA,CACxD,YAAY,oDAAoD,CAAA;AAEnE,kBAAA,CACG,OAAA,CAAQ,MAAM,CAAA,CACd,WAAA,CAAY,0CAA0C,EACtD,MAAA,CAAO,iBAAA,EAAmB,kBAAkB,CAAA,CAC5C,MAAA,CAAO,uBAAA,EAAyB,mBAAmB,CAAA,CACnD,MAAA,CAAO,qBAAA,EAAuB,oCAAoC,CAAA,CAClE,MAAA,CAAO,qBAAA,EAAuB,6CAAA,EAA+C,cAAc,CAAA,CAC3F,MAAA,CAAO,OAAO,OAAA,KAAY;AACzB,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,uCAAgC,CAAC,CAAA;AAElD,EAAA,IAAI;AAEF,IAAA,MAAM,aAAA,GAAgB,SAAA,CAAU,OAAA,CAAwB,aAAA,CAAc,cAAc,CAAA;AACpF,IAAA,MAAM,MAAA,GAAS,cAAc,wBAAA,EAAyB;AAEtD,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAAO,MAAAA,CAAOP,OAAAA,CAAM,GAAA,CAAI,uDAAuD,CAAC,CAAA;AACzE,MAAA;AAAA,IACF;AAGA,IAAA,MAAM,OAAA,GAAU,OAAA,CAAQ,OAAA,IAAW,MAAMa,IAAAA,CAAK;AAAA,MAC5C,OAAA,EAAS,iBAAA;AAAA,MACT,QAAA,EAAU,CAAC,GAAA,KAAQ,CAAC,MAAM,sBAAA,GAAyB,KAAA;AAAA,KACpD,CAAA;AACD,IAAA,IAAIP,QAAAA,CAAS,OAAO,CAAA,EAAG;AAEvB,IAAA,MAAM,eAAe,OAAA,CAAQ,YAAA,IAAgB,QAAQ,GAAA,CAAI,iBAAA,IAAqB,MAAMO,IAAAA,CAAK;AAAA,MACvF,OAAA,EAAS,0BAAA;AAAA,MACT,QAAA,EAAU,CAAC,GAAA,KAAQ,CAAC,MAAM,qBAAA,GAAwB,KAAA;AAAA,KACnD,CAAA;AACD,IAAA,IAAIP,QAAAA,CAAS,YAAY,CAAA,EAAG;AAE5B,IAAA,MAAM,SAAA,GAAY,OAAA,CAAQ,SAAA,IAAa,MAAMO,IAAAA,CAAK;AAAA,MAChD,OAAA,EAAS,gDAAA;AAAA,MACT,QAAA,EAAU,CAAC,GAAA,KAAQ,CAAC,MAAM,mBAAA,GAAsB,KAAA;AAAA,KACjD,CAAA;AACD,IAAA,IAAIP,QAAAA,CAAS,SAAS,CAAA,EAAG;AAEzB,IAAA,MAAM,IAAIG,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,qBAAqB,CAAA;AAI7B,IAAA,MAAM,MAAA,GAAS,IAAI2C,gBAAAA,CAAiB;AAAA;AAAA,KAEnC,CAAA;AAGD,IAAA,MAAM,WAAA,GAAc,iBAAiB,yBAAA,CAA0B;AAAA,MAC7D,OAAA;AAAA,MACA,OAAO,MAAA,CAAO,OAAA;AAAA,MACd,IAAA,EAAM,SAAS,OAAO,CAAA,CAAA;AAAA;AAAA,MACtB,YAAA,EAAc,CAAC,kBAAkB,CAAA;AAAA,MACjC,iBAAiB,+BAAA,GAAkC,OAAA;AAAA,MACnD,eAAA,EAAiB,gBAAA;AAAA,MACjB,cAAc,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,GAAA,KAAQ,GAAI,CAAA;AAAA,MAC1C,YAAY,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,GAAA,KAAQ,GAAI;AAAA,KACzC,CAAA;AAGD,IAAA,CAAA,CAAE,QAAQ,uBAAuB,CAAA;AAIjC,IAAA,MAAM,UAAA,GAAa,IAAI,gBAAA,CAAiB,MAAA,CAAO,cAAc,CAAA;AAC7D,IAAA,MAAM,QAAA,GAAW,UAAA,CAAW,eAAA,CAAgB,WAAiD,CAAA;AAI7F,IAAA,MAAM,SAAA,GAAY,MAAM,MAAA,CAAO,WAAA,CAAY,QAAQ,CAAA;AAGnD,IAAA,CAAA,CAAE,QAAQ,yBAAyB,CAAA;AAGnC,IAAA,MAAM,OAAA,GAAU,OAAO,WAAA,EAAY;AAInC,IAAA,MAAM,UAAA,GAAa,IAAIA,gBAAAA,CAAiB;AAAA,MACtC,OAAA,EAAS,QAAA;AAAA;AAAA,MACT,WAAA,EAAa;AAAA,QACX,eAAA,EAAiB,YAAA;AAAA,QACjB,gBAAgB,OAAA,CAAQ,OAAA;AAAA,QACxB,SAAA,EAAW;AAAA,UACR,aAAA,EAAe;AAAA;AAAA;AAClB;AACF,KACD,CAAA;AAgBD,IAAA,MAAM,WAAA,GAAc,IAAIA,gBAAAA,CAAiB;AAAA,MACtC,GAAG,OAAO,QAAQ,CAAA;AAAA;AAAA,MAClB,WAAA,EAAa;AAAA,QACV,eAAA,EAAiB,YAAA;AAAA,QACjB,gBAAgB,OAAA,CAAQ,OAAA;AAAA,QACxB,SAAA,EAAW;AAAA,UACR,aAAA,EAAe,OAAA,CAAQ,GAAA,CAAI,qBAAA,IAAyB;AAAA;AACvD;AACH,KACF,CAAA;AAED,IAAA,MAAM,MAAA,GAAS,MAAM,WAAA,CAAY,WAAA,GAAc,4BAAA,CAA6B;AAAA,MAC1E,OAAA;AAAA,MACA,OAAO,MAAA,CAAO,OAAA;AAAA,MACd,IAAA,EAAM,SAAS,OAAO,CAAA,CAAA;AAAA,MACtB,YAAA,EAAc,CAAC,kBAAkB,CAAA;AAAA,MACjC,eAAA,EAAiB,uBAAA;AAAA,MACjB,eAAA,EAAiB,KAAA;AAAA,MACjB,cAAc,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,GAAA,KAAQ,GAAI,CAAA;AAAA,MAC1C,YAAY,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,GAAA,KAAQ,GAAI,CAAA;AAAA,MACxC,cAAA,EAAgB,SAAA;AAAA,MAChB,eAAA,EAAiB,IAAA;AAAA,MACjB;AAAA,KACD,CAAA;AAED,IAAA,CAAA,CAAE,KAAK,sBAAiB,CAAA;AAExB,IAAA,OAAA,CAAQ,GAAA,CAAIpD,OAAAA,CAAM,IAAA,CAAK,gCAAyB,CAAC,CAAA;AACjD,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAA,GAAI,MAAA,CAAO,iBAAiB,YAAY,CAAA;AAEvF,IAAA,IAAI,MAAA,CAAO,aAAA,EAAe,MAAA,KAAW,QAAA,EAAU;AAC7C,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,KAAA,CAAM,gCAA2B,CAAC,CAAA;AACpD,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAA,GAAI,MAAA,CAAO,cAAc,YAAY,CAAA;AACjF,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAA,GAAI,MAAA,CAAO,cAAc,KAAK,CAAA;AAAA,IAChE,CAAA,MAAO;AACL,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,GAAA,CAAI,+BAA0B,CAAC,CAAA;AACjD,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,GAAA,CAAI,MAAA,CAAO,aAAA,EAAe,KAAK,CAAC,CAAA;AAAA,IACpD;AAAA,EAEF,SAAS,KAAA,EAAO;AACb,IAAAO,MAAAA,CAAOP,QAAM,GAAA,CAAI,oBAAA,IAAwB,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAAA,EACtG;AACF,CAAC,CAAA;;;AC7JH,WAAA,EAAA;AAEA,gBAAA,EAAA;AAsBO,IAAM,oBAAoB,IAAIoB,OAAAA,CAAQ,YAAY,CAAA,CACtD,YAAY,+BAA+B,CAAA;AAG9C,iBAAA,CACG,OAAA,CAAQ,KAAK,CAAA,CACb,WAAA,CAAY,8BAA8B,CAAA,CAC1C,MAAA,CAAO,yBAAyB,eAAe,CAAA,CAC/C,OAAO,QAAA,EAAU,gBAAgB,EACjC,MAAA,CAAO,YAAA,EAAc,yBAAyB,CAAA,CAC9C,MAAA,CAAO,OAAO,OAAA,KAAwB;AACrC,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,2BAAoB,CAAC,CAAA;AAEtC,EAAA,IAAI;AAEF,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMa,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,gBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,qBAAqB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,yCAAyC,CAAA;AAEjD,IAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAClD,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,MAAM,SAAA,GAAYxB,QAAQ,YAAY,CAAA;AACtC,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,2BAAA,EAA8B,YAAY,EAAE,CAAC,CAAA;AAC7D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,2BAAsB,CAAA;AAG7B,IAAA,MAAM,eAAA,GAAkB,MAAA,CAAO,SAAA,CAAU,eAAA,IAAmB,CAAC,CAAA;AAC7D,IAAA,MAAM,UAAA,GAAa,KAAK,GAAA,CAAI,GAAA,EAAM,KAAK,KAAA,CAAM,eAAA,GAAkB,GAAG,CAAC,CAAA;AACnE,IAAA,MAAM,SAAA,GAAY,MAAA,CAAO,SAAA,CAAU,kBAAA,IAAsB,CAAC,CAAA;AAC1D,IAAA,MAAM,eAAA,GAAkB,MAAA,CAAO,SAAA,CAAU,eAAA,IAAmB,CAAC,CAAA;AAC7D,IAAA,MAAM,eAAe,SAAA,GAAY,eAAA;AACjC,IAAA,MAAM,WAAA,GAAc,eAAe,CAAA,GAAI,IAAA,CAAK,MAAO,SAAA,GAAY,YAAA,GAAgB,GAAG,CAAA,GAAI,CAAA;AAGtF,IAAA,MAAM,IAAA,GAAO,UAAA,IAAc,GAAA,GAAM,UAAA,GACpB,UAAA,IAAc,GAAA,GAAM,MAAA,GACpB,UAAA,IAAc,GAAA,GAAM,QAAA,GACpB,UAAA,IAAc,GAAA,GAAM,QAAA,GAAW,UAAA;AAE5C,IAAA,MAAM,YAAY,IAAA,KAAS,UAAA,GAAaA,OAAAA,CAAM,IAAA,GAC7B,SAAS,MAAA,GAASA,OAAAA,CAAM,MAAA,GACxB,IAAA,KAAS,WAAWA,OAAAA,CAAM,KAAA,GAC1B,SAAS,QAAA,GAAWA,OAAAA,CAAM,MAAMA,OAAAA,CAAM,IAAA;AAGvD,IAAA,IAAI,SAAA,GAAiB,IAAA;AACrB,IAAA,IAAI,QAAQ,QAAA,EAAU;AAEpB,MAAA,MAAM,gBAAA,GAAmB,IAAA,CAAK,KAAA,CAAM,WAAA,GAAc,GAAG,CAAA;AAGrD,MAAA,MAAM,cAAA,GAAiB,KAAK,GAAA,CAAI,GAAA,EAAK,KAAK,KAAA,CAAO,UAAA,GAAa,EAAA,GAAM,GAAG,CAAC,CAAA;AACxE,MAAA,MAAM,gBAAA,GAAmB,IAAA,CAAK,KAAA,CAAM,cAAA,GAAiB,GAAG,CAAA;AAGxD,MAAA,MAAM,YAAA,GAAe,EAAA;AACrB,MAAA,MAAM,iBAAA,GAAoB,IAAA,CAAK,KAAA,CAAM,YAAA,GAAe,GAAG,CAAA;AAGvD,MAAA,MAAM,iBAAA,GAAoB,KAAK,GAAA,CAAI,GAAA,EAAK,KAAK,KAAA,CAAO,SAAA,GAAY,GAAA,GAAO,GAAG,CAAC,CAAA;AAC3E,MAAA,MAAM,eAAA,GAAkB,IAAA,CAAK,KAAA,CAAM,iBAAA,GAAoB,GAAG,CAAA;AAE1D,MAAA,SAAA,GAAY;AAAA,QACV,aAAa,EAAE,KAAA,EAAO,aAAa,MAAA,EAAQ,EAAA,EAAI,cAAc,gBAAA,EAAiB;AAAA,QAC9E,gBAAgB,EAAE,KAAA,EAAO,gBAAgB,MAAA,EAAQ,EAAA,EAAI,cAAc,gBAAA,EAAiB;AAAA,QACpF,cAAc,EAAE,KAAA,EAAO,cAAc,MAAA,EAAQ,EAAA,EAAI,cAAc,iBAAA,EAAkB;AAAA,QACjF,mBAAmB,EAAE,KAAA,EAAO,mBAAmB,MAAA,EAAQ,EAAA,EAAI,cAAc,eAAA;AAAgB,OAC3F;AAAA,IACF;AAGA,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,OAAA,CAAQ,GAAA,CAAI,KAAK,SAAA,CAAU;AAAA,QACzB,OAAA,EAAS,UAAU,QAAA,EAAS;AAAA,QAC5B,WAAW,SAAA,CAAU,IAAA;AAAA,QACrB,UAAA;AAAA,QACA,IAAA;AAAA,QACA,eAAA;AAAA,QACA,kBAAA,EAAoB,SAAA;AAAA,QACpB,eAAA;AAAA,QACA,WAAA;AAAA,QACA;AAAA,OACF,EAAG,IAAA,EAAM,CAAC,CAAC,CAAA;AACX,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,QAAQ,QAAA,EAAU;AAEpB,MAAA,IAAI,YAAA,GAAe,EAAA;AACnB,MAAA,IAAI,SAAS,UAAA,EAAY;AACvB,QAAA,YAAA,GAAe,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,4BAAuB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,0BAAqB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,gCAA2B,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,6BAAwB,CAAC,CAAA,CAAA;AAAA,MAClL,CAAA,MAAA,IAAW,SAAS,MAAA,EAAQ;AAC1B,QAAA,YAAA,GAAe,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,2BAAsB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,0BAAqB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,4BAAuB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,mCAA8B,CAAC,CAAA,CAAA;AAAA,MACnL,CAAA,MAAA,IAAW,SAAS,QAAA,EAAU;AAC5B,QAAA,YAAA,GAAe,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,0BAAqB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,2BAAsB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,yBAAoB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,6BAAwB,CAAC,CAAA,CAAA;AAAA,MAC1K,CAAA,MAAA,IAAW,SAAS,QAAA,EAAU;AAC5B,QAAA,YAAA,GAAe,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,wBAAmB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,2BAAsB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,yBAAoB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,qBAAgB,CAAC,CAAA,CAAA;AAAA,MAChK,CAAA,MAAA,IAAW,SAAS,UAAA,EAAY;AAC9B,QAAA,YAAA,GAAe,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,wBAAmB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,2BAAsB,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,oCAA+B,CAAC;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,uBAAkB,CAAC,CAAA,CAAA;AAAA,MAC7K;AAEA,MAAAU,KAAAA;AAAA,QACE,CAAA,EAAGV,QAAM,IAAA,CAAK,IAAA,CAAK,GAAG,SAAA,CAAU,IAAA,IAAQ,OAAO,CAAA,cAAA,CAAgB,CAAC;;AAAA,EAC7DA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC;AAAA,EAC5BA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,SAAA,CAAU,CAAA,EAAG,UAAU,CAAA,KAAA,CAAO,CAAC,CAAA,EAAA,EAAK,SAAA,CAAU,IAAA,CAAK,IAAI,CAAC,CAAA;AAAA,EACtFA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,IAAI,eAAe,CAAA;;AAAA,EAClDA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC;AAAA,EAC9BA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,WAAA,CAAY,KAAK,CAAA,SAAA,EAAO,SAAA,CAAU,WAAA,CAAY,YAAY,CAAA;AAAA,EACzGA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,cAAA,CAAe,KAAK,CAAA,SAAA,EAAO,SAAA,CAAU,cAAA,CAAe,YAAY,CAAA;AAAA,EAClHA,OAAAA,CAAM,IAAA,CAAK,sBAAsB,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,YAAA,CAAa,KAAK,CAAA,SAAA,EAAO,SAAA,CAAU,YAAA,CAAa,YAAY,CAAA;AAAA,EAC5GA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,iBAAA,CAAkB,KAAK,CAAA,SAAA,EAAO,SAAA,CAAU,iBAAA,CAAkB,YAAY,CAAA;;AAAA,EAC/GA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC;AAAA,EAC7BA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,IAAI,SAAS;AAAA,EACrCA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,IAAI,eAAe;AAAA,EACxCA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC,IAAI,WAAW,CAAA;;AAAA,EAC1CA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC;AAAA,CAAA,GAC/B;AAAA,OACF;AAAA,IACF,CAAA,MAAO;AACL,MAAAU,KAAAA;AAAA,QACE,CAAA,EAAGV,QAAM,IAAA,CAAK,IAAA,CAAK,GAAG,SAAA,CAAU,IAAA,IAAQ,OAAO,CAAA,cAAA,CAAgB,CAAC;;AAAA,EAC7DA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,SAAA,CAAU,CAAA,EAAG,UAAU,CAAA,KAAA,CAAO,CAAC,CAAA,EAAA,EAAK,SAAA,CAAU,IAAA,CAAK,IAAI,CAAC,CAAA;AAAA,EACtFA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,IAAI,SAAS;AAAA,EAC1CA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC,IAAI,WAAW,CAAA;;AAAA,EAC1CA,OAAAA,CAAM,MAAA,CAAO,oBAAa,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,MAAA,CAAO,oBAAoB,CAAC,CAAA;AAAA,OAClG;AAAA,IACF;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,2BAAA,EAA8B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACpG;AACF,CAAC,CAAA;AAGH,iBAAA,CACG,QAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,4CAA4C,EACxD,MAAA,CAAO,uBAAA,EAAyB,eAAe,CAAA,CAC/C,OAAO,qBAAA,EAAuB,qCAAqC,CAAA,CACnE,MAAA,CAAO,OAAO,OAAA,KAA2B;AACxC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,MAAA,CAAO,4CAAkC,CAAC,CAAA;AAEtD,EAAAD,GAAAA,CAAI,IAAA;AAAA,IACFC,OAAAA,CAAM,MAAA,CAAO,yBAAe,CAAA,GAC5B;AAAA,GAEF;AAEA,EAAA,IAAI;AAEF,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMa,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,gBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAGA,IAAA,IAAI,WAAW,OAAA,CAAQ,KAAA;AACvB,IAAA,IAAI,CAAC,QAAA,EAAU;AACb,MAAA,MAAM,UAAA,GAAa,MAAMM,IAAAA,CAAK;AAAA,QAC5B,OAAA,EAAS,+CAAA;AAAA,QACT,WAAA,EAAa,yBAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,mBAAA;AACnB,UAAA,MAAM,KAAA,GAAQ,SAAS,KAAK,CAAA;AAC5B,UAAA,IAAI,MAAM,KAAK,CAAA,IAAK,KAAA,GAAQ,CAAA,IAAK,QAAQ,GAAA,EAAQ;AAC/C,YAAA,OAAO,oCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,QAAA,GAAW,WAAW,QAAA,EAAS;AAAA,IACjC;AAEA,IAAA,MAAM,QAAA,GAAW,SAAS,QAAQ,CAAA;AAClC,IAAA,MAAM,UAAA,GAAa,KAAK,GAAA,CAAI,GAAA,EAAM,KAAK,KAAA,CAAM,QAAA,GAAW,GAAG,CAAC,CAAA;AAE5D,IAAA,MAAM,aAAA,GAAgB,MAAMO,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS,CAAA,mBAAA,EAAsB,UAAU,CAAA,OAAA,EAAU,QAAQ,CAAA,MAAA;AAAA,KAC5D,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,kBAAkB,CAAA;AACzB,MAAA;AAAA,IACF;AAEA,IAAAR,GAAAA,CAAI,KAAK,6DAA6D,CAAA;AACtE,IAAAA,GAAAA,CAAI,KAAK,uFAAuF,CAAA;AAEhG,IAAAW,KAAAA;AAAA,MACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,gBAAgB,CAAC;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAA;AAAA,KAOnC;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,6BAAA,EAAgC,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACtG;AACF,CAAC,CAAA;AAGH,iBAAA,CACG,OAAA,CAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,sCAAsC,CAAA,CAClD,MAAA,CAAO,yBAAyB,eAAe,CAAA,CAC/C,OAAO,qBAAA,EAAuB,sCAAA,EAAwC,IAAI,CAAA,CAC1E,MAAA,CAAO,UAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAA4B;AACzC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,8BAAuB,CAAC,CAAA;AAEzC,EAAA,IAAI;AAEF,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMa,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,gBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,qBAAqB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,gCAAgC,CAAA;AAExC,IAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAClD,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,MAAM,SAAA,GAAYxB,QAAQ,YAAY,CAAA;AAKtC,IAAA,CAAA,CAAE,KAAK,wDAA8C,CAAA;AAErD,IAAAc,GAAAA,CAAI,KAAK,gEAAgE,CAAA;AACzE,IAAAA,GAAAA,CAAI,KAAK,0BAA0B,CAAA;AACnC,IAAAA,GAAAA,CAAI,KAAK,sCAAiC,CAAA;AAC1C,IAAAA,GAAAA,CAAI,KAAK,oCAA+B,CAAA;AACxC,IAAAA,GAAAA,CAAI,KAAK,iCAA4B,CAAA;AACrC,IAAAA,GAAAA,CAAI,KAAK,8BAAyB,CAAA;AAElC,IAAAW,KAAAA;AAAA,MACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,qBAAqB,CAAC;;AAAA;AAAA,4BAAA,EAEZA,OAAAA,CAAM,IAAA,CAAK,+BAAA,GAAkC,SAAA,CAAU,QAAA,EAAS,CAAE,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA,GAAI,KAAK,CAAC;AAAA,2BAAA,EACvFA,OAAAA,CAAM,IAAA,CAAK,0BAAA,GAA6B,SAAA,CAAU,QAAA,EAAS,CAAE,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA,GAAI,KAAK,CAAC,CAAA;AAAA,KAC5G;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,kCAAA,EAAqC,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC3G;AACF,CAAC,CAAA;AAGH,iBAAA,CACG,OAAO,YAAY;AAClB,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,4CAAqC,CAAC,CAAA;AAEvD,EAAAD,IAAI,IAAA,CAAK;AAAA,EAAKC,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC;AAAA,CAAI,CAAA;AACnD,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,sBAAsB,CAAC,CAAA,+BAAA,CAAiC,CAAA;AAC/E,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,yBAAyB,CAAC,CAAA,+BAAA,CAAiC,CAAA;AAClF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,0BAA0B,CAAC,CAAA,0BAAA,CAA4B,CAAA;AAE9E,EAAAU,MAAM,8CAA8C,CAAA;AACtD,CAAC,CAAA;;;ACvWH,WAAA,EAAA;AAEA,gBAAA,EAAA;AA2BA,IAAM,eAAA,GAAkB;AAAA,EACtB,CAAA,EAAG,GAAA;AAAA,EACH,CAAA,EAAG,GAAA;AAAA,EACH,CAAA,EAAG,GAAA;AAAA,EACH,CAAA,EAAG,IAAA;AAAA,EACH,CAAA,EAAG;AACL,CAAA;AAEA,SAAS,qBAAqB,YAAA,EAA8B;AAC1D,EAAA,IAAI,YAAA,IAAgB,eAAA,CAAgB,CAAC,CAAA,EAAG,OAAO,CAAA;AAC/C,EAAA,IAAI,YAAA,IAAgB,eAAA,CAAgB,CAAC,CAAA,EAAG,OAAO,CAAA;AAC/C,EAAA,IAAI,YAAA,IAAgB,eAAA,CAAgB,CAAC,CAAA,EAAG,OAAO,CAAA;AAC/C,EAAA,IAAI,YAAA,IAAgB,eAAA,CAAgB,CAAC,CAAA,EAAG,OAAO,CAAA;AAC/C,EAAA,IAAI,YAAA,IAAgB,eAAA,CAAgB,CAAC,CAAA,EAAG,OAAO,CAAA;AAC/C,EAAA,OAAO,CAAA;AACT;AAEA,SAAS,gBAAgB,IAAA,EAAwB;AAC/C,EAAA,MAAM,QAAA,GAAwC;AAAA,IAC5C,CAAA,EAAG,CAAC,aAAA,EAAe,oCAAoC,CAAA;AAAA,IACvD,CAAA,EAAG,CAAC,qBAAA,EAAuB,SAAA,EAAW,yBAAyB,CAAA;AAAA,IAC/D,CAAA,EAAG,CAAC,sBAAA,EAAwB,SAAA,EAAW,8BAA8B,kBAAkB,CAAA;AAAA,IACvF,GAAG,CAAC,sBAAA,EAAwB,SAAA,EAAW,wBAAA,EAA0B,mBAAmB,sBAAsB,CAAA;AAAA,IAC1G,GAAG,CAAC,sBAAA,EAAwB,SAAA,EAAW,4BAAA,EAA8B,qBAAqB,eAAe,CAAA;AAAA,IACzG,GAAG,CAAC,sBAAA,EAAwB,WAAW,0BAAA,EAA4B,aAAA,EAAe,mBAAmB,8BAA8B;AAAA,GACrI;AACA,EAAA,OAAO,QAAA,CAAS,IAAI,CAAA,IAAK,QAAA,CAAS,CAAC,CAAA;AACrC;AAEO,IAAM,iBAAiB,IAAIU,OAAAA,CAAQ,SAAS,CAAA,CAChD,YAAY,4BAA4B,CAAA;AAG3C,cAAA,CACG,QAAQ,OAAO,CAAA,CACf,WAAA,CAAY,iCAAiC,EAC7C,MAAA,CAAO,uBAAA,EAAyB,eAAe,CAAA,CAC/C,OAAO,mBAAA,EAAqB,0BAA0B,CAAA,CACtD,MAAA,CAAO,OAAO,OAAA,KAA0B;AACvC,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,8BAAuB,CAAC,CAAA;AAEzC,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,6BAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,mBAAmB,CAAA;AAC1B,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,SAAA,GAAYtB,QAAQ,YAAY,CAAA;AAGtC,IAAA,CAAA,CAAE,MAAM,oBAAoB,CAAA;AAC5B,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,2BAAA,EAA8B,YAAY,EAAE,CAAC,CAAA;AAC7D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,uBAAkB,CAAA;AAGzB,IAAA,IAAI,SAAS,OAAA,CAAQ,MAAA;AACrB,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,MAAM,WAAA,GAAc,MAAMa,IAAAA,CAAK;AAAA,QAC7B,OAAA,EAAS,2BAAA;AAAA,QACT,WAAA,EAAa,MAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,oBAAA;AACnB,UAAA,MAAM,GAAA,GAAM,WAAW,KAAK,CAAA;AAC5B,UAAA,IAAI,KAAA,CAAM,GAAG,CAAA,IAAK,GAAA,IAAO,CAAA,EAAG;AAC1B,YAAA,OAAO,kCAAA;AAAA,UACT;AACA,UAAA,IAAI,MAAM,GAAA,EAAK;AACb,YAAA,OAAO,4BAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,WAAW,CAAA,EAAG;AACzB,QAAAC,OAAO,mBAAmB,CAAA;AAC1B,QAAA;AAAA,MACF;AAEA,MAAA,MAAA,GAAS,YAAY,QAAA,EAAS;AAAA,IAChC;AAEA,IAAA,MAAM,WAAA,GAAc,WAAW,MAAM,CAAA;AACrC,IAAA,MAAM,WAAA,GAAc,qBAAqB,WAAW,CAAA;AACpD,IAAA,MAAM,iBAAA,GAAoB,eAAA,CAAgB,WAAA,GAAc,CAAiC,CAAA;AAGzF,IAAAsC,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC;AAAA,EAC9BA,QAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,UAAU,IAAI;AAAA,EACtCA,QAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,WAAA,CAAY,gBAAgB,CAAA;AAAA,EACrDA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,IAAI,WAAW,CAAA;AAAA,EAC9C,iBAAA,GAAoBA,QAAM,IAAA,CAAK,CAAA,WAAA,CAAa,KAAK,iBAAA,GAAoB,WAAA,EAAa,gBAAe,GAAI,CAAA;AAAA,CAAA,GAAkB,EAAE,CAAA,EACzHA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC;AAAA,CAAA,GAC5B,eAAA,CAAgB,WAAW,CAAA,CAAE,GAAA,CAAI,OAAK,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,CAAA,EAAI,CAAC,CAAA,CAAE,CAAA,CAAE,KAAK,IAAI,CAAA;AAAA,MAC1E;AAAA,KACF;AAEA,IAAA,MAAM,YAAA,GAAe,MAAMc,OAAAA,CAAQ;AAAA,MACjC,OAAA,EAAS,CAAA,MAAA,EAAS,WAAA,CAAY,cAAA,EAAgB,CAAA,OAAA;AAAA,KAC/C,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,YAAY,CAAA,IAAK,CAAC,YAAA,EAAc;AAC3C,MAAAC,OAAO,mBAAmB,CAAA;AAC1B,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,uCAAuC,CAAA;AAE/C,IAAA,IAAI;AAEF,MAAA,MAAM,WAAW,MAAA,CAAO,IAAA,CAAK,KAAA,CAAM,WAAA,GAAc,GAAa,CAAC,CAAA;AAG/D,MAAAR,GAAAA,CAAI,KAAK,sEAAsE,CAAA;AAQ/E,MAAA,CAAA,CAAE,KAAK,uDAA6C,CAAA;AAEpD,MAAAW,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,iBAAiB,CAAC;;AAAA,cAAA,EACjB,WAAA,CAAY,cAAA,EAAgB,CAAA,WAAA,EAAc,UAAU,IAAI,CAAA;;AAAA,EACtEA,OAAAA,CAAM,IAAA,CAAK,oBAAoB,CAAC;AAAA,EAChCA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,SAAS,WAAW,CAAA;AAAA,EACnCA,OAAAA,CAAM,KAAK,QAAG,CAAC,IAAI,eAAA,CAAgB,WAAW,CAAA,CAAE,CAAC,CAAC;AAAA,EAClDA,OAAAA,CAAM,KAAK,QAAG,CAAC,IAAI,eAAA,CAAgB,WAAW,CAAA,CAAE,CAAC,CAAC;;AAAA,EAClDA,OAAAA,CAAM,IAAA,CAAK,4CAA4C,CAAC;AAAA,EACxDA,OAAAA,CAAM,KAAK,0CAA0C,CAAC,GAAGA,OAAAA,CAAM,IAAA,CAAK,yCAAyC,CAAC,CAAA;AAAA,OACnH;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,+BAA0B,CAAA;AACjC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,iBAAA,EAAoB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC1F;AACF,CAAC,CAAA;AAGH,cAAA,CACG,QAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,sBAAsB,EAClC,MAAA,CAAO,uBAAA,EAAyB,eAAe,CAAA,CAC/C,OAAO,mBAAA,EAAqB,4BAA4B,CAAA,CACxD,MAAA,CAAO,OAAO,OAAA,KAA4B;AACzC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,MAAA,CAAO,gCAAyB,CAAC,CAAA;AAE7C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,gCAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,qBAAqB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,SAAA,GAAYtB,QAAQ,YAAY,CAAA;AAGtC,IAAAc,GAAAA,CAAI,KAAK,kDAAkD,CAAA;AAG3D,IAAA,IAAI,SAAS,OAAA,CAAQ,MAAA;AACrB,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,MAAM,WAAA,GAAc,MAAMc,IAAAA,CAAK;AAAA,QAC7B,OAAA,EAAS,6BAAA;AAAA,QACT,WAAA,EAAa,KAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,oBAAA;AACnB,UAAA,MAAM,GAAA,GAAM,WAAW,KAAK,CAAA;AAC5B,UAAA,IAAI,KAAA,CAAM,GAAG,CAAA,IAAK,GAAA,IAAO,CAAA,EAAG;AAC1B,YAAA,OAAO,kCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,WAAW,CAAA,EAAG;AACzB,QAAAC,OAAO,qBAAqB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,MAAA,GAAS,YAAY,QAAA,EAAS;AAAA,IAChC;AAEA,IAAA,MAAM,aAAA,GAAgB,WAAW,MAAM,CAAA;AAGvC,IAAAsC,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,kCAAwB,CAAC;AAAA,EACpCA,QAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,aAAA,CAAc,gBAAgB,CAAA;AAAA,EACvDA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA;AAAA,EAC9BA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA;AAAA,EACrBA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA;;AAAA,EACrBA,OAAAA,CAAM,MAAA,CAAO,uEAAuE,CAAC,CAAA,CAAA;AAAA,MACxF;AAAA,KACF;AAEA,IAAA,MAAM,cAAA,GAAiB,MAAMc,OAAAA,CAAQ;AAAA,MACnC,OAAA,EAAS,CAAA,QAAA,EAAW,aAAA,CAAc,cAAA,EAAgB,CAAA,OAAA;AAAA,KACnD,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,cAAc,CAAA,IAAK,CAAC,cAAA,EAAgB;AAC/C,MAAAC,OAAO,qBAAqB,CAAA;AAC5B,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,2BAA2B,CAAA;AAEnC,IAAA,IAAI;AACF,MAAAR,GAAAA,CAAI,KAAK,4CAA4C,CAAA;AAErD,MAAA,CAAA,CAAE,KAAK,iDAAuC,CAAA;AAE9C,MAAAW,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,mBAAmB,CAAC;;AAAA,wBAAA,EACT,aAAA,CAAc,gBAAgB,CAAA;;AAAA,EACtDA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC;AAAA,EAC9BA,OAAAA,CAAM,KAAK,iBAAiB,CAAC,GAAGA,OAAAA,CAAM,IAAA,CAAK,yCAAyC,CAAC,CAAA;AAAA,OAC1F;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,iCAA4B,CAAA;AACnC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,mBAAA,EAAsB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC5F;AACF,CAAC,CAAA;AAGH,cAAA,CACG,OAAA,CAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,+BAA+B,CAAA,CAC3C,MAAA,CAAO,yBAAyB,eAAe,CAAA,CAC/C,OAAO,SAAA,EAAW,uCAAuC,EACzD,MAAA,CAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAA4B;AACzC,EAAAS,KAAAA,CAAM,OAAA,CAAQ,KAAA,GAAQR,OAAAA,CAAM,KAAA,CAAM,iCAA0B,CAAA,GAAIA,OAAAA,CAAM,IAAA,CAAK,gCAAyB,CAAC,CAAA;AAErG,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,6BAA6B,CAAA;AAErC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAG7C,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,IAAgB,OAAA,CAAQ,KAAA,EAAO;AAClC,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,gBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,qBAAqB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAGA,IAAAR,GAAAA,CAAI,KAAK,kDAAkD,CAAA;AAE3D,IAAA,CAAA,CAAE,KAAK,mCAAyB,CAAA;AAGhC,IAAA,MAAM,WAAA,GAAc;AAAA,MAClB,cAAA,EAAgB,KAAA;AAAA,MAChB,cAAA,EAAgB,MAAA;AAAA,MAChB,YAAA,EAAc,EAAA;AAAA,MACd,WAAA,EAAA,iBAAa,IAAI,IAAA,EAAK,EAAE,WAAA;AAAY,KACtC;AAEA,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,OAAA,CAAQ,IAAI,IAAA,CAAK,SAAA,CAAU,WAAA,EAAa,IAAA,EAAM,CAAC,CAAC,CAAA;AAChD,MAAA;AAAA,IACF;AAEA,IAAAW,KAAAA;AAAA,MACE,CAAA,EAAGV,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK,iBAAiB,CAAC;;AAAA,EAClCA,OAAAA,CAAM,KAAK,kBAAkB,CAAC,IAAI,WAAA,CAAY,cAAA,CAAe,gBAAgB,CAAA;AAAA,EAC7EA,OAAAA,CAAM,KAAK,kBAAkB,CAAC,IAAI,WAAA,CAAY,cAAA,CAAe,gBAAgB,CAAA;AAAA,EAC7EA,QAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA,EAAI,YAAY,YAAY,CAAA;AAAA,EACtDA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC,CAAA,CAAA,EAAI,IAAI,IAAA,CAAK,WAAA,CAAY,WAAW,CAAA,CAAE,kBAAA,EAAoB;;AAAA,EACrFA,OAAAA,CAAM,MAAA,CAAO,oBAAa,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,MAAA,CAAO,kBAAkB,CAAC;AAAA,EACxFA,OAAAA,CAAM,KAAK,iBAAiB,CAAC,GAAGA,OAAAA,CAAM,IAAA,CAAK,yCAAyC,CAAC,CAAA;AAAA,KAC1F;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,uBAAA,EAA0B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAChG;AACF,CAAC,CAAA;AAGH,cAAA,CACG,QAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,8CAA8C,EAC1D,MAAA,CAAO,uBAAA,EAAyB,0BAA0B,CAAA,CAC1D,OAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAA4B;AACzC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,+BAAwB,CAAC,CAAA;AAE1C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,sBAAsB,CAAA;AAE9B,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,+CAAqC,CAAA;AAG5C,IAAA,MAAM,WAAA,GAAc;AAAA,MAClB,aAAA,EAAe,GAAA;AAAA,MACf,aAAA,EAAe,GAAA;AAAA,MACf,cAAA,EAAgB,KAAA;AAAA,MAChB,UAAA,EAAY;AAAA,KACd;AAEA,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,OAAA,CAAQ,IAAI,IAAA,CAAK,SAAA,CAAU,WAAA,EAAa,IAAA,EAAM,CAAC,CAAC,CAAA;AAChD,MAAA;AAAA,IACF;AAEA,IAAAC,KAAAA;AAAA,MACE,CAAA,EAAGV,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK,qBAAqB,CAAC;;AAAA,EACtCA,OAAAA,CAAM,KAAK,SAAS,CAAC,IAAI,WAAA,CAAY,aAAA,CAAc,gBAAgB,CAAA;AAAA,EACnEA,OAAAA,CAAM,KAAK,SAAS,CAAC,IAAI,WAAA,CAAY,aAAA,CAAc,gBAAgB,CAAA;AAAA,EACnEA,OAAAA,CAAM,KAAK,kBAAkB,CAAC,IAAI,WAAA,CAAY,cAAA,CAAe,gBAAgB,CAAA;AAAA,EAC7EA,OAAAA,CAAM,KAAK,cAAc,CAAC,IAAI,WAAA,CAAY,UAAA,CAAW,gBAAgB,CAAA;;AAAA,EACrEA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC;AAAA,EAC7BA,OAAAA,CAAM,KAAK,OAAO,CAAC,IAAI,oBAAA,CAAqB,WAAA,CAAY,aAAa,CAAC,CAAA;AAAA,EACtEA,OAAAA,CAAM,KAAK,mBAAmB,CAAC,IAAI,oBAAA,CAAqB,WAAA,CAAY,aAAa,CAAA,GAAI,CAAC,CAAA;AAAA,EACtFA,OAAAA,CAAM,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA,EAAI,KAAK,oBAAA,CAAqB,WAAA,CAAY,aAAa,CAAA,GAAI,CAAC,CAAA;;AAAA,EAC9EA,OAAAA,CAAM,MAAA,CAAO,qBAAc,CAAC;AAAA,EAC5BA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA;AAAA,EACjCA,OAAAA,CAAM,IAAA,CAAK,+BAA+B,CAAC,CAAA,wBAAA;AAAA,KAChD;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,uBAAA,EAA0B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAChG;AACF,CAAC,CAAA;AAGH,cAAA,CACG,OAAO,YAAY;AAClB,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,0CAAmC,CAAC,CAAA;AAErD,EAAAD,IAAI,IAAA,CAAK;AAAA,EAAKC,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC;AAAA,CAAI,CAAA;AACnD,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,0CAAA,CAA4C,CAAA;AACzF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA,wCAAA,CAA0C,CAAA;AACzF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA,gCAAA,CAAkC,CAAA;AACjF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA,yCAAA,CAA2C,CAAA;AAE1F,EAAA6C,IAAAA;AAAA,IACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC;AAAA,EAC5BA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA;AAAA,EACrBA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA;AAAA,EACrBA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA;AAAA,EACrBA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA;AAAA,EACrBA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,mCAAA,CAAA;AAAA,IACxB;AAAA,GACF;AAEA,EAAAU,MAAM,8CAA8C,CAAA;AACtD,CAAC,CAAA;;;ACrdH,WAAA,EAAA;AAEA,gBAAA,EAAA;AAuBA,IAAM,aAAA,GAAgB;AAAA,EACpB,MAAA,EAAQ;AAAA,IACN,IAAA,EAAM,QAAA;AAAA,IACN,WAAA,EAAa,yCAAA;AAAA,IACb,YAAA,EAAc,IAAA;AAAA,IACd,WAAA,EAAa,IAAA;AAAA,IACb,cAAA,EAAgB,IAAA;AAAA,IAChB,KAAA,EAAO;AAAA,GACT;AAAA,EACA,SAAA,EAAW;AAAA,IACT,IAAA,EAAM,WAAA;AAAA,IACN,WAAA,EAAa,kCAAA;AAAA,IACb,YAAA,EAAc,KAAA;AAAA,IACd,WAAA,EAAa,IAAA;AAAA,IACb,cAAA,EAAgB,KAAA;AAAA,IAChB,KAAA,EAAO;AAAA,GACT;AAAA,EACA,OAAA,EAAS;AAAA,IACP,IAAA,EAAM,SAAA;AAAA,IACN,WAAA,EAAa,gDAAA;AAAA,IACb,YAAA,EAAc,KAAA;AAAA,IACd,WAAA,EAAa,KAAA;AAAA,IACb,cAAA,EAAgB,KAAA;AAAA,IAChB,KAAA,EAAO;AAAA,GACT;AAAA,EACA,SAAA,EAAW;AAAA,IACT,IAAA,EAAM,WAAA;AAAA,IACN,WAAA,EAAa,0BAAA;AAAA,IACb,YAAA,EAAc,KAAA;AAAA,IACd,WAAA,EAAa,KAAA;AAAA,IACb,cAAA,EAAgB,KAAA;AAAA,IAChB,KAAA,EAAO;AAAA;AAEX,CAAA;AAEO,IAAM,iBAAiB,IAAIU,OAAAA,CAAQ,SAAS,CAAA,CAChD,YAAY,qCAAqC,CAAA;AAGpD,cAAA,CACG,OAAA,CAAQ,KAAK,CAAA,CACb,WAAA,CAAY,yCAAyC,EACrD,MAAA,CAAO,uBAAA,EAAyB,eAAe,CAAA,CAC/C,MAAA,CAAO,mBAAA,EAAqB,sDAAsD,CAAA,CAClF,MAAA,CAAO,2BAAA,EAA6B,uCAAuC,CAAA,CAC3E,MAAA,CAAO,4BAA4B,gCAAgC,CAAA,CACnE,MAAA,CAAO,OAAO,OAAA,KAAwB;AACrC,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,sCAA+B,CAAC,CAAA;AAEjD,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,gBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,iCAAiC,CAAA;AACxC,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,SAAA,GAAYtB,QAAQ,YAAY,CAAA;AAGtC,IAAA,CAAA,CAAE,MAAM,oBAAoB,CAAA;AAC5B,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,2BAAA,EAA8B,YAAY,EAAE,CAAC,CAAA;AAC7D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,uBAAkB,CAAA;AAGzB,IAAA,IAAI,OAAO,OAAA,CAAQ,IAAA;AACnB,IAAA,IAAI,CAAC,IAAA,EAAM;AACT,MAAA,MAAM,UAAA,GAAa,MAAMY,MAAAA,CAAO;AAAA,QAC9B,OAAA,EAAS,sBAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP;AAAA,YACE,KAAA,EAAO,QAAA;AAAA,YACP,KAAA,EAAO,GAAG,aAAA,CAAc,MAAA,CAAO,KAAK,CAAA,CAAA,EAAI,aAAA,CAAc,OAAO,IAAI,CAAA,CAAA;AAAA,YACjE,IAAA,EAAM,cAAc,MAAA,CAAO;AAAA,WAC7B;AAAA,UACA;AAAA,YACE,KAAA,EAAO,WAAA;AAAA,YACP,KAAA,EAAO,GAAG,aAAA,CAAc,SAAA,CAAU,KAAK,CAAA,CAAA,EAAI,aAAA,CAAc,UAAU,IAAI,CAAA,CAAA;AAAA,YACvE,IAAA,EAAM,cAAc,SAAA,CAAU;AAAA,WAChC;AAAA,UACA;AAAA,YACE,KAAA,EAAO,SAAA;AAAA,YACP,KAAA,EAAO,GAAG,aAAA,CAAc,OAAA,CAAQ,KAAK,CAAA,CAAA,EAAI,aAAA,CAAc,QAAQ,IAAI,CAAA,CAAA;AAAA,YACnE,IAAA,EAAM,cAAc,OAAA,CAAQ;AAAA,WAC9B;AAAA,UACA;AAAA,YACE,KAAA,EAAO,WAAA;AAAA,YACP,KAAA,EAAO,GAAG,aAAA,CAAc,SAAA,CAAU,KAAK,CAAA,CAAA,EAAI,aAAA,CAAc,UAAU,IAAI,CAAA,CAAA;AAAA,YACvE,IAAA,EAAM,cAAc,SAAA,CAAU;AAAA;AAChC;AACF,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,QAAAC,OAAO,iCAAiC,CAAA;AACxC,QAAA;AAAA,MACF;AAEA,MAAA,IAAA,GAAO,WAAW,QAAA,EAAS;AAAA,IAC7B;AAEA,IAAA,MAAM,YAAA,GAAe,cAAc,IAAkC,CAAA;AAErE,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAAR,GAAAA,CAAI,MAAM,wEAAwE,CAAA;AAClF,MAAA;AAAA,IACF;AAGA,IAAA,MAAM,YAAA,GAAe,OAAA,CAAQ,eAAe,CAAA,KAAM,KAAA,CAAA,GAC9C,OAAA,CAAQ,eAAe,CAAA,KAAM,IAAA,IAAQ,OAAA,CAAQ,eAAe,CAAA,KAAM,SAClE,YAAA,CAAa,YAAA;AAEjB,IAAA,MAAM,WAAA,GAAc,OAAA,CAAQ,cAAc,CAAA,KAAM,KAAA,CAAA,GAC5C,OAAA,CAAQ,cAAc,CAAA,KAAM,IAAA,IAAQ,OAAA,CAAQ,cAAc,CAAA,KAAM,SAChE,YAAA,CAAa,WAAA;AAGjB,IAAA8C,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC;AAAA,EAC/BA,QAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,UAAU,IAAI;AAAA,EACtCA,OAAAA,CAAM,KAAK,OAAO,CAAC,IAAI,YAAA,CAAa,KAAK,CAAA,CAAA,EAAI,YAAA,CAAa,IAAI;AAAA,EAC9DA,QAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA,EAAI,aAAa,WAAW;;AAAA,EACtDA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC;AAAA,EACzBA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA,EAAI,YAAA,GAAeA,OAAAA,CAAM,KAAA,CAAM,SAAS,CAAA,GAAIA,OAAAA,CAAM,GAAA,CAAI,QAAQ,CAAC;AAAA,EACzFA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC,CAAA,CAAA,EAAI,WAAA,GAAcA,OAAAA,CAAM,KAAA,CAAM,SAAS,CAAA,GAAIA,OAAAA,CAAM,GAAA,CAAI,QAAQ,CAAC;AAAA,EACvFA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,IAAI,YAAA,CAAa,cAAA,GAAiBA,OAAAA,CAAM,KAAA,CAAM,SAAS,CAAA,GAAIA,OAAAA,CAAM,GAAA,CAAI,QAAQ,CAAC,CAAA,CAAA;AAAA,MACvG;AAAA,KACF;AAEA,IAAA,MAAM,UAAA,GAAa,MAAMc,OAAAA,CAAQ;AAAA,MAC/B,OAAA,EAAS,CAAA,MAAA,EAAS,YAAA,CAAa,IAAI,CAAA,cAAA;AAAA,KACpC,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,UAAU,CAAA,IAAK,CAAC,UAAA,EAAY;AACvC,MAAAC,OAAO,iCAAiC,CAAA;AACxC,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,4CAA4C,CAAA;AAEpD,IAAA,IAAI;AAEF,MAAAR,GAAAA,CAAI,KAAK,kDAAkD,CAAA;AAE3D,MAAA,CAAA,CAAE,KAAK,sDAA4C,CAAA;AAEnD,MAAAW,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,wBAAwB,CAAC;;AAAA,0BAAA,EACZ,UAAU,IAAI,CAAA;AAAA,EACxCA,OAAAA,CAAM,KAAK,OAAO,CAAC,IAAI,YAAA,CAAa,KAAK,CAAA,CAAA,EAAI,YAAA,CAAa,IAAI;AAAA,EAC9DA,QAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA,CAAA,EAAI,YAAA,GAAe,QAAQ,IAAI;AAAA,EAC3DA,QAAM,IAAA,CAAK,eAAe,CAAC,CAAA,CAAA,EAAI,WAAA,GAAc,QAAQ,IAAI;;AAAA,EACzDA,OAAAA,CAAM,IAAA,CAAK,4CAA4C,CAAC;AAAA,EACxDA,OAAAA,CAAM,KAAK,iBAAiB,CAAC,GAAGA,OAAAA,CAAM,IAAA,CAAK,yCAAyC,CAAC,CAAA;AAAA,OAC1F;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,0CAAqC,CAAA;AAC5C,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,uBAAA,EAA0B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAChG;AACF,CAAC,CAAA;AAGH,cAAA,CACG,QAAQ,KAAK,CAAA,CACb,WAAA,CAAY,4CAA4C,EACxD,MAAA,CAAO,uBAAA,EAAyB,eAAe,CAAA,CAC/C,OAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAAwB;AACrC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,iCAA0B,CAAC,CAAA;AAE5C,EAAA,IAAI;AAEF,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMa,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,gBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,qBAAqB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,8BAA8B,CAAA;AAEtC,IAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAClD,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,MAAM,SAAA,GAAYxB,QAAQ,YAAY,CAAA;AACtC,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,2BAAA,EAA8B,YAAY,EAAE,CAAC,CAAA;AAC7D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,4CAAkC,CAAA;AAGzC,IAAA,MAAM,YAAA,GAAe;AAAA,MACnB,IAAA,EAAM,WAAA;AAAA,MACN,YAAA,EAAc,KAAA;AAAA,MACd,WAAA,EAAa,IAAA;AAAA,MACb,cAAA,EAAgB;AAAA,KAClB;AAEA,IAAA,MAAM,WAAA,GAAc,aAAA,CAAc,YAAA,CAAa,IAAkC,CAAA;AAEjF,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,OAAA,CAAQ,GAAA,CAAI,KAAK,SAAA,CAAU;AAAA,QACzB,KAAA,EAAO,UAAU,QAAA,EAAS;AAAA,QAC1B,WAAW,SAAA,CAAU,IAAA;AAAA,QACrB,GAAG;AAAA,OACL,EAAG,IAAA,EAAM,CAAC,CAAC,CAAA;AACX,MAAA;AAAA,IACF;AAEA,IAAAU,KAAAA;AAAA,MACE,CAAA,EAAGV,QAAM,IAAA,CAAK,IAAA,CAAK,wBAAwB,SAAA,CAAU,IAAI,EAAE,CAAC;;AAAA,EACzDA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC;AAAA,EAC3BA,OAAAA,CAAM,KAAK,OAAO,CAAC,IAAI,WAAA,CAAY,KAAK,CAAA,CAAA,EAAI,WAAA,CAAY,IAAI;AAAA,EAC5DA,QAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA,EAAI,YAAY,WAAW;;AAAA,EACrDA,OAAAA,CAAM,IAAA,CAAK,sBAAsB,CAAC;AAAA,EAClCA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,YAAA,CAAa,YAAA,GAAeA,OAAAA,CAAM,KAAA,CAAM,gBAAW,CAAA,GAAIA,OAAAA,CAAM,GAAA,CAAI,eAAU,CAAC;AAAA,EAC1GA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC,IAAI,YAAA,CAAa,WAAA,GAAcA,OAAAA,CAAM,KAAA,CAAM,gBAAW,CAAA,GAAIA,OAAAA,CAAM,GAAA,CAAI,eAAU,CAAC;AAAA,EACxGA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,IAAI,YAAA,CAAa,cAAA,GAAiBA,OAAAA,CAAM,KAAA,CAAM,gBAAW,CAAA,GAAIA,OAAAA,CAAM,GAAA,CAAI,eAAU,CAAC;;AAAA,EACjHA,OAAAA,CAAM,MAAA,CAAO,qBAAc,CAAC;AAAA,EAC5BA,OAAAA,CAAM,IAAA,CAAK,4BAAA,GAA+B,SAAA,CAAU,QAAA,EAAS,CAAE,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA,GAAI,KAAK,CAAC,CAAA;AAAA,EACnFA,OAAAA,CAAM,IAAA,CAAK,gCAAA,GAAmC,SAAA,CAAU,QAAA,EAAS,CAAE,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA,GAAI,KAAK,CAAC,CAAA,oBAAA;AAAA,KAC5F;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,gCAAA,EAAmC,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACzG;AACF,CAAC,CAAA;AAGH,cAAA,CACG,QAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,+BAA+B,EAC3C,MAAA,CAAO,uBAAA,EAAyB,eAAe,CAAA,CAC/C,OAAO,uBAAA,EAAyB,qDAAqD,CAAA,CACrF,MAAA,CAAO,OAAO,OAAA,KAA4B;AACzC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,6BAAwB,CAAC,CAAA;AAE1C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,gBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,8BAA8B,CAAA;AACrC,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,SAAA,GAAYtB,QAAQ,YAAY,CAAA;AAGtC,IAAA,CAAA,CAAE,MAAM,oBAAoB,CAAA;AAC5B,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,2BAAA,EAA8B,YAAY,EAAE,CAAC,CAAA;AAC7D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,uBAAkB,CAAA;AAGzB,IAAA,IAAI,SAAS,OAAA,CAAQ,MAAA;AACrB,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,MAAM,YAAA,GAAe,MAAMY,MAAAA,CAAO;AAAA,QAChC,OAAA,EAAS,wBAAA;AAAA,QACT,OAAA,EAAS,MAAA,CAAO,OAAA,CAAQ,aAAa,CAAA,CAAE,IAAI,CAAC,CAAC,GAAA,EAAK,KAAK,CAAA,MAAO;AAAA,UAC5D,KAAA,EAAO,GAAA;AAAA,UACP,OAAO,CAAA,EAAG,KAAA,CAAM,KAAK,CAAA,CAAA,EAAI,MAAM,IAAI,CAAA,CAAA;AAAA,UACnC,MAAM,KAAA,CAAM;AAAA,SACd,CAAE;AAAA,OACH,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,8BAA8B,CAAA;AACrC,QAAA;AAAA,MACF;AAEA,MAAA,MAAA,GAAS,aAAa,QAAA,EAAS;AAAA,IACjC;AAEA,IAAA,MAAM,cAAA,GAAiB,cAAc,MAAoC,CAAA;AAEzE,IAAA,IAAI,CAAC,cAAA,EAAgB;AACnB,MAAAR,GAAAA,CAAI,MAAM,kEAAkE,CAAA;AAC5E,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,cAAA,GAAiB,EAAA;AACrB,IAAA,IAAI,WAAW,QAAA,EAAU;AACvB,MAAA,cAAA,GAAiB,CAAA,EAAGC,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EAA0BA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EAA4BA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,gBAAA,CAAA;AAAA,IACzH,CAAA,MAAA,IAAW,WAAW,WAAA,EAAa;AACjC,MAAA,cAAA,GAAiB,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EAAsBA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EAAwBA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,iCAAA,CAAA;AAAA,IACjH,CAAA,MAAA,IAAW,WAAW,SAAA,EAAW;AAC/B,MAAA,cAAA,GAAiB,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EAAsBA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EAA0BA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,oBAAA,CAAA;AAAA,IACnH,CAAA,MAAA,IAAW,WAAW,WAAA,EAAa;AACjC,MAAA,cAAA,GAAiB,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EAAqBA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EAAwBA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,2BAAA,CAAA;AAAA,IAChH;AAEA,IAAA6C,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC;AAAA,EAC7BA,OAAAA,CAAM,KAAK,OAAO,CAAC,IAAI,cAAA,CAAe,KAAK,CAAA,CAAA,EAAI,cAAA,CAAe,IAAI;AAAA,EAClEA,QAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA,EAAI,eAAe,WAAW;;AAAA,EACxDA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC;AAAA,EAC/BA,OAAAA,CAAM,KAAK,QAAG,CAAC,IAAI,cAAA,CAAe,YAAA,GAAe,SAAS,MAAM,CAAA;AAAA,EAChEA,OAAAA,CAAM,KAAK,QAAG,CAAC,IAAI,cAAA,CAAe,WAAA,GAAc,SAAS,MAAM,CAAA;AAAA,EAC/DA,OAAAA,CAAM,KAAK,QAAG,CAAC,IAAI,cAAA,CAAe,cAAA,GAAiB,SAAS,MAAM,CAAA;;AAAA,EAClEA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC;AAAA,CAAA,GACjC,cAAA;AAAA,MACA,CAAA,EAAG,cAAA,CAAe,KAAK,CAAA,CAAA,EAAI,eAAe,IAAI,CAAA,OAAA;AAAA,KAChD;AAEA,IAAA,MAAM,aAAA,GAAgB,MAAMc,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS,CAAA,MAAA,EAAS,cAAA,CAAe,IAAI,CAAA,QAAA;AAAA,KACtC,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,8BAA8B,CAAA;AACrC,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,4BAA4B,CAAA;AAEpC,IAAA,IAAI;AACF,MAAAR,GAAAA,CAAI,KAAK,qDAAqD,CAAA;AAE9D,MAAA,CAAA,CAAE,KAAK,iDAAuC,CAAA;AAE9C,MAAAW,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,4BAA4B,CAAC;;AAAA,IAAA,EACtC,eAAe,KAAK,CAAA,CAAA,EAAI,eAAe,IAAI,CAAA,2BAAA,EAA8B,UAAU,IAAI,CAAA;;AAAA,EAC3FA,OAAAA,CAAM,KAAK,iBAAiB,CAAC,GAAGA,OAAAA,CAAM,IAAA,CAAK,yCAAyC,CAAC,CAAA;AAAA,OAC1F;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,+BAA0B,CAAA;AACjC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,wBAAA,EAA2B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACjG;AACF,CAAC,CAAA;AAGH,cAAA,CACG,OAAO,YAAY;AAClB,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,yCAAkC,CAAC,CAAA;AAEpD,EAAAD,IAAI,IAAA,CAAK;AAAA,EAAKC,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC;AAAA,CAAI,CAAA;AACnD,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,oCAAA,CAAsC,CAAA;AACjF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,gCAAA,CAAkC,CAAA;AAC7E,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA,8BAAA,CAAgC,CAAA;AAE/E,EAAA6C,IAAAA;AAAA,IACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC;AAAA,EAC5B,cAAc,MAAA,CAAO,KAAK,IAAIA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA;AAAA,EAClD,cAAc,SAAA,CAAU,KAAK,IAAIA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA;AAAA,EACxD,cAAc,OAAA,CAAQ,KAAK,IAAIA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA;AAAA,EACpD,cAAc,SAAA,CAAU,KAAK,IAAIA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA,oCAAA,CAAA;AAAA,IAC3D;AAAA,GACF;AAEA,EAAAU,MAAM,8CAA8C,CAAA;AACtD,CAAC,CAAA;;;ACzdH,WAAA,EAAA;AAEA,gBAAA,EAAA;AA6BA,IAAM,yBAAA,GAA4B;AAAA,EAChC,OAAA,EAAS;AAAA,IACP,IAAA,EAAM,4BAAA;AAAA,IACN,WAAA,EAAa,+CAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,SAAA,EAAW;AAAA,IACT,IAAA,EAAM,mCAAA;AAAA,IACN,WAAA,EAAa,4CAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,GAAA,EAAK;AAAA,IACH,IAAA,EAAM,wBAAA;AAAA,IACN,WAAA,EAAa,4BAAA;AAAA,IACb,IAAA,EAAM;AAAA;AAEV,CAAA;AAGA,IAAM,aAAA,GAAgB;AAAA,EACpB,SAAA,EAAW;AAAA,IACT,IAAA,EAAM,kBAAA;AAAA,IACN,WAAA,EAAa,kCAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,UAAA,EAAY;AAAA,IACV,IAAA,EAAM,2BAAA;AAAA,IACN,WAAA,EAAa,gCAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,GAAA,EAAK;AAAA,IACH,IAAA,EAAM,aAAA;AAAA,IACN,WAAA,EAAa,gCAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,KAAA,EAAO;AAAA,IACL,IAAA,EAAM,cAAA;AAAA,IACN,WAAA,EAAa,+BAAA;AAAA,IACb,IAAA,EAAM;AAAA;AAEV,CAAA;AAEO,IAAM,aAAa,IAAIU,OAAAA,CAAQ,KAAK,CAAA,CACxC,YAAY,6CAA6C,CAAA;AAG5D,UAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,wCAAwC,CAAA,CACpD,MAAA,CAAO,yBAAyB,eAAe,CAAA,CAC/C,OAAO,0BAAA,EAA4B,0BAA0B,EAC7D,MAAA,CAAO,8BAAA,EAAgC,oDAAoD,CAAA,CAC3F,MAAA,CAAO,OAAO,OAAA,KAA2B;AACxC,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,+BAAwB,CAAC,CAAA;AAE1C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,gBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,wBAAwB,CAAA;AAC/B,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,SAAA,GAAYtB,QAAQ,YAAY,CAAA;AAGtC,IAAA,CAAA,CAAE,MAAM,oBAAoB,CAAA;AAC5B,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,2BAAA,EAA8B,YAAY,EAAE,CAAC,CAAA;AAC7D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,uBAAkB,CAAA;AAGzB,IAAA,IAAI,kBAAA,GAAqB,QAAQ,qBAAqB,CAAA;AACtD,IAAA,IAAI,CAAC,kBAAA,EAAoB;AACvB,MAAA,MAAM,QAAA,GAAW,MAAMY,MAAAA,CAAO;AAAA,QAC5B,OAAA,EAAS,6BAAA;AAAA,QACT,OAAA,EAAS,MAAA,CAAO,OAAA,CAAQ,yBAAyB,CAAA,CAAE,IAAI,CAAC,CAAC,GAAA,EAAK,KAAK,CAAA,MAAO;AAAA,UACxE,KAAA,EAAO,GAAA;AAAA,UACP,OAAO,CAAA,EAAG,KAAA,CAAM,IAAI,CAAA,CAAA,EAAI,MAAM,IAAI,CAAA,CAAA;AAAA,UAClC,MAAM,KAAA,CAAM;AAAA,SACd,CAAE;AAAA,OACH,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,QAAQ,CAAA,EAAG;AACtB,QAAAC,OAAO,wBAAwB,CAAA;AAC/B,QAAA;AAAA,MACF;AAEA,MAAA,kBAAA,GAAqB,SAAS,QAAA,EAAS;AAAA,IACzC;AAEA,IAAA,MAAM,UAAA,GAAa,0BAA0B,kBAA4D,CAAA;AAEzG,IAAA,IAAI,CAAC,UAAA,EAAY;AACf,MAAAR,GAAAA,CAAI,MAAM,iEAAiE,CAAA;AAC3E,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,eAAA,GAAkB,QAAQ,kBAAkB,CAAA;AAChD,IAAA,IAAI,CAAC,eAAA,EAAiB;AACpB,MAAA,MAAM,UAAA,GAAa,MAAMe,OAAAA,CAAQ;AAAA,QAC/B,OAAA,EAAS;AAAA,OACV,CAAA;AAED,MAAA,IAAIR,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,QAAAC,OAAO,wBAAwB,CAAA;AAC/B,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,UAAA,EAAY;AACd,QAAA,MAAM,aAAA,GAAgB,MAAMM,IAAAA,CAAK;AAAA,UAC/B,OAAA,EAAS,uBAAA;AAAA,UACT,WAAA,EAAa,+BAAA;AAAA,UACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,YAAA,IAAI,CAAC,OAAO,OAAO,8BAAA;AACnB,YAAA,IAAI;AACF,cAAA,IAAI,IAAI,KAAK,CAAA;AACb,cAAA;AAAA,YACF,CAAA,CAAA,MAAQ;AACN,cAAA,OAAO,0BAAA;AAAA,YACT;AAAA,UACF;AAAA,SACD,CAAA;AAED,QAAA,IAAIP,QAAAA,CAAS,aAAa,CAAA,EAAG;AAC3B,UAAAC,OAAO,wBAAwB,CAAA;AAC/B,UAAA;AAAA,QACF;AAEA,QAAA,eAAA,GAAkB,cAAc,QAAA,EAAS;AAAA,MAC3C;AAAA,IACF;AAGA,IAAA,MAAM,aAAA,GAAgB,CAAA,sBAAA,EAAyB,SAAA,CAAU,QAAA,EAAU,CAAA,CAAA;AAGnE,IAAAsC,IAAAA;AAAA,MACE,GAAG7C,OAAAA,CAAM,IAAA,CAAK,uBAAuB,CAAC,MACnCA,OAAAA,CAAM,IAAA,CAAK,MAAM,CAAC,IAAI,aAAa,CAAA,GAAA,EACnCA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,IAAI,MACtCA,OAAAA,CAAM,IAAA,CAAK,sBAAsB,CAAC,IAAI,UAAA,CAAW,IAAI,CAAA,CAAA,EAAI,UAAA,CAAW,IAAI,CAAA,GAAA,EACxE,eAAA,GAAkB,CAAA,EAAGA,OAAAA,CAAM,KAAK,mBAAmB,CAAC,CAAA,CAAA,EAAI,eAAe,QAAQ,EAAE,CAAA,GAAA,EAC9EA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,GAAA,EACpCA,OAAAA,CAAM,IAAA,CAAK,kBAAa,CAAC,CAAA,gCAAA,EACzBA,OAAAA,CAAM,IAAA,CAAK,YAAO,CAAC,CAAA,CAAA,EAAI,aAAa,CAAA,GAAA,EACpCA,QAAM,IAAA,CAAK,4BAAuB,CAAC,CAAA,YAAA,EACnC,kBAAkB,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,iBAAY,CAAC,CAAA,WAAA,CAAA,GAAgB,CAAA,EAAGA,QAAM,IAAA,CAAK,iBAAY,CAAC,CAAA,KAAA,CAAO,CAAA,CAAA;AAAA,MAClG;AAAA,KACF;AAEA,IAAA,MAAM,aAAA,GAAgB,MAAMc,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS,CAAA,wBAAA,EAA2B,SAAA,CAAU,IAAI,CAAA,CAAA;AAAA,KACnD,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,wBAAwB,CAAA;AAC/B,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,wCAAwC,CAAA;AAEhD,IAAA,IAAI;AAEF,MAAAR,GAAAA,CAAI,KAAK,gDAAgD,CAAA;AAEzD,MAAA,CAAA,CAAE,KAAK,2CAAiC,CAAA;AAExC,MAAAW,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,sBAAsB,CAAC,CAAA,gDAAA,EAEpCA,OAAAA,CAAM,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC,CAAA,GAAA,EAC/CA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,IAAI,CAAA,GAAA,EACtCA,OAAAA,CAAM,IAAA,CAAK,sBAAsB,CAAC,IAAI,UAAA,CAAW,IAAI,CAAA,GAAA,EACrD,eAAA,GAAkB,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,CAAA,EAAI,eAAe,CAAA,GAAA,CAAA,GAAQ,EAAE,CAAA,GAAA,EACjFA,QAAM,IAAA,CAAK,wCAAwC,CAAC,CAAA,GAAA,EACpDA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,iCAAiC,CAAC,CAAA;AAAA,OAClF;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,sCAAiC,CAAA;AACxC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,sBAAA,EAAyB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC/F;AACF,CAAC,CAAA;AAGH,UAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,iCAAiC,CAAA,CAC7C,MAAA,CAAO,iBAAA,EAAmB,gDAAgD,CAAA,CAC1E,MAAA,CAAO,uBAAA,EAAyB,gEAAgE,CAAA,CAChG,MAAA,CAAO,0BAAA,EAA4B,wCAAwC,CAAA,CAC3E,MAAA,CAAO,uBAAA,EAAyB,kDAAkD,CAAA,CAClF,MAAA,CAAO,8BAAA,EAAgC,uCAAuC,CAAA,CAC9E,MAAA,CAAO,OAAO,OAAA,KAA2B;AACxC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,mCAAyB,CAAC,CAAA;AAE3C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAGlB,IAAA,IAAI,gBAAgB,OAAA,CAAQ,GAAA;AAC5B,IAAA,IAAI,CAAC,aAAA,EAAe;AAClB,MAAA,MAAM,QAAA,GAAW,MAAMI,IAAAA,CAAK;AAAA,QAC1B,OAAA,EAAS,iBAAA;AAAA,QACT,WAAA,EAAa,2BAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,4BAAA;AACnB,UAAA,IAAI,CAAC,KAAA,CAAM,UAAA,CAAW,iBAAiB,CAAA,EAAG;AACxC,YAAA,OAAO,uCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,QAAQ,CAAA,EAAG;AACtB,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,aAAA,GAAgB,QAAA,CAAS,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC3C;AAGA,IAAA,MAAM,QAAA,GAAW,aAAA,CAAc,KAAA,CAAM,GAAG,CAAA;AACxC,IAAA,IAAI,QAAA,CAAS,SAAS,CAAA,EAAG;AACvB,MAAAR,GAAAA,CAAI,MAAM,8DAA8D,CAAA;AACxE,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,YAAA,GAAe,SAAS,CAAC,CAAA;AAE/B,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,CAAA,CAAE,MAAM,2BAA2B,CAAA;AAEnC,IAAA,MAAM,SAAA,GAAYd,QAAQ,YAAY,CAAA;AACtC,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,wBAAA,EAA2B,aAAa,EAAE,CAAC,CAAA;AAC3D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,2BAAsB,CAAA;AAG7B,IAAA,IAAI,eAAe,OAAA,CAAQ,MAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMY,MAAAA,CAAO;AAAA,QAChC,OAAA,EAAS,uBAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP;AAAA,YACE,KAAA,EAAO,aAAA;AAAA,YACP,KAAA,EAAO,oBAAA;AAAA,YACP,IAAA,EAAM;AAAA,WACR;AAAA,UACA;AAAA,YACE,KAAA,EAAO,gBAAA;AAAA,YACP,KAAA,EAAO,uBAAA;AAAA,YACP,IAAA,EAAM;AAAA,WACR;AAAA,UACA;AAAA,YACE,KAAA,EAAO,QAAA;AAAA,YACP,KAAA,EAAO,mCAAA;AAAA,YACP,IAAA,EAAM;AAAA,WACR;AAAA,UACA;AAAA,YACE,KAAA,EAAO,WAAA;AAAA,YACP,KAAA,EAAO,6CAAA;AAAA,YACP,IAAA,EAAM;AAAA;AACR;AACF,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,aAAa,QAAA,EAAS;AAAA,IACvC;AAGA,IAAA,IAAI,aAAA,GAAgB,EAAA;AAEpB,IAAA,IAAI,iBAAiB,aAAA,EAAe;AAClC,MAAA,IAAI,eAAA,GAAkB,QAAQ,kBAAkB,CAAA;AAChD,MAAA,IAAI,CAAC,eAAA,EAAiB;AACpB,QAAA,MAAM,aAAA,GAAgB,MAAMM,IAAAA,CAAK;AAAA,UAC/B,OAAA,EAAS,uBAAA;AAAA,UACT,WAAA,EAAa,+BAAA;AAAA,UACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,YAAA,IAAI,CAAC,OAAO,OAAO,8BAAA;AACnB,YAAA,IAAI;AACF,cAAA,IAAI,IAAI,KAAK,CAAA;AACb,cAAA;AAAA,YACF,CAAA,CAAA,MAAQ;AACN,cAAA,OAAO,0BAAA;AAAA,YACT;AAAA,UACF;AAAA,SACD,CAAA;AAED,QAAA,IAAIP,QAAAA,CAAS,aAAa,CAAA,EAAG;AAC3B,UAAAC,OAAO,kBAAkB,CAAA;AACzB,UAAA;AAAA,QACF;AAEA,QAAA,eAAA,GAAkB,cAAc,QAAA,EAAS;AAAA,MAC3C;AAEA,MAAA,IAAI,WAAA,GAAc,QAAQ,cAAc,CAAA;AACxC,MAAA,IAAI,CAAC,WAAA,EAAa;AAChB,QAAA,MAAM,UAAA,GAAa,MAAMK,MAAAA,CAAO;AAAA,UAC9B,OAAA,EAAS,sBAAA;AAAA,UACT,OAAA,EAAS,MAAA,CAAO,OAAA,CAAQ,aAAa,CAAA,CAAE,IAAI,CAAC,CAAC,GAAA,EAAK,KAAK,CAAA,MAAO;AAAA,YAC5D,KAAA,EAAO,GAAA;AAAA,YACP,OAAO,CAAA,EAAG,KAAA,CAAM,IAAI,CAAA,CAAA,EAAI,MAAM,IAAI,CAAA,CAAA;AAAA,YAClC,MAAM,KAAA,CAAM;AAAA,WACd,CAAE;AAAA,SACH,CAAA;AAED,QAAA,IAAIN,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,UAAAC,OAAO,kBAAkB,CAAA;AACzB,UAAA;AAAA,QACF;AAEA,QAAA,WAAA,GAAc,WAAW,QAAA,EAAS;AAAA,MACpC;AAEA,MAAA,MAAM,mBAAA,GAAsB,cAAc,WAAyC,CAAA;AACnF,MAAA,aAAA,GAAgB,CAAA,IAAA,EAAO,mBAAA,CAAoB,IAAI,CAAA,IAAA,EAAO,eAAe,CAAA,CAAA;AAAA,IAEvE,CAAA,MAAA,IAAW,iBAAiB,QAAA,EAAU;AACpC,MAAA,IAAI,kBAAA,GAAqB,QAAQ,qBAAqB,CAAA;AACtD,MAAA,IAAI,CAAC,kBAAA,EAAoB;AACvB,QAAA,MAAM,QAAA,GAAW,MAAMK,MAAAA,CAAO;AAAA,UAC5B,OAAA,EAAS,6BAAA;AAAA,UACT,OAAA,EAAS,MAAA,CAAO,OAAA,CAAQ,yBAAyB,CAAA,CAAE,IAAI,CAAC,CAAC,GAAA,EAAK,KAAK,CAAA,MAAO;AAAA,YACxE,KAAA,EAAO,GAAA;AAAA,YACP,OAAO,CAAA,EAAG,KAAA,CAAM,IAAI,CAAA,CAAA,EAAI,MAAM,IAAI,CAAA,CAAA;AAAA,YAClC,MAAM,KAAA,CAAM;AAAA,WACd,CAAE;AAAA,SACH,CAAA;AAED,QAAA,IAAIN,QAAAA,CAAS,QAAQ,CAAA,EAAG;AACtB,UAAAC,OAAO,kBAAkB,CAAA;AACzB,UAAA;AAAA,QACF;AAEA,QAAA,kBAAA,GAAqB,SAAS,QAAA,EAAS;AAAA,MACzC;AAEA,MAAA,MAAM,UAAA,GAAa,0BAA0B,kBAA4D,CAAA;AACzG,MAAA,aAAA,GAAgB,CAAA,IAAA,EAAO,WAAW,IAAI,CAAA,oBAAA,CAAA;AAAA,IACxC;AAGA,IAAAsC,IAAAA;AAAA,MACE,GAAG7C,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC,MACjCA,OAAAA,CAAM,IAAA,CAAK,MAAM,CAAC,IAAI,aAAa,CAAA,GAAA,EACnCA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,IAAI,MACtCA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,IAAI,YAAY,CAAA,GAAA,EACrC,aAAA,GAAgB,CAAA,EAAGA,QAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,aAAa,KAAK,EAAE,CAAA,CAAA;AAAA,MACpE;AAAA,KACF;AAEA,IAAA,MAAM,aAAA,GAAgB,MAAMc,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS,CAAA,sCAAA;AAAA,KACV,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,kBAAkB,CAAA;AACzB,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,wCAAwC,CAAA;AAEhD,IAAA,IAAI;AACF,MAAAR,GAAAA,CAAI,KAAK,8CAA8C,CAAA;AAEvD,MAAA,CAAA,CAAE,KAAK,yCAA+B,CAAA;AAEtC,MAAAW,KAAAA;AAAA,QACE,CAAA,EAAGV,QAAM,MAAA,CAAO,oBAAoB,CAAC,CAAA,2CAAA,EAElCA,OAAAA,CAAM,KAAK,MAAM,CAAC,IAAI,aAAa,CAAA,GAAA,EACnCA,QAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,YAAY,MACrC,aAAA,GAAgB,CAAA,EAAGA,QAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,aAAa,QAAQ,EAAE,CAAA,GAAA,EACpEA,QAAM,IAAA,CAAK,wCAAwC,CAAC,CAAA,GAAA,EACpDA,OAAAA,CAAM,KAAK,iBAAiB,CAAC,GAAGA,OAAAA,CAAM,IAAA,CAAK,iCAAiC,CAAC,CAAA;AAAA,OAClF;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,sCAAiC,CAAA;AACxC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,sBAAA,EAAyB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC/F;AACF,CAAC,CAAA;AAGH,UAAA,CACG,QAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,+BAA+B,EAC3C,MAAA,CAAO,iBAAA,EAAmB,gDAAgD,CAAA,CAC1E,OAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAA4B;AACzC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,KAAA,CAAM,gCAAyB,CAAC,CAAA;AAE5C,EAAA,IAAI;AAEF,IAAA,IAAI,gBAAgB,OAAA,CAAQ,GAAA;AAC5B,IAAA,IAAI,CAAC,aAAA,EAAe;AAClB,MAAA,MAAM,QAAA,GAAW,MAAMa,IAAAA,CAAK;AAAA,QAC1B,OAAA,EAAS,iBAAA;AAAA,QACT,WAAA,EAAa,2BAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,4BAAA;AACnB,UAAA,IAAI,CAAC,KAAA,CAAM,UAAA,CAAW,iBAAiB,CAAA,EAAG;AACxC,YAAA,OAAO,uCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,QAAQ,CAAA,EAAG;AACtB,QAAAC,OAAO,sBAAsB,CAAA;AAC7B,QAAA;AAAA,MACF;AAEA,MAAA,aAAA,GAAgB,QAAA,CAAS,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC3C;AAGA,IAAA,MAAM,QAAA,GAAW,aAAA,CAAc,KAAA,CAAM,GAAG,CAAA;AACxC,IAAA,IAAI,QAAA,CAAS,SAAS,CAAA,EAAG;AACvB,MAAAR,GAAAA,CAAI,MAAM,8DAA8D,CAAA;AACxE,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,OAAA,GAAU,SAAS,CAAC,CAAA;AAC1B,IAAA,MAAM,YAAA,GAAe,SAAS,CAAC,CAAA;AAE/B,IAAA,MAAM,IAAIU,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,2BAA2B,CAAA;AAEnC,IAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAClD,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,MAAM,SAAA,GAAYxB,QAAQ,YAAY,CAAA;AACtC,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,sBAAiB,CAAA;AACxB,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,uBAAA,EAA0B,aAAa,EAAE,CAAC,CAAA;AAC1D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,8BAAyB,CAAA;AAGhC,IAAA,MAAM,YAAA,GAAe;AAAA,MACnB,UAAA,EAAY;AAAA,QACV,8BAAA;AAAA,QACA;AAAA,OACF;AAAA,MACA,EAAA,EAAI,aAAA;AAAA,MACJ,UAAA,EAAY,aAAA;AAAA,MACZ,kBAAA,EAAoB;AAAA,QAClB;AAAA,UACE,EAAA,EAAI,GAAG,aAAa,CAAA,OAAA,CAAA;AAAA,UACpB,IAAA,EAAM,4BAAA;AAAA,UACN,UAAA,EAAY,aAAA;AAAA,UACZ,kBAAA,EAAoB,UAAU,QAAA;AAAS;AACzC,OACF;AAAA,MACA,cAAA,EAAgB,CAAC,CAAA,EAAG,aAAa,CAAA,OAAA,CAAS,CAAA;AAAA,MAC1C,eAAA,EAAiB,CAAC,CAAA,EAAG,aAAa,CAAA,OAAA,CAAS,CAAA;AAAA,MAC3C,OAAA,EAAS;AAAA,QACP;AAAA,UACE,EAAA,EAAI,GAAG,aAAa,CAAA,cAAA,CAAA;AAAA,UACpB,IAAA,EAAM,cAAA;AAAA,UACN,eAAA,EAAiB,CAAA,iCAAA,EAAoC,SAAA,CAAU,QAAA,EAAU,CAAA;AAAA;AAC3E,OACF;AAAA,MACA,QAAA,EAAU;AAAA,QACR,WAAW,SAAA,CAAU,IAAA;AAAA,QACrB,OAAA,EAAA,iBAAS,IAAI,IAAA,EAAK,EAAE,WAAA,EAAY;AAAA,QAChC,OAAA,EAAA,iBAAS,IAAI,IAAA,EAAK,EAAE,WAAA;AAAY;AAClC,KACF;AAGA,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,OAAA,CAAQ,IAAI,IAAA,CAAK,SAAA,CAAU,YAAA,EAAc,IAAA,EAAM,CAAC,CAAC,CAAA;AACjD,MAAA;AAAA,IACF;AAGA,IAAAU,KAAAA;AAAA,MACE,CAAA,EAAGV,QAAM,IAAA,CAAK,KAAA,CAAM,uBAAuB,CAAC,CAAA,MAAA,EACzCA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC,MACzBA,OAAAA,CAAM,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,KAAK,aAAa,CAAC,CAAA,GAAA,EAC/CA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,IAAI,CAAA,GAAA,EACtCA,OAAAA,CAAM,KAAK,UAAU,CAAC,CAAA,CAAA,EAAI,OAAO,CAAA,MAAA,EACjCA,OAAAA,CAAM,KAAK,uBAAuB,CAAC,CAAA,GAAA,EACnCA,OAAAA,CAAM,IAAA,CAAK,cAAS,CAAC,CAAA,8BAAA,EACrBA,OAAAA,CAAM,IAAA,CAAK,YAAO,CAAC,CAAA,CAAA,EAAI,aAAa,CAAA,aAAA,EACpCA,OAAAA,CAAM,KAAK,WAAW,CAAC,MACvBA,OAAAA,CAAM,IAAA,CAAK,cAAS,CAAC,CAAA,gBAAA,EACrBA,OAAAA,CAAM,KAAK,kBAAa,CAAC,CAAA,kCAAA,EAAqC,SAAA,CAAU,QAAA,EAAS,CAAE,MAAM,CAAA,EAAG,CAAC,CAAC,CAAA,SAAA,EAC9FA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA,GAAA,EAC7BA,OAAAA,CAAM,IAAA,CAAK,iBAAY,CAAC,4BACxBA,OAAAA,CAAM,IAAA,CAAK,mBAAc,CAAC,CAAA,4BAAA,EAC1BA,OAAAA,CAAM,OAAO,oBAAa,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,MAAA,CAAO,mBAAmB,CAAC,CAAA;AAAA,KAC7F;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,uBAAA,EAA0B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAChG;AACF,CAAC,CAAA;AAGH,UAAA,CACG,OAAA,CAAQ,YAAY,CAAA,CACpB,WAAA,CAAY,0CAA0C,CAAA,CACtD,MAAA,CAAO,iBAAA,EAAmB,gDAAgD,CAAA,CAC1E,MAAA,CAAO,OAAO,OAAA,KAA+B;AAC5C,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,GAAA,CAAI,0CAA8B,CAAC,CAAA;AAE/C,EAAAD,GAAAA,CAAI,IAAA;AAAA,IACFC,OAAAA,CAAM,GAAA,CAAI,yBAAe,CAAA,GACzB;AAAA,GAEF;AAEA,EAAA,IAAI;AAEF,IAAA,IAAI,gBAAgB,OAAA,CAAQ,GAAA;AAC5B,IAAA,IAAI,CAAC,aAAA,EAAe;AAClB,MAAA,MAAM,QAAA,GAAW,MAAMa,IAAAA,CAAK;AAAA,QAC1B,OAAA,EAAS,iBAAA;AAAA,QACT,WAAA,EAAa,2BAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,4BAAA;AACnB,UAAA,IAAI,CAAC,KAAA,CAAM,UAAA,CAAW,iBAAiB,CAAA,EAAG;AACxC,YAAA,OAAO,uCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,QAAQ,CAAA,EAAG;AACtB,QAAAC,OAAO,wBAAwB,CAAA;AAC/B,QAAA;AAAA,MACF;AAEA,MAAA,aAAA,GAAgB,QAAA,CAAS,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC3C;AAGA,IAAA,MAAM,QAAA,GAAW,aAAA,CAAc,KAAA,CAAM,GAAG,CAAA;AACxC,IAAA,IAAI,QAAA,CAAS,SAAS,CAAA,EAAG;AACvB,MAAAR,GAAAA,CAAI,MAAM,8DAA8D,CAAA;AACxE,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,YAAA,GAAe,SAAS,CAAC,CAAA;AAE/B,IAAA,MAAM,IAAIU,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,CAAA,CAAE,MAAM,2BAA2B,CAAA;AAEnC,IAAA,MAAM,SAAA,GAAYxB,QAAQ,YAAY,CAAA;AACtC,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,sBAAiB,CAAA;AACxB,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,uBAAA,EAA0B,aAAa,EAAE,CAAC,CAAA;AAC1D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,2BAAsB,CAAA;AAG7B,IAAA6C,IAAAA;AAAA,MACE,CAAA,EAAG7C,QAAM,IAAA,CAAK,GAAA,CAAI,mCAAyB,CAAC,CAAA,MAAA,EACzCA,OAAAA,CAAM,IAAA,CAAK,oBAAoB,CAAC,MAChCA,OAAAA,CAAM,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA,EAAI,aAAa,MACnCA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,IAAI,CAAA,MAAA,EACtCA,OAAAA,CAAM,KAAK,eAAe,CAAC,MAC3BA,OAAAA,CAAM,GAAA,CAAI,kCAA6B,CAAC,CAAA,GAAA,EACxCA,OAAAA,CAAM,IAAI,qCAAgC,CAAC,CAAA,GAAA,EAC3CA,OAAAA,CAAM,GAAA,CAAI,kDAA6C,CAAC,CAAA,GAAA,EACxDA,OAAAA,CAAM,GAAA,CAAI,yCAAoC,CAAC,CAAA,CAAA;AAAA,MAClD;AAAA,KACF;AAEA,IAAA,MAAM,iBAAA,GAAoB,MAAMc,OAAAA,CAAQ;AAAA,MACtC,OAAA,EAAS,CAAA,EAAGd,OAAAA,CAAM,GAAA,CAAI,0DAA0D,CAAC,CAAA;AAAA,KAClF,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,iBAAiB,CAAA,IAAK,CAAC,iBAAA,EAAmB;AACrD,MAAAC,OAAO,wBAAwB,CAAA;AAC/B,MAAA;AAAA,IACF;AAGA,IAAA,MAAM,aAAA,GAAgB,MAAMO,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS,CAAA,EAAGd,OAAAA,CAAM,GAAA,CAAI,kDAAkD,CAAC,CAAA;AAAA,KAC1E,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,wBAAwB,CAAA;AAC/B,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,4CAA4C,CAAA;AAEpD,IAAA,IAAI;AACF,MAAAR,GAAAA,CAAI,KAAK,2CAA2C,CAAA;AAEpD,MAAA,CAAA,CAAE,KAAK,+CAAqC,CAAA;AAE5C,MAAAW,KAAAA;AAAA,QACE,GAAGV,OAAAA,CAAM,MAAA,CAAO,0BAA0B,CAAC,yCAExCA,OAAAA,CAAM,IAAA,CAAK,MAAM,CAAC,IAAI,aAAa,CAAA,GAAA,EACnCA,QAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,IAAI,CAAA,MAAA,EACtCA,QAAM,GAAA,CAAI,2CAAiC,CAAC,CAAA,MAAA,EAC5CA,OAAAA,CAAM,KAAK,wCAAwC,CAAC,CAAA,GAAA,EACpDA,OAAAA,CAAM,KAAK,iBAAiB,CAAC,GAAGA,OAAAA,CAAM,IAAA,CAAK,iCAAiC,CAAC,CAAA;AAAA,OAClF;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,0CAAqC,CAAA;AAC5C,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,0BAAA,EAA6B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACnG;AACF,CAAC,CAAA;AAGH,UAAA,CACG,OAAO,YAAY;AAClB,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,qCAA8B,CAAC,CAAA;AAEhD,EAAAD,IAAI,IAAA,CAAK,CAAA,GAAA,EAAMC,QAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,GAAA,CAAK,CAAA;AACrD,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA,gCAAA,CAAkC,CAAA;AAC5E,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA,kCAAA,CAAoC,CAAA;AAC9E,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,gCAAA,CAAkC,CAAA;AAC7E,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,sBAAsB,CAAC,CAAA,kCAAA,CAAoC,CAAA;AAElF,EAAA6C,IAAAA;AAAA,IACE,CAAA,EAAG7C,QAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA,6HAAA,EAG5BA,OAAAA,CAAM,KAAK,yDAAoD,CAAC,MAChEA,OAAAA,CAAM,IAAA,CAAK,yCAAoC,CAAC,CAAA,GAAA,EAChDA,QAAM,IAAA,CAAK,qCAAgC,CAAC,CAAA,GAAA,EAC5CA,OAAAA,CAAM,KAAK,2CAAsC,CAAC,SAClDA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC,CAAA,GAAA,EACzBA,QAAM,IAAA,CAAK,gCAAgC,CAAC,CAAA,MAAA,EAC5CA,OAAAA,CAAM,KAAK,aAAa,CAAC,MACzBA,OAAAA,CAAM,IAAA,CAAK,iCAAiC,CAAC,CAAA,CAAA;AAAA,IAChD;AAAA,GACF;AAEA,EAAAU,MAAM,8CAA8C,CAAA;AACtD,CAAC,CAAA;;;AChvBH,WAAA,EAAA;AAEA,gBAAA,EAAA;AAmCA,IAAM,eAAA,GAAkB;AAAA,EACtB,OAAA,EAAS;AAAA,IACP,IAAA,EAAM,SAAA;AAAA,IACN,WAAA,EAAa,yBAAA;AAAA,IACb,OAAOV,OAAAA,CAAM,MAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,SAAA,EAAW;AAAA,IACT,IAAA,EAAM,WAAA;AAAA,IACN,WAAA,EAAa,+BAAA;AAAA,IACb,OAAOA,OAAAA,CAAM,KAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,QAAA,EAAU;AAAA,IACR,IAAA,EAAM,UAAA;AAAA,IACN,WAAA,EAAa,0BAAA;AAAA,IACb,OAAOA,OAAAA,CAAM,GAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,SAAA,EAAW;AAAA,IACT,IAAA,EAAM,WAAA;AAAA,IACN,WAAA,EAAa,kCAAA;AAAA,IACb,OAAOA,OAAAA,CAAM,IAAA;AAAA,IACb,IAAA,EAAM;AAAA;AAEV,CAAA;AAGA,IAAM,eAAA,GAAkB;AAAA,EACtB,UAAA,EAAY;AAAA,IACV,IAAA,EAAM,iBAAA;AAAA,IACN,WAAA,EAAa,wCAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,OAAA,EAAS;AAAA,IACP,IAAA,EAAM,gBAAA;AAAA,IACN,WAAA,EAAa,sCAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,QAAA,EAAU;AAAA,IACR,IAAA,EAAM,iBAAA;AAAA,IACN,WAAA,EAAa,kCAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,gBAAA,EAAkB;AAAA,IAChB,IAAA,EAAM,kBAAA;AAAA,IACN,WAAA,EAAa,kCAAA;AAAA,IACb,IAAA,EAAM;AAAA,GACR;AAAA,EACA,KAAA,EAAO;AAAA,IACL,IAAA,EAAM,OAAA;AAAA,IACN,WAAA,EAAa,wCAAA;AAAA,IACb,IAAA,EAAM;AAAA;AAEV,CAAA;AAEO,IAAM,gBAAgB,IAAIoB,OAAAA,CAAQ,QAAQ,CAAA,CAC9C,YAAY,kDAAkD,CAAA;AAGjE,aAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,uCAAuC,EACnD,MAAA,CAAO,gBAAA,EAAkB,uBAAuB,CAAA,CAChD,MAAA,CAAO,uBAAA,EAAyB,+BAA+B,CAAA,CAC/D,MAAA,CAAO,2BAAA,EAA6B,2BAA2B,CAAA,CAC/D,MAAA,CAAO,yBAAyB,sBAAsB,CAAA,CACtD,MAAA,CAAO,OAAO,OAAA,KAA2B;AACxC,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,yBAAkB,CAAC,CAAA;AAEpC,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,iBAAiB,OAAA,CAAQ,GAAA;AAC7B,IAAA,IAAI,CAAC,cAAA,EAAgB;AACnB,MAAA,MAAM,QAAA,GAAW,MAAMI,IAAAA,CAAK;AAAA,QAC1B,OAAA,EAAS,kBAAA;AAAA,QACT,WAAA,EAAa,oCAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,6BAAA;AACnB,UAAA,IAAI,KAAA,CAAM,MAAA,GAAS,EAAA,EAAI,OAAO,4CAAA;AAAA,QAChC;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,QAAQ,CAAA,EAAG;AACtB,QAAAC,OAAO,2BAA2B,CAAA;AAClC,QAAA;AAAA,MACF;AAEA,MAAA,cAAA,GAAiB,SAAS,QAAA,EAAS;AAAA,IACrC;AAGA,IAAA,IAAI,mBAAmB,OAAA,CAAQ,SAAA;AAC/B,IAAA,IAAI,CAAC,gBAAA,EAAkB;AACrB,MAAA,MAAM,cAAA,GAAiB,MAAMM,IAAAA,CAAK;AAAA,QAChC,OAAA,EAAS,4BAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,cAAc,CAAA,EAAG;AAC5B,QAAAC,OAAO,2BAA2B,CAAA;AAClC,QAAA;AAAA,MACF;AAEA,MAAA,gBAAA,GAAmB,cAAA,CAAe,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IACpD;AAEA,IAAA,MAAM,aAAA,GAAgBtB,QAAQ,gBAAgB,CAAA;AAG9C,IAAA,CAAA,CAAE,MAAM,oBAAoB,CAAA;AAC5B,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,aAAa,CAAA;AAEtE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,2BAAA,EAA8B,gBAAgB,EAAE,CAAC,CAAA;AACjE,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,IAAA,CAAK,CAAA,uBAAA,EAAqB,SAAA,CAAU,IAAI,CAAA,CAAE,CAAA;AAG5C,IAAA,IAAI,eAAe,OAAA,CAAQ,MAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,WAAA,GAAc,MAAMa,IAAAA,CAAK;AAAA,QAC7B,OAAA,EAAS,+BAAA;AAAA,QACT,WAAA,EAAa,KAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,oBAAA;AACnB,UAAA,MAAMwC,OAAAA,GAAS,WAAW,KAAK,CAAA;AAC/B,UAAA,IAAI,KAAA,CAAMA,OAAM,CAAA,IAAKA,OAAAA,IAAU,CAAA,EAAG;AAChC,YAAA,OAAO,+BAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAI/C,QAAAA,CAAS,WAAW,CAAA,EAAG;AACzB,QAAAC,OAAO,2BAA2B,CAAA;AAClC,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAY,QAAA,EAAS;AAAA,IACtC;AAEA,IAAA,MAAM,MAAA,GAAS,WAAW,YAAY,CAAA;AAGtC,IAAA,IAAI,eAAe,OAAA,CAAQ,QAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,aAAA,GAAgB,MAAMM,IAAAA,CAAK;AAAA,QAC/B,OAAA,EAAS,sBAAA;AAAA,QACT,WAAA,EAAa,GAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,sBAAA;AACnB,UAAA,MAAM,IAAA,GAAO,SAAS,KAAK,CAAA;AAC3B,UAAA,IAAI,KAAA,CAAM,IAAI,CAAA,IAAK,IAAA,IAAQ,CAAA,EAAG;AAC5B,YAAA,OAAO,iCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,aAAa,CAAA,EAAG;AAC3B,QAAAC,OAAO,2BAA2B,CAAA;AAClC,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,cAAc,QAAA,EAAS;AAAA,IACxC;AAEA,IAAA,MAAM,QAAA,GAAW,SAAS,YAAY,CAAA;AACtC,IAAA,MAAM,YAAA,uBAAmB,IAAA,EAAK;AAC9B,IAAA,YAAA,CAAa,OAAA,CAAQ,YAAA,CAAa,OAAA,EAAQ,GAAI,QAAQ,CAAA;AAGtD,IAAA,MAAM,eAAA,GAAkB,MAAA,CAAO,SAAA,CAAU,eAAA,IAAmB,CAAC,CAAA;AAC7D,IAAA,MAAM,UAAA,GAAa,KAAK,GAAA,CAAI,GAAA,EAAM,KAAK,KAAA,CAAM,eAAA,GAAkB,GAAG,CAAC,CAAA;AAEnE,IAAA,MAAM,IAAA,GAAO,UAAA,IAAc,GAAA,GAAM,UAAA,GACpB,UAAA,IAAc,GAAA,GAAM,MAAA,GACpB,UAAA,IAAc,GAAA,GAAM,QAAA,GACpB,UAAA,IAAc,GAAA,GAAM,QAAA,GAAW,UAAA;AAE5C,IAAA,MAAM,iBAAA,GACJ,SAAS,UAAA,IAAc,IAAA,KAAS,SAAS,CAAA,GACzC,IAAA,KAAS,WAAW,EAAA,GACpB,EAAA;AAEF,IAAA,MAAM,eAAA,GAAmB,SAAS,iBAAA,GAAqB,GAAA;AACvD,IAAA,MAAM,WAAA,GAAc,MAAA;AAGpB,IAAAsC,IAAAA;AAAA,MACE,CAAA,EAAG7C,QAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA,GAAA,EAC7BA,OAAAA,CAAM,KAAK,MAAM,CAAC,IAAI,cAAc,CAAA,GAAA,EACpCA,QAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,IAAI,CAAA,GAAA,EACtCA,OAAAA,CAAM,KAAK,cAAc,CAAC,IAAI,UAAU,CAAA,OAAA,EAAU,IAAI,CAAA,OAAA,EACtDA,OAAAA,CAAM,KAAK,gBAAgB,CAAC,MAC5BA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA,EAAI,MAAM,CAAA,SAAA,EAClCA,OAAAA,CAAM,KAAK,gBAAgB,CAAC,IAAI,eAAe,CAAA,QAAA,EAAW,iBAAiB,CAAA,KAAA,EAC3EA,OAAAA,CAAM,KAAK,eAAe,CAAC,IAAI,WAAW,CAAA,SAAA,EAC1CA,QAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,QAAQ,UAAU,YAAA,CAAa,kBAAA,EAAoB,CAAA,OAAA,EAC9EA,OAAAA,CAAM,KAAK,qBAAqB,CAAC,MACjCA,OAAAA,CAAM,IAAA,CAAK,sCAAiC,CAAC,CAAA,GAAA,EAC7CA,QAAM,IAAA,CAAK,sCAAiC,CAAC,CAAA,GAAA,EAC7CA,OAAAA,CAAM,KAAK,qCAAgC,CAAC,MAC5CA,OAAAA,CAAM,IAAA,CAAK,4BAAuB,CAAC,CAAA,CAAA;AAAA,MACtC;AAAA,KACF;AAEA,IAAA,MAAM,aAAA,GAAgB,MAAMc,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS,CAAA,mBAAA,EAAsB,SAAA,CAAU,IAAI,CAAA,CAAA;AAAA,KAC9C,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,2BAA2B,CAAA;AAClC,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,kCAAkC,CAAA;AAE1C,IAAA,IAAI;AAEF,MAAAR,GAAAA,CAAI,KAAK,0CAA0C,CAAA;AAEnD,MAAA,CAAA,CAAE,KAAK,8CAAoC,CAAA;AAE3C,MAAAW,KAAAA;AAAA,QACE,CAAA,EAAGV,QAAM,MAAA,CAAO,yBAAyB,CAAC,CAAA,0CAAA,EAEvCA,OAAAA,CAAM,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA,EAAI,cAAc,CAAA,GAAA,EACpCA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,UAAU,IAAI,CAAA,GAAA,EACtCA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,IAAI,MAAM,CAAA,SAAA,EAC/BA,QAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,YAAA,CAAa,kBAAA,EAAoB,CAAA,MAAA,EAC5DA,OAAAA,CAAM,KAAK,2CAA2C,CAAC,CAAA,GAAA,EACvDA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,6CAA6C,CAAC,CAAA;AAAA,OAC9F;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,gCAA2B,CAAA;AAClC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,yBAAA,EAA4B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAClG;AACF,CAAC,CAAA;AAGH,aAAA,CACG,QAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,iDAAiD,EAC7D,MAAA,CAAO,wBAAA,EAA0B,wBAAwB,CAAA,CACzD,OAAO,uBAAA,EAAyB,0BAA0B,CAAA,CAC1D,MAAA,CAAO,OAAO,OAAA,KAA4B;AACzC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,KAAA,CAAM,uBAAkB,CAAC,CAAA;AAErC,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,gBAAgB,OAAA,CAAQ,MAAA;AAC5B,IAAA,IAAI,CAAC,aAAA,EAAe;AAClB,MAAA,MAAM,WAAA,GAAc,MAAMI,IAAAA,CAAK;AAAA,QAC7B,OAAA,EAAS,yBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,4BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,WAAW,CAAA,EAAG;AACzB,QAAAC,OAAO,oBAAoB,CAAA;AAC3B,QAAA;AAAA,MACF;AAEA,MAAA,aAAA,GAAgB,WAAA,CAAY,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,UAAA,GAAatB,QAAQ,aAAa,CAAA;AAGxC,IAAA,CAAA,CAAE,MAAM,4BAA4B,CAAA;AAGpC,IAAA,MAAM,UAAA,GAAa;AAAA,MACjB,GAAA,EAAK,oCAAA;AAAA,MACL,KAAA,EAAO,cAAA;AAAA,MACP,MAAA,EAAQ,GAAA;AAAA,MACR,MAAA,EAAQ,SAAA;AAAA,MACR,QAAA,EAAU,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,CAAA,GAAI,EAAA,GAAK,EAAA,GAAK,EAAA,GAAK,GAAI;AAAA,KACzD;AAEA,IAAA,CAAA,CAAE,KAAK,sBAAiB,CAAA;AAGxB,IAAA,IAAI,SAAS,OAAA,CAAQ,MAAA;AACrB,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,MAAM,YAAA,GAAe,MAAM2B,MAAAA,CAAO;AAAA,QAChC,OAAA,EAAS,6BAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,GAAA,EAAK,KAAA,EAAO,sDAAA,EAA8B;AAAA,UACnD,EAAE,KAAA,EAAO,GAAA,EAAK,KAAA,EAAO,0CAAA,EAAuB;AAAA,UAC5C,EAAE,KAAA,EAAO,GAAA,EAAK,KAAA,EAAO,mCAAA,EAAqB;AAAA,UAC1C,EAAE,KAAA,EAAO,GAAA,EAAK,KAAA,EAAO,6BAAA,EAAoB;AAAA,UACzC,EAAE,KAAA,EAAO,GAAA,EAAK,KAAA,EAAO,sBAAA;AAAkB;AACzC,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,oBAAoB,CAAA;AAC3B,QAAA;AAAA,MACF;AAEA,MAAA,MAAA,GAAS,aAAa,QAAA,EAAS;AAAA,IACjC;AAEA,IAAA,MAAM,SAAA,GAAY,SAAS,MAAM,CAAA;AAGjC,IAAAsC,IAAAA;AAAA,MACE,GAAG7C,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,MAC/BA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,IAAI,aAAA,CAAc,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,MAAA,EAClDA,OAAAA,CAAM,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,GAAG,CAAA,GAAA,EACpCA,QAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,WAAW,KAAK,CAAA,GAAA,EACxCA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,MAAM,YAC1CA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,QAAA,CAAI,MAAA,CAAO,SAAS,CAAC,SACnDA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,MACtBA,OAAAA,CAAM,IAAA,CAAK,gBAAW,CAAC,IAAI,UAAA,CAAW,MAAM,CAAA,OAAA,EAAUA,OAAAA,CAAM,KAAK,UAAU,CAAC,CAAA,GAAA,EAC5EA,OAAAA,CAAM,KAAK,iDAA4C,CAAC,MACxDA,OAAAA,CAAM,IAAA,CAAK,iCAA4B,CAAC,CAAA,CAAA;AAAA,MAC3C;AAAA,KACF;AAEA,IAAA,MAAM,cAAA,GAAiB,MAAMc,OAAAA,CAAQ;AAAA,MACnC,SAAS,CAAA,QAAA,EAAW,UAAA,CAAW,MAAM,CAAA,UAAA,EAAa,WAAW,KAAK,CAAA,CAAA;AAAA,KACnE,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,cAAc,CAAA,IAAK,CAAC,cAAA,EAAgB;AAC/C,MAAAC,OAAO,oBAAoB,CAAA;AAC3B,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,sCAAsC,CAAA;AAE9C,IAAA,IAAI;AACF,MAAAR,GAAAA,CAAI,KAAK,0CAA0C,CAAA;AAEnD,MAAA,CAAA,CAAE,KAAK,8CAAoC,CAAA;AAE3C,MAAAW,KAAAA;AAAA,QACE,CAAA,EAAGV,QAAM,MAAA,CAAO,yBAAyB,CAAC,CAAA,4BAAA,EAEvCA,OAAAA,CAAM,KAAK,gBAAW,CAAC,IAAI,UAAA,CAAW,MAAM,UAAUA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,GAAA,EAC5EA,OAAAA,CAAM,IAAA,CAAK,sBAAiB,CAAC,IAAI,QAAA,CAAI,MAAA,CAAO,SAAS,CAAC,CAAA,GAAA,EACtDA,QAAM,IAAA,CAAK,2BAAsB,CAAC,CAAA,MAAA,EAClCA,OAAAA,CAAM,IAAA,CAAK,2CAA2C,CAAC,CAAA,GAAA,EACvDA,QAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,6CAA6C,CAAC,CAAA;AAAA,OAC9F;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,iCAA4B,CAAA;AACnC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,0BAAA,EAA6B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACnG;AACF,CAAC,CAAA;AAGH,aAAA,CACG,OAAA,CAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,kDAAkD,CAAA,CAC9D,MAAA,CAAO,0BAA0B,wBAAwB,CAAA,CACzD,OAAO,uBAAA,EAAyB,yEAAyE,EACzG,MAAA,CAAO,kBAAA,EAAoB,2CAA2C,CAAA,CACtE,MAAA,CAAO,OAAO,OAAA,KAA4B;AACzC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,GAAA,CAAI,8BAAoB,CAAC,CAAA;AAErC,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,gBAAgB,OAAA,CAAQ,MAAA;AAC5B,IAAA,IAAI,CAAC,aAAA,EAAe;AAClB,MAAA,MAAM,WAAA,GAAc,MAAMI,IAAAA,CAAK;AAAA,QAC7B,OAAA,EAAS,yBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,4BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,WAAW,CAAA,EAAG;AACzB,QAAAC,OAAO,mBAAmB,CAAA;AAC1B,QAAA;AAAA,MACF;AAEA,MAAA,aAAA,GAAgB,WAAA,CAAY,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,UAAA,GAAatB,QAAQ,aAAa,CAAA;AAGxC,IAAA,CAAA,CAAE,MAAM,4BAA4B,CAAA;AAGpC,IAAA,MAAM,UAAA,GAAa;AAAA,MACjB,GAAA,EAAK,oCAAA;AAAA,MACL,KAAA,EAAO,cAAA;AAAA,MACP,YAAA,EAAc,iBAAA;AAAA,MACd,MAAA,EAAQ,GAAA;AAAA,MACR,MAAA,EAAQ,SAAA;AAAA,MACR,QAAA,EAAU,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,CAAA,GAAI,EAAA,GAAK,EAAA,GAAK,EAAA,GAAK,GAAI;AAAA;AAAA,KACzD;AAEA,IAAA,CAAA,CAAE,KAAK,sBAAiB,CAAA;AAGxB,IAAA,IAAI,gBAAgB,OAAA,CAAQ,MAAA;AAC5B,IAAA,IAAI,CAAC,aAAA,EAAe;AAClB,MAAA,MAAM,YAAA,GAAe,MAAM2B,MAAAA,CAAO;AAAA,QAChC,OAAA,EAAS,wBAAA;AAAA,QACT,OAAA,EAAS,MAAA,CAAO,OAAA,CAAQ,eAAe,CAAA,CAAE,IAAI,CAAC,CAAC,GAAA,EAAK,KAAK,CAAA,MAAO;AAAA,UAC9D,KAAA,EAAO,GAAA;AAAA,UACP,OAAO,CAAA,EAAG,KAAA,CAAM,IAAI,CAAA,CAAA,EAAI,MAAM,IAAI,CAAA,CAAA;AAAA,UAClC,MAAM,KAAA,CAAM;AAAA,SACd,CAAE;AAAA,OACH,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,mBAAmB,CAAA;AAC1B,QAAA;AAAA,MACF;AAEA,MAAA,aAAA,GAAgB,aAAa,QAAA,EAAS;AAAA,IACxC;AAEA,IAAA,MAAM,cAAA,GAAiB,gBAAgB,aAA6C,CAAA;AAEpF,IAAA,IAAI,CAAC,cAAA,EAAgB;AACnB,MAAAR,GAAAA,CAAI,MAAM,wBAAwB,CAAA;AAClC,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,cAAc,OAAA,CAAQ,QAAA;AAC1B,IAAA,IAAI,CAAC,WAAA,EAAa;AAChB,MAAA,MAAM,WAAA,GAAc,MAAMe,OAAAA,CAAQ;AAAA,QAChC,OAAA,EAAS;AAAA,OACV,CAAA;AAED,MAAA,IAAIR,QAAAA,CAAS,WAAW,CAAA,EAAG;AACzB,QAAAC,OAAO,mBAAmB,CAAA;AAC1B,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,WAAA,EAAa;AACf,QAAA,MAAM,aAAA,GAAgB,MAAMM,IAAAA,CAAK;AAAA,UAC/B,OAAA,EAAS,8CAAA;AAAA,UACT,WAAA,EAAa,kCAAA;AAAA,UACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,YAAA,IAAI,CAAC,KAAA,EAAO;AACZ,YAAA,IAAI;AACF,cAAA,IAAI,IAAI,KAAK,CAAA;AACb,cAAA;AAAA,YACF,CAAA,CAAA,MAAQ;AACN,cAAA,OAAO,0BAAA;AAAA,YACT;AAAA,UACF;AAAA,SACD,CAAA;AAED,QAAA,IAAIP,QAAAA,CAAS,aAAa,CAAA,EAAG;AAC3B,UAAAC,OAAO,mBAAmB,CAAA;AAC1B,UAAA;AAAA,QACF;AAEA,QAAA,IAAI,aAAA,EAAe;AACjB,UAAA,WAAA,GAAc,cAAc,QAAA,EAAS;AAAA,QACvC;AAAA,MACF;AAAA,IACF;AAGA,IAAAsC,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,GAAA,CAAI,+BAAqB,CAAC,CAAA,MAAA,EACrCA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,GAAA,EACjCA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,aAAA,CAAc,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,MAAA,EAClDA,OAAAA,CAAM,IAAA,CAAK,MAAM,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,GAAG,CAAA,GAAA,EACpCA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,KAAK,CAAA,GAAA,EACxCA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,MAAM,CAAA,SAAA,EAC1CA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,QAAA,CAAS,kBAAA,EAAoB,CAAA,CAAA,EAAIA,OAAAA,CAAM,GAAA,CAAI,WAAW,CAAC,CAAA,MAAA,EAC7FA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA,GAAA,EAC7BA,OAAAA,CAAM,IAAA,CAAK,OAAO,CAAC,CAAA,CAAA,EAAI,cAAA,CAAe,IAAI,CAAA,CAAA,EAAI,cAAA,CAAe,IAAI,CAAA,GAAA,EACjEA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA,EAAI,cAAA,CAAe,WAAW,CAAA,GAAA,EACxD,WAAA,GAAc,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,WAAW,CAAA,GAAA,CAAA,GAAQ,EAAE,CAAA,GAAA,EACjEA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,GAAA,EACjCA,OAAAA,CAAM,IAAA,CAAK,+BAA+B,CAAC,CAAA,GAAA,EAC3CA,OAAAA,CAAM,IAAA,CAAK,kCAAkC,CAAC,CAAA,GAAA,EAC9CA,OAAAA,CAAM,IAAA,CAAK,wCAAwC,CAAC,CAAA,GAAA,EACpDA,OAAAA,CAAM,IAAA,CAAK,uCAAuC,CAAC,CAAA,CAAA;AAAA,MACtD;AAAA,KACF;AAEA,IAAA,MAAM,cAAA,GAAiB,MAAMc,OAAAA,CAAQ;AAAA,MACnC,OAAA,EAAS,GAAGd,OAAAA,CAAM,GAAA,CAAI,oBAAoB,CAAC,CAAA,CAAA,EAAI,WAAW,GAAG,CAAA,CAAA;AAAA,KAC9D,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,cAAc,CAAA,IAAK,CAAC,cAAA,EAAgB;AAC/C,MAAAC,OAAO,mBAAmB,CAAA;AAC1B,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,qCAAqC,CAAA;AAE7C,IAAA,IAAI;AACF,MAAAR,GAAAA,CAAI,KAAK,yCAAyC,CAAA;AAElD,MAAA,CAAA,CAAE,KAAK,6CAAmC,CAAA;AAE1C,MAAAW,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,4BAA4B,CAAC,CAAA,wCAAA,EAE1CA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,cAAA,CAAe,IAAI,CAAA,GAAA,EAC5C,WAAA,GAAc,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,WAAW,CAAA,GAAA,CAAA,GAAQ,EAAE,CAAA,EACjEA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA,CAAA,EAAI,WAAW,MAAM,CAAA,YAAA,EACnDA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC,CAAA,GAAA,EACzBA,OAAAA,CAAM,IAAA,CAAK,kCAA6B,CAAC,CAAA,GAAA,EACzCA,OAAAA,CAAM,IAAA,CAAK,gCAA2B,CAAC,MACvCA,OAAAA,CAAM,IAAA,CAAK,wCAAmC,CAAC,CAAA,MAAA,EAC/CA,OAAAA,CAAM,IAAA,CAAK,2CAA2C,CAAC,CAAA,GAAA,EACvDA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,6CAA6C,CAAC,CAAA;AAAA,OAC9F;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,iCAA4B,CAAA;AACnC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,0BAAA,EAA6B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACnG;AACF,CAAC,CAAA;AAGH,aAAA,CACG,OAAA,CAAQ,MAAM,CAAA,CACd,WAAA,CAAY,mCAAmC,CAAA,CAC/C,MAAA,CAAO,yBAAyB,eAAe,CAAA,CAC/C,OAAO,uBAAA,EAAyB,4DAA4D,EAC5F,MAAA,CAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAAyB;AACtC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,wBAAiB,CAAC,CAAA;AAEnC,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAGlB,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,sCAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,KAAA,EAAO;AACZ,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,qBAAqB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,MAAK,GAAI,KAAA,CAAA;AAAA,IACjE;AAEA,IAAA,CAAA,CAAE,MAAM,qBAAqB,CAAA;AAE7B,IAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAClD,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAG7C,IAAA,MAAM,WAAA,GAAc;AAAA,MAClB;AAAA,QACE,OAAA,EAAS,eAAA;AAAA,QACT,GAAA,EAAK,wBAAA;AAAA,QACL,KAAA,EAAO,cAAA;AAAA,QACP,MAAA,EAAQ,GAAA;AAAA,QACR,MAAA,EAAQ,SAAA;AAAA,QACR,QAAA,EAAU,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,CAAA,GAAI,EAAA,GAAK,EAAA,GAAK,EAAA,GAAK,GAAI;AAAA,OACzD;AAAA,MACA;AAAA,QACE,OAAA,EAAS,eAAA;AAAA,QACT,GAAA,EAAK,qBAAA;AAAA,QACL,KAAA,EAAO,eAAA;AAAA,QACP,MAAA,EAAQ,GAAA;AAAA,QACR,MAAA,EAAQ,WAAA;AAAA,QACR,QAAA,EAAU,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,CAAA,GAAI,EAAA,GAAK,EAAA,GAAK,EAAA,GAAK,GAAI;AAAA,OACzD;AAAA,MACA;AAAA,QACE,OAAA,EAAS,eAAA;AAAA,QACT,GAAA,EAAK,wBAAA;AAAA,QACL,KAAA,EAAO,SAAA;AAAA,QACP,MAAA,EAAQ,GAAA;AAAA,QACR,MAAA,EAAQ,UAAA;AAAA,QACR,QAAA,EAAU,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,CAAA,GAAI,EAAA,GAAK,EAAA,GAAK,EAAA,GAAK,GAAI;AAAA;AACzD,KACF;AAGA,IAAA,MAAM,eAAA,GAAkB,OAAA,CAAQ,MAAA,GAC5B,WAAA,CAAY,MAAA,CAAO,OAAK,CAAA,CAAE,MAAA,KAAW,OAAA,CAAQ,MAAM,CAAA,GACnD,WAAA;AAEJ,IAAA,CAAA,CAAE,IAAA,CAAK,CAAA,aAAA,EAAW,eAAA,CAAgB,MAAM,CAAA,UAAA,CAAY,CAAA;AAGpD,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,OAAA,CAAQ,IAAI,IAAA,CAAK,SAAA,CAAU,eAAA,EAAiB,IAAA,EAAM,CAAC,CAAC,CAAA;AACpD,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,SAAS,CAAA,EAAGP,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK,iBAAiB,CAAC,CAAA,MAAA,CAAA;AAElD,IAAA,eAAA,CAAgB,OAAA,CAAQ,CAAC,MAAA,EAAQ,KAAA,KAAU;AACzC,MAAA,MAAM,UAAA,GAAa,eAAA,CAAgB,MAAA,CAAO,MAAsC,CAAA;AAChF,MAAA,MAAM,YAAY,MAAA,CAAO,MAAA,KAAW,aAAa,MAAA,CAAO,QAAA,uBAAe,IAAA,EAAK;AAE5E,MAAA,MAAA,IAAU,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAG,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,MAAA,CAAO,GAAG,CAAA,CAAE,CAAC,CAAA,GAAA,CAAA;AACtD,MAAA,MAAA,IAAU,GAAGA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,OAAO,OAAO,CAAA,GAAA,CAAA;AACrD,MAAA,MAAA,IAAU,GAAGA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,OAAO,KAAK,CAAA,GAAA,CAAA;AACjD,MAAA,MAAA,IAAU,GAAGA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,OAAO,MAAM,CAAA,SAAA,CAAA;AACnD,MAAA,MAAA,IAAU,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,IAAI,CAAA,CAAA,EAAI,UAAA,CAAW,KAAA,CAAM,UAAA,CAAW,IAAI,CAAC,CAAA,GAAA,CAAA;AAC1F,MAAA,MAAA,IAAU,CAAA,EAAGA,QAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,MAAA,CAAO,QAAA,CAAS,kBAAA,EAAoB,CAAA,CAAA;AAE5E,MAAA,IAAI,SAAA,EAAW;AACb,QAAA,MAAA,IAAU,CAAA,CAAA,EAAIA,OAAAA,CAAM,GAAA,CAAI,WAAW,CAAC,CAAA,CAAA;AAAA,MACtC;AAEA,MAAA,MAAA,IAAU,QAAA;AAAA,IACZ,CAAC,CAAA;AAED,IAAA,MAAA,IAAU,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,GAAA,CAAA;AACnC,IAAA,MAAA,IAAU,GAAGA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,gBAAgB,MAAM,CAAA,aAAA,CAAA;AAC3D,IAAA,MAAA,IAAU,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC,CAAA,CAAA,EAAI,eAAA,CAAgB,MAAA,CAAO,CAAC,KAAK,CAAA,KAAM,GAAA,GAAM,CAAA,CAAE,MAAA,EAAQ,CAAC,CAAC,CAAA,YAAA,CAAA;AACjG,IAAA,MAAA,IAAU,CAAA,EAAGA,OAAAA,CAAM,MAAA,CAAO,qBAAc,CAAC,CAAA,GAAA,CAAA;AACzC,IAAA,MAAA,IAAU,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,qCAAqC,CAAC,CAAA,yBAAA,CAAA;AAC9D,IAAA,MAAA,IAAU,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,yCAAyC,CAAC,CAAA,+BAAA,CAAA;AAClE,IAAA,MAAA,IAAU,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,yCAAyC,CAAC,CAAA,oBAAA,CAAA;AAElE,IAAAU,MAAM,MAAM,CAAA;AAAA,EAEd,SAAS,KAAA,EAAO;AACd,IAAAX,GAAAA,CAAI,MAAM,CAAA,wBAAA,EAA2B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACjG;AACF,CAAC,CAAA;AAGH,aAAA,CACG,QAAQ,KAAK,CAAA,CACb,WAAA,CAAY,0CAA0C,EACtD,MAAA,CAAO,wBAAA,EAA0B,wBAAwB,CAAA,CACzD,OAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAAwB;AACrC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,8BAAuB,CAAC,CAAA;AAEzC,EAAA,IAAI;AAEF,IAAA,IAAI,gBAAgB,OAAA,CAAQ,MAAA;AAC5B,IAAA,IAAI,CAAC,aAAA,EAAe;AAClB,MAAA,MAAM,WAAA,GAAc,MAAMa,IAAAA,CAAK;AAAA,QAC7B,OAAA,EAAS,yBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,4BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,WAAW,CAAA,EAAG;AACzB,QAAAC,OAAO,qBAAqB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,aAAA,GAAgB,WAAA,CAAY,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,IAAIE,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,4BAA4B,CAAA;AAEpC,IAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAClD,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAG7C,IAAA,MAAM,UAAA,GAAa;AAAA,MACjB,OAAA,EAAS,aAAA;AAAA,MACT,GAAA,EAAK,oCAAA;AAAA,MACL,cAAA,EAAgB,wEAAA;AAAA,MAChB,OAAA,EAAS,eAAA;AAAA,MACT,KAAA,EAAO,cAAA;AAAA,MACP,YAAA,EAAc,iBAAA;AAAA,MACd,MAAA,EAAQ,GAAA;AAAA,MACR,OAAA,EAAS,EAAA;AAAA,MACT,MAAA,EAAQ,SAAA;AAAA,MACR,OAAA,EAAS,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,CAAA,GAAI,EAAA,GAAK,EAAA,GAAK,EAAA,GAAK,GAAI,CAAA;AAAA,MACtD,QAAA,EAAU,IAAI,IAAA,CAAK,IAAA,CAAK,GAAA,KAAQ,CAAA,GAAI,EAAA,GAAK,EAAA,GAAK,EAAA,GAAK,GAAI,CAAA;AAAA,MACvD,UAAA,EAAY;AAAA,QACV,EAAE,IAAA,EAAM,iBAAA,EAAmB,MAAA,EAAQ,WAAA,EAAa,MAAM,EAAA,EAAG;AAAA,QACzD,EAAE,IAAA,EAAM,gBAAA,EAAkB,MAAA,EAAQ,WAAA,EAAa,MAAM,EAAA,EAAG;AAAA,QACxD,EAAE,IAAA,EAAM,eAAA,EAAiB,MAAA,EAAQ,aAAA,EAAe,MAAM,CAAA,EAAE;AAAA,QACxD,EAAE,IAAA,EAAM,gBAAA,EAAkB,MAAA,EAAQ,SAAA,EAAW,MAAM,CAAA;AAAE;AACvD,KACF;AAEA,IAAA,CAAA,CAAE,KAAK,sBAAiB,CAAA;AAExB,IAAA,MAAM,UAAA,GAAa,eAAA,CAAgB,UAAA,CAAW,MAAsC,CAAA;AAGpF,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,OAAA,CAAQ,IAAI,IAAA,CAAK,SAAA,CAAU,UAAA,EAAY,IAAA,EAAM,CAAC,CAAC,CAAA;AAC/C,MAAA;AAAA,IACF;AAGA,IAAAC,KAAAA;AAAA,MACE,CAAA,EAAGV,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK,UAAA,CAAW,GAAG,CAAC,CAAA,MAAA,EAC/BA,OAAAA,CAAM,IAAA,CAAK,oBAAoB,CAAC,CAAA,GAAA,EAChCA,QAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,OAAO,CAAA,GAAA,EAC5CA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,IAAI,IAAI,UAAA,CAAW,KAAA,CAAM,UAAA,CAAW,IAAI,CAAC,CAAA,GAAA,EAC7EA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,OAAA,CAAQ,kBAAA,EAAoB,CAAA,GAAA,EACjEA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,QAAA,CAAS,kBAAA,EAAoB,CAAA,MAAA,EACnEA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,GAAA,EACtBA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,OAAO,CAAA,GAAA,EAC5CA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,WAAW,KAAK,CAAA,EAAA,EAAK,UAAA,CAAW,YAAY,CAAA,OAAA,EACpEA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,GAAA,EACtBA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,UAAA,CAAW,MAAM,CAAA,SAAA,EAC/CA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,OAAO,CAAA,SAAA,EAClDA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,MAAA,GAAS,UAAA,CAAW,OAAO,CAAA,YAAA,EACrEA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC,CAAA,GAAA,CAAA,GAC5B,UAAA,CAAW,UAAA,CAAW,GAAA;AAAA,QAAI,CAAC,CAAA,EAAG,CAAA,KAC5B,CAAA,EAAGA,QAAM,IAAA,CAAK,CAAA,EAAG,CAAA,GAAI,CAAC,GAAG,CAAC,CAAA,CAAA,EAAI,CAAA,CAAE,IAAI,MAAM,CAAA,CAAE,MAAA,KAAW,WAAA,GAAcA,OAAAA,CAAM,MAAM,kBAAa,CAAA,GAAI,CAAA,CAAE,MAAA,KAAW,gBAAgBA,OAAAA,CAAM,MAAA,CAAO,oBAAe,CAAA,GAAIA,QAAM,IAAA,CAAK,gBAAW,CAAC,CAAA,EAAA,EAAK,EAAE,IAAI,CAAA,YAAA;AAAA,QACjM,IAAA,CAAK,KAAK,CAAA,GAAI,CAAA,MAAA,EACbA,QAAM,IAAA,CAAK,cAAc,CAAC,CAAA,GAAA,EAC1B,WAAW,cAAc,CAAA,MAAA,EACzBA,QAAM,MAAA,CAAO,uBAAgB,CAAC,CAAA,GAAA,EAC9BA,OAAAA,CAAM,IAAA,CAAK,gCAAA,GAAmC,cAAc,KAAA,CAAM,CAAA,EAAG,EAAE,CAAA,GAAI,KAAK,CAAC,CAAA,wBAAA,EACjFA,OAAAA,CAAM,IAAA,CAAK,mCAAmC,aAAA,CAAc,KAAA,CAAM,GAAG,EAAE,CAAA,GAAI,KAAK,CAAC,CAAA,gBAAA;AAAA,KACtF;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,8BAAA,EAAiC,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACvG;AACF,CAAC,CAAA;AAGH,aAAA,CACG,OAAO,YAAY;AAClB,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,wCAAiC,CAAC,CAAA;AAEnD,EAAAD,IAAI,IAAA,CAAK,CAAA,GAAA,EAAMC,QAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,GAAA,CAAK,CAAA;AACrD,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,gCAAA,CAAkC,CAAA;AAC/E,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,sBAAsB,CAAC,CAAA,mCAAA,CAAqC,CAAA;AACnF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,sBAAsB,CAAC,CAAA,2CAAA,CAA6C,CAAA;AAC3F,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,uBAAA,CAAyB,CAAA;AACpE,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA,kCAAA,CAAoC,CAAA;AAE9E,EAAA6C,IAAAA;AAAA,IACE,CAAA,EAAG7C,QAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,MAAA,EAC/BA,OAAAA,CAAM,KAAK,aAAa,CAAC,MACzBA,OAAAA,CAAM,IAAA,CAAK,qDAAgD,CAAC,CAAA,GAAA,EAC5DA,QAAM,IAAA,CAAK,oDAA+C,CAAC,CAAA,GAAA,EAC3DA,OAAAA,CAAM,KAAK,gDAA2C,CAAC,SACvDA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC,CAAA,GAAA,EAC3BA,QAAM,IAAA,CAAK,6CAAwC,CAAC,CAAA,GAAA,EACpDA,OAAAA,CAAM,KAAK,yCAAoC,CAAC,MAChDA,OAAAA,CAAM,IAAA,CAAK,qCAAgC,CAAC,CAAA,GAAA,EAC5CA,OAAAA,CAAM,KAAK,4CAAuC,CAAC,SACnDA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC,CAAA,GAAA,EACzBA,QAAM,IAAA,CAAK,yCAAoC,CAAC,CAAA,GAAA,EAChDA,OAAAA,CAAM,KAAK,oCAA+B,CAAC,MAC3CA,OAAAA,CAAM,IAAA,CAAK,wCAAmC,CAAC,CAAA,GAAA,EAC/CA,QAAM,IAAA,CAAK,2CAAsC,CAAC,CAAA,MAAA,EAClDA,OAAAA,CAAM,KAAK,+BAA+B,CAAC,MAC3CA,OAAAA,CAAM,IAAA,CAAK,kCAA6B,CAAC,CAAA,GAAA,EACzCA,QAAM,IAAA,CAAK,4BAAuB,CAAC,CAAA,GAAA,EACnCA,OAAAA,CAAM,IAAA,CAAK,qCAAgC,CAAC,CAAA,CAAA;AAAA,IAC/C;AAAA,GACF;AAEA,EAAAU,MAAM,8CAA8C,CAAA;AACtD,CAAC,CAAA;AC92BI,IAAM,SAAgC,CAAC;AAAA,EAC5C,QAAA;AAAA,EACA,KAAA;AAAA,EACA,UAAA,GAAa,IAAA;AAAA,EACb,UAAA,GAAa;AACf,CAAA,KAAM;AACJ,EAAA,uBACE,IAAA,CAAC,GAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,SAAS,CAAA,EAClC,QAAA,EAAA;AAAA,IAAA,UAAA,oBACC,IAAA,CAAC,GAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,cAAc,CAAA,EACxC,QAAA,EAAA;AAAA,sBAAA,GAAA,CAAC,QAAA,EAAA,EAAS,MAAK,SAAA,EACb,QAAA,kBAAA,GAAA,CAAC,WAAQ,IAAA,EAAK,OAAA,EAAQ,IAAA,EAAK,MAAA,EAAO,CAAA,EACpC,CAAA;AAAA,sBACA,GAAA,CAAC,IAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA,4BAAA,EAA0B,CAAA;AAAA,MACxC,KAAA,oBACC,GAAA,CAAC,GAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAA,GAAA,CAAC,IAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,KAAA,EAAM,MAAA,EACd,QAAA,EAAA,KAAA,EACH,CAAA,EACF,CAAA;AAAA,sBAEF,GAAA,CAAC,GAAA,EAAA,EAAI,OAAA,EAAS,CAAA,EACZ,QAAA,kBAAA,GAAA,CAAC,IAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAE,QAAA,EAAA,QAAA,CAAI,MAAA,CAAO,EAAE,CAAA,EAAE,CAAA,EACjC;AAAA,KAAA,EACF,CAAA;AAAA,oBAGF,GAAA,CAAC,GAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAU,QAAA,EAAS,CAAA;AAAA,IAErC,8BACC,IAAA,CAAC,GAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EAAG,eAAc,QAAA,EAC/B,QAAA,EAAA;AAAA,sBAAA,GAAA,CAAC,GAAA,EAAA,EACC,8BAAC,IAAA,EAAA,EAAK,QAAA,EAAQ,MAAE,QAAA,EAAA,QAAA,CAAI,MAAA,CAAO,EAAE,CAAA,EAAE,CAAA,EACjC,CAAA;AAAA,0BACC,GAAA,EAAA,EAAI,SAAA,EAAW,GACd,QAAA,kBAAA,IAAA,CAAC,IAAA,EAAA,EAAK,UAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,QAAA,QAAA;AAAA,wBACP,GAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,QAAA,EAAS,QAAA,EAAA,QAAA,EAAM,CAAA;AAAA,QAAO;AAAA,OAAA,EAC1C,CAAA,EACF;AAAA,KAAA,EACF;AAAA,GAAA,EAEJ,CAAA;AAEJ,CAAA;AC7CO,IAAM,UAAkC,CAAC;AAAA,EAC9C,KAAA;AAAA,EACA,KAAA;AAAA,EACA,KAAA,GAAQ,OAAA;AAAA,EACR,QAAA,GAAW;AACb,CAAA,KAAM;AACJ,EAAA,uBACE4C,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,oBAAAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,EAAA,EACV,0BAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAU,QAAA,EAAW,QAAA,EAAA;AAAA,MAAA,KAAA;AAAA,MAAM;AAAA,KAAA,EAAC,CAAA,EACpC,CAAA;AAAA,oBACAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,OAAe,QAAA,EAAA,KAAA,EAAM;AAAA,GAAA,EAC7B,CAAA;AAEJ,CAAA;ACdA,IAAM,YAAA,GAAe;AAAA,EACnB,OAAA,EAAS,EAAE,IAAA,EAAM,QAAA,EAAK,OAAO,OAAA,EAAiB;AAAA,EAC9C,KAAA,EAAO,EAAE,IAAA,EAAM,QAAA,EAAK,OAAO,KAAA,EAAe;AAAA,EAC1C,OAAA,EAAS,EAAE,IAAA,EAAM,eAAA,EAAO,OAAO,QAAA,EAAkB;AAAA,EACjD,IAAA,EAAM,EAAE,IAAA,EAAM,eAAA,EAAO,OAAO,MAAA,EAAgB;AAAA,EAC5C,OAAA,EAAS,EAAE,IAAA,EAAM,QAAA,EAAK,OAAO,MAAA;AAC/B,CAAA;AAEO,IAAM,cAA0C,CAAC,EAAE,MAAA,EAAQ,IAAA,EAAA5C,QAAK,KAAM;AAC3E,EAAA,MAAM1B,OAAAA,GAAS,aAAa,MAAM,CAAA;AAElC,EAAA,uBACEmE,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,oBAAAD,IAAAA,CAACG,MAAA,EAAM,QAAA,EAAA;AAAA,MAAAtE,OAAAA,CAAO,IAAA;AAAA,MAAK;AAAA,KAAA,EAAC,CAAA;AAAA,oBACpBqE,IAACC,IAAAA,EAAA,EAAK,OAAOtE,OAAAA,CAAO,KAAA,EAAQ,UAAA0B,MAAAA,EAAK;AAAA,GAAA,EACnC,CAAA;AAEJ,CAAA;ACQA,IAAM,UAAA,GAAa;AAAA,EACjB,UAAU,EAAE,IAAA,EAAM,YAAY,KAAA,EAAO,MAAA,EAAiB,MAAM,WAAA,EAAK;AAAA,EACjE,MAAM,EAAE,IAAA,EAAM,QAAQ,KAAA,EAAO,QAAA,EAAmB,MAAM,WAAA,EAAK;AAAA,EAC3D,QAAQ,EAAE,IAAA,EAAM,UAAU,KAAA,EAAO,OAAA,EAAkB,MAAM,WAAA,EAAK;AAAA,EAC9D,QAAQ,EAAE,IAAA,EAAM,UAAU,KAAA,EAAO,KAAA,EAAgB,MAAM,WAAA,EAAK;AAAA,EAC5D,UAAU,EAAE,IAAA,EAAM,YAAY,KAAA,EAAO,MAAA,EAAiB,MAAM,WAAA;AAC9D,CAAA;AAEO,IAAM,QAA8B,CAAC;AAAA,EAC1C,OAAA,GAAU,MAAA;AAAA,EACV,IAAA,GAAO,UAAA;AAAA,EACP,IAAA,EAAAA,MAAAA;AAAA,EACA,KAAA;AAAA,EACA,IAAA;AAAA,EACA,IAAA,GAAO;AACT,CAAA,KAAM;AACJ,EAAA,IAAI,WAAA;AACJ,EAAA,IAAI,YAAA;AACJ,EAAA,IAAI,WAAA;AAEJ,EAAA,IAAI,OAAA,KAAY,UAAU,IAAA,EAAM;AAC9B,IAAA,MAAM1B,OAAAA,GAAS,WAAW,IAAI,CAAA;AAC9B,IAAA,WAAA,GAAcA,OAAAA,CAAO,IAAA;AACrB,IAAA,YAAA,GAAeA,OAAAA,CAAO,KAAA;AACtB,IAAA,WAAA,GAAc,QAAQA,OAAAA,CAAO,IAAA;AAAA,EAC/B,CAAA,MAAO;AACL,IAAA,WAAA,GAAc0B,MAAAA,IAAQ,OAAA;AACtB,IAAA,YAAA,GAAe,KAAA,IAAS,MAAA;AACxB,IAAA,WAAA,GAAc,IAAA;AAAA,EAChB;AAEA,EAAA,uBACEyC,IAAAA,CAACC,GAAAA,EAAA,EACE,QAAA,EAAA;AAAA,IAAA,WAAA,oBACCD,IAAAA,CAACG,IAAAA,EAAA,EACE,QAAA,EAAA;AAAA,MAAA,WAAA;AAAA,MACA;AAAA,KAAA,EACH,CAAA;AAAA,oBAEFH,IAAAA,CAACG,IAAAA,EAAA,EAAK,KAAA,EAAO,cAAc,IAAA,EAAY,QAAA,EAAA;AAAA,MAAA,GAAA;AAAA,MACnC,WAAA;AAAA,MAAY;AAAA,KAAA,EAChB;AAAA,GAAA,EACF,CAAA;AAEJ,CAAA;ACrCO,IAAM,OAA4B,CAAC;AAAA,EACxC,QAAA;AAAA,EACA,KAAA;AAAA,EACA,MAAA;AAAA,EACA,WAAA,GAAc,aAAA;AAAA,EACd,WAAA,GAAc,QAAA;AAAA,EACd,OAAA,GAAU,CAAA;AAAA,EACV,KAAA;AAAA,EACA,UAAA,GAAa;AACf,CAAA,KAAM;AACJ,EAAA,uBACEH,IAAAA;AAAA,IAACC,GAAAA;AAAA,IAAA;AAAA,MACC,aAAA,EAAc,QAAA;AAAA,MACd,WAAA,EAAa,aAAa,WAAA,GAAc,MAAA;AAAA,MACxC,WAAA,EAAa,aAAa,WAAA,GAAc,MAAA;AAAA,MACxC,OAAA;AAAA,MACA,KAAA;AAAA,MAEC,QAAA,EAAA;AAAA,QAAA,KAAA,oBACCD,IAAAA,CAACC,GAAAA,EAAA,EAAI,YAAA,EAAc,CAAA,EAAG,eAAc,QAAA,EAClC,QAAA,EAAA;AAAA,0BAAAC,IAACC,IAAAA,EAAA,EAAK,MAAI,IAAA,EAAC,KAAA,EAAO,aACf,QAAA,EAAA,KAAA,EACH,CAAA;AAAA,0BACAD,IAACD,GAAAA,EAAA,EAAI,WAAW,CAAA,EACd,QAAA,kBAAAC,IAACC,IAAAA,EAAA,EAAK,UAAQ,IAAA,EAAE,QAAA,EAAA,QAAA,CAAI,OAAO,KAAA,GAAQ,KAAA,GAAQ,UAAU,CAAA,GAAI,CAAA,GAAI,EAAE,CAAA,EAAE,CAAA,EACnE;AAAA,SAAA,EACF,CAAA;AAAA,wBAGFD,GAAAA,CAACD,GAAAA,EAAA,EAAI,aAAA,EAAc,UAAU,QAAA,EAAS,CAAA;AAAA,QAErC,MAAA,oBACCD,IAAAA,CAACC,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EAAG,eAAc,QAAA,EAC/B,QAAA,EAAA;AAAA,0BAAAC,GAAAA,CAACD,KAAA,EAAI,YAAA,EAAc,GACjB,QAAA,kBAAAC,GAAAA,CAACC,MAAA,EAAK,QAAA,EAAQ,MAAE,QAAA,EAAA,QAAA,CAAI,MAAA,CAAO,QAAQ,KAAA,GAAQ,OAAA,GAAU,IAAI,CAAA,GAAI,EAAE,GAAE,CAAA,EACnE,CAAA;AAAA,UACC;AAAA,SAAA,EACH;AAAA;AAAA;AAAA,GAEJ;AAEJ,CAAA;AC3CA,IAAM,WAAA,GAAc;AAAA,EAClB,IAAA,EAAM;AAAA,IACJ,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO,MAAA;AAAA,IACP,WAAA,EAAa,MAAA;AAAA,IACb,MAAA,EAAQ;AAAA,GACV;AAAA,EACA,OAAA,EAAS;AAAA,IACP,IAAA,EAAM,QAAA;AAAA,IACN,KAAA,EAAO,OAAA;AAAA,IACP,WAAA,EAAa,OAAA;AAAA,IACb,MAAA,EAAQ;AAAA,GACV;AAAA,EACA,OAAA,EAAS;AAAA,IACP,IAAA,EAAM,eAAA;AAAA,IACN,KAAA,EAAO,QAAA;AAAA,IACP,WAAA,EAAa,QAAA;AAAA,IACb,MAAA,EAAQ;AAAA,GACV;AAAA,EACA,KAAA,EAAO;AAAA,IACL,IAAA,EAAM,QAAA;AAAA,IACN,KAAA,EAAO,KAAA;AAAA,IACP,WAAA,EAAa,KAAA;AAAA,IACb,MAAA,EAAQ;AAAA;AAEZ,CAAA;AAEO,IAAM,QAA8B,CAAC;AAAA,EAC1C,IAAA,GAAO,MAAA;AAAA,EACP,OAAA;AAAA,EACA,KAAA;AAAA,EACA,QAAA,GAAW,IAAA;AAAA,EACX,UAAA,GAAa,IAAA;AAAA,EACb,WAAA,GAAc,KAAA;AAAA,EACd;AACF,CAAA,KAAM;AACJ,EAAA,MAAMtE,OAAAA,GAAS,YAAY,IAAI,CAAA;AAE/B,EAAA,uBACEmE,IAAAA;AAAA,IAACC,GAAAA;AAAA,IAAA;AAAA,MACC,aAAA,EAAc,QAAA;AAAA,MACd,WAAA,EAAa,aAAa,OAAA,GAAU,MAAA;AAAA,MACpC,WAAA,EAAa,UAAA,GAAapE,OAAAA,CAAO,WAAA,GAAc,MAAA;AAAA,MAC/C,OAAA,EAAS,CAAA;AAAA,MAGT,QAAA,EAAA;AAAA,wBAAAmE,KAACC,GAAAA,EAAA,EAAI,cAAc,KAAA,IAAS,QAAA,GAAW,IAAI,CAAA,EACxC,QAAA,EAAA;AAAA,UAAA,QAAA,oBAAYD,IAAAA,CAACG,IAAAA,EAAA,EAAM,QAAA,EAAA;AAAA,YAAAtE,OAAAA,CAAO,IAAA;AAAA,YAAK;AAAA,WAAA,EAAC,CAAA;AAAA,0BACjCqE,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,KAAA,EAAOtE,OAAAA,CAAO,KAAA,EACtB,QAAA,EAAA,KAAA,IAASA,OAAAA,CAAO,MAAA,EACnB;AAAA,SAAA,EACF,CAAA;AAAA,wBAGAqE,GAAAA,CAACD,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAM,QAAA,EAAA,OAAA,EAAQ,CAAA,EACjB,CAAA;AAAA,QAGC,WAAA,oBACCD,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,UAAA,QAAA;AAAA,0BACPD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,UAAO;AAAA,SAAA,EACvC,CAAA,EACF;AAAA;AAAA;AAAA,GAEJ;AAEJ,CAAA;AChFA,IAAM,WAAA,GAAc;AAAA,EAClB,SAAS,EAAE,IAAA,EAAM,MAAM,KAAA,EAAO,MAAA,EAAiB,UAAU,IAAA,EAAK;AAAA,EAC9D,SAAS,EAAE,IAAA,EAAM,UAAK,KAAA,EAAO,OAAA,EAAkB,UAAU,KAAA,EAAM;AAAA,EAC/D,OAAO,EAAE,IAAA,EAAM,UAAK,KAAA,EAAO,KAAA,EAAgB,UAAU,KAAA,EAAM;AAAA,EAC3D,SAAS,EAAE,IAAA,EAAM,iBAAO,KAAA,EAAO,QAAA,EAAmB,UAAU,KAAA;AAC9D,CAAA;AAEO,IAAM,UAAkC,CAAC;AAAA,EAC9C,KAAA,GAAQ,SAAA;AAAA,EACR,IAAA,GAAO,MAAA;AAAA,EACP,KAAA;AAAA,EACA;AACF,CAAA,KAAM;AACJ,EAAA,MAAMtE,OAAAA,GAAS,YAAY,KAAK,CAAA;AAChC,EAAA,MAAM,UAAA,GAAa,SAASA,OAAAA,CAAO,KAAA;AAEnC,EAAA,uBACEmE,IAAAA,CAACC,GAAAA,EAAA,EACE,QAAA,EAAA;AAAA,IAAApE,OAAAA,CAAO,2BACNqE,GAAAA,CAACC,MAAA,EAAK,KAAA,EAAO,YACX,QAAA,kBAAAD,GAAAA,CAACE,YAAW,IAAA,EAAY,CAAA,EAC1B,oBAEAF,GAAAA,CAACC,MAAA,EAAM,QAAA,EAAAtE,QAAO,IAAA,EAAK,CAAA;AAAA,IAEpB,KAAA,oBACCqE,GAAAA,CAACD,GAAAA,EAAA,EAAI,UAAA,EAAY,CAAA,EACf,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAO,UAAA,EAAa,iBAAM,CAAA,EAClC;AAAA,GAAA,EAEJ,CAAA;AAEJ,CAAA;;;ACjDA,WAAA,EAAA;AACA,gBAAA,EAAA;;;AChBsB,OAAA,CAAA,WAAA,EAAA;ACCP,SAAR,kBAAA,GAAsC;AAC5C,EAAA,MAAM,EAAC,KAAG,GAAIE,QAAAA;AACd,EAAA,MAAM,EAAC,IAAA,EAAM,YAAA,EAAY,GAAI,GAAA;AAE7B,EAAA,IAAIA,QAAAA,CAAQ,aAAa,OAAA,EAAS;AACjC,IAAA,OAAO,IAAA,KAAS,OAAA;AAAA,EACjB;AAEA,EAAA,OAAO,OAAA,CAAQ,GAAA,CAAI,UAAU,CAAA,IACzB,OAAA,CAAQ,IAAI,gBAAgB,CAAA,IAC5B,GAAA,CAAI,UAAA,KAAe,cAAA,IACnB,YAAA,KAAiB,sBACjB,YAAA,KAAiB,QAAA,IACjB,IAAA,KAAS,gBAAA,IACT,IAAA,KAAS,WAAA,IACT,SAAS,cAAA,IACT,IAAA,KAAS,uBAAA,IACT,GAAA,CAAI,iBAAA,KAAsB,oBAAA;AAC/B;;;AClBA,IAAM,MAAA,GAAS;AAAA,EACd,kBAAA,EAAoB,KAAA;AAAA,EACpB,kBAAA,EAAoB,KAAA;AAAA,EACpB,MAAA,EAAQ,QAAA;AAAA,EACR,eAAA,EAAiB,QAAA;AAAA,EACjB,iBAAA,EAAmB,QAAA;AAAA,EACnB,gBAAA,EAAkB,QAAA;AAAA,EAClB,SAAA,EAAW,QAAA;AAAA,EACX,YAAA,EAAc,QAAA;AAAA,EACd,UAAA,EAAY,QAAA;AAAA,EACZ,WAAA,EAAa,QAAA;AAAA,EACb,YAAA,EAAc,QAAA;AAAA,EACd,MAAA,EAAQ,QAAA;AAAA,EACR,GAAA,EAAK,QAAA;AAAA,EACL,QAAA,EAAU,QAAA;AAAA,EACV,YAAA,EAAc,QAAA;AAAA,EACd,UAAA,EAAY,QAAA;AAAA,EACZ,eAAA,EAAiB,QAAA;AAAA,EACjB,YAAA,EAAc,QAAA;AAAA,EACd,iBAAA,EAAmB,QAAA;AAAA,EACnB,iBAAA,EAAmB,QAAA;AAAA,EACnB,kBAAA,EAAoB,QAAA;AAAA,EACpB,IAAA,EAAM,QAAA;AAAA,EACN,KAAA,EAAO,QAAA;AAAA,EACP,SAAA,EAAW,QAAA;AAAA,EACX,eAAA,EAAiB,QAAA;AAAA,EACjB,OAAA,EAAS,QAAA;AAAA,EACT,SAAA,EAAW,QAAA;AAAA,EACX,SAAA,EAAW,QAAA;AAAA,EACX,UAAA,EAAY,QAAA;AAAA,EACZ,cAAA,EAAgB,QAAA;AAAA,EAChB,WAAA,EAAa,QAAA;AAAA,EACb,WAAA,EAAa,QAAA;AAAA,EACb,QAAA,EAAU,QAAA;AAAA,EACV,WAAA,EAAa,QAAA;AAAA,EACb,cAAA,EAAgB,QAAA;AAAA,EAChB,SAAA,EAAW,QAAA;AAAA,EACX,QAAA,EAAU,QAAA;AAAA,EACV,aAAA,EAAe,QAAA;AAAA,EACf,YAAA,EAAc,QAAA;AAAA,EACd,YAAA,EAAc,QAAA;AAAA,EACd,cAAA,EAAgB,QAAA;AAAA,EAChB,aAAA,EAAe,QAAA;AAAA,EACf,aAAA,EAAe,QAAA;AAAA,EACf,YAAA,EAAc,QAAA;AAAA,EACd,cAAA,EAAgB,QAAA;AAAA,EAChB,cAAA,EAAgB,QAAA;AAAA,EAChB,aAAA,EAAe,QAAA;AAAA,EACf,OAAA,EAAS,MAAA;AAAA,EACT,QAAA,EAAU,QAAA;AAAA,EACV,UAAA,EAAY,MAAA;AAAA,EACZ,QAAA,EAAU,QAAA;AAAA,EACV,QAAA,EAAU,QAAA;AAAA,EACV,SAAA,EAAW,QAAA;AAAA,EACX,SAAA,EAAW,QAAA;AAAA,EACX,SAAA,EAAW,QAAA;AAAA,EACX,aAAA,EAAe,MAAA;AAAA,EACf,WAAA,EAAa,QAAA;AAAA,EACb,YAAA,EAAc,QAAA;AAAA,EACd,UAAA,EAAY,QAAA;AAAA,EACZ,UAAA,EAAY,QAAA;AAAA,EACZ,WAAA,EAAa,QAAA;AAAA,EACb,YAAA,EAAc,QAAA;AAAA,EACd,IAAA,EAAM,QAAA;AAAA,EACN,QAAA,EAAU,QAAA;AAAA,EACV,UAAA,EAAY,QAAA;AAAA,EACZ,WAAA,EAAa,QAAA;AAAA,EACb,WAAA,EAAa,QAAA;AAAA,EACb,WAAA,EAAa,QAAA;AAAA,EACb,WAAA,EAAa,QAAA;AAAA,EACb,WAAA,EAAa,QAAA;AAAA,EACb,WAAA,EAAa,QAAA;AAAA,EACb,WAAA,EAAa,QAAA;AAAA,EACb,WAAA,EAAa,QAAA;AAAA,EACb,WAAA,EAAa,QAAA;AAAA,EACb,WAAA,EAAa,QAAA;AAAA,EACb,YAAA,EAAc,QAAA;AAAA,EACd,YAAA,EAAc,QAAA;AAAA,EACd,YAAA,EAAc,QAAA;AAAA,EACd,YAAA,EAAc,QAAA;AAAA,EACd,YAAA,EAAc,QAAA;AAAA,EACd,YAAA,EAAc,QAAA;AAAA,EACd,YAAA,EAAc,QAAA;AAAA,EACd,gBAAA,EAAkB,QAAA;AAAA,EAClB,kBAAA,EAAoB,QAAA;AAAA,EACpB,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,oBAAA,EAAsB,QAAA;AAAA,EACtB,oBAAA,EAAsB,QAAA;AAAA,EACtB,YAAA,EAAc,QAAA;AAAA,EACd,eAAA,EAAiB,QAAA;AAAA,EACjB,oBAAA,EAAsB,QAAA;AAAA,EACtB,gBAAA,EAAkB,QAAA;AAAA,EAClB,gBAAA,EAAkB,QAAA;AAAA,EAClB,wBAAA,EAA0B,QAAA;AAAA,EAC1B,kBAAA,EAAoB,QAAA;AAAA,EACpB,kBAAA,EAAoB,QAAA;AAAA,EACpB,aAAA,EAAe,QAAA;AAAA,EACf,gBAAA,EAAkB,QAAA;AAAA,EAClB,qBAAA,EAAuB,QAAA;AAAA,EACvB,iBAAA,EAAmB,QAAA;AAAA,EACnB,iBAAA,EAAmB,QAAA;AAAA,EACnB,yBAAA,EAA2B,QAAA;AAAA,EAC3B,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,UAAA,EAAY,QAAA;AAAA,EACZ,aAAA,EAAe,QAAA;AAAA,EACf,kBAAA,EAAoB,QAAA;AAAA,EACpB,cAAA,EAAgB,QAAA;AAAA,EAChB,cAAA,EAAgB,QAAA;AAAA,EAChB,sBAAA,EAAwB,QAAA;AAAA,EACxB,gBAAA,EAAkB,QAAA;AAAA,EAClB,gBAAA,EAAkB,QAAA;AAAA,EAClB,WAAA,EAAa,QAAA;AAAA,EACb,cAAA,EAAgB,QAAA;AAAA,EAChB,mBAAA,EAAqB,QAAA;AAAA,EACrB,eAAA,EAAiB,QAAA;AAAA,EACjB,eAAA,EAAiB,QAAA;AAAA,EACjB,uBAAA,EAAyB,QAAA;AAAA,EACzB,iBAAA,EAAmB,QAAA;AAAA,EACnB,iBAAA,EAAmB,QAAA;AAAA,EACnB,cAAA,EAAgB,QAAA;AAAA,EAChB,0BAAA,EAA4B,QAAA;AAAA,EAC5B,sBAAA,EAAwB,QAAA;AAAA,EACxB,kBAAA,EAAoB,QAAA;AAAA,EACpB,sBAAA,EAAwB,QAAA;AAAA,EACxB,sBAAA,EAAwB,QAAA;AAAA,EACxB,kBAAA,EAAoB,QAAA;AAAA,EACpB,kBAAA,EAAoB,QAAA;AAAA,EACpB,gCAAA,EAAkC,QAAA;AAAA,EAClC,0BAAA,EAA4B,QAAA;AAAA,EAC5B,oBAAA,EAAsB,QAAA;AAAA,EACtB,eAAA,EAAiB,QAAA;AAAA,EACjB,2BAAA,EAA6B,QAAA;AAAA,EAC7B,uBAAA,EAAyB,QAAA;AAAA,EACzB,mBAAA,EAAqB,QAAA;AAAA,EACrB,uBAAA,EAAyB,QAAA;AAAA,EACzB,uBAAA,EAAyB,QAAA;AAAA,EACzB,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,iCAAA,EAAmC,QAAA;AAAA,EACnC,2BAAA,EAA6B,QAAA;AAAA,EAC7B,qBAAA,EAAuB,QAAA;AAAA,EACvB,iBAAA,EAAmB,QAAA;AAAA,EACnB,6BAAA,EAA+B,QAAA;AAAA,EAC/B,yBAAA,EAA2B,QAAA;AAAA,EAC3B,qBAAA,EAAuB,QAAA;AAAA,EACvB,yBAAA,EAA2B,QAAA;AAAA,EAC3B,yBAAA,EAA2B,QAAA;AAAA,EAC3B,qBAAA,EAAuB,QAAA;AAAA,EACvB,qBAAA,EAAuB,QAAA;AAAA,EACvB,mCAAA,EAAqC,QAAA;AAAA,EACrC,uBAAA,EAAyB,QAAA;AAAA,EACzB,6BAAA,EAA+B,QAAA;AAAA,EAC/B,eAAA,EAAiB,QAAA;AAAA,EACjB,2BAAA,EAA6B,QAAA;AAAA,EAC7B,uBAAA,EAAyB,QAAA;AAAA,EACzB,mBAAA,EAAqB,QAAA;AAAA,EACrB,uBAAA,EAAyB,QAAA;AAAA,EACzB,uBAAA,EAAyB,QAAA;AAAA,EACzB,mBAAA,EAAqB,QAAA;AAAA,EACrB,mBAAA,EAAqB,QAAA;AAAA,EACrB,iCAAA,EAAmC,QAAA;AAAA,EACnC,qBAAA,EAAuB,QAAA;AAAA,EACvB,2BAAA,EAA6B,QAAA;AAAA,EAC7B,mBAAA,EAAqB,QAAA;AAAA,EACrB,mCAAA,EAAqC,QAAA;AAAA,EACrC,+BAAA,EAAiC,QAAA;AAAA,EACjC,+BAAA,EAAiC,QAAA;AAAA,EACjC,+BAAA,EAAiC,QAAA;AAAA,EACjC,+BAAA,EAAiC,QAAA;AAAA,EACjC,uBAAA,EAAyB,QAAA;AAAA,EACzB,uBAAA,EAAyB,QAAA;AAAA,EACzB,uBAAA,EAAyB,QAAA;AAAA,EACzB,uBAAA,EAAyB,QAAA;AAAA,EACzB,2BAAA,EAA6B,QAAA;AAAA,EAC7B,2BAAA,EAA6B,QAAA;AAAA,EAC7B,2BAAA,EAA6B,QAAA;AAAA,EAC7B,2BAAA,EAA6B,QAAA;AAAA,EAC7B,2BAAA,EAA6B,QAAA;AAAA,EAC7B,2BAAA,EAA6B,QAAA;AAAA,EAC7B,2CAAA,EAA6C,QAAA;AAAA,EAC7C,+BAAA,EAAiC,QAAA;AAAA,EACjC,+BAAA,EAAiC,QAAA;AAAA,EACjC,SAAA,EAAW,QAAA;AAAA,EACX,aAAA,EAAe,QAAA;AAAA,EACf,SAAA,EAAW;AACZ,CAAA;AAEA,IAAM,kBAAA,GAAqB;AAAA,EAC1B,IAAA,EAAM,QAAA;AAAA,EACN,IAAA,EAAM,QAAA;AAAA,EACN,OAAA,EAAS,QAAA;AAAA,EACT,KAAA,EAAO,QAAA;AAAA,EACP,WAAA,EAAa,QAAA;AAAA,EACb,iBAAA,EAAmB,QAAA;AAAA,EACnB,MAAA,EAAQ,QAAA;AAAA,EACR,YAAA,EAAc,QAAA;AAAA,EACd,YAAA,EAAc,QAAA;AAAA,EACd,YAAA,EAAc,QAAA;AAAA,EACd,YAAA,EAAc,QAAA;AAAA,EACd,WAAA,EAAa,QAAA;AAAA,EACb,UAAA,EAAY,QAAA;AAAA,EACZ,OAAA,EAAS,QAAA;AAAA,EACT,QAAA,EAAU,QAAA;AAAA,EACV,UAAA,EAAY,QAAA;AAAA,EACZ,WAAA,EAAa,QAAA;AAAA,EACb,gBAAA,EAAkB,QAAA;AAAA,EAClB,iBAAA,EAAmB,QAAA;AAAA,EACnB,OAAA,EAAS,QAAA;AAAA,EACT,iBAAA,EAAmB,QAAA;AAAA,EACnB,YAAA,EAAc,QAAA;AAAA,EACd,aAAA,EAAe,QAAA;AAAA,EACf,OAAA,EAAS,QAAA;AAAA,EACT,cAAA,EAAgB,QAAA;AAAA,EAChB,SAAA,EAAW,QAAA;AAAA,EACX,MAAA,EAAQ,QAAA;AAAA,EACR,QAAA,EAAU,QAAA;AAAA,EACV,IAAA,EAAM,QAAA;AAAA,EACN,IAAA,EAAM,QAAA;AAAA,EACN,MAAA,EAAQ,QAAA;AAAA,EACR,UAAA,EAAY,QAAA;AAAA,EACZ,QAAA,EAAU,QAAA;AAAA,EACV,QAAA,EAAU;AACX,CAAA;AAEA,IAAM,sBAAA,GAAyB;AAAA,EAC9B,IAAA,EAAM,QAAA;AAAA,EACN,IAAA,EAAM,GAAA;AAAA,EACN,OAAA,EAAS,QAAA;AAAA,EACT,KAAA,EAAO,MAAA;AAAA,EACP,WAAA,EAAa,QAAA;AAAA,EACb,iBAAA,EAAmB,QAAA;AAAA,EACnB,MAAA,EAAQ,KAAA;AAAA,EACR,YAAA,EAAc,KAAA;AAAA,EACd,YAAA,EAAc,KAAA;AAAA,EACd,YAAA,EAAc,KAAA;AAAA,EACd,YAAA,EAAc,UAAA;AAAA,EACd,WAAA,EAAa,QAAA;AAAA,EACb,UAAA,EAAY,UAAA;AAAA,EACZ,OAAA,EAAS,KAAA;AAAA,EACT,QAAA,EAAU,KAAA;AAAA,EACV,UAAA,EAAY,QAAA;AAAA,EACZ,WAAA,EAAa,KAAA;AAAA,EACb,gBAAA,EAAkB,QAAA;AAAA,EAClB,iBAAA,EAAmB,KAAA;AAAA,EACnB,OAAA,EAAS,GAAA;AAAA,EACT,iBAAA,EAAmB,QAAA;AAAA,EACnB,YAAA,EAAc,QAAA;AAAA,EACd,aAAA,EAAe,QAAA;AAAA,EACf,OAAA,EAAS,QAAA;AAAA,EACT,cAAA,EAAgB,QAAA;AAAA,EAChB,SAAA,EAAW,QAAA;AAAA,EACX,MAAA,EAAQ,QAAA;AAAA,EACR,QAAA,EAAU,oBAAA;AAAA,EACV,IAAA,EAAM,QAAA;AAAA,EACN,IAAA,EAAM,QAAA;AAAA,EACN,MAAA,EAAQ,QAAA;AAAA,EACR,UAAA,EAAY,KAAA;AAAA,EACZ,QAAA,EAAU,KAAA;AAAA,EACV,QAAA,EAAU;AACX,CAAA;AAEO,IAAM,WAAA,GAAc,EAAC,GAAG,MAAA,EAAQ,GAAG,kBAAA,EAAkB;AACrD,IAAM,eAAA,GAAkB,EAAC,GAAG,MAAA,EAAQ,GAAG,sBAAA,EAAsB;AAEpE,IAAM,gBAAgB,kBAAA,EAAmB;AACzC,IAAM,OAAA,GAAU,gBAAgB,WAAA,GAAc,eAAA;AAC9C,IAAO,eAAA,GAAQ,OAAA;;;AClRf,IAAM,cAAA,GAAyC;EAC9C,IAAA,EAAM,MAAA;EACN,OAAA,EAAS,OAAA;EACT,KAAA,EAAO,KAAA;EACP,OAAA,EAAS;;AAGV,IAAM,KAAA,GAAQ;EACb,MAAA,EAAQ;IACP,SAAA,EAAW,CAAC,EAAC,OAAA,EAAO,MAAiB;MACpC,QAAA,EAAU,CAAA;MACV,WAAA,EAAa,OAAA;AACb,MAAA,WAAA,EAAa,eAAe,OAAO,CAAA;MACnC,GAAA,EAAK,CAAA;MACL,QAAA,EAAU;;AAEX,IAAA,aAAA,EAAe,OAAiB;MAC/B,UAAA,EAAY;;IAEb,IAAA,EAAM,CAAC,EAAC,OAAA,EAAO,MAAkB;AAChC,MAAA,KAAA,EAAO,eAAe,OAAO;;AAE9B,IAAA,OAAA,EAAS,OAAiB;MACzB,UAAA,EAAY,CAAA;MACZ,QAAA,EAAU,CAAA;MACV,QAAA,EAAU,CAAA;MACV,aAAA,EAAe,QAAA;MACf,GAAA,EAAK;;AAEN,IAAA,KAAA,EAAO,OAAkB;MACxB,IAAA,EAAM;;AAEP,IAAA,OAAA,EAAS,OAAkB,EAAA;;EAE5B,MAAA,CAAO,EAAC,SAAO,EAAC;AACf,IAAA,IAAI,IAAA;AAEJ,IAAA,IAAI,YAAY,MAAA,EAAQ;AACvB,MAAA,IAAA,GAAO,eAAA,CAAQ,IAAA;AAChB,IAAA;AAEA,IAAA,IAAI,YAAY,SAAA,EAAW;AAC1B,MAAA,IAAA,GAAO,eAAA,CAAQ,IAAA;AAChB,IAAA;AAEA,IAAA,IAAI,YAAY,OAAA,EAAS;AACxB,MAAA,IAAA,GAAO,eAAA,CAAQ,KAAA;AAChB,IAAA;AAEA,IAAA,IAAI,YAAY,SAAA,EAAW;AAC1B,MAAA,IAAA,GAAO,eAAA,CAAQ,OAAA;AAChB,IAAA;AAEA,IAAA,OAAO,EAAC,IAAA,EAAI;AACb,EAAA;;AAGD,IAAA,aAAA,GAAe,KAAA;;;AC1Df,IAAMC,MAAAA,GAAQ;EACb,MAAA,EAAQ;IACP,SAAA,EAAW,CAAC,EAAC,KAAA,EAAK,MAA4C;MAC7D,eAAA,EAAiB;;AAElB,IAAA,KAAA,EAAO,OAAkB;MACxB,KAAA,EAAO;;;;AAKV,IAAAC,cAAAA,GAAeD,MAAAA;;;ACXf,IAAMA,MAAAA,GAAQ;EACb,MAAA,EAAQ;IACP,KAAA,EAAO,CAAC,EAAC,SAAA,EAAS,MAAkB;AACnC,MAAA,QAAA,EAAU,CAAC;;;;AAKd,IAAAC,cAAAA,GAAeD,MAAAA;;;ACRf,IAAMA,MAAAA,GAAQ;EACb,MAAA,EAAQ;AACP,IAAA,SAAA,EAAW,OAAiB;MAC3B,aAAA,EAAe;;IAEhB,MAAA,EAAQ,CAAC,EAAC,SAAA,EAAS,MAAiB;MACnC,GAAA,EAAK,CAAA;AACL,MAAA,WAAA,EAAa,YAAY,CAAA,GAAI;;AAE9B,IAAA,iBAAA,EAAmB,OAAkB;MACpC,KAAA,EAAO;;AAER,IAAA,cAAA,EAAgB,OAAkB;MACjC,KAAA,EAAO;;IAER,KAAA,CAAM,EAAC,SAAA,EAAW,UAAA,EAAU,EAAC;AAC5B,MAAA,IAAI,KAAA;AAEJ,MAAA,IAAI,UAAA,EAAY;AACf,QAAA,KAAA,GAAQ,OAAA;AACT,MAAA;AAEA,MAAA,IAAI,SAAA,EAAW;AACd,QAAA,KAAA,GAAQ,MAAA;AACT,MAAA;AAEA,MAAA,OAAO,EAAC,KAAA,EAAK;AACd,IAAA,CAAA;AACA,IAAA,eAAA,EAAiB,OAAkB;MAClC,IAAA,EAAM;;;;AAKT,IAAAC,cAAAA,GAAeD,MAAAA;;;AClCf,IAAMA,MAAAA,GAAQ;EACb,MAAA,EAAQ;AACP,IAAA,IAAA,EAAM,OAAiB;MACtB,aAAA,EAAe;;AAEhB,IAAA,QAAA,EAAU,OAAiB;MAC1B,GAAA,EAAK;;AAEN,IAAA,MAAA,EAAQ,OAAkB;MACzB,QAAA,EAAU;;AAEX,IAAA,OAAA,EAAS,OAAiB;MACzB,aAAA,EAAe;;;;AAKlB,IAAAC,cAAAA,GAAeD,MAAAA;;;AChBf,IAAMA,MAAAA,GAAQ;EACb,MAAA,EAAQ;AACP,IAAA,SAAA,EAAW,OAAiB;MAC3B,QAAA,EAAU,CAAA;MACV,QAAA,EAAU;;AAEX,IAAA,SAAA,EAAW,OAAkB;MAC5B,KAAA,EAAO;;AAER,IAAA,SAAA,EAAW,OAAkB;MAC5B,QAAA,EAAU;;;AAGZ,EAAA,MAAA,EAAQ,OAAO;;AAEd,IAAA,kBAAA,EAAoB,eAAA,CAAQ,MAAA;;AAG5B,IAAA,kBAAA,EAAoB,eAAA,CAAQ;;;AAI9B,IAAAC,cAAAA,GAAeD,MAAAA;;;ACvBf,IAAMA,MAAAA,GAAQ;EACb,MAAA,EAAQ;AACP,IAAA,SAAA,EAAW,OAAiB;MAC3B,aAAA,EAAe;;IAEhB,MAAA,EAAQ,CAAC,EAAC,SAAA,EAAS,MAAiB;MACnC,GAAA,EAAK,CAAA;AACL,MAAA,WAAA,EAAa,YAAY,CAAA,GAAI;;AAE9B,IAAA,iBAAA,EAAmB,OAAkB;MACpC,KAAA,EAAO;;AAER,IAAA,cAAA,EAAgB,OAAkB;MACjC,KAAA,EAAO;;IAER,KAAA,CAAM,EAAC,SAAA,EAAW,UAAA,EAAU,EAAC;AAC5B,MAAA,IAAI,KAAA;AAEJ,MAAA,IAAI,UAAA,EAAY;AACf,QAAA,KAAA,GAAQ,OAAA;AACT,MAAA;AAEA,MAAA,IAAI,SAAA,EAAW;AACd,QAAA,KAAA,GAAQ,MAAA;AACT,MAAA;AAEA,MAAA,OAAO,EAAC,KAAA,EAAK;AACd,IAAA,CAAA;AACA,IAAA,eAAA,EAAiB,OAAkB;MAClC,IAAA,EAAM;;;;AAKT,IAAAC,cAAAA,GAAeD,MAAAA;;;AClCf,IAAMA,MAAAA,GAAQ;EACb,MAAA,EAAQ;AACP,IAAA,SAAA,EAAW,OAAiB;MAC3B,GAAA,EAAK;;AAEN,IAAA,KAAA,EAAO,OAAkB;MACxB,KAAA,EAAO;;AAER,IAAA,KAAA,EAAO,OAAkB,EAAA;;;AAI3B,IAAAC,cAAAA,GAAeD,MAAAA;;;ACVf,IAAME,eAAAA,GAAiB;EACtB,OAAA,EAAS,OAAA;EACT,KAAA,EAAO,KAAA;EACP,OAAA,EAAS,QAAA;EACT,IAAA,EAAM;;AAGP,IAAM,aAAA,GAAgB;AACrB,EAAA,OAAA,EAAS,eAAA,CAAQ,IAAA;AACjB,EAAA,KAAA,EAAO,eAAA,CAAQ,KAAA;AACf,EAAA,OAAA,EAAS,eAAA,CAAQ,OAAA;AACjB,EAAA,IAAA,EAAM,eAAA,CAAQ;;AAGf,IAAMF,MAAAA,GAAQ;EACb,MAAA,EAAQ;AACP,IAAA,SAAA,EAAW,OAAiB;MAC3B,GAAA,EAAK;;AAEN,IAAA,aAAA,EAAe,OAAiB;MAC/B,UAAA,EAAY;;IAEb,IAAA,EAAM,CAAC,EAAC,OAAA,EAAO,MAAmD;AACjE,MAAA,KAAA,EAAOE,gBAAe,OAAO;;AAE9B,IAAA,OAAA,EAAS,OAAkB,EAAA;;EAE5B,MAAA,EAAQ,CAAC,EAAC,OAAA,EAAO,MAAwC;AACxD,IAAA,IAAA,EAAM,cAAc,OAAO;;;AAI7B,IAAAD,cAAAA,GAAeD,MAAAA;;;AC7Bf,IAAMA,OAAAA,GAAQ;EACb,MAAA,EAAQ;AACP,IAAA,IAAA,EAAM,OAAiB;MACtB,aAAA,EAAe;;AAEhB,IAAA,QAAA,EAAU,OAAiB;MAC1B,GAAA,EAAK;;AAEN,IAAA,MAAA,EAAQ,OAAkB;MACzB,QAAA,EAAU;;AAEX,IAAA,OAAA,EAAS,OAAiB;MACzB,aAAA,EAAe;;;AAGjB,EAAA,MAAA,EAAQ,OAAe;AACtB,IAAA,MAAA,EAAQ,eAAA,CAAQ;;;AAIlB,IAAAC,eAAAA,GAAeD,OAAAA;;;ACzBf,IAAMA,OAAAA,GAAQ;EACb,MAAA,EAAQ;AACP,IAAA,KAAA,EAAO,OAAkB,EAAA;;;AAI3B,IAAAC,eAAAA,GAAeD,OAAAA;;;ACNf,IAAMA,OAAAA,GAAQ;EACb,MAAA,EAAQ;AACP,IAAA,KAAA,EAAO,OAAkB,EAAA;;;AAI3B,IAAAC,eAAAA,GAAeD,OAAAA;;;ACNf,IAAMA,OAAAA,GAAQ;EACb,MAAA,EAAQ;AACP,IAAA,KAAA,EAAO,OAAkB,EAAA;;;AAI3B,IAAAC,eAAAA,GAAeD,OAAAA;;;AfkBR,IAAM,YAAA,GAAsB;EAClC,UAAA,EAAY;IACX,KAAA,EAAO,aAAA;IACP,KAAA,EAAOC,cAAAA;IACP,YAAA,EAAcA,cAAAA;IACd,WAAA,EAAaA,cAAAA;IACb,WAAA,EAAaA,cAAAA;IACb,WAAA,EAAaA,cAAAA;IACb,MAAA,EAAQA,cAAAA;IACR,OAAA,EAASA,cAAAA;IACT,aAAA,EAAeA,cAAAA;IACf,aAAA,EAAeA,eAAAA;IACf,SAAA,EAAWA,eAAAA;IACX,UAAA,EAAYA,eAAAA;IACZ,aAAA,EAAeA;;;AAIV,IAAM,YAAA,GAAe,cAAqB,YAAY,CAAA;AAiBtD,IAAM,iBAAA,GAAoB,CAChC,SAAA,KACU;AACV,EAAA,MAAMD,OAAAA,GAAQ,WAAW,YAAY,CAAA;AACrC,EAAA,OAAOA,OAAAA,CAAM,WAAW,SAAS,CAAA;AAClC,CAAA;;;AgBjEO,IAAM,gBAAgB,eAAA,CAAQ,IAAA;;;ACUpCG,aAAAA,CAA6C;EAC5C,MAAA,EAAQ;AACR,CAAA;ACJkCA,aAAAA,CAAyC;EAC5E,KAAA,EAAO;AACP,CAAA;ACGK,SAAU,WAAA,CAAY,EAAC,KAAA,EAAK,EAAmB;AACpD,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAIC,SAAS,CAAC,CAAA;AAGpC,EAAA,MAAM,CAAC,GAAA,EAAK,MAAM,CAAA,GAAIA,SAA4B,IAAI,CAAA;AAEtD,EAAA,IAAI,GAAA,EAAK;AACR,IAAA,MAAM,UAAA,GAAa,eAAe,GAAG,CAAA;AAErC,IAAA,IAAI,UAAA,CAAW,UAAU,KAAA,EAAO;AAC/B,MAAA,QAAA,CAAS,WAAW,KAAK,CAAA;AAC1B,IAAA;AACD,EAAA;AAEA,EAAA,MAAM,QAAA,GAAW,KAAK,GAAA,CAAI,GAAA,EAAK,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,CAAC,CAAA;AACjD,EAAA,MAAM,QAAA,GAAW,IAAA,CAAK,KAAA,CAAO,QAAA,GAAW,MAAO,KAAK,CAAA;AACpD,EAAA,MAAM,YAAY,KAAA,GAAQ,QAAA;AAE1B,EAAA,MAAM,EAAC,MAAA,EAAQ,MAAA,EAAA7E,OAAAA,EAAM,GAAI,kBAAyB,aAAa,CAAA;AAE/D,EAAA,OACC8E,OAAAA,CAAA,aAAA;AAACV,IAAAA,GAAAA;AAAG,IAAA,EAAC,GAAA,EAAK,MAAA,EAAM,GAAM,MAAA,CAAO,WAAS,EAAE;AACtC,IAAA,QAAA,GAAW,CAAA,IACXU,OAAAA,CAAA,aAAA,CAACR,IAAAA,EAAI,EAAA,GAAK,MAAA,CAAO,SAAA,EAAS,IACxBtE,OAAAA,EAAM,CAAG,kBAAA,CAAmB,MAAA,CAAO,QAAQ,CAAC,CAAA;AAI9C,IAAA,SAAA,GAAY,CAAA,IACZ8E,OAAAA,CAAA,aAAA,CAACR,IAAAA,EAAI,EAAA,GAAK,MAAA,CAAO,SAAA,EAAS,IACxBtE,OAAAA,EAAM,CAAG,kBAAA,CAAmB,MAAA,CAAO,SAAS,CAAC;AAE/C,GAAA;AAGJ;ACnBea,OAAAA,CAAM,OAAA,CAAQ,GAAG;ACnB/B+D,aAAAA,CAA2C;AAC1C,EAAA,MAAA,EAAQ,eAAA,CAAQ;AAChB,CAAA;ACJgCA,aAAAA,CAAuC;EACxE,MAAA,EAAQ;AACR,CAAA;ACqBc/D,OAAAA,CAAM,OAAA,CAAQ,GAAG;ACAjBA,OAAAA,CAAM,OAAA,CAAQ,GAAG;ACEzB,IAAMkE,eAA0C,CAAC;AAAA,EACtD,KAAA;AAAA,EACA,KAAA;AAAA,EACA,cAAA,GAAiB,IAAA;AAAA,EACjB,KAAA,GAAQ,MAAA;AAAA,EACR,KAAA,GAAQ;AACV,CAAA,KAAM;AAEJ,EAAA,MAAM,YAAA,GAAe,KAAK,GAAA,CAAI,CAAA,EAAG,KAAK,GAAA,CAAI,GAAA,EAAK,KAAK,CAAC,CAAA;AAErD,EAAA,uBACEZ,IAAAA,CAACC,GAAAA,EAAA,EAAI,eAAc,QAAA,EAChB,QAAA,EAAA;AAAA,IAAA,KAAA,oBACCC,GAAAA,CAACD,GAAAA,EAAA,EAAI,YAAA,EAAc,CAAA,EACjB,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAE,iBAAM,CAAA,EACpB,CAAA;AAAA,oBAEFH,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,sBAAAC,GAAAA,CAAC,WAAA,EAAA,EAAe,KAAA,EAAO,YAAA,EAAc,CAAA;AAAA,MACpC,cAAA,oBACCA,GAAAA,CAACD,GAAAA,EAAA,EAAI,UAAA,EAAY,CAAA,EACf,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,KAAA,EAAc,MAAI,IAAA,EACrB,QAAA,EAAA;AAAA,QAAA,YAAA,CAAa,QAAQ,CAAC,CAAA;AAAA,QAAE;AAAA,OAAA,EAC3B,CAAA,EACF;AAAA,KAAA,EAEJ;AAAA,GAAA,EACF,CAAA;AAEJ,CAAA;ACPO,IAAM,QAA8B,CAAC;AAAA,EAC1C,IAAA,GAAO,KAAA;AAAA,EACP,IAAA;AAAA,EACA,SAAA,GAAY,EAAA;AAAA,EACZ,QAAA,GAAW,CAAA;AAAA,EACX,QAAA,GAAW,KAAA;AAAA,EACX,UAAA,GAAa,IAAA;AAAA,EACb,KAAA;AAAA,EACA,YAAA,GAAe;AACjB,CAAA,KAAM;AACJ,EAAA,IAAI,IAAA,CAAK,WAAW,CAAA,EAAG;AACrB,IAAA,uBACED,GAAAA,CAACD,GAAAA,EAAA,EACC,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA,oBAAA,EAAkB,CAAA,EACnC,CAAA;AAAA,EAEJ;AAGA,EAAA,MAAM,QAAA,GAAW,IAAA,CAAK,GAAA,CAAI,GAAG,IAAA,CAAK,IAAI,CAAA,CAAA,KAAK,CAAA,CAAE,KAAK,CAAA,EAAG,CAAC,CAAA;AAGtD,EAAA,MAAM,IAAA,GAAO,IAAA,CAAK,GAAA,CAAI,CAAA,KAAA,KAAS;AAC7B,IAAA,MAAM,MAAA,GAAS,IAAA,CAAK,GAAA,CAAI,CAAA,EAAG,IAAA,CAAK,MAAO,KAAA,CAAM,KAAA,GAAQ,QAAA,GAAY,SAAS,CAAC,CAAA;AAC3E,IAAA,MAAM,KAAA,GAAQ,MAAM,KAAA,IAAS,YAAA;AAC7B,IAAA,OAAO,EAAE,GAAG,KAAA,EAAO,MAAA,EAAQ,KAAA,EAAM;AAAA,EACnC,CAAC,CAAA;AAED,EAAA,IAAI,SAAS,KAAA,EAAO;AAClB,IAAA,uBACEH,IAAAA,CAACC,GAAAA,EAAA,EAAI,eAAc,QAAA,EAChB,QAAA,EAAA;AAAA,MAAA,KAAA,oBACCC,GAAAA,CAACD,GAAAA,EAAA,EAAI,YAAA,EAAc,CAAA,EACjB,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAE,iBAAM,CAAA,EACpB,CAAA;AAAA,sBAIFH,IAAAA,CAACC,GAAAA,EAAA,EAAI,eAAc,QAAA,EAEhB,QAAA,EAAA;AAAA,QAAA,KAAA,CAAM,IAAA,CAAK,EAAE,MAAA,EAAQ,SAAA,EAAW,CAAA,CAAE,GAAA,CAAI,CAAC,CAAA,EAAG,QAAA,KAAa;AACtD,UAAA,MAAM,GAAA,GAAM,YAAY,QAAA,GAAW,CAAA;AACnC,UAAA,uBACED,IAAAA,CAACC,GAAAA,EAAA,EACE,QAAA,EAAA;AAAA,YAAA,QAAA,oBACCC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,GACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,UAAQ,IAAA,EAAE,QAAA,EAAA,GAAA,KAAQ,CAAA,GAAI,KAAA,GAAQ,OAAM,CAAA,EAC5C,CAAA;AAAA,YAED,KAAK,GAAA,CAAI,CAAC,GAAA,EAAK,QAAA,qBACdD,GAAAA,CAACD,GAAAA,EAAA,EAAmB,KAAA,EAAO,WAAW,CAAA,EACpC,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAO,GAAA,CAAI,MAAA,GAAS,GAAA,GAAM,IAAI,KAAA,GAAQ,MAAA,EACzC,QAAA,EAAA,GAAA,CAAI,MAAA,GAAS,MAAM,QAAA,CAAI,MAAA,CAAO,QAAQ,CAAA,GAAI,IAAI,MAAA,CAAO,QAAQ,CAAA,EAChE,CAAA,EAAA,EAHQ,QAIV,CACD;AAAA,WAAA,EAAA,EAZO,QAaV,CAAA;AAAA,QAEJ,CAAC,CAAA;AAAA,wBAGDH,IAAAA,CAACC,GAAAA,EAAA,EACE,QAAA,EAAA;AAAA,UAAA,QAAA,oBAAYC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,CAAA,EAAG,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,iBAAG,CAAA,EAAO,CAAA;AAAA,UACpD,IAAA,CAAK,GAAA,CAAI,CAAC,CAAA,EAAG,KAAA,qBACZH,IAAAA,CAACG,IAAAA,EAAA,EAAiB,QAAA,EAAQ,IAAA,EACvB,QAAA,EAAA;AAAA,YAAA,QAAA,CAAI,OAAO,QAAQ,CAAA;AAAA,YAAG;AAAA,WAAA,EAAA,EADd,KAEX,CACD;AAAA,SAAA,EACH,CAAA;AAAA,wBAGAH,IAAAA,CAACC,GAAAA,EAAA,EACE,QAAA,EAAA;AAAA,UAAA,QAAA,oBAAYC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,CAAA,EAAG,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAA,GAAA,EAAC,CAAA,EAAO,CAAA;AAAA,UACzC,IAAA,CAAK,GAAA,CAAI,CAAC,GAAA,EAAK,KAAA,qBACdD,GAAAA,CAACD,GAAAA,EAAA,EAAgB,KAAA,EAAO,QAAA,GAAW,CAAA,EACjC,0BAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAM,QAAA,EAAA,GAAA,CAAI,KAAA,CAAM,KAAA,CAAM,GAAG,QAAQ,CAAA,EAAE,CAAA,EAAA,EAD5B,KAEV,CACD;AAAA,SAAA,EACH,CAAA;AAAA,QAGC,8BACCH,IAAAA,CAACC,GAAAA,EAAA,EAAI,WAAW,CAAA,EACb,QAAA,EAAA;AAAA,UAAA,QAAA,oBAAYC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,CAAA,EAAG,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAA,GAAA,EAAC,CAAA,EAAO,CAAA;AAAA,UACzC,IAAA,CAAK,IAAI,CAAC,GAAA,EAAK,0BACdD,GAAAA,CAACD,GAAAA,EAAA,EAAgB,KAAA,EAAO,QAAA,GAAW,GACjC,QAAA,kBAAAC,GAAAA,CAACC,MAAA,EAAK,QAAA,EAAQ,MAAE,QAAA,EAAA,GAAA,CAAI,KAAA,EAAM,CAAA,EAAA,EADlB,KAEV,CACD;AAAA,SAAA,EACH;AAAA,OAAA,EAEJ;AAAA,KAAA,EACF,CAAA;AAAA,EAEJ;AAGA,EAAA,uBACEH,IAAAA,CAACC,GAAAA,EAAA,EAAI,eAAc,QAAA,EAChB,QAAA,EAAA;AAAA,IAAA,KAAA,oBACCC,GAAAA,CAACD,GAAAA,EAAA,EAAI,YAAA,EAAc,CAAA,EACjB,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAE,iBAAM,CAAA,EACpB,CAAA;AAAA,IAGD,IAAA,CAAK,GAAA,CAAI,CAAC,KAAA,EAAO,KAAA,KAAU;AAC1B,MAAA,MAAM,SAAA,GAAY,IAAA,CAAK,GAAA,CAAI,CAAA,EAAG,IAAA,CAAK,MAAO,KAAA,CAAM,KAAA,GAAQ,QAAA,GAAY,EAAE,CAAC,CAAA;AACvE,MAAA,uBACEH,IAAAA,CAACC,GAAAA,EAAA,EAAgB,cAAc,CAAA,EAC7B,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACD,KAAA,EAAI,KAAA,EAAO,IACV,QAAA,kBAAAD,IAAAA,CAACG,MAAA,EAAM,QAAA,EAAA;AAAA,UAAA,KAAA,CAAM,KAAA;AAAA,UAAM;AAAA,SAAA,EAAE,CAAA,EACvB,CAAA;AAAA,wBACAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAO,KAAA,CAAM,KAAA,IAAS,YAAA,EACzB,QAAA,EAAA,QAAA,CAAI,MAAA,CAAO,SAAS,CAAA,EACvB,CAAA;AAAA,QACC,UAAA,oBACCD,GAAAA,CAACD,GAAAA,EAAA,EAAI,UAAA,EAAY,CAAA,EACf,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,UAAA,GAAA;AAAA,UAAE,KAAA,CAAM,KAAA;AAAA,UAAM;AAAA,SAAA,EAAC,CAAA,EAChC;AAAA,OAAA,EAAA,EAVM,KAYV,CAAA;AAAA,IAEJ,CAAC;AAAA,GAAA,EACH,CAAA;AAEJ,CAAA;;;ACnKA,WAAA,EAAA;AACA,gBAAA,EAAA;AA8BO,IAAM,aAAwC,CAAC,EAAE,KAAA,EAAO,QAAA,GAAW,OAAM,KAAM;AACpF,EAAA,MAAM,EAAE,IAAA,EAAK,GAAI,MAAA,EAAO;AACxB,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAIO,SAAgB,SAAS,CAAA;AACnD,EAAA,MAAM,CAAC,QAAA,EAAU,WAAW,IAAIA,QAAAA,CAAmB,QAAA,GAAW,aAAa,UAAU,CAAA;AACrF,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAIA,SAAgC,IAAI,CAAA;AAC5D,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAIA,SAAiB,EAAE,CAAA;AAC7C,EAAA,MAAM,CAAC,aAAA,EAAe,gBAAgB,CAAA,GAAIA,SAAiB,CAAC,CAAA;AAC5D,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,IAAIA,QAAAA,CAAiB,IAAA,CAAK,KAAK,CAAA;AACjE,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAIA,SAAS,KAAK,CAAA;AAGlD,EAAAG,QAAAA,CAAS,CAAC,KAAA,EAAO,GAAA,KAAQ;AACvB,IAAA,IAAI,KAAA,KAAU,GAAA,IAAQ,GAAA,CAAI,IAAA,IAAQ,UAAU,GAAA,EAAM;AAChD,MAAA,IAAA,EAAK;AAAA,IACP,CAAA,MAAA,IAAW,UAAU,GAAA,EAAK;AAExB,MAAA,WAAA,EAAY;AAAA,IACd,CAAA,MAAA,IAAW,UAAU,GAAA,EAAK;AAExB,MAAA,WAAA,CAAY,QAAA,KAAa,UAAA,GAAa,UAAA,GAAa,UAAU,CAAA;AAAA,IAC/D;AAAA,EACF,CAAC,CAAA;AAED,EAAAC,UAAU,MAAM;AACd,IAAA,kBAAA,EAAmB;AAAA,EACrB,CAAA,EAAG,EAAE,CAAA;AAGL,EAAAA,UAAU,MAAM;AACd,IAAA,MAAM,QAAA,GAAW,YAAY,MAAM;AACjC,MAAA,WAAA,EAAY;AAAA,IACd,GAAG,GAAK,CAAA;AAER,IAAA,OAAO,MAAM,cAAc,QAAQ,CAAA;AAAA,EACrC,CAAA,EAAG,EAAE,CAAA;AAGL,EAAAA,UAAU,MAAM;AACd,IAAA,IAAI,IAAA,IAAQ,aAAA,GAAgB,IAAA,CAAK,UAAA,EAAY;AAC3C,MAAA,MAAM,SAAA,GAAY,IAAA,CAAK,IAAA,CAAK,IAAA,CAAK,aAAa,EAAE,CAAA;AAChD,MAAA,MAAM,KAAA,GAAQ,WAAW,MAAM;AAC7B,QAAA,gBAAA,CAAiB,KAAK,GAAA,CAAI,aAAA,GAAgB,SAAA,EAAW,IAAA,CAAK,UAAU,CAAC,CAAA;AAAA,MACvE,GAAG,EAAE,CAAA;AACL,MAAA,OAAO,MAAM,aAAa,KAAK,CAAA;AAAA,IACjC;AAAA,EACF,CAAA,EAAG,CAAC,aAAA,EAAe,IAAI,CAAC,CAAA;AAExB,EAAA,MAAM,qBAAqB,YAAY;AACrC,IAAA,IAAI;AACF,MAAA,gBAAA,CAAiB,CAAC,CAAA;AAClB,MAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAClD,MAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,MAAA,MAAM,SAAA,GAAYnF,QAAQ,KAAK,CAAA;AAC/B,MAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,MAAA,IAAI,CAAC,SAAA,EAAW;AACd,QAAA,QAAA,CAAS,iBAAiB,CAAA;AAC1B,QAAA,QAAA,CAAS,OAAO,CAAA;AAChB,QAAA;AAAA,MACF;AAGA,MAAA,MAAM,eAAA,GAAkB,MAAA,CAAO,SAAA,CAAU,eAAA,IAAmB,CAAC,CAAA;AAC7D,MAAA,MAAM,UAAA,GAAa,KAAK,GAAA,CAAI,GAAA,EAAM,KAAK,KAAA,CAAM,eAAA,GAAkB,GAAG,CAAC,CAAA;AACnE,MAAA,MAAM,SAAA,GAAY,MAAA,CAAO,SAAA,CAAU,kBAAA,IAAsB,CAAC,CAAA;AAC1D,MAAA,MAAM,eAAA,GAAkB,MAAA,CAAO,SAAA,CAAU,eAAA,IAAmB,CAAC,CAAA;AAC7D,MAAA,MAAM,eAAe,SAAA,GAAY,eAAA;AACjC,MAAA,MAAM,WAAA,GAAc,eAAe,CAAA,GAAI,IAAA,CAAK,MAAO,SAAA,GAAY,YAAA,GAAgB,GAAG,CAAA,GAAI,CAAA;AAGtF,MAAA,MAAM,IAAA,GACJ,UAAA,IAAc,GAAA,GAAM,UAAA,GACpB,UAAA,IAAc,GAAA,GAAM,MAAA,GACpB,UAAA,IAAc,GAAA,GAAM,QAAA,GACpB,UAAA,IAAc,GAAA,GAAM,QAAA,GAAW,UAAA;AAEjC,MAAA,MAAM,SAAA,GACJ,IAAA,KAAS,UAAA,GAAa,MAAA,GACtB,IAAA,KAAS,MAAA,GAAS,QAAA,GAClB,IAAA,KAAS,QAAA,GAAW,OAAA,GACpB,IAAA,KAAS,QAAA,GAAW,KAAA,GAAQ,MAAA;AAG9B,MAAA,MAAM,gBAAA,GAAmB,IAAA,CAAK,KAAA,CAAM,WAAA,GAAc,GAAG,CAAA;AACrD,MAAA,MAAM,cAAA,GAAiB,KAAK,GAAA,CAAI,GAAA,EAAK,KAAK,KAAA,CAAO,UAAA,GAAa,EAAA,GAAM,GAAG,CAAC,CAAA;AACxE,MAAA,MAAM,gBAAA,GAAmB,IAAA,CAAK,KAAA,CAAM,cAAA,GAAiB,GAAG,CAAA;AACxD,MAAA,MAAM,YAAA,GAAe,EAAA;AACrB,MAAA,MAAM,iBAAA,GAAoB,IAAA,CAAK,KAAA,CAAM,YAAA,GAAe,GAAG,CAAA;AACvD,MAAA,MAAM,iBAAA,GAAoB,KAAK,GAAA,CAAI,GAAA,EAAK,KAAK,KAAA,CAAO,SAAA,GAAY,GAAA,GAAO,GAAG,CAAC,CAAA;AAC3E,MAAA,MAAM,eAAA,GAAkB,IAAA,CAAK,KAAA,CAAM,iBAAA,GAAoB,GAAG,CAAA;AAE1D,MAAA,MAAM,SAAA,GAAY;AAAA,QAChB,aAAa,EAAE,KAAA,EAAO,aAAa,MAAA,EAAQ,EAAA,EAAI,cAAc,gBAAA,EAAiB;AAAA,QAC9E,gBAAgB,EAAE,KAAA,EAAO,gBAAgB,MAAA,EAAQ,EAAA,EAAI,cAAc,gBAAA,EAAiB;AAAA,QACpF,cAAc,EAAE,KAAA,EAAO,cAAc,MAAA,EAAQ,EAAA,EAAI,cAAc,iBAAA,EAAkB;AAAA,QACjF,mBAAmB,EAAE,KAAA,EAAO,mBAAmB,MAAA,EAAQ,EAAA,EAAI,cAAc,eAAA;AAAgB,OAC3F;AAEA,MAAA,OAAA,CAAQ;AAAA,QACN,OAAA,EAAS,SAAA;AAAA,QACT,SAAA,EAAW,UAAU,IAAA,IAAQ,OAAA;AAAA,QAC7B,UAAA;AAAA,QACA,IAAA;AAAA,QACA,SAAA;AAAA,QACA,eAAA;AAAA,QACA,SAAA;AAAA,QACA,eAAA;AAAA,QACA,WAAA;AAAA,QACA;AAAA,OACD,CAAA;AAED,MAAA,QAAA,CAAS,QAAQ,CAAA;AACjB,MAAA,cAAA,CAAe,IAAA,CAAK,KAAK,CAAA;AAAA,IAC3B,SAAS,GAAA,EAAU;AACjB,MAAA,QAAA,CAAS,GAAA,CAAI,WAAW,eAAe,CAAA;AACvC,MAAA,QAAA,CAAS,OAAO,CAAA;AAAA,IAClB;AAAA,EACF,CAAA;AAEA,EAAA,MAAM,cAAc,YAAY;AAC9B,IAAA,aAAA,CAAc,IAAI,CAAA;AAClB,IAAA,MAAM,kBAAA,EAAmB;AACzB,IAAA,aAAA,CAAc,KAAK,CAAA;AAAA,EACrB,CAAA;AAEA,EAAA,MAAMoF,gBAAAA,GAAkB,CAAC,IAAA,KAA6B;AACpD,IAAA,QAAQ,IAAA;AAAM,MACZ,KAAK,UAAA;AACH,QAAA,OAAO;AAAA,UACL,qBAAA;AAAA,UACA,mBAAA;AAAA,UACA,yBAAA;AAAA,UACA;AAAA,SACF;AAAA,MACF,KAAK,MAAA;AACH,QAAA,OAAO,CAAC,oBAAA,EAAsB,mBAAA,EAAqB,qBAAA,EAAuB,gBAAgB,CAAA;AAAA,MAC5F,KAAK,QAAA;AACH,QAAA,OAAO,CAAC,mBAAA,EAAqB,oBAAA,EAAsB,kBAAA,EAAoB,gBAAgB,CAAA;AAAA,MACzF,KAAK,QAAA;AACH,QAAA,OAAO,CAAC,iBAAA,EAAmB,oBAAA,EAAsB,kBAAA,EAAoB,cAAc,CAAA;AAAA,MACrF;AACE,QAAA,OAAO,CAAC,iBAAA,EAAmB,oBAAA,EAAsB,qBAAA,EAAuB,gBAAgB,CAAA;AAAA;AAC5F,EACF,CAAA;AAEA,EAAA,MAAM,WAAA,GAAc,CAAC,UAAA,EAAoB,IAAA,KAAiF;AACxH,IAAA,IAAI,IAAA,KAAS,YAAY,OAAO,IAAA;AAEhC,IAAA,MAAM,UAAA,GAAa,EAAE,QAAA,EAAU,GAAA,EAAK,QAAQ,GAAA,EAAK,MAAA,EAAQ,GAAA,EAAK,IAAA,EAAM,GAAA,EAAI;AACxE,IAAA,MAAM,OAAA,GAAU,IAAA,KAAS,UAAA,GAAa,CAAA,GAAI,WAAW,IAAI,CAAA;AACzD,IAAA,MAAM,IAAA,GACJ,SAAS,UAAA,GAAa,GAAA,GACtB,SAAS,QAAA,GAAW,GAAA,GACpB,IAAA,KAAS,QAAA,GAAW,GAAA,GAAM,GAAA;AAE5B,IAAA,MAAM,YAAA,GACJ,SAAS,UAAA,GAAa,QAAA,GACtB,SAAS,QAAA,GAAW,QAAA,GACpB,IAAA,KAAS,QAAA,GAAW,MAAA,GAAS,UAAA;AAE/B,IAAA,MAAM,WAAW,IAAA,CAAK,KAAA,CAAA,CAAQ,aAAa,OAAA,KAAY,IAAA,GAAO,WAAY,GAAG,CAAA;AAE7E,IAAA,OAAO,EAAE,IAAA,EAAM,YAAA,EAAc,SAAA,EAAW,MAAM,QAAA,EAAU,IAAA,CAAK,GAAA,CAAI,GAAA,EAAK,IAAA,CAAK,GAAA,CAAI,CAAA,EAAG,QAAQ,CAAC,CAAA,EAAE;AAAA,EAC/F,CAAA;AAEA,EAAA,MAAM,gBAAgB,MAAc;AAClC,IAAA,OAAO,KAAK,KAAA,CAAA,CAAO,IAAA,CAAK,GAAA,EAAI,GAAI,eAAe,GAAI,CAAA;AAAA,EACrD,CAAA;AAEA,EAAA,MAAM,cAAc,MAAM;AACxB,IAAA,QAAQ,KAAA;AAAO,MACb,KAAK,SAAA;AACH,QAAA,uBACEb,GAAAA,CAACD,GAAAA,EAAA,EAAI,eAAc,QAAA,EAAS,GAAA,EAAK,CAAA,EAC/B,QAAA,kBAAAC,IAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,SAAA,EAAU,KAAA,EAAM,0CAAyC,CAAA,EAC1E,CAAA;AAAA,MAGJ,KAAK,OAAA;AACH,QAAA,uBACEF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,KAAK,CAAA,EAC/B,QAAA,EAAA;AAAA,0BAAAC,GAAAA;AAAA,YAAC,KAAA;AAAA,YAAA;AAAA,cACC,IAAA,EAAK,OAAA;AAAA,cACL,KAAA,EAAM,2BAAA;AAAA,cACN,OAAA,EAAS,KAAA;AAAA,cACT,UAAA,EAAU;AAAA;AAAA,WACZ;AAAA,0BACAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,YAAA,QAAA;AAAA,4BACPD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,YAAO,cAAA;AAAA,YAAa,GAAA;AAAA,4BAChDD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,YAAO;AAAA,WAAA,EAC/B,CAAA,EACF;AAAA,SAAA,EACF,CAAA;AAAA,MAGJ,KAAK,QAAA;AACH,QAAA,IAAI,CAAC,MAAM,OAAO,IAAA;AAElB,QAAA,MAAM,QAAA,GAAW,WAAA,CAAY,IAAA,CAAK,UAAA,EAAY,KAAK,IAAI,CAAA;AAEvD,QAAA,uBACEH,IAAAA,CAACC,GAAAA,EAAA,EAAI,eAAc,QAAA,EAEjB,QAAA,EAAA;AAAA,0BAAAC,GAAAA,CAAC,QAAK,WAAA,EAAY,MAAA,EAChB,0BAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,4BAAAD,IAAAA,CAACC,KAAA,EACC,QAAA,EAAA;AAAA,8BAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,SAAA,EAAO,CAAA;AAAA,8BACtBD,IAACC,IAAAA,EAAA,EAAK,OAAM,aAAA,EAAc,IAAA,EAAI,IAAA,EAAE,QAAA,EAAA,IAAA,CAAK,SAAA,EAAU;AAAA,aAAA,EACjD,CAAA;AAAA,4BACAH,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,8BAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,WAAA,EAAS,CAAA;AAAA,8BACxBH,IAAAA,CAACG,IAAAA,EAAA,EAAM,QAAA,EAAA;AAAA,gBAAA,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAS,CAAE,KAAA,CAAM,GAAG,EAAE,CAAA;AAAA,gBAAE,KAAA;AAAA,gBAAI,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAS,CAAE,MAAM,EAAE;AAAA,eAAA,EAAE;AAAA,aAAA,EACpF,CAAA;AAAA,4BACAH,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,8BAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,WAAA,EAAS,CAAA;AAAA,8BACxBH,IAAAA,CAACG,IAAAA,EAAA,EAAM,QAAA,EAAA;AAAA,gBAAA,aAAA,EAAc;AAAA,gBAAE;AAAA,eAAA,EAAK,CAAA;AAAA,cAC3B,UAAA,oBACCD,GAAAA,CAACD,GAAAA,EAAA,EAAI,UAAA,EAAY,CAAA,EACf,QAAA,kBAAAC,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,SAAA,EAAU,KAAA,EAAM,IAAG,CAAA,EACpC;AAAA,aAAA,EAEJ;AAAA,WAAA,EACF,CAAA,EACF,CAAA;AAAA,0BAGAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,0BAAAC,GAAAA,CAAC,IAAA,EAAA,EAAK,aAAa,IAAA,CAAK,SAAA,EACtB,0BAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,YAAW,QAAA,EACrC,QAAA,EAAA;AAAA,4BAAAC,IAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,OAAM,aAAA,EACf,QAAA,kBAAAD,GAAAA,CAACc,OAAAA,EAAA,EAAQ,IAAA,EAAM,aAAA,CAAc,UAAS,EAAG,IAAA,EAAK,QAAO,CAAA,EACvD,CAAA;AAAA,4BACAd,GAAAA,CAACD,GAAAA,EAAA,EAAI,WAAW,EAAA,EAAI,YAAA,EAAc,CAAA,EAChC,QAAA,kBAAAC,IAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,yBAAW,CAAA,EAC5B,CAAA;AAAA,4BACAD,IAAC,KAAA,EAAA,EAAM,OAAA,EAAQ,QAAO,IAAA,EAAM,IAAA,CAAK,IAAA,EAAM,IAAA,EAAI,IAAA,EAAC;AAAA,WAAA,EAC9C,GACF,CAAA,EACF,CAAA;AAAA,UAGC,4BACCA,GAAAA,CAACD,GAAAA,EAAA,EAAI,WAAW,CAAA,EACd,QAAA,kBAAAC,GAAAA,CAAC,IAAA,EAAA,EAAK,OAAO,CAAA,YAAA,EAAe,QAAA,CAAS,IAAI,CAAA,CAAA,EAAI,WAAA,EAAY,UACvD,QAAA,kBAAAA,GAAAA;AAAA,YAACU,YAAAA;AAAA,YAAA;AAAA,cACC,OAAO,QAAA,CAAS,QAAA;AAAA,cAChB,KAAA,EAAM,QAAA;AAAA,cACN,cAAA,EAAc;AAAA;AAAA,aAElB,CAAA,EACF,CAAA;AAAA,UAID,QAAA,KAAa,8BACZZ,IAAAA,CAACC,KAAA,EAAI,aAAA,EAAc,QAAA,EAAS,SAAA,EAAW,CAAA,EACrC,QAAA,EAAA;AAAA,4BAAAC,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,aAAA,EAAc,WAAA,EAAY,MAAA,EACpC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,8BAAAC,GAAAA;AAAA,gBAAC,OAAA;AAAA,gBAAA;AAAA,kBACC,KAAA,EAAM,kBAAA;AAAA,kBACN,KAAA,EAAO,CAAA,EAAG,IAAA,CAAK,eAAA,CAAgB,gBAAgB,CAAA,IAAA;AAAA;AAAA,eACjD;AAAA,8BACAA,GAAAA;AAAA,gBAAC,OAAA;AAAA,gBAAA;AAAA,kBACC,KAAA,EAAM,gBAAA;AAAA,kBACN,KAAA,EAAO,IAAA,CAAK,SAAA,CAAU,cAAA,EAAe;AAAA,kBACrC,KAAA,EAAM;AAAA;AAAA,eACR;AAAA,8BACAA,GAAAA;AAAA,gBAAC,OAAA;AAAA,gBAAA;AAAA,kBACC,KAAA,EAAM,aAAA;AAAA,kBACN,KAAA,EAAO,IAAA,CAAK,eAAA,CAAgB,cAAA,EAAe;AAAA,kBAC3C,KAAA,EAAM;AAAA;AAAA,eACR;AAAA,8BACAA,GAAAA;AAAA,gBAAC,OAAA;AAAA,gBAAA;AAAA,kBACC,KAAA,EAAM,cAAA;AAAA,kBACN,KAAA,EAAO,CAAA,EAAG,IAAA,CAAK,WAAW,CAAA,CAAA,CAAA;AAAA,kBAC1B,KAAA,EAAO,IAAA,CAAK,WAAA,IAAe,EAAA,GAAK,OAAA,GAAU;AAAA;AAAA;AAC5C,aAAA,EACF,CAAA,EACF,CAAA;AAAA,4BAEAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,cAAA,QAAA;AAAA,8BACPD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,cAAO;AAAA,aAAA,EACrC,CAAA,EACF;AAAA,WAAA,EACF,CAAA;AAAA,UAID,QAAA,KAAa,8BACZH,IAAAA,CAACC,KAAA,EAAI,aAAA,EAAc,QAAA,EAAS,SAAA,EAAW,CAAA,EAErC,QAAA,EAAA;AAAA,4BAAAC,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,iBAAA,EAAkB,WAAA,EAAY,SAAA,EACxC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,8BAAAC,GAAAA;AAAA,gBAAC,KAAA;AAAA,gBAAA;AAAA,kBACC,IAAA,EAAK,KAAA;AAAA,kBACL,IAAA,EAAM;AAAA,oBACJ;AAAA,sBACE,KAAA,EAAO,MAAA;AAAA,sBACP,KAAA,EAAO,IAAA,CAAK,SAAA,CAAU,WAAA,CAAY,YAAA;AAAA,sBAClC,KAAA,EAAO;AAAA,qBACT;AAAA,oBACA;AAAA,sBACE,KAAA,EAAO,MAAA;AAAA,sBACP,KAAA,EAAO,IAAA,CAAK,SAAA,CAAU,cAAA,CAAe,YAAA;AAAA,sBACrC,KAAA,EAAO;AAAA,qBACT;AAAA,oBACA;AAAA,sBACE,KAAA,EAAO,MAAA;AAAA,sBACP,KAAA,EAAO,IAAA,CAAK,SAAA,CAAU,YAAA,CAAa,YAAA;AAAA,sBACnC,KAAA,EAAO;AAAA,qBACT;AAAA,oBACA;AAAA,sBACE,KAAA,EAAO,KAAA;AAAA,sBACP,KAAA,EAAO,IAAA,CAAK,SAAA,CAAU,iBAAA,CAAkB,YAAA;AAAA,sBACxC,KAAA,EAAO;AAAA;AACT,mBACF;AAAA,kBACA,SAAA,EAAW,CAAA;AAAA,kBACX,QAAA,EAAU,CAAA;AAAA,kBACV,UAAA,EAAU,IAAA;AAAA,kBACV,YAAA,EAAa;AAAA;AAAA,eACf;AAAA,8BACAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EAAG,eAAc,QAAA,EAC/B,QAAA,EAAA;AAAA,gCAAAD,IAAAA,CAACC,KAAA,EACC,QAAA,EAAA;AAAA,kCAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,oBAAA,gBAAA;AAAA,oBAAe,IAAA,CAAK,UAAU,WAAA,CAAY,MAAA;AAAA,oBAAO;AAAA,mBAAA,EAAI,CAAA;AAAA,kCACpEH,IAAAA,CAACG,IAAAA,EAAA,EAAM,QAAA,EAAA;AAAA,oBAAA,IAAA,CAAK,UAAU,WAAA,CAAY,KAAA;AAAA,oBAAM,WAAA;AAAA,oBAAK,IAAA,CAAK,UAAU,WAAA,CAAY,YAAA;AAAA,oBAAa;AAAA,mBAAA,EAAG;AAAA,iBAAA,EAC1F,CAAA;AAAA,gCACAH,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,kCAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,oBAAA,mBAAA;AAAA,oBAAkB,IAAA,CAAK,UAAU,cAAA,CAAe,MAAA;AAAA,oBAAO;AAAA,mBAAA,EAAI,CAAA;AAAA,kCAC1EH,IAAAA,CAACG,IAAAA,EAAA,EAAM,QAAA,EAAA;AAAA,oBAAA,IAAA,CAAK,UAAU,cAAA,CAAe,KAAA;AAAA,oBAAM,WAAA;AAAA,oBAAK,IAAA,CAAK,UAAU,cAAA,CAAe,YAAA;AAAA,oBAAa;AAAA,mBAAA,EAAG;AAAA,iBAAA,EAChG,CAAA;AAAA,gCACAH,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,kCAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,oBAAA,iBAAA;AAAA,oBAAgB,IAAA,CAAK,UAAU,YAAA,CAAa,MAAA;AAAA,oBAAO;AAAA,mBAAA,EAAI,CAAA;AAAA,kCACtEH,IAAAA,CAACG,IAAAA,EAAA,EAAM,QAAA,EAAA;AAAA,oBAAA,IAAA,CAAK,UAAU,YAAA,CAAa,KAAA;AAAA,oBAAM,WAAA;AAAA,oBAAK,IAAA,CAAK,UAAU,YAAA,CAAa,YAAA;AAAA,oBAAa;AAAA,mBAAA,EAAG;AAAA,iBAAA,EAC5F,CAAA;AAAA,gCACAH,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,kCAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,oBAAA,UAAA;AAAA,oBAAS,IAAA,CAAK,UAAU,iBAAA,CAAkB,MAAA;AAAA,oBAAO;AAAA,mBAAA,EAAI,CAAA;AAAA,kCACpEH,IAAAA,CAACG,IAAAA,EAAA,EAAM,QAAA,EAAA;AAAA,oBAAA,IAAA,CAAK,UAAU,iBAAA,CAAkB,KAAA;AAAA,oBAAM,WAAA;AAAA,oBAAK,IAAA,CAAK,UAAU,iBAAA,CAAkB,YAAA;AAAA,oBAAa;AAAA,mBAAA,EAAG;AAAA,iBAAA,EACtG;AAAA,eAAA,EACF;AAAA,aAAA,EACF,CAAA,EACF,CAAA;AAAA,4BAGAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,0BAAAC,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,gBAAA,EAAiB,aAAY,MAAA,EACvC,QAAA,kBAAAF,KAACC,GAAAA,EAAA,EAAI,eAAc,QAAA,EACjB,QAAA,EAAA;AAAA,8BAAAC,GAAAA;AAAA,gBAAC,OAAA;AAAA,gBAAA;AAAA,kBACC,KAAA,EAAM,WAAA;AAAA,kBACN,KAAA,EAAO,IAAA,CAAK,SAAA,CAAU,cAAA,EAAe;AAAA,kBACrC,KAAA,EAAM;AAAA;AAAA,eACR;AAAA,8BACAA,GAAAA;AAAA,gBAAC,OAAA;AAAA,gBAAA;AAAA,kBACC,KAAA,EAAM,QAAA;AAAA,kBACN,KAAA,EAAO,IAAA,CAAK,eAAA,CAAgB,cAAA,EAAe;AAAA,kBAC3C,KAAA,EAAM;AAAA;AAAA,eACR;AAAA,8BACAA,GAAAA;AAAA,gBAAC,OAAA;AAAA,gBAAA;AAAA,kBACC,KAAA,EAAM,cAAA;AAAA,kBACN,KAAA,EAAO,CAAA,EAAG,IAAA,CAAK,WAAW,CAAA,CAAA,CAAA;AAAA,kBAC1B,KAAA,EAAO,IAAA,CAAK,WAAA,IAAe,EAAA,GAAK,OAAA,GAAU;AAAA;AAAA,eAC5C;AAAA,8BACAA,GAAAA;AAAA,gBAAC,OAAA;AAAA,gBAAA;AAAA,kBACC,KAAA,EAAM,gBAAA;AAAA,kBACN,KAAA,EAAM,SAAA;AAAA,kBACN,KAAA,EAAM;AAAA;AAAA;AACR,aAAA,EACF,GACF,CAAA,EACF,CAAA;AAAA,4BAGAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,GACd,QAAA,kBAAAC,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAO,GAAG,IAAA,CAAK,IAAA,CAAK,WAAA,EAAa,kBAAkB,WAAA,EAAa,IAAA,CAAK,SAAA,EACzE,QAAA,kBAAAA,IAACD,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAChB,UAAAc,gBAAAA,CAAgB,IAAA,CAAK,IAAI,CAAA,CAAE,IAAI,CAAC,OAAA,EAAS,wBACxCf,IAAAA,CAACC,KAAA,EACC,QAAA,EAAA;AAAA,8BAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,SAAQ,QAAA,EAAA,SAAA,EAAE,CAAA;AAAA,8BACtBD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAE,QAAA,EAAA,OAAA,EAAQ;AAAA,aAAA,EAAA,EAFhB,GAGV,CACD,CAAA,EACH,CAAA,EACF,CAAA,EACF,CAAA;AAAA,4BAEAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,cAAA,QAAA;AAAA,8BACPD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,cAAO;AAAA,aAAA,EACrC,CAAA,EACF;AAAA,WAAA,EACF,CAAA;AAAA,0BAIFH,IAAAA,CAACC,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EAAG,eAAc,QAAA,EAC/B,QAAA,EAAA;AAAA,4BAAAC,GAAAA,CAACC,MAAA,EAAK,QAAA,EAAQ,MAAE,QAAA,EAAA,QAAA,CAAI,MAAA,CAAO,EAAE,CAAA,EAAE,CAAA;AAAA,4BAC/BH,IAAAA,CAACC,GAAAA,EAAA,EAAI,WAAW,CAAA,EACd,QAAA,EAAA;AAAA,8BAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EACZ,QAAA,EAAA;AAAA,gCAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,gBAAO;AAAA,eAAA,EAC/B,CAAA;AAAA,8BACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,UAAA,EAAY,CAAA,EACf,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EACZ,QAAA,EAAA;AAAA,gCAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,gBAAO;AAAA,eAAA,EAC/B,CAAA,EACF,CAAA;AAAA,8BACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,UAAA,EAAY,CAAA,EACf,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EACZ,QAAA,EAAA;AAAA,gCAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,gBAAO;AAAA,eAAA,EAC/B,CAAA,EACF;AAAA,aAAA,EACF;AAAA,WAAA,EACF;AAAA,SAAA,EACF,CAAA;AAAA;AAEN,EACF,CAAA;AAEA,EAAA,uBACED,GAAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,OAAO,CAAA,kCAAA,EAA8B,KAAA,CAAM,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,GAAA,CAAA;AAAA,MACtD,UAAA,EAAY,KAAA;AAAA,MAEX,QAAA,EAAA,WAAA;AAAY;AAAA,GACf;AAEJ,CAAA;AC7cA,kBAAA,EAAA;AAGA,gBAAA,EAAA;AAKA,IAAMe,gBAAAA,GAAkB;AAAA,EACtB,CAAA,EAAG,GAAA;AAAA;AAAA,EACH,CAAA,EAAG,GAAA;AAAA;AAAA,EACH,CAAA,EAAG,GAAA;AAAA;AAAA,EACH,CAAA,EAAG,IAAA;AAAA;AAAA,EACH,CAAA,EAAG;AAAA;AACL,CAAA;AAEA,IAAM,QAAA,GAAW;AAAA,EACf,CAAA,EAAG,EAAA;AAAA;AAAA,EACH,CAAA,EAAG,EAAA;AAAA;AAAA,EACH,CAAA,EAAG,EAAA;AAAA;AAAA,EACH,CAAA,EAAG,EAAA;AAAA;AAAA,EACH,CAAA,EAAG;AAAA;AACL,CAAA;AAEA,IAAM,UAAA,GAAa;AAAA,EACjB,CAAA,EAAG,CAAA;AAAA;AAAA,EACH,CAAA,EAAG,EAAA;AAAA;AAAA,EACH,CAAA,EAAG,EAAA;AAAA;AAAA,EACH,CAAA,EAAG,EAAA;AAAA;AAAA,EACH,CAAA,EAAG;AAAA;AACL,CAAA;AAmBO,IAAM,UAAkC,CAAC,EAAE,KAAA,EAAO,WAAA,GAAc,MAAK,KAAM;AAChF,EAAA,MAAM,EAAE,IAAA,EAAK,GAAIC,MAAAA,EAAO;AACxB,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAIR,SAAuB,SAAS,CAAA;AAC1D,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAIA,QAAAA,CAAsB;AAAA,IAC1D,WAAA,EAAa,CAAA;AAAA,IACb,WAAA,EAAa,CAAA;AAAA,IACb,cAAA,EAAgB,CAAA;AAAA,IAChB,eAAA,EAAiB,CAAA;AAAA,IACjB,UAAA,EAAY,KAAK,GAAA,EAAI;AAAA,IACrB,QAAA,EAAU,KAAA;AAAA,IACV,UAAA,EAAY;AAAA,GACb,CAAA;AACD,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAIA,SAAiB,EAAE,CAAA;AAC7C,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,IAAIA,QAAAA,iBAAe,IAAI,MAAM,CAAA;AAC7D,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAIA,SAAS,KAAK,CAAA;AACpD,EAAA,MAAM,CAAC,SAAA,EAAW,YAAY,CAAA,GAAIA,SAAiB,eAAe,CAAA;AAClE,EAAA,MAAM,CAAC,cAAA,EAAgB,iBAAiB,CAAA,GAAIA,SAAiB,GAAI,CAAA;AAGjE,EAAAG,QAAAA,CAAS,CAAC,KAAA,EAAO,GAAA,KAAQ;AACvB,IAAA,IAAI,UAAU,GAAA,IAAQ,GAAA,CAAI,QAAQ,KAAA,KAAU,GAAA,IAAQ,IAAI,MAAA,EAAQ;AAC9D,MAAA,IAAA,EAAK;AAAA,IACP;AAEA,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,IAAI,UAAU,GAAA,EAAK;AACjB,QAAA,WAAA,EAAY;AAAA,MACd,CAAA,MAAA,IAAW,KAAA,KAAU,GAAA,IAAO,WAAA,CAAY,QAAA,EAAU;AAChD,QAAA,YAAA,EAAa;AAAA,MACf,CAAA,MAAA,IAAW,UAAU,GAAA,EAAK;AACxB,QAAA,QAAA,CAAS,UAAU,CAAA;AAAA,MACrB,CAAA,MAAA,IAAW,KAAA,KAAU,GAAA,IAAO,WAAA,CAAY,cAAc,CAAA,EAAG;AACvD,QAAA,QAAA,CAAS,cAAc,CAAA;AAAA,MACzB,CAAA,MAAA,IAAW,KAAA,KAAU,GAAA,IAAO,KAAA,KAAU,GAAA,EAAK;AACzC,QAAA,cAAA,CAAe,CAAC,WAAW,CAAA;AAAA,MAC7B;AAAA,IACF;AAEA,IAAA,IAAI,KAAA,KAAU,UAAA,IAAc,KAAA,KAAU,cAAA,EAAgB;AACpD,MAAA,IAAI,UAAU,GAAA,EAAK;AACjB,QAAA,QAAA,CAAS,OAAO,CAAA;AAAA,MAClB;AAAA,IACF;AAGA,IAAA,IAAI,UAAU,UAAA,EAAY;AACxB,MAAA,IAAI,IAAI,OAAA,EAAS;AACf,QAAA,iBAAA,CAAkB,CAAA,IAAA,KAAQ,OAAO,GAAI,CAAA;AAAA,MACvC,CAAA,MAAA,IAAW,IAAI,SAAA,EAAW;AACxB,QAAA,iBAAA,CAAkB,UAAQ,IAAA,CAAK,GAAA,CAAI,CAAA,EAAG,IAAA,GAAO,GAAI,CAAC,CAAA;AAAA,MACpD,CAAA,MAAA,IAAW,IAAI,UAAA,EAAY;AACzB,QAAA,iBAAA,CAAkB,CAAA,IAAA,KAAQ,OAAO,GAAG,CAAA;AAAA,MACtC,CAAA,MAAA,IAAW,IAAI,SAAA,EAAW;AACxB,QAAA,iBAAA,CAAkB,UAAQ,IAAA,CAAK,GAAA,CAAI,CAAA,EAAG,IAAA,GAAO,GAAG,CAAC,CAAA;AAAA,MACnD;AAAA,IACF;AAAA,EACF,CAAC,CAAA;AAGD,EAAAC,UAAU,MAAM;AACd,IAAA,IAAI,WAAA,EAAa;AACf,MAAA,MAAM,QAAA,GAAW,YAAY,MAAM;AACjC,QAAA,WAAA,CAAY,IAAI,CAAA;AAAA,MAClB,GAAG,GAAI,CAAA;AAEP,MAAA,OAAO,MAAM,cAAc,QAAQ,CAAA;AAAA,IACrC;AAAA,EACF,CAAA,EAAG,CAAC,WAAW,CAAC,CAAA;AAGhB,EAAAA,UAAU,MAAM;AACd,IAAA,eAAA,EAAgB;AAAA,EAClB,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,kBAAkB,YAAY;AAClC,IAAA,IAAI;AACF,MAAA,QAAA,CAAS,SAAS,CAAA;AAGlB,MAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAO,yBAAA;AACtC,MAAA,MAAM,cAAA,GAAiB,IAAI,UAAA,CAAW,IAAA,CAAK,MAAM7E,YAAAA,CAAa,UAAA,EAAY,OAAO,CAAC,CAAC,CAAA;AACnF,MAAA,MAAM,MAAA,GAAS,MAAME,8BAAAA,CAA6B,cAAc,CAAA;AAGhE,MAAA,MAAM,YAAA,GAAe,mBAAmB,+BAA+B,CAAA;AACvE,MAAA,MAAM,MAAA,GAAS,IAAI2D,gBAAAA,CAAiB;AAAA,QAClC,WAAA,EAAa;AAAA,OACd,CAAA;AACD,MAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAG7C,MAAA,IAAI,KAAA,EAAO;AACT,QAAA,IAAI;AACF,UAAA,MAAM,SAAA,GAAYnE,QAAQ,KAAK,CAAA;AAC/B,UAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAClE,UAAA,IAAI,WAAW,IAAA,EAAM;AACnB,YAAA,YAAA,CAAa,UAAU,IAAI,CAAA;AAAA,UAC7B;AAAA,QACF,SAAS,GAAA,EAAK;AACZ,UAAA,OAAA,CAAQ,KAAK,2BAA2B,CAAA;AAAA,QAC1C;AAAA,MACF;AAKA,MAAA,MAAM,iBAAA,GAAiC;AAAA,QACrC,WAAA,EAAa,CAAA;AAAA,QACb,WAAA,EAAa,CAAA;AAAA,QACb,cAAA,EAAgB,CAAA;AAAA,QAChB,eAAA,EAAiB,CAAA;AAAA,QACjB,UAAA,EAAY,KAAK,GAAA,EAAI;AAAA,QACrB,QAAA,EAAU,KAAA;AAAA,QACV,UAAA,EAAY;AAAA,OACd;AAEA,MAAA,cAAA,CAAe,iBAAiB,CAAA;AAChC,MAAA,QAAA,CAAS,OAAO,CAAA;AAChB,MAAA,aAAA,iBAAc,IAAI,MAAM,CAAA;AAAA,IAE1B,SAAS,GAAA,EAAU;AACjB,MAAA,QAAA,CAAS,GAAA,CAAI,WAAW,6BAA6B,CAAA;AACrD,MAAA,QAAA,CAAS,OAAO,CAAA;AAAA,IAClB;AAAA,EACF,CAAA;AAEA,EAAA,MAAM,WAAA,GAAc,OAAO,MAAA,GAAS,KAAA,KAAU;AAC5C,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,QAAA,CAAS,SAAS,CAAA;AAAA,IACpB;AAEA,IAAA,IAAI;AAEF,MAAA,MAAM,eAAA,EAAgB;AAEtB,MAAA,aAAA,iBAAc,IAAI,MAAM,CAAA;AACxB,MAAA,IAAI,CAAC,MAAA,EAAQ;AACX,QAAA,QAAA,CAAS,OAAO,CAAA;AAAA,MAClB;AAAA,IACF,SAAS,GAAA,EAAU;AACjB,MAAA,QAAA,CAAS,GAAA,CAAI,WAAW,wBAAwB,CAAA;AAChD,MAAA,QAAA,CAAS,OAAO,CAAA;AAAA,IAClB;AAAA,EACF,CAAA;AAEA,EAAA,MAAM,eAAe,YAAY;AAC/B,IAAA,QAAA,CAAS,UAAU,CAAA;AACnB,IAAA,IAAI;AAEF,MAAA,QAAA,CAAS,4DAA4D,CAAA;AACrE,MAAA,QAAA,CAAS,OAAO,CAAA;AAAA,IAClB,SAAS,GAAA,EAAU;AACjB,MAAA,QAAA,CAAS,GAAA,CAAI,WAAW,yBAAyB,CAAA;AACjD,MAAA,QAAA,CAAS,OAAO,CAAA;AAAA,IAClB;AAAA,EACF,CAAA;AA0BA,EAAA,MAAM,aAAA,GAAgB,CAAC,MAAA,KAA2B;AAChD,IAAA,IAAI,MAAA,IAAUsF,gBAAAA,CAAgB,CAAC,CAAA,EAAG,OAAO,CAAA;AACzC,IAAA,IAAI,MAAA,IAAUA,gBAAAA,CAAgB,CAAC,CAAA,EAAG,OAAO,CAAA;AACzC,IAAA,IAAI,MAAA,IAAUA,gBAAAA,CAAgB,CAAC,CAAA,EAAG,OAAO,CAAA;AACzC,IAAA,IAAI,MAAA,IAAUA,gBAAAA,CAAgB,CAAC,CAAA,EAAG,OAAO,CAAA;AACzC,IAAA,IAAI,MAAA,IAAUA,gBAAAA,CAAgB,CAAC,CAAA,EAAG,OAAO,CAAA;AACzC,IAAA,OAAO,CAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,kBAAkB,MAAM;AAC5B,IAAA,MAAM,WAAW,IAAA,CAAK,GAAA,CAAI,WAAA,CAAY,WAAA,GAAc,GAAG,CAAC,CAAA;AACxD,IAAA,MAAM,aAAA,GAAgBA,iBAAgB,QAAwC,CAAA;AAC9E,IAAA,MAAM,SAAA,GAAY,gBAAgB,WAAA,CAAY,WAAA;AAC9C,IAAA,MAAM,QAAA,GAAY,WAAA,CAAY,WAAA,GAAc,aAAA,GAAiB,GAAA;AAE7D,IAAA,OAAO,EAAE,QAAA,EAAU,aAAA,EAAe,SAAA,EAAW,QAAA,EAAS;AAAA,EACxD,CAAA;AAEA,EAAA,MAAM,YAAA,GAAe,CAAC,IAAA,KAA0D;AAC9E,IAAA,IAAI,IAAA,IAAQ,GAAG,OAAO,SAAA;AACtB,IAAA,IAAI,IAAA,IAAQ,GAAG,OAAO,QAAA;AACtB,IAAA,IAAI,IAAA,IAAQ,GAAG,OAAO,OAAA;AACtB,IAAA,OAAO,MAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,gBAAA,GAAmB,CAAC,IAAA,KAAyE;AACjG,IAAA,IAAI,IAAA,KAAS,GAAG,OAAO,UAAA;AACvB,IAAA,IAAI,IAAA,KAAS,GAAG,OAAO,MAAA;AACvB,IAAA,IAAI,IAAA,IAAQ,GAAG,OAAO,QAAA;AACtB,IAAA,IAAI,IAAA,KAAS,GAAG,OAAO,QAAA;AACvB,IAAA,OAAO,UAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,qBAAA,GAAwB,CAAC,MAAA,EAAgB,GAAA,KAAwB;AACrE,IAAA,OAAQ,MAAA,IAAU,MAAM,GAAA,CAAA,GAAQ,GAAA;AAAA,EAClC,CAAA;AAEA,EAAA,MAAM,uBAAA,GAA0B,CAAC,MAAA,EAAgB,GAAA,KAAwB;AACvE,IAAA,OAAQ,MAAA,IAAU,MAAM,GAAA,CAAA,GAAQ,EAAA;AAAA,EAClC,CAAA;AAEA,EAAA,MAAM,sBAAA,GAAyB,CAAC,MAAA,EAAgB,GAAA,KAAwB;AACtE,IAAA,OAAO,UAAU,GAAA,GAAM,GAAA,CAAA;AAAA,EACzB,CAAA;AAGA,EAAA,MAAM,wBAAwB,MAAM;AAClC,IAAA,MAAM,EAAE,QAAA,EAAU,SAAA,EAAW,QAAA,KAAa,eAAA,EAAgB;AAC1D,IAAA,MAAM,UAAA,GAAa,QAAA,CAAS,WAAA,CAAY,WAAoC,CAAA,IAAK,CAAA;AACjF,IAAA,MAAM,YAAA,GAAe,UAAA,CAAW,WAAA,CAAY,WAAsC,CAAA,IAAK,CAAA;AACvF,IAAA,MAAM,SAAA,GAAY,YAAA,CAAa,WAAA,CAAY,WAAW,CAAA;AAEtD,IAAA,uBACEjB,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,KAAK,CAAA,EAE/B,QAAA,EAAA;AAAA,sBAAAC,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,eAAA,EAAgB,WAAA,EAAa,SAAA,EACvC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,wBAAAD,KAACC,GAAAA,EAAA,EAAI,UAAA,EAAW,QAAA,EAAS,KAAK,CAAA,EAC5B,QAAA,EAAA;AAAA,0BAAAD,KAACG,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,OAAO,SAAA,EACf,QAAA,EAAA;AAAA,YAAA,WAAA,CAAY,YAAY,cAAA,EAAe;AAAA,YAAE;AAAA,WAAA,EAC5C,CAAA;AAAA,0BACAD,IAAC,KAAA,EAAA,EAAM,OAAA,EAAQ,QAAO,IAAA,EAAM,gBAAA,CAAiB,WAAA,CAAY,WAAW,CAAA,EAAG;AAAA,SAAA,EACzE,CAAA;AAAA,wBACAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,GACd,QAAA,kBAAAC,GAAAA;AAAA,UAAC,OAAA;AAAA,UAAA;AAAA,YACC,KAAA,EAAM,kBAAA;AAAA,YACN,KAAA,EAAO,CAAA,EAAG,WAAA,CAAY,eAAe,CAAA,KAAA;AAAA;AAAA,SACvC,EACF;AAAA,OAAA,EACF,CAAA,EACF,CAAA;AAAA,MAGC,WAAA,CAAY,WAAA,GAAc,CAAA,oBACzBF,IAAAA,CAACC,KAAA,EAAI,aAAA,EAAc,QAAA,EAAS,SAAA,EAAW,CAAA,EACrC,QAAA,EAAA;AAAA,wBAAAC,GAAAA;AAAA,UAACU,YAAAA;AAAA,UAAA;AAAA,YACC,KAAA,EAAO,QAAA;AAAA,YACP,KAAA,EAAO,oBAAoB,QAAQ,CAAA,CAAA;AAAA,YACnC,KAAA,EAAO,aAAa,QAAQ,CAAA;AAAA,YAC5B,cAAA,EAAgB;AAAA;AAAA,SAClB;AAAA,wBACAV,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EACX,QAAA,EAAA;AAAA,UAAA,SAAA,CAAU,cAAA,EAAe;AAAA,UAAE,4BAAA;AAAA,UAA2B;AAAA,SAAA,EACzD,CAAA,EACF;AAAA,OAAA,EACF,CAAA;AAAA,MAGD,YAAY,WAAA,KAAgB,CAAA,oBAC3BD,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAC,GAAAA,CAACC,MAAA,EAAK,IAAA,EAAI,MAAC,KAAA,EAAM,aAAA,EAAc,mCAAqB,CAAA,EACtD,CAAA;AAAA,sBAIFD,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,kBAAA,EAAmB,WAAA,EAAY,OAAA,EACzC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAAC,WAAQ,KAAA,EAAM,KAAA,EAAM,OAAO,CAAA,EAAG,UAAU,CAAA,CAAA,CAAA,EAAK,KAAA,EAAM,OAAA,EAAQ,CAAA;AAAA,wBAC5DA,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,mBAAA,EAAoB,OAAO,CAAA,CAAA,EAAI,YAAY,CAAA,CAAA,CAAA,EAAK,KAAA,EAAM,OAAA,EAAQ;AAAA,OAAA,EAC/E,CAAA,EACF;AAAA,KAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,gBAAgB,MAAM;AAC1B,IAAA,MAAM,UAAA,GAAa,QAAA,CAAS,WAAA,CAAY,WAAoC,CAAA,IAAK,CAAA;AACjF,IAAA,MAAM,YAAA,GAAe,qBAAA,CAAsB,WAAA,CAAY,WAAA,EAAa,UAAU,CAAA;AAC9E,IAAA,MAAM,cAAA,GAAiB,uBAAA,CAAwB,WAAA,CAAY,WAAA,EAAa,UAAU,CAAA;AAElF,IAAA,uBACEA,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,SAAA,EAAU,WAAA,EAAY,QAAA,EAChC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,sBAAAC,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UACC,KAAA,EAAM,iBAAA;AAAA,UACN,OAAO,CAAA,EAAG,WAAA,CAAY,cAAA,CAAe,OAAA,CAAQ,CAAC,CAAC,CAAA,MAAA,CAAA;AAAA,UAC/C,KAAA,EAAM;AAAA;AAAA,OACR;AAAA,sBACAA,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UACC,KAAA,EAAM,iBAAA;AAAA,UACN,KAAA,EAAO,CAAA,CAAA,EAAI,YAAA,CAAa,OAAA,CAAQ,CAAC,CAAC,CAAA,MAAA,CAAA;AAAA,UAClC,KAAA,EAAM;AAAA;AAAA,OACR;AAAA,sBACAA,GAAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UACC,KAAA,EAAM,mBAAA;AAAA,UACN,KAAA,EAAO,CAAA,CAAA,EAAI,cAAA,CAAe,OAAA,CAAQ,CAAC,CAAC,CAAA,MAAA,CAAA;AAAA,UACpC,KAAA,EAAM;AAAA;AAAA,OACR;AAAA,sBACAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,WAAW,CAAA,EACd,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,EAAA,EACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA,eAAA,EAAa,CAAA,EAC9B,CAAA;AAAA,QACC,YAAY,QAAA,mBACXD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,OAAA,EAAQ,QAAA,EAAA,qBAAA,EAAmB,CAAA,mBAEvCD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,gBAAA,EAAc;AAAA,OAAA,EAEjC;AAAA,KAAA,EACF,CAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,iBAAiB,MAAM;AAC3B,IAAA,MAAM,SAAA,GAAY;AAAA,MAChB,EAAE,KAAA,EAAO,IAAA,EAAM,KAAA,EAAO,EAAA,EAAI,OAAO,KAAA,EAAe;AAAA,MAChD,EAAE,KAAA,EAAO,IAAA,EAAM,KAAA,EAAO,EAAA,EAAI,OAAO,OAAA,EAAiB;AAAA,MAClD,EAAE,KAAA,EAAO,IAAA,EAAM,KAAA,EAAO,EAAA,EAAI,OAAO,OAAA,EAAiB;AAAA,MAClD,EAAE,KAAA,EAAO,IAAA,EAAM,KAAA,EAAO,EAAA,EAAI,OAAO,QAAA,EAAkB;AAAA,MACnD,EAAE,KAAA,EAAO,IAAA,EAAM,KAAA,EAAO,EAAA,EAAI,OAAO,MAAA;AAAgB,KACnD;AAEA,IAAA,uBACED,GAAAA,CAAC,IAAA,EAAA,EAAK,OAAM,aAAA,EAAc,WAAA,EAAY,WACpC,QAAA,kBAAAA,GAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,IAAA,EAAK,KAAA;AAAA,QACL,IAAA,EAAM,SAAA;AAAA,QACN,SAAA,EAAW,CAAA;AAAA,QACX,QAAA,EAAU;AAAA;AAAA,KACZ,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,kBAAkB,MAAM;AAC5B,IAAA,MAAM,aAAA,GAAgB,cAAc,cAAc,CAAA;AAClD,IAAA,MAAM,YAAA,GAAe,QAAA,CAAS,aAAsC,CAAA,IAAK,CAAA;AACzE,IAAA,MAAM,cAAA,GAAiB,UAAA,CAAW,aAAwC,CAAA,IAAK,CAAA;AAC/E,IAAA,MAAM,gBAAA,GAAmB,uBAAA,CAAwB,cAAA,EAAgB,YAAY,CAAA;AAC7E,IAAA,MAAM,eAAA,GAAkB,sBAAA,CAAuB,cAAA,EAAgB,YAAY,CAAA;AAE3E,IAAA,uBACEF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,KAAK,CAAA,EAC/B,QAAA,EAAA;AAAA,sBAAAC,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,gBAAA,EAAiB,WAAA,EAAY,SAAA,EACvC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,KAAK,CAAA,EAC/B,QAAA,EAAA;AAAA,wBAAAD,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,0BAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,MAAC,QAAA,EAAA,eAAA,EAAa,CAAA;AAAA,0BACxBH,KAACC,GAAAA,EAAA,EAAI,WAAW,CAAA,EAAG,UAAA,EAAW,QAAA,EAAS,GAAA,EAAK,CAAA,EAC1C,QAAA,EAAA;AAAA,4BAAAD,KAACG,IAAAA,EAAA,EAAK,KAAA,EAAM,MAAA,EAAO,MAAI,IAAA,EAAE,QAAA,EAAA;AAAA,cAAA,cAAA,CAAe,cAAA,EAAe;AAAA,cAAE;AAAA,aAAA,EAAM,CAAA;AAAA,4BAC/DD,IAAC,KAAA,EAAA,EAAM,OAAA,EAAQ,QAAO,IAAA,EAAM,gBAAA,CAAiB,aAAa,CAAA,EAAG;AAAA,WAAA,EAC/D,CAAA;AAAA,0BACAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,8EAAsC,CAAA,EACvD;AAAA,SAAA,EACF,CAAA;AAAA,wBAEAH,IAAAA,CAACC,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EAAG,eAAc,QAAA,EAC/B,QAAA,EAAA;AAAA,0BAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,MAAC,QAAA,EAAA,qBAAA,EAAmB,CAAA;AAAA,0BAC9BD,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,MAAA,EAAO,KAAA,EAAO,CAAA,EAAG,aAAa,CAAA,EAAA,CAAA,EAAM,KAAA,EAAO,YAAA,CAAa,aAAa,CAAA,EAAG,CAAA;AAAA,0BACvFA,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,mBAAA,EAAoB,OAAO,CAAA,CAAA,EAAI,cAAc,CAAA,CAAA,CAAA,EAAK,KAAA,EAAM,OAAA,EAAQ,CAAA;AAAA,0BAC/EA,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,KAAA,EAAM,OAAO,CAAA,EAAG,YAAY,CAAA,CAAA,CAAA,EAAK,KAAA,EAAM,QAAA,EAAS;AAAA,SAAA,EACjE,CAAA;AAAA,wBAEAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EAAG,eAAc,QAAA,EAC/B,QAAA,EAAA;AAAA,0BAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,MAAC,QAAA,EAAA,qBAAA,EAAmB,CAAA;AAAA,0BAC9BD,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,SAAA,EAAU,KAAA,EAAO,CAAA,CAAA,EAAI,gBAAA,CAAiB,OAAA,CAAQ,CAAC,CAAC,CAAA,MAAA,CAAA,EAAU,OAAM,MAAA,EAAO,CAAA;AAAA,0BACtFA,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,QAAA,EAAS,KAAA,EAAO,CAAA,CAAA,EAAI,eAAA,CAAgB,OAAA,CAAQ,CAAC,CAAC,CAAA,MAAA,CAAA,EAAU,OAAM,OAAA,EAAQ;AAAA,SAAA,EACvF;AAAA,OAAA,EACF,CAAA,EACF,CAAA;AAAA,sBAEAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,WAAW,CAAA,EACd,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,QAAA,EAAM,CAAA;AAAA,wBACrBD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,wBACtBD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,yBAAA,EAAuB;AAAA,OAAA,EACxC;AAAA,KAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,oBAAoB,MAAM;AAC9B,IAAA,MAAM,UAAA,GAAa,IAAA,CAAK,IAAA,CAAA,CAAM,WAAA,CAAY,UAAA,GAAa,IAAA,CAAK,GAAA,EAAI,KAAM,GAAA,GAAO,EAAA,GAAK,EAAA,GAAK,EAAA,CAAG,CAAA;AAE1F,IAAA,uBACEH,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,KAAK,CAAA,EAC/B,QAAA,EAAA;AAAA,sBAAAC,GAAAA;AAAA,QAAC,KAAA;AAAA,QAAA;AAAA,UACC,IAAA,EAAK,SAAA;AAAA,UACL,KAAA,EAAM,uBAAA;AAAA,UACN,OAAA,EAAQ;AAAA;AAAA,OACV;AAAA,sBAEAA,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,kBAAA,EAAmB,WAAA,EAAY,QAAA,EACzC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,eAAA,EAAgB,KAAA,EAAO,GAAG,WAAA,CAAY,WAAA,CAAY,cAAA,EAAgB,CAAA,MAAA,CAAA,EAAU,CAAA;AAAA,wBAC3FA,IAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,mBAAkB,KAAA,EAAM,QAAA,EAAS,OAAM,QAAA,EAAS,CAAA;AAAA,wBAC/DA,IAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,iBAAgB,KAAA,EAAM,0BAAA,EAA2B,OAAM,KAAA,EAAM,CAAA;AAAA,wBAC5EA,IAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,oBAAmB,KAAA,EAAM,uBAAA,EAAwB,OAAM,QAAA,EAAS;AAAA,OAAA,EACjF,CAAA,EACF,CAAA;AAAA,MAEC,CAAC,WAAA,CAAY,UAAA,IAAc,UAAA,GAAa,CAAA,oBACvCA,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,oBAAA,EAAqB,aAAY,KAAA,EAC3C,QAAA,kBAAAF,KAACC,GAAAA,EAAA,EAAI,eAAc,QAAA,EACjB,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,aAAA,EAAc,KAAA,EAAO,IAAI,IAAA,CAAK,WAAA,CAAY,UAAU,CAAA,CAAE,kBAAA,EAAmB,EAAG,OAAM,KAAA,EAAM,CAAA;AAAA,wBACvGA,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,gBAAA,EAAiB,OAAO,CAAA,EAAG,UAAU,CAAA,KAAA,CAAA,EAAS,KAAA,EAAM,QAAA,EAAS,CAAA;AAAA,wBAC5EA,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,gFAAkE,CAAA,EACnF;AAAA,OAAA,EACF,CAAA,EACF,CAAA;AAAA,sBAGFH,IAAAA,CAACC,GAAAA,EAAA,EAAI,WAAW,CAAA,EACd,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,QAAA,EAAM,CAAA;AAAA,wBACrBD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,wBACtBD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,yBAAA,EAAuB;AAAA,OAAA,EACxC;AAAA,KAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,mBAAmB,MAAM;AAC7B,IAAA,uBACEH,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,WAAW,CAAA,EACrC,QAAA,EAAA;AAAA,sBAAAC,IAACC,IAAAA,EAAA,EAAK,MAAI,IAAA,EAAC,KAAA,EAAM,WAAU,QAAA,EAAA,yBAAA,EAAgB,CAAA;AAAA,sBAC3CH,IAAAA,CAACC,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EAAG,eAAc,QAAA,EAE/B,QAAA,EAAA;AAAA,wBAAAD,IAAAA,CAACC,KAAA,EACC,QAAA,EAAA;AAAA,0BAAAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,IACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,QAAA,EAAQ,IAAA,EAAC,kBAAI,CAAA,EAC1B,CAAA;AAAA,0BACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,OAAO,EAAA,EACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,QAAA,EAAQ,IAAA,EAAC,yBAAW,CAAA,EACjC,CAAA;AAAA,0BACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,OAAO,EAAA,EACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,QAAA,EAAQ,IAAA,EAAC,iBAAG,CAAA,EACzB,CAAA;AAAA,0BACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,OAAO,EAAA,EACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,QAAA,EAAQ,IAAA,EAAC,mBAAK,CAAA,EAC3B;AAAA,SAAA,EACF,CAAA;AAAA,QAGC,CAAC,GAAG,CAAA,EAAG,CAAA,EAAG,GAAG,CAAC,CAAA,CAAE,IAAI,CAAA,IAAA,KAAQ;AAC3B,UAAA,MAAM,SAAA,GAAYc,iBAAgB,IAAoC,CAAA;AACtE,UAAA,MAAM,GAAA,GAAM,SAAS,IAA6B,CAAA;AAClD,UAAA,MAAM,KAAA,GAAQ,WAAW,IAA+B,CAAA;AACxD,UAAA,MAAM,SAAA,GAAY,SAAS,WAAA,CAAY,WAAA;AACvC,UAAA,MAAM,KAAA,GAAQ,aAAa,IAAI,CAAA;AAE/B,UAAA,uBACEjB,IAAAA,CAACC,GAAAA,EAAA,EAAe,WAAW,CAAA,EACzB,QAAA,EAAA;AAAA,4BAAAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,IACV,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,KAAA,EAAO,SAAA,GAAY,QAAQ,MAAA,EACnC,QAAA,EAAA;AAAA,cAAA,SAAA,GAAY,SAAA,GAAO,IAAA;AAAA,cAAK,OAAA;AAAA,cAAM;AAAA,aAAA,EACjC,CAAA,EACF,CAAA;AAAA,4BACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,EAAA,EACV,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,KAAA,EAAO,SAAA,GAAY,QAAQ,MAAA,EAC9B,QAAA,EAAA;AAAA,cAAA,SAAA,CAAU,cAAA,EAAe;AAAA,cAAE;AAAA,aAAA,EAC9B,CAAA,EACF,CAAA;AAAA,4BACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,EAAA,EACV,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,KAAA,EAAO,SAAA,GAAY,UAAU,MAAA,EAAY,QAAA,EAAA;AAAA,cAAA,GAAA;AAAA,cAAI;AAAA,aAAA,EAAC,CAAA,EACtD,CAAA;AAAA,4BACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,EAAA,EACV,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,KAAA,EAAO,SAAA,GAAY,UAAU,MAAA,EAAW,QAAA,EAAA;AAAA,cAAA,GAAA;AAAA,cAAE,KAAA;AAAA,cAAM;AAAA,aAAA,EAAC,CAAA,EACzD;AAAA,WAAA,EAAA,EAhBQ,IAiBV,CAAA;AAAA,QAEJ,CAAC;AAAA,OAAA,EACH;AAAA,KAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,gBAAgB,MAAM;AAC1B,IAAmB,IAAA,CAAK,IAAA,CAAA,CAAM,WAAA,CAAY,UAAA,GAAa,IAAA,CAAK,GAAA,EAAI,KAAM,GAAA,GAAO,EAAA,GAAK,EAAA,GAAK,EAAA,CAAG;AAE1F,IAAA,uBACED,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,mBAAA,EAAoB,WAAA,EAAY,MAAA,EAC1C,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,sBAAAD,IAAAA,CAACG,MAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,wBAClDD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,QAAA,EAAM;AAAA,OAAA,EACvD,CAAA;AAAA,sBACAH,IAAAA,CAACG,IAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,QAAO,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,oBAAA,EAAkB;AAAA,OAAA,EACjE,CAAA;AAAA,sBACAH,IAAAA,CAACG,IAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,WAAU,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,mCAAA,EAAiC;AAAA,OAAA,EACnF,CAAA;AAAA,MACC,YAAY,WAAA,GAAc,CAAA,oBACzBH,IAAAA,CAACG,MAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,qBAAA,EAAmB;AAAA,OAAA,EACpE,CAAA;AAAA,sBAEFH,IAAAA,CAACG,IAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,MAAA,EAAK,KAAA,EAAO,YAAY,QAAA,GAAW,OAAA,GAAU,QAAQ,QAAA,EAAA,KAAA,EAEtD,CAAA;AAAA,wBACAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,kBAAA,EAAgB,CAAA;AAAA,QAC9B,WAAA,CAAY,4BACXD,GAAAA,CAACC,MAAA,EAAK,KAAA,EAAM,SAAQ,QAAA,EAAA,cAAA,EAAY;AAAA,OAAA,EAEpC,CAAA;AAAA,sBACAH,IAAAA,CAACG,IAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,eAAA,EAAa;AAAA,OAAA,EAC9D;AAAA,KAAA,EACF,CAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,aAAa,MAAM;AACvB,IAAA,uBACEH,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,SAAA,EAAW,CAAA,EAAG,WAAA,EAAY,OAAA,EAAQ,WAAA,EAAY,QAAA,EAAS,SAAS,CAAA,EAC1F,QAAA,EAAA;AAAA,sBAAAC,IAACC,IAAAA,EAAA,EAAK,MAAI,IAAA,EAAC,KAAA,EAAM,UAAS,QAAA,EAAA,2BAAA,EAAoB,CAAA;AAAA,sBAC9CH,IAAAA,CAACC,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EAAG,eAAc,QAAA,EAC/B,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,sEAAA,EAA+D,CAAA;AAAA,wBAC9ED,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,oEAAA,EAA6D,CAAA;AAAA,wBAC5ED,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,mDAAA,EAA4C,CAAA;AAAA,wBAC3DD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,gEAAA,EAAyD,CAAA;AAAA,wBACxED,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,yEAAA,EAAkE,CAAA;AAAA,wBACjFD,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,0DAA4C,CAAA,EAC7D;AAAA,OAAA,EACF;AAAA,KAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,gBAAgB,MAAM;AAC1B,IAAA,IAAI,UAAU,SAAA,EAAW;AACvB,MAAA,uBACED,GAAAA,CAACD,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,GAAA,EAAK,CAAA,EAC/B,QAAA,kBAAAD,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACiB,QAAAA,EAAA,EAAQ,IAAA,EAAK,MAAA,EAAO,CAAA;AAAA,wBACrBjB,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAA,0BAAA,EAAwB;AAAA,OAAA,EAChC,CAAA,EACF,CAAA;AAAA,IAEJ;AAEA,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,uBACEH,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,KAAK,CAAA,EAC/B,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAAC,WAAA,EAAA,EAAY,MAAA,EAAO,OAAA,EAAQ,MAAK,4BAAA,EAA6B,CAAA;AAAA,wBAC9DA,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,OAAO,QAAA,EAAA,KAAA,EAAM,CAAA;AAAA,wBACzBH,IAAAA,CAACC,GAAAA,EAAA,EAAI,WAAW,CAAA,EACd,QAAA,EAAA;AAAA,0BAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,QAAA,EAAM,CAAA;AAAA,0BACrBD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,QAAO,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,0BACpBD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,eAAA,EAAa,CAAA;AAAA,0BAC5BD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,OAAM,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,0BACnBD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,UAAA,EAAQ;AAAA,SAAA,EACzB;AAAA,OAAA,EACF,CAAA;AAAA,IAEJ;AAEA,IAAA,IAAI,UAAU,UAAA,EAAY;AACxB,MAAA,uBACED,GAAAA,CAACD,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,GAAA,EAAK,CAAA,EAC/B,QAAA,kBAAAD,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACiB,QAAAA,EAAA,EAAQ,IAAA,EAAK,MAAA,EAAO,CAAA;AAAA,wBACrBjB,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAA,sBAAA,EAAoB;AAAA,OAAA,EAC5B,CAAA,EACF,CAAA;AAAA,IAEJ;AAEA,IAAA,IAAI,UAAU,SAAA,EAAW;AACvB,MAAA,uBACED,GAAAA,CAACD,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,GAAA,EAAK,CAAA,EAC/B,QAAA,kBAAAD,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACiB,QAAAA,EAAA,EAAQ,IAAA,EAAK,MAAA,EAAO,CAAA;AAAA,wBACrBjB,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAA,oBAAA,EAAkB;AAAA,OAAA,EAC1B,CAAA,EACF,CAAA;AAAA,IAEJ;AAEA,IAAA,IAAI,UAAU,WAAA,EAAa;AACzB,MAAA,uBACED,GAAAA,CAACD,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,GAAA,EAAK,CAAA,EAC/B,QAAA,kBAAAD,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACiB,QAAAA,EAAA,EAAQ,IAAA,EAAK,MAAA,EAAO,CAAA;AAAA,wBACrBjB,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAA,sBAAA,EAAoB;AAAA,OAAA,EAC5B,CAAA,EACF,CAAA;AAAA,IAEJ;AAEA,IAAA,IAAI,UAAU,UAAA,EAAY;AACxB,MAAA,OAAO,eAAA,EAAgB;AAAA,IACzB;AAEA,IAAA,IAAI,UAAU,cAAA,EAAgB;AAC5B,MAAA,OAAO,iBAAA,EAAkB;AAAA,IAC3B;AAGA,IAAA,uBACEH,IAAAA,CAACC,GAAAA,EAAA,EAAI,eAAc,QAAA,EAEhB,QAAA,EAAA;AAAA,MAAA,KAAA,oBACCD,IAAAA,CAACC,GAAAA,EAAA,EAAI,cAAc,CAAA,EACjB,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,SAAA,EAAO,CAAA;AAAA,wBACtBD,IAACC,IAAAA,EAAA,EAAK,MAAI,IAAA,EAAC,KAAA,EAAM,QAAQ,QAAA,EAAA,SAAA,EAAU;AAAA,OAAA,EACrC,CAAA;AAAA,sBAIFD,GAAAA,CAACD,GAAAA,EAAA,EAAI,YAAA,EAAc,CAAA,EACjB,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,QAAA,gBAAA;AAAA,QACE,WAAW,kBAAA,EAAmB;AAAA,QAC5C,+BAAeD,GAAAA,CAACC,MAAA,EAAK,KAAA,EAAM,SAAQ,QAAA,EAAA,8BAAA,EAAuB;AAAA,OAAA,EAC7D,CAAA,EACF,CAAA;AAAA,sBAGAH,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,KAAK,CAAA,EAC9B,QAAA,EAAA;AAAA,QAAA,qBAAA,EAAsB;AAAA,wBAEvBC,GAAAA,CAACD,GAAAA,EAAA,EAAI,GAAA,EAAK,CAAA,EACP,yBAAc,EACjB,CAAA;AAAA,QAEC,gBAAA,EAAiB;AAAA,QACjB,cAAA,EAAe;AAAA,QACf,aAAA,EAAc;AAAA,QACd,eAAe,UAAA;AAAW,OAAA,EAC7B,CAAA;AAAA,sBAGAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,GACd,QAAA,kBAAAC,GAAAA;AAAA,QAAC,KAAA;AAAA,QAAA;AAAA,UACC,IAAA,EAAK,MAAA;AAAA,UACL,OAAA,EAAQ,gFAAA;AAAA,UACR,UAAA,EAAY;AAAA;AAAA,OACd,EACF,CAAA;AAAA,sBAEAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,WAAW,CAAA,EACd,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,KAAA,EAAM,aAAA,EAAc,2DAA6C,CAAA,EAC9E;AAAA,KAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,uBACED,IAAC,MAAA,EAAA,EAAO,KAAA,EAAM,qCAA6B,UAAA,EAAY,KAAA,EACpD,yBAAc,EACjB,CAAA;AAEJ,CAAA;A7BppBO,IAAM,YAAsC,CAAC,EAAE,KAAA,EAAO,WAAA,GAAc,MAAK,KAAM;AACpF,EAAA,MAAM,EAAE,IAAA,EAAK,GAAIgB,MAAAA,EAAO;AACxB,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAIR,SAAyB,SAAS,CAAA;AAC5D,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAIA,SAAkB,WAAW,CAAA;AACnE,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAIA,SAA+B,IAAI,CAAA;AAC3D,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAIA,SAAiB,EAAE,CAAA;AAC7C,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,IAAIA,QAAAA,iBAAe,IAAI,MAAM,CAAA;AAC7D,EAAA,MAAM,CAAC,OAAO,CAAA,GAAIA,QAAAA,CAAiB,QAAQ,CAAA;AAG3C,EAAAG,QAAAA,CAAS,CAAC,KAAA,EAAO,GAAA,KAAQ;AACvB,IAAA,IAAI,UAAU,GAAA,IAAQ,GAAA,CAAI,QAAQ,KAAA,KAAU,GAAA,IAAQ,IAAI,MAAA,EAAQ;AAC9D,MAAA,IAAA,EAAK;AAAA,IACP;AAEA,IAAA,IAAI,KAAA,KAAU,OAAA,IAAW,WAAA,KAAgB,WAAA,EAAa;AACpD,MAAA,IAAI,UAAU,GAAA,EAAK;AACjB,QAAA,cAAA,CAAe,YAAY,CAAA;AAAA,MAC7B,CAAA,MAAA,IAAW,UAAU,GAAA,EAAK;AACxB,QAAA,cAAA,CAAe,SAAS,CAAA;AAAA,MAC1B,CAAA,MAAA,IAAW,UAAU,GAAA,EAAK;AACxB,QAAA,cAAA,CAAe,SAAS,CAAA;AAAA,MAC1B,CAAA,MAAA,IAAW,UAAU,GAAA,EAAK;AACxB,QAAA,cAAA,CAAe,KAAK,CAAA;AAAA,MACtB,CAAA,MAAA,IAAW,UAAU,GAAA,EAAK;AACxB,QAAA,cAAA,CAAe,QAAQ,CAAA;AAAA,MACzB,CAAA,MAAA,IAAW,UAAU,GAAA,EAAK;AACxB,QAAA,WAAA,EAAY;AAAA,MACd;AAAA,IACF;AAGA,IAAA,IAAI,WAAA,KAAgB,WAAA,IAAe,KAAA,KAAU,GAAA,EAAK;AAChD,MAAA,cAAA,CAAe,WAAW,CAAA;AAAA,IAC5B;AAAA,EACF,CAAC,CAAA;AAGD,EAAAC,UAAU,MAAM;AACd,IAAA,IAAI,WAAA,IAAe,gBAAgB,WAAA,EAAa;AAC9C,MAAA,MAAM,QAAA,GAAW,YAAY,MAAM;AACjC,QAAA,WAAA,CAAY,IAAI,CAAA;AAAA,MAClB,GAAG,GAAK,CAAA;AAER,MAAA,OAAO,MAAM,cAAc,QAAQ,CAAA;AAAA,IACrC;AAAA,EACF,CAAA,EAAG,CAAC,WAAA,EAAa,WAAW,CAAC,CAAA;AAG7B,EAAAA,UAAU,MAAM;AACd,IAAA,iBAAA,EAAkB;AAAA,EACpB,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,oBAAoB,YAAY;AACpC,IAAA,IAAI;AACF,MAAA,QAAA,CAAS,SAAS,CAAA;AAElB,MAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAClD,MAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAG7C,MAAA,IAAI,aAAA;AACJ,MAAA,IAAI,KAAA,EAAO;AACT,QAAA,MAAM,SAAA,GAAYnF,QAAQ,KAAK,CAAA;AAC/B,QAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,QAAA,IAAI,CAAC,SAAA,EAAW;AACd,UAAA,QAAA,CAAS,iBAAiB,CAAA;AAC1B,UAAA,QAAA,CAAS,OAAO,CAAA;AAChB,UAAA;AAAA,QACF;AAEA,QAAA,MAAM,eAAA,GAAkB,MAAA,CAAO,SAAA,CAAU,eAAA,IAAmB,CAAC,CAAA;AAC7D,QAAA,MAAM,UAAA,GAAa,KAAK,GAAA,CAAI,GAAA,EAAM,KAAK,KAAA,CAAM,eAAA,GAAkB,GAAG,CAAC,CAAA;AACnE,QAAA,MAAM,SAAA,GAAY,MAAA,CAAO,SAAA,CAAU,kBAAA,IAAsB,CAAC,CAAA;AAC1D,QAAA,MAAM,eAAA,GAAkB,MAAA,CAAO,SAAA,CAAU,eAAA,IAAmB,CAAC,CAAA;AAC7D,QAAA,MAAM,eAAe,SAAA,GAAY,eAAA;AACjC,QAAA,MAAM,WAAA,GAAc,eAAe,CAAA,GAAI,IAAA,CAAK,MAAO,SAAA,GAAY,YAAA,GAAgB,GAAG,CAAA,GAAI,CAAA;AAEtF,QAAA,MAAM,IAAA,GACJ,UAAA,IAAc,GAAA,GAAM,UAAA,GACpB,UAAA,IAAc,GAAA,GAAM,MAAA,GACpB,UAAA,IAAc,GAAA,GAAM,QAAA,GACpB,UAAA,IAAc,GAAA,GAAM,QAAA,GAAW,UAAA;AAEjC,QAAA,aAAA,GAAgB;AAAA,UACd,OAAA,EAAS,SAAA;AAAA,UACT,IAAA,EAAM,UAAU,IAAA,IAAQ,OAAA;AAAA,UACxB,UAAA;AAAA,UACA,IAAA;AAAA,UACA,aAAA,EAAe,SAAA;AAAA,UACf;AAAA,SACF;AAAA,MACF,CAAA,MAAO;AAEL,QAAA,aAAA,GAAgB;AAAA,UACd,OAAA,EAAS,eAAA;AAAA,UACT,IAAA,EAAM,OAAA;AAAA,UACN,UAAA,EAAY,CAAA;AAAA,UACZ,IAAA,EAAM,UAAA;AAAA,UACN,aAAA,EAAe,CAAA;AAAA,UACf,WAAA,EAAa;AAAA,SACf;AAAA,MACF;AAGA,MAAA,MAAM,eAAA,GAAmC;AAAA,QACvC,WAAA,EAAa,GAAA;AAAA,QACb,IAAA,EAAM,CAAA;AAAA,QACN,GAAA,EAAK,EAAA;AAAA,QACL,cAAA,EAAgB;AAAA,OAClB;AAGA,MAAA,MAAM,cAAA,GAAiC;AAAA,QACrC,WAAA,EAAa,CAAA;AAAA,QACb,WAAA,EAAa,GAAA;AAAA,QACb,YAAA,EAAc;AAAA,OAChB;AAGA,MAAA,MAAM,aAAA,GAA+B;AAAA,QACnC,IAAA,EAAM,SAAA;AAAA,QACN,aAAA,EAAe,CAAC,MAAA,EAAQ,YAAY;AAAA,OACtC;AAGA,MAAA,MAAM,cAAA,GAAmC;AAAA,QACvC;AAAA,UACE,SAAA,EAAW,IAAA,CAAK,GAAA,EAAI,GAAI,IAAA;AAAA,UACxB,IAAA,EAAM,QAAA;AAAA,UACN,WAAA,EAAa,8BAAA;AAAA,UACb,MAAA,EAAQ;AAAA,SACV;AAAA,QACA;AAAA,UACE,SAAA,EAAW,IAAA,CAAK,GAAA,EAAI,GAAI,IAAA;AAAA,UACxB,IAAA,EAAM,SAAA;AAAA,UACN,WAAA,EAAa,0BAAA;AAAA,UACb,MAAA,EAAQ;AAAA,SACV;AAAA,QACA;AAAA,UACE,SAAA,EAAW,IAAA,CAAK,GAAA,EAAI,GAAI,IAAA;AAAA,UACxB,IAAA,EAAM,KAAA;AAAA,UACN,WAAA,EAAa,mBAAA;AAAA,UACb,MAAA,EAAQ;AAAA,SACV;AAAA,QACA;AAAA,UACE,SAAA,EAAW,IAAA,CAAK,GAAA,EAAI,GAAI,KAAA;AAAA,UACxB,IAAA,EAAM,OAAA;AAAA,UACN,WAAA,EAAa,0BAAA;AAAA,UACb,MAAA,EAAQ;AAAA,SACV;AAAA,QACA;AAAA,UACE,SAAA,EAAW,IAAA,CAAK,GAAA,EAAI,GAAI,KAAA;AAAA,UACxB,IAAA,EAAM,SAAA;AAAA,UACN,WAAA,EAAa,0BAAA;AAAA,UACb,MAAA,EAAQ;AAAA;AACV,OACF;AAEA,MAAA,OAAA,CAAQ;AAAA,QACN,KAAA,EAAO,aAAA;AAAA,QACP,OAAA,EAAS,eAAA;AAAA,QACT,MAAA,EAAQ,cAAA;AAAA,QACR,OAAA,EAAS,aAAA;AAAA,QACT;AAAA,OACD,CAAA;AAED,MAAA,QAAA,CAAS,OAAO,CAAA;AAChB,MAAA,aAAA,iBAAc,IAAI,MAAM,CAAA;AAAA,IAC1B,SAAS,GAAA,EAAU;AACjB,MAAA,QAAA,CAAS,GAAA,CAAI,WAAW,+BAA+B,CAAA;AACvD,MAAA,QAAA,CAAS,OAAO,CAAA;AAAA,IAClB;AAAA,EACF,CAAA;AAEA,EAAA,MAAM,WAAA,GAAc,OAAO,MAAA,GAAS,KAAA,KAAU;AAC5C,IAAA,IAAI,CAAC,MAAA,EAAQ;AACX,MAAA,QAAA,CAAS,SAAS,CAAA;AAAA,IACpB;AAEA,IAAA,IAAI;AACF,MAAA,MAAM,iBAAA,EAAkB;AAAA,IAC1B,SAAS,GAAA,EAAU;AACjB,MAAA,QAAA,CAAS,GAAA,CAAI,WAAW,wBAAwB,CAAA;AAChD,MAAA,QAAA,CAAS,OAAO,CAAA;AAAA,IAClB;AAAA,EACF,CAAA;AAEA,EAAA,MAAM,aAAA,GAAgB,CAAC,SAAA,KAA8B;AACnD,IAAA,MAAM,UAAU,IAAA,CAAK,KAAA,CAAA,CAAO,KAAK,GAAA,EAAI,GAAI,aAAa,GAAI,CAAA;AAC1D,IAAA,IAAI,OAAA,GAAU,EAAA,EAAI,OAAO,CAAA,EAAG,OAAO,CAAA,KAAA,CAAA;AACnC,IAAA,MAAM,OAAA,GAAU,IAAA,CAAK,KAAA,CAAM,OAAA,GAAU,EAAE,CAAA;AACvC,IAAA,IAAI,OAAA,GAAU,EAAA,EAAI,OAAO,CAAA,EAAG,OAAO,CAAA,KAAA,CAAA;AACnC,IAAA,MAAM,KAAA,GAAQ,IAAA,CAAK,KAAA,CAAM,OAAA,GAAU,EAAE,CAAA;AACrC,IAAA,IAAI,KAAA,GAAQ,EAAA,EAAI,OAAO,CAAA,EAAG,KAAK,CAAA,KAAA,CAAA;AAC/B,IAAA,MAAM,IAAA,GAAO,IAAA,CAAK,KAAA,CAAM,KAAA,GAAQ,EAAE,CAAA;AAClC,IAAA,OAAO,GAAG,IAAI,CAAA,KAAA,CAAA;AAAA,EAChB,CAAA;AAEA,EAAA,MAAM,gBAAA,GAAmB,CAAC,IAAA,KAA2B;AACnD,IAAA,IAAI,IAAA,KAAS,GAAG,OAAO,UAAA;AACvB,IAAA,IAAI,IAAA,KAAS,GAAG,OAAO,MAAA;AACvB,IAAA,IAAI,IAAA,IAAQ,GAAG,OAAO,QAAA;AACtB,IAAA,IAAI,IAAA,KAAS,GAAG,OAAO,QAAA;AACvB,IAAA,OAAO,UAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,cAAA,GAAiB,CAAC,IAAA,KAAyB;AAC/C,IAAA,IAAI,IAAA,KAAS,WAAW,OAAO,WAAA;AAC/B,IAAA,IAAI,IAAA,KAAS,aAAa,OAAO,WAAA;AACjC,IAAA,OAAO,WAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,cAAA,GAAiB,CAAC,MAAA,KAA+C;AACrE,IAAA,IAAI,MAAA,KAAW,WAAW,OAAO,OAAA;AACjC,IAAA,IAAI,MAAA,KAAW,WAAW,OAAO,QAAA;AACjC,IAAA,OAAO,KAAA;AAAA,EACT,CAAA;AAEA,EAAA,MAAM,eAAe,MAAM;AACzB,IAAA,IAAI,CAAC,MAAM,OAAO,IAAA;AAElB,IAAA,uBACEuE,GAAAA,CAAC,IAAA,EAAA,EAAK,WAAA,EAAY,aAAA,EAChB,0BAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,sBAAAD,IAAAA,CAACC,GAAAA,EAAA,EAAI,cAAA,EAAe,eAAA,EAClB,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACD,GAAAA,EAAA,EACC,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,KAAA,EAAM,aAAA,EAAc,QAAA,EAAA,OAAA,EAAK,CAAA,EACtC,CAAA;AAAA,wBACAH,IAAAA,CAACC,GAAAA,EAAA,EAAI,KAAK,CAAA,EACR,QAAA,EAAA;AAAA,0BAAAD,IAAAA,CAACC,KAAA,EACC,QAAA,EAAA;AAAA,4BAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,WAAA,EAAS,CAAA;AAAA,4BACxBD,IAAC,WAAA,EAAA,EAAY,MAAA,EAAO,WAAU,IAAA,EAAM,OAAA,CAAQ,aAAY,EAAG;AAAA,WAAA,EAC7D,CAAA;AAAA,0BACAF,IAAAA,CAACC,GAAAA,EAAA,EACC,QAAA,EAAA;AAAA,4BAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,UAAA,EAAQ,CAAA;AAAA,4BACvBH,IAAAA,CAACG,IAAAA,EAAA,EAAM,QAAA,EAAA;AAAA,cAAA,IAAA,CAAK,MAAM,OAAA,CAAQ,QAAA,EAAS,CAAE,KAAA,CAAM,GAAG,CAAC,CAAA;AAAA,cAAE;AAAA,aAAA,EAAG;AAAA,WAAA,EACtD;AAAA,SAAA,EACF;AAAA,OAAA,EACF,CAAA;AAAA,sBACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,QAAA,gBAAA;AAAA,QAAe,WAAW,kBAAA;AAAmB,OAAA,EAAE,CAAA,EAChE;AAAA,KAAA,EACF,CAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,sBAAsB,MAAM;AAChC,IAAA,IAAI,CAAC,MAAM,OAAO,IAAA;AAElB,IAAA,MAAM,SAAA,GACJ,KAAK,KAAA,CAAM,IAAA,KAAS,aAAa,MAAA,GACjC,IAAA,CAAK,MAAM,IAAA,KAAS,MAAA,GAAS,WAC7B,IAAA,CAAK,KAAA,CAAM,SAAS,QAAA,GAAW,OAAA,GAC/B,KAAK,KAAA,CAAM,IAAA,KAAS,WAAW,KAAA,GAAQ,MAAA;AAEzC,IAAA,uBACED,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,gBAAA,EAAiB,WAAA,EAAa,SAAA,EACxC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,sBAAAC,GAAAA,CAAC,WAAQ,KAAA,EAAM,MAAA,EAAO,OAAO,IAAA,CAAK,KAAA,CAAM,IAAA,EAAM,KAAA,EAAM,MAAA,EAAO,CAAA;AAAA,sBAC3DF,IAAAA,CAACC,GAAAA,EAAA,EAAI,WAAW,CAAA,EACd,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,EAAA,EACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA,cAAA,EAAY,CAAA,EAC7B,CAAA;AAAA,wBACAH,IAAAA,CAACG,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,OAAO,SAAA,EACf,QAAA,EAAA;AAAA,UAAA,IAAA,CAAK,KAAA,CAAM,UAAA;AAAA,UAAW;AAAA,SAAA,EACzB,CAAA;AAAA,wBACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,YAAY,CAAA,EACf,QAAA,kBAAAC,GAAAA,CAAC,KAAA,EAAA,EAAM,SAAQ,MAAA,EAAO,IAAA,EAAM,IAAA,CAAK,KAAA,CAAM,MAAM,CAAA,EAC/C;AAAA,OAAA,EACF,CAAA;AAAA,sBACAA,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,gBAAA,EAAiB,KAAA,EAAO,IAAA,CAAK,KAAA,CAAM,aAAA,CAAc,QAAA,EAAS,EAAG,KAAA,EAAM,OAAA,EAAQ,CAAA;AAAA,sBAC1FA,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,cAAA,EAAe,OAAO,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,WAAW,KAAK,KAAA,EAAO,IAAA,CAAK,MAAM,WAAA,IAAe,EAAA,GAAK,UAAU,QAAA,EAAU;AAAA,KAAA,EAC/H,CAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,wBAAwB,MAAM;AAClC,IAAA,IAAI,CAAC,MAAM,OAAO,IAAA;AAElB,IAAA,uBACEA,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,SAAA,EAAU,WAAA,EAAY,OAAA,EAChC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,sBAAAD,IAAAA,CAACC,KAAA,EACC,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,EAAA,EACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA,SAAA,EAAO,CAAA,EACxB,CAAA;AAAA,wBACAH,IAAAA,CAACG,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,OAAM,OAAA,EACd,QAAA,EAAA;AAAA,UAAA,IAAA,CAAK,OAAA,CAAQ,YAAY,cAAA,EAAe;AAAA,UAAE;AAAA,SAAA,EAC7C;AAAA,OAAA,EACF,CAAA;AAAA,sBACAH,IAAAA,CAACC,GAAAA,EAAA,EAAI,WAAW,CAAA,EACd,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,EAAA,EACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA,OAAA,EAAK,CAAA,EACtB,CAAA;AAAA,wBACAD,GAAAA,CAAC,KAAA,EAAA,EAAM,OAAA,EAAQ,MAAA,EAAO,MAAM,gBAAA,CAAiB,IAAA,CAAK,OAAA,CAAQ,IAAI,CAAA,EAAG;AAAA,OAAA,EACnE,CAAA;AAAA,sBACAA,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,KAAA,EAAM,KAAA,EAAO,CAAA,EAAG,IAAA,CAAK,OAAA,CAAQ,GAAG,CAAA,CAAA,CAAA,EAAK,KAAA,EAAM,QAAA,EAAS,CAAA;AAAA,sBACnEA,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,iBAAA,EAAkB,KAAA,EAAO,CAAA,EAAG,IAAA,CAAK,OAAA,CAAQ,cAAc,CAAA,MAAA,CAAA,EAAU,KAAA,EAAM,MAAA,EAAO;AAAA,KAAA,EAC/F,CAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,uBAAuB,MAAM;AACjC,IAAA,IAAI,CAAC,MAAM,OAAO,IAAA;AAElB,IAAA,uBACEA,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,gBAAA,EAAiB,WAAA,EAAY,SAAA,EACvC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,sBAAAC,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,QAAA,EAAS,KAAA,EAAO,IAAA,CAAK,MAAA,CAAO,WAAA,CAAY,QAAA,EAAS,EAAG,KAAA,EAAM,MAAA,EAAO,CAAA;AAAA,sBAChFA,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,cAAA,EAAe,KAAA,EAAO,CAAA,EAAG,IAAA,CAAK,MAAA,CAAO,WAAW,CAAA,MAAA,CAAA,EAAU,KAAA,EAAM,QAAA,EAAS,CAAA;AAAA,sBACxFF,IAAAA,CAACC,GAAAA,EAAA,EAAI,WAAW,CAAA,EACd,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,EAAA,EACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA,gBAAA,EAAc,CAAA,EAC/B,CAAA;AAAA,QACC,IAAA,CAAK,MAAA,CAAO,YAAA,GAAe,CAAA,mBAC1BH,IAAAA,CAACG,IAAAA,EAAA,EAAK,IAAA,EAAI,IAAA,EAAC,KAAA,EAAM,KAAA,EACd,QAAA,EAAA;AAAA,UAAA,IAAA,CAAK,MAAA,CAAO,YAAA;AAAA,UAAa;AAAA,SAAA,EAC5B,oBAEAD,GAAAA,CAACC,MAAA,EAAK,KAAA,EAAM,SAAQ,QAAA,EAAA,MAAA,EAAI;AAAA,OAAA,EAE5B;AAAA,KAAA,EACF,CAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,sBAAsB,MAAM;AAChC,IAAA,IAAI,CAAC,MAAM,OAAO,IAAA;AAElB,IAAA,uBACED,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,SAAA,EAAU,WAAA,EAAY,MAAA,EAChC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,sBAAAD,IAAAA,CAACC,KAAA,EACC,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,EAAA,EACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA,OAAA,EAAK,CAAA,EACtB,CAAA;AAAA,wBACAH,IAAAA,CAACG,IAAAA,EAAA,EAAM,QAAA,EAAA;AAAA,UAAA,cAAA,CAAe,IAAA,CAAK,QAAQ,IAAI,CAAA;AAAA,UAAE;AAAA,SAAA,EAAC,CAAA;AAAA,wBAC1CD,GAAAA,CAACC,IAAAA,EAAA,EAAK,IAAA,EAAI,MAAC,KAAA,EAAO,IAAA,CAAK,OAAA,CAAQ,IAAA,KAAS,YAAY,OAAA,GAAU,QAAA,EAC3D,eAAK,OAAA,CAAQ,IAAA,CAAK,aAAY,EACjC;AAAA,OAAA,EACF,CAAA;AAAA,sBACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,QAAA,WAAA;AAAA,QAAU,IAAA,CAAK,OAAA,CAAQ,aAAA,CAAc,IAAA,CAAK,IAAI;AAAA,OAAA,EAAE,CAAA,EACjE;AAAA,KAAA,EACF,CAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,uBAAuB,MAAM;AACjC,IAAA,IAAI,CAAC,MAAM,OAAO,IAAA;AAElB,IAAA,uBACED,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,iBAAA,EAAkB,WAAA,EAAY,QAAA,EACxC,QAAA,kBAAAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,aAAA,EAAc,UAChB,QAAA,EAAA,IAAA,CAAK,cAAA,CAAe,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA,CAAE,GAAA,CAAI,CAAC,UAAU,GAAA,qBAC9CD,IAAAA,CAACC,GAAAA,EAAA,EAAc,SAAA,EAAW,GAAA,GAAM,CAAA,GAAI,IAAI,CAAA,EACtC,QAAA,EAAA;AAAA,sBAAAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,KAAA,EAAO,IACV,QAAA,kBAAAC,GAAAA,CAACC,IAAAA,EAAA,EAAK,UAAQ,IAAA,EAAE,QAAA,EAAA,aAAA,CAAc,QAAA,CAAS,SAAS,GAAE,CAAA,EACpD,CAAA;AAAA,sBACAD,GAAAA,CAACD,GAAAA,EAAA,EAAI,OAAO,EAAA,EACV,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,KAAA,EAAO,cAAA,CAAe,QAAA,CAAS,MAAM,CAAA,EAAG,QAAA,EAAA;AAAA,QAAA,GAAA;AAAA,QAAE,QAAA,CAAS,IAAA;AAAA,QAAK;AAAA,OAAA,EAAC,CAAA,EACjE,CAAA;AAAA,sBACAD,GAAAA,CAACC,IAAAA,EAAA,EAAM,mBAAS,WAAA,EAAY;AAAA,KAAA,EAAA,EAPpB,GAQV,CACD,CAAA,EACH,CAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,qBAAqB,MAAM;AAC/B,IAAA,uBACED,GAAAA,CAAC,IAAA,EAAA,EAAK,KAAA,EAAM,eAAA,EAAgB,WAAA,EAAY,MAAA,EACtC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,sBAAAD,IAAAA,CAACG,MAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,sBAAA,EAAoB;AAAA,OAAA,EACrE,CAAA;AAAA,sBACAH,IAAAA,CAACG,IAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,SAAQ,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,mBAAA,EAAiB;AAAA,OAAA,EACjE,CAAA;AAAA,sBACAH,IAAAA,CAACG,IAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,QAAO,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,kBAAA,EAAgB;AAAA,OAAA,EAC/D,CAAA;AAAA,sBACAH,IAAAA,CAACG,IAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,WAAU,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,aAAA,EAAW;AAAA,OAAA,EAC7D,CAAA;AAAA,sBACAH,IAAAA,CAACG,IAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,QAAO,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,gBAAA,EAAc;AAAA,OAAA,EAC7D,CAAA;AAAA,sBACAH,IAAAA,CAACG,IAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,SAAQ,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,cAAA,EAAY;AAAA,OAAA,EAC5D,CAAA;AAAA,sBACAH,IAAAA,CAACG,IAAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,OAAM,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,QAAO,GAAA;AAAA,wBAACD,GAAAA,CAACC,IAAAA,EAAA,EAAK,QAAA,EAAQ,MAAC,QAAA,EAAA,MAAA,EAAI;AAAA,OAAA,EAClD;AAAA,KAAA,EACF,CAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAEA,EAAA,MAAM,yBAAyB,MAAM;AACnC,IAAA,IAAI,UAAU,SAAA,EAAW;AACvB,MAAA,uBACED,GAAAA,CAACD,GAAAA,EAAA,EAAI,eAAc,QAAA,EAAS,GAAA,EAAK,CAAA,EAC/B,QAAA,kBAAAC,IAAC,OAAA,EAAA,EAAQ,KAAA,EAAM,SAAA,EAAU,KAAA,EAAM,6BAA4B,CAAA,EAC7D,CAAA;AAAA,IAEJ;AAEA,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,uBACEF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EAAS,KAAK,CAAA,EAC/B,QAAA,EAAA;AAAA,wBAAAC,GAAAA;AAAA,UAAC,KAAA;AAAA,UAAA;AAAA,YACC,IAAA,EAAK,OAAA;AAAA,YACL,KAAA,EAAM,0BAAA;AAAA,YACN,OAAA,EAAS,KAAA;AAAA,YACT,UAAA,EAAU;AAAA;AAAA,SACZ;AAAA,wBACAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,UAAA,QAAA;AAAA,0BACPD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,UAAO,cAAA;AAAA,UAAa,GAAA;AAAA,0BAChDD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,UAAO;AAAA,SAAA,EAC/B,CAAA,EACF;AAAA,OAAA,EACF,CAAA;AAAA,IAEJ;AAEA,IAAA,IAAI,CAAC,MAAM,OAAO,IAAA;AAElB,IAAA,uBACEH,IAAAA,CAACC,GAAAA,EAAA,EAAI,eAAc,QAAA,EAChB,QAAA,EAAA;AAAA,MAAA,YAAA,EAAa;AAAA,sBAGdD,IAAAA,CAACC,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EAAG,KAAK,CAAA,EACtB,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACD,KAAA,EAAI,aAAA,EAAc,UAAS,QAAA,EAAU,CAAA,EACnC,+BAAoB,EACvB,CAAA;AAAA,wBACAC,IAACD,GAAAA,EAAA,EAAI,eAAc,QAAA,EAAS,QAAA,EAAU,CAAA,EACnC,QAAA,EAAA,qBAAA,EAAsB,EACzB;AAAA,OAAA,EACF,CAAA;AAAA,sBAGAD,IAAAA,CAACC,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EAAG,KAAK,CAAA,EACtB,QAAA,EAAA;AAAA,wBAAAC,GAAAA,CAACD,KAAA,EAAI,aAAA,EAAc,UAAS,QAAA,EAAU,CAAA,EACnC,gCAAqB,EACxB,CAAA;AAAA,wBACAC,IAACD,GAAAA,EAAA,EAAI,eAAc,QAAA,EAAS,QAAA,EAAU,CAAA,EACnC,QAAA,EAAA,mBAAA,EAAoB,EACvB;AAAA,OAAA,EACF,CAAA;AAAA,sBAGAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACb,gCAAqB,EACxB,CAAA;AAAA,sBAGAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACb,8BAAmB,EACtB,CAAA;AAAA,sBAGAC,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,GACd,QAAA,kBAAAC,GAAAA;AAAA,QAAC,KAAA;AAAA,QAAA;AAAA,UACC,IAAA,EAAK,MAAA;AAAA,UACL,OAAA,EAAQ,2DAAA;AAAA,UACR,UAAA,EAAY;AAAA;AAAA,OACd,EACF;AAAA,KAAA,EACF,CAAA;AAAA,EAEJ,CAAA;AAGA,EAAA,IAAI,WAAA,KAAgB,gBAAgB,KAAA,EAAO;AACzC,IAAA,uBAAOA,GAAAA,CAAC,UAAA,EAAA,EAAW,KAAA,EAAc,UAAU,IAAA,EAAM,CAAA;AAAA,EACnD;AAEA,EAAA,IAAI,gBAAgB,SAAA,EAAW;AAC7B,IAAA,uBAAOA,GAAAA,CAAC,OAAA,EAAA,EAAQ,KAAA,EAAc,WAAA,EAA0B,CAAA;AAAA,EAC1D;AAEA,EAAA,IAAI,gBAAgB,SAAA,EAAW;AAC7B,IAAA,uBACEA,GAAAA,CAAC,MAAA,EAAA,EAAO,KAAA,EAAM,4BAAA,EAAsB,UAAA,EAAY,KAAA,EAC9C,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,sBAAAC,GAAAA;AAAA,QAAC,KAAA;AAAA,QAAA;AAAA,UACC,IAAA,EAAK,MAAA;AAAA,UACL,KAAA,EAAM,kBAAA;AAAA,UACN,OAAA,EAAQ;AAAA;AAAA,OACV;AAAA,sBACAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,QAAA,QAAA;AAAA,wBACPD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,QAAO;AAAA,OAAA,EACrC,CAAA,EACF;AAAA,KAAA,EACF,CAAA,EACF,CAAA;AAAA,EAEJ;AAEA,EAAA,IAAI,gBAAgB,KAAA,EAAO;AACzB,IAAA,uBACED,GAAAA,CAAC,MAAA,EAAA,EAAO,KAAA,EAAM,uBAAA,EAAiB,UAAA,EAAY,KAAA,EACzC,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,sBAAAC,GAAAA;AAAA,QAAC,KAAA;AAAA,QAAA;AAAA,UACC,IAAA,EAAK,MAAA;AAAA,UACL,KAAA,EAAM,aAAA;AAAA,UACN,OAAA,EAAQ;AAAA;AAAA,OACV;AAAA,sBACAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,QAAA,QAAA;AAAA,wBACPD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,QAAO;AAAA,OAAA,EACrC,CAAA,EACF;AAAA,KAAA,EACF,CAAA,EACF,CAAA;AAAA,EAEJ;AAEA,EAAA,IAAI,gBAAgB,QAAA,EAAU;AAC5B,IAAA,uBACED,GAAAA,CAAC,MAAA,EAAA,EAAO,KAAA,EAAM,0BAAA,EAAoB,UAAA,EAAY,KAAA,EAC5C,QAAA,kBAAAF,IAAAA,CAACC,GAAAA,EAAA,EAAI,aAAA,EAAc,QAAA,EACjB,QAAA,EAAA;AAAA,sBAAAC,GAAAA;AAAA,QAAC,KAAA;AAAA,QAAA;AAAA,UACC,IAAA,EAAK,MAAA;AAAA,UACL,KAAA,EAAM,gBAAA;AAAA,UACN,OAAA,EAAQ;AAAA;AAAA,OACV;AAAA,sBACAA,GAAAA,CAACD,GAAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EACd,QAAA,kBAAAD,IAAAA,CAACG,IAAAA,EAAA,EAAK,QAAA,EAAQ,IAAA,EAAC,QAAA,EAAA;AAAA,QAAA,QAAA;AAAA,wBACPD,GAAAA,CAACC,IAAAA,EAAA,EAAK,KAAA,EAAM,UAAS,QAAA,EAAA,GAAA,EAAC,CAAA;AAAA,QAAO;AAAA,OAAA,EACrC,CAAA,EACF;AAAA,KAAA,EACF,CAAA,EACF,CAAA;AAAA,EAEJ;AAGA,EAAA,uBACED,IAAC,MAAA,EAAA,EAAO,KAAA,EAAM,iCAAyB,UAAA,EAAY,KAAA,EAChD,kCAAuB,EAC1B,CAAA;AAEJ,CAAA;;;A8B1mBO,IAAM,mBAAmB,IAAIpC,OAAAA,CAAQ,WAAW,CAAA,CACpD,WAAA,CAAY,4DAAqD,CAAA,CACjE,MAAA,CAAO,uBAAA,EAAyB,eAAe,EAC/C,MAAA,CAAO,mBAAA,EAAqB,sBAAsB,CAAA,CAClD,MAAA,CAAO,OAAO,OAAA,KAAY;AACzB,EAAA,MAAM,EAAE,eAAc,GAAI,MAAA;AAAA,IACxB6C,OAAAA,CAAM,cAAc,SAAA,EAAW;AAAA,MAC7B,OAAO,OAAA,CAAQ,KAAA;AAAA,MACf,aAAa,OAAA,CAAQ;AAAA,KACtB;AAAA,GACH;AACA,EAAA,MAAM,aAAA,EAAc;AACtB,CAAC,CAAA;;;ACHH,WAAA,EAAA;AAEA,gBAAA,EAAA;AAwBO,IAAM,eAAe,IAAI7C,OAAAA,CAAQ,OAAO,CAAA,CAC5C,YAAY,8CAA8C,CAAA;AAG7D,YAAA,CACG,OAAA,CAAQ,OAAO,CAAA,CACf,WAAA,CAAY,6DAA6D,EACzE,MAAA,CAAO,wBAAA,EAA0B,gEAAgE,CAAA,CACjG,MAAA,CAAO,2BAAA,EAA6B,sCAAsC,CAAA,CAC1E,MAAA,CAAO,6BAAA,EAA+B,iCAAiC,CAAA,CACvE,MAAA,CAAO,UAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAA0B;AACvC,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,yCAAkC,CAAC,CAAA;AAEpD,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,UAAA,GAAa,QAAQ,aAAa,CAAA;AACtC,IAAA,IAAI,CAAC,UAAA,EAAY;AACf,MAAA,MAAM,OAAA,GAAU,MAAMI,IAAAA,CAAK;AAAA,QACzB,OAAA,EAAS,oBAAA;AAAA,QACT,WAAA,EAAa,WAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,yBAAA;AACnB,UAAA,IAAI,KAAA,CAAM,MAAA,GAAS,CAAA,EAAG,OAAO,kCAAA;AAC7B,UAAA;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,OAAO,CAAA,EAAG;AACrB,QAAAC,OAAO,iBAAiB,CAAA;AACxB,QAAA;AAAA,MACF;AAEA,MAAA,UAAA,GAAa,OAAA,CAAQ,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IACvC;AAGA,IAAA,IAAI,WAAW,OAAA,CAAQ,QAAA;AACvB,IAAA,IAAI,CAAC,QAAA,EAAU;AACb,MAAA,MAAM,aAAA,GAAgB,MAAMK,MAAAA,CAAO;AAAA,QACjC,OAAA,EAAS,kBAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,OAAA,EAAS,KAAA,EAAO,8BAAA,EAA+B;AAAA,UACxD,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,8BAAA,EAA+B;AAAA,UAC1D,EAAE,KAAA,EAAO,OAAA,EAAS,KAAA,EAAO,gBAAA;AAAiB;AAC5C,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,aAAa,CAAA,EAAG;AAC3B,QAAAC,OAAO,iBAAiB,CAAA;AACxB,QAAA;AAAA,MACF;AAEA,MAAA,QAAA,GAAW,cAAc,QAAA,EAAS;AAAA,IACpC;AAGA,IAAA,IAAI,uBAAuB,OAAA,CAAQ,SAAA;AACnC,IAAA,IAAI,CAAC,oBAAA,EAAsB;AACzB,MAAAsC,IAAAA;AAAA,QACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,0BAA0B,CAAC;;AAAA;;AAAA,EAEtCA,OAAAA,CAAM,MAAA,CAAO,yBAAyB,CAAC;AAAA,uBAAA,EAChB,QAAQ,CAAA;AAAA,0CAAA,EACW,UAAU;AAAA;;AAAA,EAEpDA,OAAAA,CAAM,IAAA,CAAK,gCAAgC,CAAC,CAAA,CAAA;AAAA,QAC/C;AAAA,OACF;AAEA,MAAA,MAAM,QAAA,GAAW,MAAMa,IAAAA,CAAK;AAAA,QAC1B,OAAA,EAAS,4BAAA;AAAA,QACT,WAAA,EAAa,OAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,uBAAA;AACnB,UAAA,IAAI,CAAC,KAAA,CAAM,UAAA,CAAW,IAAI,GAAG,OAAO,8BAAA;AACpC,UAAA,IAAI,KAAA,CAAM,MAAA,GAAS,EAAA,EAAI,OAAO,0BAAA;AAC9B,UAAA;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,QAAQ,CAAA,EAAG;AACtB,QAAAC,OAAO,iBAAiB,CAAA;AACxB,QAAA;AAAA,MACF;AAEA,MAAA,oBAAA,GAAuB,QAAA,CAAS,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAClD;AAGA,IAAAsC,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC;AAAA,EAC5BA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,UAAU;AAAA,EACxCA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,IAAI,QAAQ;AAAA,EACnCA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,oBAAA,CAAqB,KAAA,CAAM,CAAA,EAAG,EAAE,CAAC,CAAA,GAAA,EAAM,oBAAA,CAAqB,KAAA,CAAM,EAAE,CAAC;AAAA,EACnGA,QAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,OAAO,OAAO;;AAAA,EACtCA,OAAAA,CAAM,MAAA,CAAO,oDAAoD,CAAC;AAAA,EAClEA,OAAAA,CAAM,IAAA,CAAK,6CAA6C,CAAC,CAAA,CAAA;AAAA,MAC5D;AAAA,KACF;AAEA,IAAA,MAAM,YAAA,GAAe,MAAMc,OAAAA,CAAQ;AAAA,MACjC,OAAA,EAAS;AAAA,KACV,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,YAAY,CAAA,IAAK,CAAC,YAAA,EAAc;AAC3C,MAAAC,OAAO,iBAAiB,CAAA;AACxB,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,iCAAiC,CAAA;AAEzC,IAAA,IAAI;AAEF,MAAA,MAAM,iBAAiB,MAAA,CAAO,IAAA,CAAK,qBAAqB,KAAA,CAAM,CAAC,GAAG,KAAK,CAAA;AAGvE,MAAA,MAAM,MAAA,GAAS,MAAM,UAAA,CAAW,MAAA,CAAO,UAAA;AAAA,QACrC,YAAY,MAAM,CAAA;AAAA,QAClB;AAAA,UACE,UAAA;AAAA,UACA,QAAA;AAAA,UACA,oBAAA,EAAsB,IAAI,UAAA,CAAW,cAAc;AAAA;AACrD,OACF;AAEA,MAAA,CAAA,CAAE,KAAK,mCAA8B,CAAA;AAErC,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,MAAA,CAAO,SAAA,EAAW,QAAQ,CAAA;AAE7D,MAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,QAAA,OAAA,CAAQ,GAAA,CAAI,KAAK,SAAA,CAAU;AAAA,UACzB,OAAA,EAAS,IAAA;AAAA,UACT,cAAc,MAAA,CAAO,YAAA;AAAA,UACrB,WAAW,MAAA,CAAO,SAAA;AAAA,UAClB,UAAA;AAAA,UACA,QAAA;AAAA,UACA;AAAA,SACF,EAAG,IAAA,EAAM,CAAC,CAAC,CAAA;AACX,QAAA;AAAA,MACF;AAEA,MAAAG,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,KAAA,CAAM,oCAA+B,CAAC;;AAAA,EAC5CA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC;AAAA,EAC5BA,OAAAA,CAAM,KAAK,gBAAgB,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,MAAA,CAAO,YAAY,CAAC;AAAA,EAC/DA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,UAAU;AAAA,EACxCA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,IAAI,QAAQ;AAAA,EACnCA,QAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA,EAAI,OAAO,SAAS;;AAAA,EAC9CA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC;AAAA,EACzBA,OAAAA,CAAM,KAAK,QAAG,CAAC,kCAAkCA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC;AAAA,EAC/EA,OAAAA,CAAM,KAAK,QAAG,CAAC,sBAAsBA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC;AAAA,EACnEA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;;AAAA,EACfA,OAAAA,CAAM,KAAK,WAAW,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA;AAAA,OACvD;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,8BAAyB,CAAA;AAChC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,iBAAA,EAAoB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC1F;AACF,CAAC,CAAA;AAGH,YAAA,CACG,OAAA,CAAQ,MAAM,CAAA,CACd,WAAA,CAAY,qDAAqD,EACjE,MAAA,CAAO,uBAAA,EAAyB,eAAe,CAAA,CAC/C,MAAA,CAAO,wBAAA,EAA0B,2BAA2B,CAAA,CAC5D,MAAA,CAAO,2BAAA,EAA6B,eAAe,CAAA,CACnD,MAAA,CAAO,+BAA+B,2BAA2B,CAAA,CACjE,MAAA,CAAO,OAAO,OAAA,KAAyB;AACtC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,qCAA8B,CAAC,CAAA;AAEhD,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,gBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,qCAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,gBAAgB,CAAA;AACvB,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,SAAA,GAAYtB,QAAQ,YAAY,CAAA;AAGtC,IAAA,CAAA,CAAE,MAAM,oBAAoB,CAAA;AAC5B,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,MAAA,CAAO,SAAS,SAAS,CAAA;AAE5D,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,2BAAA,EAA8B,YAAY,EAAE,CAAC,CAAA;AAC7D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,uBAAkB,CAAA;AAGzB,IAAA,IAAI,UAAA,GAAa,QAAQ,aAAa,CAAA;AACtC,IAAA,IAAI,CAAC,UAAA,EAAY;AACf,MAAA,MAAM,OAAA,GAAU,MAAMa,IAAAA,CAAK;AAAA,QACzB,OAAA,EAAS,4BAAA;AAAA,QACT,WAAA,EAAa,WAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,yBAAA;AACnB,UAAA,IAAI,KAAA,CAAM,MAAA,GAAS,CAAA,EAAG,OAAO,kCAAA;AAC7B,UAAA;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,OAAO,CAAA,EAAG;AACrB,QAAAC,OAAO,gBAAgB,CAAA;AACvB,QAAA;AAAA,MACF;AAEA,MAAA,UAAA,GAAa,OAAA,CAAQ,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IACvC;AAGA,IAAA,IAAI,WAAW,OAAA,CAAQ,QAAA;AACvB,IAAA,IAAI,CAAC,QAAA,EAAU;AACb,MAAA,MAAM,aAAA,GAAgB,MAAMK,MAAAA,CAAO;AAAA,QACjC,OAAA,EAAS,kBAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,OAAA,EAAS,KAAA,EAAO,OAAA,EAAQ;AAAA,UACjC,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,SAAA,EAAU;AAAA,UACrC,EAAE,KAAA,EAAO,OAAA,EAAS,KAAA,EAAO,OAAA;AAAQ;AACnC,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,aAAa,CAAA,EAAG;AAC3B,QAAAC,OAAO,gBAAgB,CAAA;AACvB,QAAA;AAAA,MACF;AAEA,MAAA,QAAA,GAAW,cAAc,QAAA,EAAS;AAAA,IACpC;AAGA,IAAA,IAAI,uBAAuB,OAAA,CAAQ,SAAA;AACnC,IAAA,IAAI,CAAC,oBAAA,EAAsB;AACzB,MAAA,MAAM,QAAA,GAAW,MAAMM,IAAAA,CAAK;AAAA,QAC1B,OAAA,EAAS,4BAAA;AAAA,QACT,WAAA,EAAa,OAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,uBAAA;AACnB,UAAA,IAAI,CAAC,KAAA,CAAM,UAAA,CAAW,IAAI,GAAG,OAAO,8BAAA;AACpC,UAAA;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,QAAQ,CAAA,EAAG;AACtB,QAAAC,OAAO,gBAAgB,CAAA;AACvB,QAAA;AAAA,MACF;AAEA,MAAA,oBAAA,GAAuB,QAAA,CAAS,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAClD;AAGA,IAAA,MAAM,WAAA,GAAc,MAAMO,OAAAA,CAAQ;AAAA,MAChC,OAAA,EAAS,qBAAqB,UAAU,CAAA,gBAAA;AAAA,KACzC,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,WAAW,CAAA,IAAK,CAAC,WAAA,EAAa;AACzC,MAAAC,OAAO,gBAAgB,CAAA;AACvB,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,sCAAsC,CAAA;AAE9C,IAAA,IAAI;AACF,MAAA,MAAM,iBAAiB,MAAA,CAAO,IAAA,CAAK,qBAAqB,KAAA,CAAM,CAAC,GAAG,KAAK,CAAA;AAEvE,MAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,MAAA,CAAO,cAAA;AAAA,QACxC,YAAY,MAAM,CAAA;AAAA,QAClB;AAAA,UACE,YAAA,EAAc,SAAA;AAAA,UACd,UAAA;AAAA,UACA,QAAA;AAAA,UACA,oBAAA,EAAsB,IAAI,UAAA,CAAW,cAAc;AAAA;AACrD,OACF;AAEA,MAAA,CAAA,CAAE,KAAK,wCAAmC,CAAA;AAE1C,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,SAAA,EAAW,QAAQ,CAAA;AAEtD,MAAAG,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,KAAA,CAAM,4BAAuB,CAAC;;AAAA,EACpCA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,IAAI,YAAY;AAAA,EAC5CA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,UAAU;AAAA,EACxCA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,IAAI,QAAQ;AAAA,EACnCA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,SAAS;;AAAA,EACvCA,OAAAA,CAAM,KAAK,WAAW,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA;AAAA,OACvD;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,mCAA8B,CAAA;AACrC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,gBAAA,EAAmB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACzF;AACF,CAAC,CAAA;AAGH,YAAA,CACG,QAAQ,MAAM,CAAA,CACd,WAAA,CAAY,uCAAuC,EACnD,MAAA,CAAO,uBAAA,EAAyB,yBAAyB,CAAA,CACzD,OAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAAyB;AACtC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,OAAA,CAAQ,uBAAgB,CAAC,CAAA;AAErC,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,oBAAoB,CAAA;AAE5B,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,MAAM,YAAY,OAAA,CAAQ,KAAA,GAAQxB,QAAQ,OAAA,CAAQ,KAAK,IAAI,MAAA,CAAO,OAAA;AAGlE,IAAA,MAAM,MAAA,GAAS,MAAM,UAAA,CAAW,MAAA,CAAO,iBAAiB,SAAS,CAAA;AAEjE,IAAA,CAAA,CAAE,IAAA,CAAK,CAAA,aAAA,EAAW,MAAA,CAAO,MAAM,CAAA,SAAA,CAAW,CAAA;AAE1C,IAAA,IAAI,MAAA,CAAO,WAAW,CAAA,EAAG;AACvB,MAAAyB,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,iBAAiB,CAAC;;AAAA,EAC/BA,OAAAA,CAAM,IAAA,CAAK,0BAA0B,CAAC;AAAA,EACtCA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA;AAAA,OACpC;AACA,MAAA;AAAA,IACF;AAEA,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,OAAA,CAAQ,IAAI,IAAA,CAAK,SAAA,CAAU,MAAA,EAAQ,IAAA,EAAM,CAAC,CAAC,CAAA;AAC3C,MAAA;AAAA,IACF;AAGA,IAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,MAAA,CAAO,QAAQ,CAAA,EAAA,EAAK;AACtC,MAAA,MAAM,KAAA,GAAQ,OAAO,CAAC,CAAA;AACtB,MAAA,OAAA,CAAQ,GAAA,CAAI;AAAA,EAAKA,OAAAA,CAAM,KAAK,IAAA,CAAK,CAAA,MAAA,EAAS,IAAI,CAAC,CAAA,CAAA,CAAG,CAAC,CAAA,CAAE,CAAA;AACrD,MAAA,OAAA,CAAQ,GAAA,CAAI,GAAGA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,KAAA,CAAM,OAAO,CAAA,CAAE,CAAA;AACxD,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,KAAA,CAAM,IAAA,CAAK,MAAM,CAAA,CAAE,CAAA;AAC3D,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA,EAAI,MAAA,CAAO,KAAA,CAAM,IAAA,CAAK,UAAU,CAAA,GAAI,GAAG,CAAA,CAAE,CAAA;AAClF,MAAA,OAAA,CAAQ,IAAI,CAAA,EAAGA,OAAAA,CAAM,KAAK,UAAU,CAAC,IAAI,IAAI,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,KAAK,SAAS,CAAA,GAAI,GAAI,CAAA,CAAE,kBAAA,EAAoB,CAAA,CAAE,CAAA;AAE7G,MAAA,IAAI,MAAM,IAAA,CAAK,SAAA,IAAa,MAAM,IAAA,CAAK,SAAA,CAAU,SAAS,CAAA,EAAG;AAC3D,QAAA,OAAA,CAAQ,IAAI,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC,CAAA,CAAE,CAAA;AAC1C,QAAA,KAAA,CAAM,IAAA,CAAK,SAAA,CAAU,OAAA,CAAQ,CAAC,EAAA,KAAiD;AAC7E,UAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,CAAA,EAAI,EAAA,CAAG,QAAQ,CAAA,EAAA,EAAK,EAAA,CAAG,UAAU,CAAA,CAAE,CAAA;AAAA,QACrE,CAAC,CAAA;AAAA,MACH;AAAA,IACF;AAEA,IAAAU,KAAAA;AAAA,MACE;AAAA,EAAKV,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC;AAAA,EACzBA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA;AAAA,EAC/BA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA,oBAAA;AAAA,KACnC;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,uBAAA,EAA0B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAChG;AACF,CAAC,CAAA;AAGH,YAAA,CACG,OAAO,YAAY;AAClB,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,OAAA,CAAQ,uCAAgC,CAAC,CAAA;AAErD,EAAAD,IAAI,IAAA,CAAK;AAAA,EAAKC,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC;AAAA,CAAI,CAAA;AACnD,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,wCAAA,CAA0C,CAAA;AACrF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA,0CAAA,CAA4C,CAAA;AACtF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA,mBAAA,CAAqB,CAAA;AAE/D,EAAA6C,IAAAA;AAAA,IACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC;;AAAA;AAAA;AAAA;;AAAA,EAI9BA,OAAAA,CAAM,MAAA,CAAO,sBAAsB,CAAC;AAAA,EACpCA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EACfA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EACfA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,sCAAA,CAAA;AAAA,IAClB;AAAA,GACF;AAEA,EAAAU,MAAM,8CAA8C,CAAA;AACtD,CAAC,CAAA;;;ACpcH,WAAA,EAAA;AAEA,kBAAA,EAAA;ACQA,eAAsB,aAAA,GAAoC;AAExD,EAAA,MAAM,kBAAA,GAAqBtB,IAAAA,CAAK,OAAA,CAAQ,GAAA,IAAO,oCAAoC,CAAA;AACnF,EAAA,MAAM,oBAAA,GAAuBA,IAAAA,CAAK,OAAA,CAAQ,GAAA,IAAO,sCAAsC,CAAA;AAGvF,EAAA,MAAM,eAAA,GAAkBA,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,iBAAiB,CAAA;AACxE,EAAA,MAAM,iBAAA,GAAoBD,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,mBAAmB,CAAA;AAE5E,EAAA,IAAI,UAAA,GAAaH,UAAAA,CAAW,kBAAkB,CAAA,GAAI,kBAAA,GAAqB,eAAA;AACvE,EAAA,IAAI,YAAA,GAAeA,UAAAA,CAAW,oBAAoB,CAAA,GAAI,oBAAA,GAAuB,iBAAA;AAE7E,EAAA,IAAI,CAACA,UAAAA,CAAW,UAAU,CAAA,EAAG;AAC3B,IAAA,MAAM,IAAI,KAAA;AAAA,MACR;AAAA,KAEF;AAAA,EACF;AAEA,EAAA,IAAI,CAACA,UAAAA,CAAW,YAAY,CAAA,EAAG;AAC7B,IAAA,MAAM,IAAI,KAAA;AAAA,MACR;AAAA,KAEF;AAAA,EACF;AAGA,EAAA,MAAMC,UAAS,IAAA,CAAK,KAAA,CAAMI,YAAAA,CAAa,UAAA,EAAY,OAAO,CAAC,CAAA;AAC3D,EAAA,MAAM,WAAW,IAAA,CAAK,KAAA,CAAMA,YAAAA,CAAa,YAAA,EAAc,OAAO,CAAC,CAAA;AAG/D,EAAA,MAAM,qBAAA,GAAwB,IAAI,UAAA,CAAW,QAAA,CAAS,iBAAiB,CAAA;AACvE,EAAA,MAAM,gBAAA,GAAmB,MAAME,8BAAAA,CAA6B,qBAAqB,CAAA;AAEjF,EAAA,OAAO;AAAA,IACL,aAAA,EAAeR,OAAAA,CAAQE,OAAAA,CAAO,aAAa,CAAA;AAAA,IAC3C,mBAAA,EAAqBF,OAAAA,CAAQE,OAAAA,CAAO,OAAA,CAAQ,cAAc,CAAA;AAAA,IAC1D,SAAA,EAAWF,OAAAA,CAAQE,OAAAA,CAAO,SAAS,CAAA;AAAA,IACnC;AAAA,GACF;AACF;AASA,eAAsB,gCAAgC,MAAA,EAgBnD;AACD,EAAA,MAAM,EAAE,SAAA,EAAW,KAAA,EAAO,qBAAqB,SAAA,EAAW,UAAA,GAAa,KAAI,GAAI,MAAA;AAG/E,EAAA,MAAM,CAAC,cAAc,CAAA,GAAI,MAAM,oBAAA,CAAqB;AAAA,IAClD,YAAY,SAAA,CAAU,aAAA;AAAA,IACtB,QAAQ,SAAA,CAAU,mBAAA;AAAA,IAClB,KAAA,EAAO;AAAA,GACR,CAAA;AAGD,EAAA,MAAM,eAAA,GAAkB,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,GAAA,KAAQ,GAAI,CAAA,GAAI,UAAA,GAAa,EAAA,GAAK,EAAA,GAAK,EAAA;AAI/E,EAAA,MAAM,YAAA,GAA6B;AAAA,IACjC,MAAA,EAAQ,IAAI,UAAA,CAAW;AAAA,MACrB,CAAA;AAAA;AAAA,MACA,CAAA;AAAA;AAAA,MACA,CAAA;AAAA;AAAA,MACA,CAAA;AAAA;AAAA,MACA,CAAA;AAAA;AAAA,MACA,CAAA;AAAA;AAAA,MACA,CAAA;AAAA;AAAA,MACA,CAAA;AAAA;AAAA,MACA;AAAA;AAAA,KACD,CAAA;AAAA,IACD,UAAA,EAAY;AAAA,MACV,OAAA;AAAA,MACA,KAAA;AAAA,MACA,MAAA;AAAA,MACA,cAAA;AAAA,MACA,aAAA;AAAA,MACA,qBAAA;AAAA,MACA,OAAA;AAAA,MACA,cAAA;AAAA,MACA;AAAA;AACF,GACF;AAGA,EAAA,MAAM,cAAA,GAAiB,wBAAA,CAAyB,YAAA,EAAc,SAAS,CAAA;AAGvE,EAAA,MAAM,WAAA,GAAc,MAAM,+BAAA,CAAgC;AAAA,IACxD,KAAA;AAAA,IACA,WAAW,SAAA,CAAU,gBAAA;AAAA,IACrB,YAAY,SAAA,CAAU,aAAA;AAAA,IACtB,QAAQ,SAAA,CAAU,mBAAA;AAAA,IAClB,WAAA,EAAa,cAAA;AAAA,IACb,KAAA,EAAO,mBAAA;AAAA,IACP,MAAA,EAAQ,eAAA;AAAA,IACR,IAAA,EAAM;AAAA,GACP,CAAA;AAED,EAAA,OAAO;AAAA,IACL,WAAA;AAAA,IACA,cAAA;AAAA,IACA;AAAA,GACF;AACF;AD/HuBF,QAAQ,8CAA8C;AAmCtE,IAAM,oBAAoB,IAAImC,OAAAA,CAAQ,aAAa,CAAA,CACvD,WAAA,CAAY,qFAA8E,CAAA,CAC1F,MAAA,CAAO,QAAA,EAAU,+CAA+C,EAChE,MAAA,CAAO,2BAAA,EAA6B,iCAAiC,CAAA,CACrE,MAAA,CAAO,OAAO,OAAA,KAAY;AACzB,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,oCAA6B,CAAC,CAAA;AAE/C,EAAA,IAAI;AAEF,IAAA,MAAM,SAAA,GAAY,OAAA,CAAQ,GAAA,CAAI,UAAA,IAAc,QAAQ,GAAA,CAAI,sBAAA;AACxD,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAAD,GAAAA,CAAI,MAAM,yCAAyC,CAAA;AACnD,MAAAA,GAAAA,CAAI,KAAK,4DAAqD,CAAA;AAC9D,MAAAA,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,qCAAqC,CAAC,CAAA;AAC1D,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,gEAAgE,CAAC,CAAA;AACrF,MAAAU,KAAAA,CAAMV,OAAAA,CAAM,GAAA,CAAI,wBAAwB,CAAC,CAAA;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAGlB,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,CAAA,CAAE,MAAM,2CAA2C,CAAA;AAEnD,MAAA,MAAMiE,oBAAmB,MAAM,qBAAA,CAAsB,EAAE,KAAA,EAAO,KAAK,CAAA;AAEnE,MAAA,CAAA,CAAE,IAAA,CAAK,CAAA,aAAA,EAAWA,iBAAAA,CAAiB,MAAM,CAAA,kBAAA,CAAoB,CAAA;AAE7D,MAAA,IAAIA,iBAAAA,CAAiB,WAAW,CAAA,EAAG;AACjC,QAAAhE,KAAAA,CAAMV,OAAAA,CAAM,MAAA,CAAO,4BAA4B,CAAC,CAAA;AAChD,QAAA;AAAA,MACF;AAEA,MAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOA,OAAAA,CAAM,IAAA,CAAK,gCAAgC,CAAC,CAAA;AAC/D,MAAA,OAAA,CAAQ,GAAA,CAAI,QAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA;AAE1B,MAAA0E,iBAAAA,CAAiB,MAAM,CAAA,EAAG,EAAE,EAAE,OAAA,CAAQ,CAAC,OAAO,CAAA,KAAM;AAClD,QAAA,OAAA,CAAQ,GAAA,CAAI1E,QAAM,IAAA,CAAK;AAAA,EAAK,IAAI,CAAC,CAAA,EAAA,EAAK,KAAA,CAAM,YAAY,EAAE,CAAC,CAAA;AAC3D,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,eAAA,EAAkB,IAAI,IAAA,CAAK,KAAA,CAAM,kBAAkB,CAAA,CAAE,kBAAA,EAAoB,CAAA,CAAE,CAAC,CAAA;AACnG,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,KAAA,CAAM,eAAe,EAAE,CAAC,CAAA;AAChE,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,gBAAA,EAAmB,MAAM,kBAAA,IAAsB,KAAK,EAAE,CAAC,CAAA;AAC9E,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,cAAc,KAAA,CAAM,MAAM,EAAE,CAAC,CAAA;AAAA,MACtD,CAAC,CAAA;AAED,MAAA,IAAI0E,iBAAAA,CAAiB,SAAS,EAAA,EAAI;AAChC,QAAA,OAAA,CAAQ,GAAA,CAAI1E,QAAM,IAAA,CAAK;AAAA,QAAA,EAAa0E,iBAAAA,CAAiB,MAAA,GAAS,EAAE,CAAA,KAAA,CAAO,CAAC,CAAA;AAAA,MAC1E;AAEA,MAAAhE,KAAAA;AAAA,QACE;AAAA,EAAKV,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC;AAAA,EACjCA,OAAAA,CAAM,IAAA,CAAK,6CAA6C,CAAC;;AAAA,EACzDA,OAAAA,CAAM,IAAA,CAAK,uDAAuD,CAAC;AAAA,EACnEA,OAAAA,CAAM,IAAA,CAAK,8BAA8B,CAAC,CAAA;AAAA,OAC/C;AACA,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,eAAe,OAAA,CAAQ,YAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,CAAA,CAAE,MAAM,8BAA8B,CAAA;AAEtC,MAAA,MAAM0E,iBAAAA,GAAmB,MAAM,qBAAA,CAAsB;AAAA,QACnD,MAAA,EAAQ,YAAA;AAAA,QACR,KAAA,EAAO;AAAA,OACR,CAAA;AAED,MAAA,CAAA,CAAE,IAAA,CAAK,CAAA,aAAA,EAAWA,iBAAAA,CAAiB,MAAM,CAAA,iBAAA,CAAmB,CAAA;AAE5D,MAAA,IAAIA,iBAAAA,CAAiB,WAAW,CAAA,EAAG;AACjC,QAAAhE,KAAAA,CAAMV,OAAAA,CAAM,MAAA,CAAO,2BAA2B,CAAC,CAAA;AAC/C,QAAA;AAAA,MACF;AAEA,MAAA,MAAM,cAAA,GAAiB,MAAMY,MAAAA,CAAO;AAAA,QAClC,OAAA,EAAS,0BAAA;AAAA,QACT,OAAA,EAAS8D,iBAAAA,CAAiB,GAAA,CAAI,CAAC,OAAO,CAAA,MAAO;AAAA,UAC3C,OAAO,KAAA,CAAM,YAAA;AAAA,UACb,KAAA,EAAO,CAAA,EAAG,CAAA,GAAI,CAAC,CAAA,EAAA,EAAK,KAAA,CAAM,YAAA,CAAa,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,KAAA,EAAQ,MAAM,eAAe,CAAA,CAAA;AAAA,SACjF,CAAE;AAAA,OACH,CAAA;AAED,MAAA,IAAIpE,QAAAA,CAAS,cAAc,CAAA,EAAG;AAC5B,QAAAC,OAAO,iBAAiB,CAAA;AACxB,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,eAAe,QAAA,EAAS;AAAA,IACzC;AAGA,IAAA,IAAI,SAAA;AACJ,IAAA,IAAI;AACF,MAAA,SAAA,GAAYtB,QAAQ,YAAY,CAAA;AAAA,IAClC,SAAS,KAAA,EAAO;AACd,MAAAc,GAAAA,CAAI,KAAA,CAAMC,OAAAA,CAAM,GAAA,CAAI,qCAAgC,CAAC,CAAA;AACrD,MAAAD,IAAI,IAAA,CAAKC,OAAAA,CAAM,KAAK,CAAA,UAAA,EAAa,YAAY,EAAE,CAAC,CAAA;AAChD,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,8DAA8D,CAAC,CAAA;AACrF,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,uDAAuD,CAAC,CAAA;AAC5E,MAAAU,KAAAA,CAAMV,OAAAA,CAAM,GAAA,CAAI,iBAAiB,CAAC,CAAA;AAClC,MAAA;AAAA,IACF;AAGA,IAAA,OAAA,CAAQ,GAAA,CAAI;AAAA,EAAKA,QAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA,CAAA,EAAI,SAAS,CAAA,CAAE,CAAA;AAG5D,IAAA,CAAA,CAAE,MAAM,+BAA+B,CAAA;AACvC,IAAA,MAAM,EAAE,MAAA,EAAQ,GAAA,EAAI,GAAI,MAAM,gBAAA,EAAiB;AAC/C,IAAA,CAAA,CAAE,KAAK,2BAAsB,CAAA;AAG7B,IAAA,CAAA,CAAE,MAAM,mBAAmB,CAAA;AAC3B,IAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,GAAA,CAAI,aAAA,IAAiBe,IAAAA,CAAK,KAAK,OAAA,CAAQ,GAAA,CAAI,IAAA,IAAQ,EAAA,EAAI,wBAAwB,CAAA;AAE1G,IAAA,IAAI,CAACC,GAAAA,CAAG,UAAA,CAAW,UAAU,CAAA,EAAG;AAC9B,MAAA,CAAA,CAAE,IAAA,CAAKhB,OAAAA,CAAM,GAAA,CAAI,yBAAoB,CAAC,CAAA;AACtC,MAAAD,GAAAA,CAAI,KAAA,CAAM,CAAA,UAAA,EAAa,UAAU,CAAA,CAAE,CAAA;AACnC,MAAAA,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,+DAA+D,CAAC,CAAA;AACtF,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA;AACxC,MAAAU,KAAAA,CAAMV,OAAAA,CAAM,GAAA,CAAI,iBAAiB,CAAC,CAAA;AAClC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,cAAA,GAAiB,IAAI,UAAA,CAAW,IAAA,CAAK,KAAA,CAAMgB,IAAG,YAAA,CAAa,UAAA,EAAY,OAAO,CAAC,CAAC,CAAA;AACtF,IAAA,MAAM,OAAA,GAAU,MAAMvB,8BAAAA,CAA6B,cAAc,CAAA;AACjE,IAAA,CAAA,CAAE,IAAA,CAAK,CAAA,sBAAA,EAAoB,OAAA,CAAQ,OAAO,CAAA,CAAE,CAAA;AAG5C,IAAA,CAAA,CAAE,MAAM,8BAA8B,CAAA;AACtC,IAAA,IAAI,SAAA;AACJ,IAAA,IAAI;AACF,MAAA,SAAA,GAAY,MAAM,aAAA,EAAc;AAChC,MAAA,CAAA,CAAE,KAAK,0BAAqB,CAAA;AAAA,IAC9B,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,IAAA,CAAKO,OAAAA,CAAM,GAAA,CAAI,6BAAwB,CAAC,CAAA;AAC1C,MAAAD,IAAI,KAAA,CAAM,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,UAAU,eAAe,CAAA;AAClE,MAAAW,KAAAA,CAAMV,OAAAA,CAAM,GAAA,CAAI,gBAAgB,CAAC,CAAA;AACjC,MAAA;AAAA,IACF;AAGA,IAAA,CAAA,CAAE,MAAM,2BAA2B,CAAA;AACnC,IAAA,MAAM,mBAAmB,MAAM,qBAAA,CAAsB,EAAE,KAAA,EAAO,KAAK,CAAA;AACnE,IAAA,MAAM,YAAY,gBAAA,CAAiB,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,iBAAiB,SAAS,CAAA;AAE3E,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,IAAA,CAAKA,OAAAA,CAAM,GAAA,CAAI,8CAAyC,CAAC,CAAA;AAC3D,MAAAD,IAAI,KAAA,CAAMC,OAAAA,CAAM,IAAI,CAAA,MAAA,EAAS,SAAS,2BAA2B,CAAC,CAAA;AAClE,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,gCAAyB,CAAC,CAAA;AAChD,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,+CAA+C,CAAC,CAAA;AACpE,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,4CAA4C,CAAC,CAAA;AACjE,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,mCAAmC,CAAC,CAAA;AACxD,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,gDAAsC,CAAC,CAAA;AAC3D,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,4BAA4B,CAAC,CAAA;AACjD,MAAAU,KAAAA,CAAMV,OAAAA,CAAM,GAAA,CAAI,iBAAiB,CAAC,CAAA;AAClC,MAAA;AAAA,IACF;AAGA,IAAA,IAAI,SAAA,CAAU,WAAW,SAAA,EAAW;AAClC,MAAA,CAAA,CAAE,IAAA,CAAKA,OAAAA,CAAM,MAAA,CAAO,qCAA2B,CAAC,CAAA;AAChD,MAAAD,GAAAA,CAAI,KAAKC,OAAAA,CAAM,MAAA,CAAO,6BAA6B,SAAA,CAAU,SAAA,IAAa,cAAc,CAAA,CAAE,CAAC,CAAA;AAC3F,MAAA,IAAI,UAAU,SAAA,EAAW;AACvB,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,CAAA,YAAA,EAAe,IAAI,IAAA,CAAK,SAAA,CAAU,SAAS,CAAA,CAAE,cAAA,EAAgB,EAAE,CAAC,CAAA;AAAA,MACtF;AACA,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,4CAAkC,CAAC,CAAA;AACvD,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,4BAA4B,CAAC,CAAA;AACjD,MAAAU,KAAAA,CAAMV,OAAAA,CAAM,MAAA,CAAO,mBAAmB,CAAC,CAAA;AACvC,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,6BAAwB,CAAA;AAG/B,IAAA,OAAA,CAAQ,GAAA,CAAI;AAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA,CAAE,CAAA;AAC/C,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,cAAA,EAAiB,IAAI,IAAA,CAAK,SAAA,CAAU,kBAAkB,CAAA,CAAE,kBAAA,EAAoB,CAAA,CAAE,CAAC,CAAA;AACtG,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,SAAA,CAAU,eAAe,EAAE,CAAC,CAAA;AACnE,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,eAAA,EAAkB,UAAU,kBAAA,IAAsB,KAAK,EAAE,CAAC,CAAA;AACjF,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,SAAA,CAAU,MAAM,EAAE,CAAC,CAAA;AAE/D,IAAA,MAAM,YAAA,GAAe,MAAMc,OAAAA,CAAQ;AAAA,MACjC,SAAS,CAAA,oBAAA,EAAuB,OAAA,CAAQ,QAAQ,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,IAAA;AAAA,KAC5D,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,YAAY,CAAA,IAAK,CAAC,YAAA,EAAc;AAC3C,MAAAC,OAAO,iBAAiB,CAAA;AACxB,MAAA;AAAA,IACF;AAGA,IAAA,MAAM,OAAA,GAAU,QAAA;AAChB,IAAA,MAAM,SAAA,GAAY;AAAA,MAChB,KAAA,EAAO,SAAA;AAAA,MACP,GAAA,EAAK,CAAA,QAAA,EAAW,OAAO,CAAA,CAAA,EAAI,SAAS,CAAA,CAAA;AAAA,MACpC,MAAM,CAAA,YAAA,EAAe,SAAA,CAAU,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,CAAA;AAAA,MAC1C,YAAA,EAAc,gCAAA;AAAA,MACd,WAAA,EAAa,IAAA;AAAA,MACb,mBAAA,EAAqB,UAAU,kBAAA,IAAsB,EAAA;AAAA,MACrD,OAAO,OAAA,CAAQ,OAAA;AAAA,MACf,cAAc,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,GAAA,KAAQ,GAAI,CAAA;AAAA,MAC1C,UAAU,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,GAAA,KAAQ,GAAI;AAAA,KACxC;AAGA,IAAA,CAAA,CAAE,MAAM,6BAA6B,CAAA;AACrC,IAAA,IAAI,iBAAA;AACJ,IAAA,IAAI;AACF,MAAA,iBAAA,GAAoB,MAAM,+BAAA,CAAgC;AAAA,QACxD,SAAA;AAAA,QACA,KAAA,EAAO,OAAA;AAAA,QACP,mBAAA,EAAqB,SAAA;AAAA,QACrB,SAAA;AAAA,QACA,UAAA,EAAY;AAAA,OACb,CAAA;AACD,MAAA,CAAA,CAAE,KAAK,CAAA,2BAAA,CAAwB,CAAA;AAC/B,MAAAR,GAAAA,CAAI,KAAKC,OAAAA,CAAM,IAAA,CAAK,sBAAsB,iBAAA,CAAkB,cAAc,EAAE,CAAC,CAAA;AAAA,IAC/E,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,IAAA,CAAKA,OAAAA,CAAM,GAAA,CAAI,qCAAgC,CAAC,CAAA;AAClD,MAAAD,GAAAA,CAAI,MAAMC,OAAAA,CAAM,GAAA,CAAI,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAC,CAAA;AAC7E,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,6BAAsB,CAAC,CAAA;AAC7C,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,8CAA8C,CAAC,CAAA;AACnE,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,sDAAsD,CAAC,CAAA;AAC3E,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,qDAAqD,CAAC,CAAA;AAC1E,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,0BAAgB,CAAC,CAAA;AACrC,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,uDAAuD,CAAC,CAAA;AAC5E,MAAAU,KAAAA,CAAMV,OAAAA,CAAM,GAAA,CAAI,6BAA6B,CAAC,CAAA;AAC9C,MAAA;AAAA,IACF;AAGA,IAAA,CAAA,CAAE,MAAM,kCAAkC,CAAA;AAC1C,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,gBAAA,EAAAoD,iBAAAA,EAAiB,GAAI,MAAM,OAAO,iBAAiB,CAAA;AAC3D,MAAA,MAAM;AAAA,QACJ,wBAAA,EAAAuB,yBAAAA;AAAA,QACA,mCAAA,EAAAC,oCAAAA;AAAA,QACA,2CAAA,EAAAC,4CAAAA;AAAA,QACA,mCAAA,EAAAC,oCAAAA;AAAA,QACA,IAAA,EAAAC,KAAAA;AAAA,QACA,iCAAA,EAAAC,kCAAAA;AAAA,QACA,gCAAA,EAAAC;AAAA,OACF,GAAI,MAAM,OAAO,aAAa,CAAA;AAE9B,MAAA,MAAM,WAAA,GAAc,IAAI7B,iBAAAA,CAAiB;AAAA,QACvC,GAAA;AAAA,QACA,OAAA,EAAS;AAAA,OACV,CAAA;AAGD,MAAA,MAAM,EAAE,OAAO,eAAA,EAAgB,GAAI,MAAM,GAAA,CAAI,kBAAA,GAAqB,IAAA,EAAK;AAGvE,MAAA,MAAM,uBAAuB,MAAM2B,KAAAA;AAAA,QACjCJ,yBAAAA,CAAyB,EAAE,OAAA,EAAS,CAAA,EAAG,CAAA;AAAA,QACvC,CAAC,EAAA,KAAOC,oCAAAA,CAAoC,OAAA,EAAS,EAAE,CAAA;AAAA,QACvD,CAAC,EAAA,KAAOC,4CAAAA,CAA4C,eAAA,EAAiB,EAAE,CAAA;AAAA,QACvE,CAAC,EAAA,KAAOC,oCAAAA,CAAoC,iBAAA,CAAkB,aAAa,EAAE;AAAA,OAC/E;AAGA,MAAA,MAAM,mBAAA,GAAsB,MAAME,kCAAAA,CAAkC,oBAAoB,CAAA;AAGxF,MAAA,MAAM,4BAA4BC,iCAAAA,CAAiC;AAAA,QACjE,GAAA;AAAA,QACA,gBAAA,EAAkB,KAAA;AAAA,OACnB,CAAA;AAED,MAAA,MAAM,sBAAA,GAAyB,MAAM,yBAAA,CAA0B,mBAAA,EAAqB;AAAA,QAClF,UAAA,EAAY;AAAA,OACb,CAAA;AAED,MAAA,CAAA,CAAE,KAAK,CAAA,4BAAA,EAA0B,sBAAA,CAAuB,MAAM,CAAA,EAAG,EAAE,CAAC,CAAA,GAAA,CAAK,CAAA;AACzE,MAAAlF,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,CAAA,QAAA,EAAW,eAAe,sBAAA,EAAwB,QAAQ,CAAC,CAAA,CAAE,CAAC,CAAA;AAAA,IACpF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,IAAA,CAAKA,OAAAA,CAAM,GAAA,CAAI,uCAAkC,CAAC,CAAA;AACpD,MAAAD,GAAAA,CAAI,MAAMC,OAAAA,CAAM,GAAA,CAAI,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAC,CAAA;AAC7E,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,6BAAsB,CAAC,CAAA;AAC7C,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,4CAA4C,CAAC,CAAA;AACjE,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,gDAAgD,CAAC,CAAA;AACrE,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,wCAAwC,CAAC,CAAA;AAC7D,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,mCAAmC,CAAC,CAAA;AACxD,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,0BAAgB,CAAC,CAAA;AACrC,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,2CAA2C,CAAC,CAAA;AAChE,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,2CAA2C,CAAC,CAAA;AAChE,MAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,8CAA8C,CAAC,CAAA;AACnE,MAAAU,KAAAA,CAAMV,OAAAA,CAAM,GAAA,CAAI,6BAA6B,CAAC,CAAA;AAC9C,MAAA;AAAA,IACF;AAGA,IAAA,CAAA,CAAE,MAAM,4BAA4B,CAAA;AAEpC,IAAA,IAAI;AAEF,MAAA,MAAM,EAAE,gBAAA,EAAAoD,iBAAAA,EAAiB,GAAI,MAAM,OAAO,iBAAiB,CAAA;AAC3D,MAAA,MAAM,WAAA,GAAc,IAAIA,iBAAAA,CAAiB;AAAA,QACvC,GAAA;AAAA,QACA,OAAA,EAAS;AAAA,OACV,CAAA;AAGD,MAAA,MAAM,cAAA,GAAiB,MAAM,WAAA,CAAY,MAAA,CAAO,MAAM,OAAA,EAAS;AAAA,QAC7D,YAAA,EAAc,SAAA;AAAA,QACd,kBAAA,EAAoB,SAAA;AAAA;AAAA,QACpB,eAAe,SAAA,CAAU,aAAA;AAAA,QACzB,WAAW,SAAA,CAAU,mBAAA;AAAA,QACrB,OAAA,EAAS,QAAA;AAAA,QACT,eAAA,EAAiB,KAAA,CAAA;AAAA,QACjB,cAAA,EAAgB,KAAA,CAAA;AAAA,QAChB,aAAA,EAAe,KAAA;AAAA,OAChB,CAAA;AAED,MAAA,CAAA,CAAE,KAAK,CAAA,qBAAA,CAAkB,CAAA;AAGzB,MAAA,CAAA,CAAE,MAAM,6BAA6B,CAAA;AACrC,MAAA,IAAI;AACF,QAAA,MAAM,gBAAA,CAAiB,SAAA,EAAW,OAAA,CAAQ,OAAA,EAAS,cAAc,CAAA;AACjE,QAAA,CAAA,CAAE,KAAK,gCAA2B,CAAA;AAAA,MACpC,SAAS,KAAA,EAAO;AACd,QAAA,CAAA,CAAE,IAAA,CAAKpD,OAAAA,CAAM,MAAA,CAAO,oCAA0B,CAAC,CAAA;AAC/C,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,CAAA,+CAAA,EAAkD,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAC,CAAA;AAAA,MACnI;AAGA,MAAA,IAAI,UAAA;AACJ,MAAA,CAAA,CAAE,MAAM,yBAAyB,CAAA;AACjC,MAAA,IAAI;AACF,QAAA,UAAA,GAAa,MAAM,cAAc,SAAS,CAAA;AAC1C,QAAA,CAAA,CAAE,KAAK,8BAAyB,CAAA;AAAA,MAClC,SAAS,KAAA,EAAO;AACd,QAAA,CAAA,CAAE,IAAA,CAAKA,OAAAA,CAAM,MAAA,CAAO,uCAA6B,CAAC,CAAA;AAClD,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,CAAA,6BAAA,EAAgC,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAC,CAAA;AAAA,MACjH;AAGA,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,KAAA,CAAM,yCAAkC,CAAC,CAAA;AAC3D,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,SAAI,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA;AACtC,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,sBAAsB,CAAC,CAAA;AAC9C,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,YAAA,EAAe,cAAc,EAAE,CAAC,CAAA;AACvD,MAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,YAAA,EAAe,eAAe,cAAA,EAAgB,QAAQ,CAAC,CAAA,CAAE,CAAC,CAAA;AACjF,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA;AACxC,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,iBAAA,EAAoB,SAAS,EAAE,CAAC,CAAA;AACvD,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,YAAY,OAAA,CAAQ,OAAO,EAAE,CAAC,CAAA;AACrD,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,sBAAA,EAAyB,SAAS,EAAE,CAAC,CAAA;AAC5D,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,wBAAA,CAAqB,CAAC,CAAA;AAG7C,MAAA,IAAI,UAAA,EAAY;AACd,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,QAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,CAAA;AACtC,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,SAAA,EAAY,WAAW,KAAA,IAAS,CAAC,OAAO,CAAC,CAAA;AAChE,QAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,CAAA,QAAA,EAAW,WAAW,IAAA,IAAQ,UAAU,EAAE,CAAC,CAAA;AAClE,QAAA,IAAI,WAAW,SAAA,EAAW;AACxB,UAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,aAAA,CAAe,CAAC,CAAA;AACvC,UAAA,IAAI,UAAA,CAAW,SAAA,CAAU,WAAA,EAAa,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,mBAAA,EAAsB,UAAA,CAAW,SAAA,CAAU,WAAW,CAAA,CAAE,CAAC,CAAA;AACtH,UAAA,IAAI,UAAA,CAAW,SAAA,CAAU,YAAA,EAAc,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,oBAAA,EAAuB,UAAA,CAAW,SAAA,CAAU,YAAY,CAAA,CAAE,CAAC,CAAA;AACzH,UAAA,IAAI,UAAA,CAAW,SAAA,CAAU,UAAA,EAAY,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,kBAAA,EAAqB,UAAA,CAAW,SAAA,CAAU,UAAU,CAAA,CAAE,CAAC,CAAA;AAAA,QACrH;AAAA,MACF;AAEA,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC,CAAA;AACrC,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,8CAA8C,CAAC,CAAA;AACtE,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,uDAAuD,CAAC,CAAA;AAC/E,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,wCAAwC,CAAC,CAAA;AAEhE,MAAAU,KAAAA,CAAMV,OAAAA,CAAM,KAAA,CAAM,0DAAqD,CAAC,CAAA;AAAA,IAE1E,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,IAAA,CAAKA,OAAAA,CAAM,GAAA,CAAI,iCAA4B,CAAC,CAAA;AAC9C,MAAAD,GAAAA,CAAI,MAAMC,OAAAA,CAAM,GAAA,CAAI,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAC,CAAA;AAG7E,MAAA,MAAM,WAAW,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,CAAQ,aAAY,GAAI,EAAA;AAExE,MAAA,IAAI,SAAS,QAAA,CAAS,cAAc,KAAK,QAAA,CAAS,QAAA,CAAS,SAAS,CAAA,EAAG;AACrE,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,iCAA0B,CAAC,CAAA;AACjD,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,wCAAwC,CAAC,CAAA;AAC7D,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,wCAAwC,CAAC,CAAA;AAAA,MAC/D,CAAA,MAAA,IAAW,SAAS,QAAA,CAAS,SAAS,KAAK,QAAA,CAAS,QAAA,CAAS,QAAQ,CAAA,EAAG;AACtE,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,2CAAoC,CAAC,CAAA;AAC3D,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,4DAA4D,CAAC,CAAA;AAAA,MACnF,CAAA,MAAA,IAAW,SAAS,QAAA,CAAS,aAAa,KAAK,QAAA,CAAS,QAAA,CAAS,SAAS,CAAA,EAAG;AAC3E,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,oCAA6B,CAAC,CAAA;AACpD,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,+CAA+C,CAAC,CAAA;AACpE,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,qEAAqE,CAAC,CAAA;AAAA,MAC5F,CAAA,MAAA,IAAW,SAAS,QAAA,CAAS,SAAS,KAAK,QAAA,CAAS,QAAA,CAAS,SAAS,CAAA,EAAG;AACvE,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,mCAA4B,CAAC,CAAA;AACnD,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,2CAA2C,CAAC,CAAA;AAChE,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,2CAA2C,CAAC,CAAA;AAAA,MAClE,CAAA,MAAO;AACL,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,MAAA,CAAO,+BAAwB,CAAC,CAAA;AAC/C,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,yCAAyC,CAAC,CAAA;AAC9D,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,sCAAsC,CAAC,CAAA;AAC3D,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,0CAA0C,CAAC,CAAA;AAC/D,QAAAD,GAAAA,CAAI,IAAA,CAAKC,OAAAA,CAAM,IAAA,CAAK,iCAAiC,CAAC,CAAA;AAAA,MACxD;AAEA,MAAA,WAAA,CAAY,KAAA,EAAO,EAAE,SAAA,EAAW,aAAA,EAAe,CAAA;AAC/C,MAAAU,KAAAA,CAAMV,OAAAA,CAAM,GAAA,CAAI,cAAc,CAAC,CAAA;AAC/B,MAAA;AAAA,IACF;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,yBAAA,EAA4B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAChG,IAAAW,KAAAA,CAAMV,OAAAA,CAAM,GAAA,CAAI,kBAAkB,CAAC,CAAA;AAAA,EACrC;AACF,CAAC,CAAA;;;AE3cH,WAAA,EAAA;AAEA,gBAAA,EAAA;AAgCO,IAAMkF,mBAAkB,IAAI9D,OAAAA,CAAQ,UAAU,CAAA,CAClD,YAAY,wDAAwD,CAAA;AAGvE8D,gBAAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,8BAA8B,CAAA,CAC1C,MAAA,CAAO,4BAA4B,+BAA+B,CAAA,CAClE,OAAO,2BAAA,EAA6B,0CAA0C,EAC9E,MAAA,CAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAA2B;AACxC,EAAA1E,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,kCAA2B,CAAC,CAAA;AAE7C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,kBAA6B,EAAC;AAClC,IAAA,IAAI,QAAQ,OAAA,EAAS;AACnB,MAAA,eAAA,GAAkB,OAAA,CAAQ,OAAA,CAAQ,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA,CAAI,CAAA+B,EAAAA,KAAKvD,OAAAA,CAAQuD,EAAAA,CAAE,IAAA,EAAM,CAAC,CAAA;AAAA,IACzE,CAAA,MAAO;AACL,MAAA,MAAM,YAAA,GAAe,MAAM3B,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,qCAAA;AAAA,QACT,WAAA,EAAa,qBAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,yCAAA;AACnB,UAAA,MAAM,KAAA,GAAQ,KAAA,CAAM,KAAA,CAAM,GAAG,CAAA,CAAE,IAAI,CAAA2B,EAAAA,KAAKA,EAAAA,CAAE,IAAA,EAAM,CAAA;AAChD,UAAA,IAAI,KAAA,CAAM,MAAA,GAAS,CAAA,EAAG,OAAO,sCAAA;AAC7B,UAAA,IAAI;AACF,YAAA,KAAA,CAAM,OAAA,CAAQ,CAAA,CAAA,KAAKvD,OAAAA,CAAQ,CAAC,CAAC,CAAA;AAC7B,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,wBAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,oBAAoB,CAAA;AAC3B,QAAA;AAAA,MACF;AAEA,MAAA,eAAA,GAAkB,YAAA,CAAa,QAAA,EAAS,CAAE,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA,CAAI,CAAAiC,EAAAA,KAAKvD,OAAAA,CAAQuD,EAAAA,CAAE,IAAA,EAAM,CAAC,CAAA;AAAA,IACjF;AAGA,IAAA,IAAI,CAAC,gBAAgB,IAAA,CAAK,CAAAA,OAAKA,EAAAA,KAAM,MAAA,CAAO,OAAO,CAAA,EAAG;AACpD,MAAA,eAAA,CAAgB,IAAA,CAAK,OAAO,OAAO,CAAA;AAAA,IACrC;AAGA,IAAA,IAAI,YAAY,OAAA,CAAQ,SAAA,GAAY,QAAA,CAAS,OAAA,CAAQ,SAAS,CAAA,GAAI,CAAA;AAClE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,MAAM,cAAA,GAAiB,MAAM3B,IAAAA,CAAK;AAAA,QAChC,OAAA,EAAS,CAAA,sBAAA,EAAyB,eAAA,CAAgB,MAAM,CAAA,EAAA,CAAA;AAAA,QACxD,WAAA,EAAa,GAAA;AAAA,QACb,cAAc,IAAA,CAAK,IAAA,CAAK,gBAAgB,MAAA,GAAS,CAAC,EAAE,QAAA,EAAS;AAAA,QAC7D,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,uBAAA;AACnB,UAAA,MAAM,CAAA,GAAI,SAAS,KAAK,CAAA;AACxB,UAAA,IAAI,MAAM,CAAC,CAAA,IAAK,IAAI,CAAA,IAAK,CAAA,GAAI,gBAAgB,MAAA,EAAQ;AACnD,YAAA,OAAO,CAAA,gCAAA,EAAmC,gBAAgB,MAAM,CAAA,CAAA;AAAA,UAClE;AACA,UAAA;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,cAAc,CAAA,EAAG;AAC5B,QAAAC,OAAO,oBAAoB,CAAA;AAC3B,QAAA;AAAA,MACF;AAEA,MAAA,SAAA,GAAY,QAAA,CAAS,cAAA,CAAe,QAAA,EAAU,CAAA;AAAA,IAChD;AAGA,IAAAsC,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,yBAAyB,CAAC;AAAA,EACrCA,QAAM,IAAA,CAAK,gBAAgB,CAAC,CAAA,CAAA,EAAI,gBAAgB,MAAM;AAAA,EACtDA,OAAAA,CAAM,KAAK,qBAAqB,CAAC,IAAI,SAAS,CAAA,CAAA,EAAI,gBAAgB,MAAM;;AAAA,EACxEA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC;AAAA,CAAA,GACzB,eAAA,CAAgB,GAAA;AAAA,QAAI,CAACwC,IAAG,CAAA,KACtB,CAAA,EAAGxC,QAAM,IAAA,CAAK,CAAA,EAAG,IAAI,CAAC,CAAA,CAAA,CAAG,CAAC,CAAA,CAAA,EAAIwC,EAAC,GAAGA,EAAAA,KAAM,MAAA,CAAO,UAAUxC,OAAAA,CAAM,MAAA,CAAO,QAAQ,CAAA,GAAI,EAAE,CAAA;AAAA,OACtF,CAAE,IAAA,CAAK,IAAI,CAAA,GAAI;;AAAA,EACZA,OAAAA,CAAM,MAAA,CAAO,6BAAA,GAAgC,SAAA,GAAY,wCAAwC,CAAC,CAAA,CAAA;AAAA,MACrG;AAAA,KACF;AAEA,IAAA,MAAM,aAAA,GAAgB,MAAMc,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS;AAAA,KACV,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,oBAAoB,CAAA;AAC3B,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,oCAAoC,CAAA;AAE5C,IAAA,IAAI;AAEF,MAAA,MAAM,UAAA,GAAa,MAAA,CAAO,IAAA,CAAK,GAAA,EAAK,CAAA;AAEpC,MAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,cAAA,CAAe,cAAA,CAAe;AAAA,QAC/D,KAAA,EAAO,YAAY,MAAM,CAAA;AAAA,QACzB,UAAA;AAAA,QACA,SAAA;AAAA,QACA,OAAA,EAAS;AAAA,OACV,CAAA;AAED,MAAA,CAAA,CAAE,KAAK,sCAAiC,CAAA;AAGxC,MAAA,MAAM,EAAE,iBAAA,EAAkB,GAAI,MAAM,OAAO,iBAAiB,CAAA;AAC5D,MAAA,MAAM,CAAC,eAAe,CAAA,GAAI,MAAM,iBAAA,CAAkB;AAAA,QAChD,gBAAgB,UAAA,CAAW,SAAA;AAAA,QAC3B,SAAS,MAAA,CAAO,OAAA;AAAA,QAChB;AAAA,OACD,CAAA;AAED,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,SAAA,EAAW,QAAQ,CAAA;AAEtD,MAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,QAAA,OAAA,CAAQ,GAAA,CAAI,KAAK,SAAA,CAAU;AAAA,UACzB,OAAA,EAAS,IAAA;AAAA,UACT,eAAA;AAAA,UACA,UAAA,EAAY,WAAW,QAAA,EAAS;AAAA,UAChC,SAAA;AAAA,UACA,OAAA,EAAS,eAAA;AAAA,UACT,SAAA;AAAA,UACA;AAAA,SACF,EAAG,IAAA,EAAM,CAAC,CAAC,CAAA;AACX,QAAA;AAAA,MACF;AAEA,MAAAG,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,KAAA,CAAM,uCAAkC,CAAC;;AAAA,EAC/CA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC;AAAA,EAC/BA,OAAAA,CAAM,KAAK,UAAU,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC;AAAA,EACrDA,OAAAA,CAAM,IAAA,CAAK,KAAK,CAAC,IAAI,UAAU;AAAA,EAC/BA,OAAAA,CAAM,KAAK,YAAY,CAAC,IAAI,SAAS,CAAA,CAAA,EAAI,gBAAgB,MAAM;AAAA,EAC/DA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,SAAS;;AAAA,EACvCA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC;AAAA,EACzBA,OAAAA,CAAM,KAAK,QAAG,CAAC,sBAAsBA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC;AAAA,EACzEA,OAAAA,CAAM,KAAK,QAAG,CAAC,oBAAoBA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC;;AAAA,EACpEA,OAAAA,CAAM,KAAK,WAAW,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA;AAAA,OACvD;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,kCAA6B,CAAA;AACpC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,2BAAA,EAA8B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACpG;AACF,CAAC,CAAA;AAGHmF,gBAAAA,CACG,OAAA,CAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,yCAAyC,CAAA,CACrD,MAAA,CAAO,4BAA4B,kBAAkB,CAAA,CACrD,OAAO,qBAAA,EAAuB,gBAAgB,EAC9C,MAAA,CAAO,0BAAA,EAA4B,sBAAsB,CAAA,CACzD,MAAA,CAAO,OAAO,OAAA,KAA4B;AACzC,EAAA1E,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,oCAA6B,CAAC,CAAA;AAE/C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,kBAAkB,OAAA,CAAQ,QAAA;AAC9B,IAAA,IAAI,CAAC,eAAA,EAAiB;AACpB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,mBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,8BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,wBAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,oBAAoB,CAAA;AAC3B,QAAA;AAAA,MACF;AAEA,MAAA,eAAA,GAAkB,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IACjD;AAEA,IAAA,MAAM,YAAA,GAAetB,QAAQ,eAAe,CAAA;AAG5C,IAAA,CAAA,CAAE,MAAM,uBAAuB,CAAA;AAC/B,IAAA,MAAM,YAAA,GAAe,MAAM,UAAA,CAAW,cAAA,CAAe,YAAY,YAAY,CAAA;AAE7E,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,CAAA,CAAE,KAAK,2BAAsB,CAAA;AAC7B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,sBAAA,EAAyB,eAAe,EAAE,CAAC,CAAA;AAC3D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,0BAAqB,CAAA;AAG5B,IAAA,IAAI,QAAQ,OAAA,CAAQ,KAAA;AACpB,IAAA,IAAI,CAAC,KAAA,EAAO;AACV,MAAA,MAAM,UAAA,GAAa,MAAMa,IAAAA,CAAK;AAAA,QAC5B,OAAA,EAAS,iBAAA;AAAA,QACT,WAAA,EAAa,8BAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,mBAAA;AACnB,UAAA,IAAI,KAAA,CAAM,MAAA,GAAS,CAAA,EAAG,OAAO,qCAAA;AAC7B,UAAA;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,QAAAC,OAAO,oBAAoB,CAAA;AAC3B,QAAA;AAAA,MACF;AAEA,MAAA,KAAA,GAAQ,UAAA,CAAW,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IACrC;AAGA,IAAA,IAAI,cAAc,OAAA,CAAQ,WAAA;AAC1B,IAAA,IAAI,CAAC,WAAA,EAAa;AAChB,MAAA,MAAM,SAAA,GAAY,MAAMM,IAAAA,CAAK;AAAA,QAC3B,OAAA,EAAS,uBAAA;AAAA,QACT,WAAA,EAAa,6CAAA;AAAA,QACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,yBAAA;AACnB,UAAA;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,QAAAC,OAAO,oBAAoB,CAAA;AAC3B,QAAA;AAAA,MACF;AAEA,MAAA,WAAA,GAAc,SAAA,CAAU,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC1C;AAGA,IAAAsC,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC;AAAA,EAC/BA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,IAAI,eAAe;AAAA,EAC1CA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,IAAI,KAAK;AAAA,EAC7BA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,WAAW;AAAA,EACzCA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA,EAAI,aAAa,SAAS,CAAA,CAAA,EAAI,YAAA,CAAa,OAAA,CAAQ,MAAM;;AAAA,EACjFA,QAAM,MAAA,CAAO,6BAAA,GAAgC,YAAA,CAAa,SAAA,GAAY,eAAe,CAAC,CAAA,CAAA;AAAA,MACzF;AAAA,KACF;AAEA,IAAA,MAAM,cAAA,GAAiB,MAAMc,OAAAA,CAAQ;AAAA,MACnC,OAAA,EAAS;AAAA,KACV,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,cAAc,CAAA,IAAK,CAAC,cAAA,EAAgB;AAC/C,MAAAC,OAAO,oBAAoB,CAAA;AAC3B,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,oCAAoC,CAAA;AAE5C,IAAA,IAAI;AACF,MAAA,MAAM,UAAA,GAAa,MAAA,CAAO,IAAA,CAAK,GAAA,EAAK,CAAA;AACpC,MAAA,MAAM,EAAE,YAAA,EAAa,GAAI,MAAM,OAAO,iBAAiB,CAAA;AAEvD,MAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,cAAA,CAAe,cAAA,CAAe;AAAA,QAC/D,eAAA,EAAiB,YAAA;AAAA,QACjB,KAAA;AAAA,QACA,WAAA;AAAA,QACA,cAAc,YAAA,CAAa,MAAA;AAAA,QAC3B,eAAA,EAAiB;AAAA,UACf,cAAc,EAAC;AAAA,UACf,cAAA,EAAgB,EAAA;AAAA,UAChB,qBAAqB,EAAC;AAAA,UACtB,WAAA,EAAa,IAAA;AAAA,UACb,WAAA,EAAa,KAAA;AAAA,UACb,oBAAoB,MAAA,CAAO;AAAA,SAC7B;AAAA,QACA,UAAA;AAAA,QACA,QAAA,EAAU,YAAY,MAAM;AAAA,OAC7B,CAAA;AAED,MAAA,CAAA,CAAE,KAAK,sCAAiC,CAAA;AAExC,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,SAAA,EAAW,QAAQ,CAAA;AAEtD,MAAAG,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,KAAA,CAAM,0BAAqB,CAAC;;AAAA,EAClCA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,UAAU;AAAA,EACxCA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,IAAI,KAAK;AAAA,EAC7BA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA;AAAA,EACrBA,QAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,CAAA,EAAI,aAAa,SAAS;AAAA,EAC3DA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,SAAS;;AAAA,EACvCA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC;AAAA,EACzBA,OAAAA,CAAM,KAAK,QAAG,CAAC,2BAA2BA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC;AAAA,EAC9EA,OAAAA,CAAM,KAAK,QAAG,CAAC,2BAA2BA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC;;AAAA,EAC9EA,OAAAA,CAAM,KAAK,WAAW,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA;AAAA,OACvD;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,kCAA6B,CAAA;AACpC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,mBAAA,EAAsB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC5F;AACF,CAAC,CAAA;AAGHmF,gBAAAA,CACG,QAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,6BAA6B,EACzC,MAAA,CAAO,0BAAA,EAA4B,kBAAkB,CAAA,CACrD,OAAO,0BAAA,EAA4B,kBAAkB,CAAA,CACrD,MAAA,CAAO,OAAO,OAAA,KAA4B;AACzC,EAAA1E,KAAAA,CAAMR,OAAAA,CAAM,KAAA,CAAM,kCAA6B,CAAC,CAAA;AAEhD,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,kBAAkB,OAAA,CAAQ,QAAA;AAC9B,IAAA,IAAI,CAAC,eAAA,EAAiB;AACpB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,mBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,8BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,wBAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,oBAAoB,CAAA;AAC3B,QAAA;AAAA,MACF;AAEA,MAAA,eAAA,GAAkB,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IACjD;AAEA,IAAA,MAAM,YAAA,GAAetB,QAAQ,eAAe,CAAA;AAG5C,IAAA,CAAA,CAAE,MAAM,sBAAsB,CAAA;AAC9B,IAAA,MAAM,YAAA,GAAe,MAAM,UAAA,CAAW,gBAAA,CAAiB,YAAY,YAAY,CAAA;AAE/E,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,CAAA,CAAE,KAAK,2BAAsB,CAAA;AAC7B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,sBAAA,EAAyB,eAAe,EAAE,CAAC,CAAA;AAC3D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAG1B,IAAA6C,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC;AAAA,EAC/BA,QAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,aAAa,KAAK;AAAA,EAC1CA,QAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA,EAAI,aAAa,WAAW;AAAA,EACtDA,OAAAA,CAAM,KAAK,oBAAoB,CAAC,IAAI,YAAA,CAAa,QAAQ,CAAA,CAAA,EAAI,YAAA,CAAa,SAAS;AAAA,EACnFA,QAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,aAAa,MAAM,CAAA,CAAA;AAAA,MAC/C;AAAA,KACF;AAEA,IAAA,MAAM,cAAA,GAAiB,MAAMc,OAAAA,CAAQ;AAAA,MACnC,OAAA,EAAS;AAAA,KACV,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,cAAc,CAAA,IAAK,CAAC,cAAA,EAAgB;AAC/C,MAAAC,OAAO,oBAAoB,CAAA;AAC3B,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,qCAAqC,CAAA;AAE7C,IAAA,IAAI;AACF,MAAAR,GAAAA,CAAI,KAAK,8DAA8D,CAAA;AAEvE,MAAA,CAAA,CAAE,KAAK,oCAA0B,CAAA;AAEjC,MAAAW,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,kBAAkB,CAAC;;AAAA,2BAAA,EACL,eAAe,CAAA;;AAAA,EAC1CA,OAAAA,CAAM,IAAA,CAAK,uEAAuE,CAAC,CAAA;AAAA,OACxF;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,mCAA8B,CAAA;AACrC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,mBAAA,EAAsB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC5F;AACF,CAAC,CAAA;AAGHmF,gBAAAA,CACG,QAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,uCAAuC,EACnD,MAAA,CAAO,0BAAA,EAA4B,kBAAkB,CAAA,CACrD,OAAO,0BAAA,EAA4B,kBAAkB,CAAA,CACrD,MAAA,CAAO,OAAO,OAAA,KAA4B;AACzC,EAAA1E,KAAAA,CAAMR,OAAAA,CAAM,OAAA,CAAQ,kCAA6B,CAAC,CAAA;AAElD,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,kBAAkB,OAAA,CAAQ,QAAA;AAC9B,IAAA,IAAI,CAAC,eAAA,EAAiB;AACpB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,mBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,8BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,wBAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,qBAAqB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,eAAA,GAAkB,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IACjD;AAEA,IAAA,MAAM,YAAA,GAAetB,QAAQ,eAAe,CAAA;AAG5C,IAAA,CAAA,CAAE,MAAM,uBAAuB,CAAA;AAC/B,IAAA,MAAM,YAAA,GAAe,MAAM,UAAA,CAAW,gBAAA,CAAiB,YAAY,YAAY,CAAA;AAE/E,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,CAAA,CAAE,KAAK,2BAAsB,CAAA;AAC7B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,sBAAA,EAAyB,eAAe,EAAE,CAAC,CAAA;AAC3D,MAAA;AAAA,IACF;AAEA,IAAA,IAAI,YAAA,CAAa,QAAA,GAAW,YAAA,CAAa,SAAA,EAAW;AAClD,MAAA,CAAA,CAAE,KAAK,8BAAyB,CAAA;AAChC,MAAAU,KAAAA;AAAA,QACEV,OAAAA,CAAM,GAAA,CAAI,yCAAyC,CAAA,GAAI;;AAAA,EACpDA,OAAAA,CAAM,KAAK,UAAU,CAAC,IAAI,YAAA,CAAa,QAAQ,CAAA,CAAA,EAAI,YAAA,CAAa,SAAS;AAAA,EACzEA,OAAAA,CAAM,KAAK,WAAW,CAAC,IAAI,YAAA,CAAa,SAAA,GAAY,aAAa,QAAQ,CAAA,iBAAA;AAAA,OAC9E;AACA,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,qCAAgC,CAAA;AAGvC,IAAA,MAAM,cAAA,GAAiB,MAAMc,OAAAA,CAAQ;AAAA,MACnC,OAAA,EAAS;AAAA,KACV,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,cAAc,CAAA,IAAK,CAAC,cAAA,EAAgB;AAC/C,MAAAC,OAAO,qBAAqB,CAAA;AAC5B,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,qCAAqC,CAAA;AAE7C,IAAA,IAAI;AACF,MAAA,MAAM,eAAe,OAAA,CAAQ,QAAA,GAAWtB,QAAQ,OAAA,CAAQ,QAAQ,IAAI,YAAA,CAAa,QAAA;AAEjF,MAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,cAAA,CAAe,eAAA,CAAgB;AAAA,QAChE,eAAA,EAAiB,YAAA;AAAA,QACjB,QAAA,EAAU,YAAY,MAAM,CAAA;AAAA,QAC5B,eAAe,UAAA,CAAW;AAAA,OAC3B,CAAA;AAED,MAAA,CAAA,CAAE,KAAK,uCAAkC,CAAA;AAEzC,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,SAAA,EAAW,QAAQ,CAAA;AAEtD,MAAAyB,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,KAAA,CAAM,2BAAsB,CAAC;;AAAA,EACnCA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,IAAI,eAAe;AAAA,EAC1CA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,SAAS;;AAAA,EACvCA,OAAAA,CAAM,KAAK,WAAW,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA;AAAA,OACvD;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,mCAA8B,CAAA;AACrC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,mBAAA,EAAsB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC5F;AACF,CAAC,CAAA;AAGHmF,gBAAAA,CACG,QAAQ,MAAM,CAAA,CACd,WAAA,CAAY,qCAAqC,EACjD,MAAA,CAAO,uBAAA,EAAyB,2BAA2B,CAAA,CAC3D,OAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAAyB;AACtC,EAAA1E,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,0BAAmB,CAAC,CAAA;AAErC,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,uBAAuB,CAAA;AAE/B,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,MAAM,YAAY,OAAA,CAAQ,KAAA,GAAQxB,QAAQ,OAAA,CAAQ,KAAK,IAAI,MAAA,CAAO,OAAA;AAGlE,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,cAAA,CAAe,sBAAsB,SAAS,CAAA;AAEjF,IAAA,CAAA,CAAE,IAAA,CAAK,CAAA,aAAA,EAAW,SAAA,CAAU,MAAM,CAAA,YAAA,CAAc,CAAA;AAEhD,IAAA,IAAI,SAAA,CAAU,WAAW,CAAA,EAAG;AAC1B,MAAAyB,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,oBAAoB,CAAC;;AAAA,EAClCA,OAAAA,CAAM,IAAA,CAAK,oBAAoB,CAAC;AAAA,EAChCA,OAAAA,CAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA;AAAA,OACxC;AACA,MAAA;AAAA,IACF;AAEA,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,OAAA,CAAQ,IAAI,IAAA,CAAK,SAAA,CAAU,SAAA,EAAW,IAAA,EAAM,CAAC,CAAC,CAAA;AAC9C,MAAA;AAAA,IACF;AAGA,IAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,SAAA,CAAU,QAAQ,CAAA,EAAA,EAAK;AACzC,MAAA,MAAM,QAAA,GAAW,UAAU,CAAC,CAAA;AAC5B,MAAA,OAAA,CAAQ,GAAA,CAAI;AAAA,EAAKA,OAAAA,CAAM,KAAK,IAAA,CAAK,CAAA,SAAA,EAAY,IAAI,CAAC,CAAA,CAAA,CAAG,CAAC,CAAA,CAAE,CAAA;AACxD,MAAA,OAAA,CAAQ,GAAA,CAAI,GAAGA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,QAAA,CAAS,OAAO,CAAA,CAAE,CAAA;AAC3D,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,CAAA,CAAA,EAAI,QAAA,CAAS,IAAA,CAAK,SAAS,CAAA,CAAA,EAAI,QAAA,CAAS,IAAA,CAAK,OAAA,CAAQ,MAAM,CAAA,CAAE,CAAA;AACpG,MAAA,OAAA,CAAQ,IAAI,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAE,CAAA;AACvC,MAAA,QAAA,CAAS,IAAA,CAAK,OAAA,CAAQ,OAAA,CAAQ,CAAC,QAAiB,GAAA,KAAgB;AAC9D,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAG,GAAA,GAAM,CAAC,CAAA,CAAA,CAAG,CAAC,CAAA,CAAA,EAAI,MAAM,CAAA,CAAE,CAAA;AAAA,MACxD,CAAC,CAAA;AAAA,IACH;AAEA,IAAAU,KAAAA;AAAA,MACE;AAAA,EAAKV,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC;AAAA,EACzBA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA;AAAA,EACpCA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA;AAAA,EACpCA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA,+BAAA;AAAA,KACzC;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,0BAAA,EAA6B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACnG;AACF,CAAC,CAAA;AAGHmF,gBAAAA,CACG,OAAO,YAAY;AAClB,EAAA1E,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,0CAAmC,CAAC,CAAA;AAErD,EAAAD,IAAI,IAAA,CAAK;AAAA,EAAKC,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC;AAAA,CAAI,CAAA;AACnD,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA,+BAAA,CAAiC,CAAA;AAChF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA,iCAAA,CAAmC,CAAA;AACnF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA,qBAAA,CAAuB,CAAA;AACvE,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA,+BAAA,CAAiC,CAAA;AACjF,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,sBAAA,CAAwB,CAAA;AAErE,EAAA6C,IAAAA;AAAA,IACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC;;AAAA;AAAA;;AAAA,EAGjCA,OAAAA,CAAM,MAAA,CAAO,YAAY,CAAC;AAAA,EAC1BA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EACfA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EACfA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EACfA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,gCAAA,CAAA;AAAA,IAClB;AAAA,GACF;AAEA,EAAAU,MAAM,8CAA8C,CAAA;AACtD,CAAC,CAAA;;;AClpBH,WAAA,EAAA;AAEA,gBAAA,EAAA;AA4BO,IAAM,oBAAA,GAAuB,IAAIU,OAAAA,CAAQ,eAAe,EAC5D,KAAA,CAAM,MAAM,CAAA,CACZ,WAAA,CAAY,4DAA4D,CAAA;AAG3E,oBAAA,CACG,OAAA,CAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,yDAAyD,CAAA,CACrE,MAAA,CAAO,uBAAA,EAAyB,4BAA4B,CAAA,CAC5D,MAAA,CAAO,wBAAA,EAA0B,wDAAwD,CAAA,CACzF,MAAA,CAAO,sBAAA,EAAwB,mCAAmC,CAAA,CAClE,MAAA,CAAO,uBAAA,EAAyB,gCAAgC,CAAA,CAChE,MAAA,CAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAA2B;AACxC,EAAAZ,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,oCAA6B,CAAC,CAAA;AAE/C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,6BAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,wBAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,yBAAyB,CAAA;AAChC,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,SAAA,GAAYtB,QAAQ,YAAY,CAAA;AAGtC,IAAA,CAAA,CAAE,MAAM,oBAAoB,CAAA;AAC5B,IAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,KAAA,CAAM,gBAAgB,SAAS,CAAA;AAElE,IAAA,IAAI,CAAC,SAAA,EAAW;AACd,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAC1B,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,mBAAA,EAAsB,YAAY,EAAE,CAAC,CAAA;AACrD,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,uBAAkB,CAAA;AAGzB,IAAA,IAAI,mBAAmB,OAAA,CAAQ,MAAA;AAC/B,IAAA,IAAI,CAAC,gBAAA,EAAkB;AACrB,MAAA,MAAM,eAAA,GAAkB,MAAMY,MAAAA,CAAO;AAAA,QACnC,OAAA,EAAS,qBAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,aAAA,EAAe,KAAA,EAAO,iDAAA,EAAkD;AAAA,UACjF,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,gDAAA,EAAiD;AAAA,UAC5E,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,kCAAA,EAAmC;AAAA,UAC7D,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,gBAAA;AAAiB;AAC7C,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,eAAe,CAAA,EAAG;AAC7B,QAAAC,OAAO,yBAAyB,CAAA;AAChC,QAAA;AAAA,MACF;AAEA,MAAA,MAAM,UAAA,GAAa,gBAAgB,QAAA,EAAS;AAE5C,MAAA,IAAI,eAAe,QAAA,IAAY,UAAA,KAAe,iBAAiB,UAAA,KAAe,SAAA,IAAa,eAAe,QAAA,EAAU;AAClH,QAAA,MAAM,WAAA,GAAc,MAAMM,IAAAA,CAAK;AAAA,UAC7B,OAAA,EAAS,4BAAA;AAAA,UACT,WAAA,EAAa,UAAA,KAAe,aAAA,GAAgB,yBAAA,GAA4B,gBAAA;AAAA,UACxE,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,YAAA,IAAI,CAAC,OAAO,OAAO,4BAAA;AACnB,YAAA,IAAI;AACF,cAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,cAAA;AAAA,YACF,CAAA,CAAA,MAAQ;AACN,cAAA,OAAO,wBAAA;AAAA,YACT;AAAA,UACF;AAAA,SACD,CAAA;AAED,QAAA,IAAIqB,QAAAA,CAAS,WAAW,CAAA,EAAG;AACzB,UAAAC,OAAO,yBAAyB,CAAA;AAChC,UAAA;AAAA,QACF;AAEA,QAAA,gBAAA,GAAmB,WAAA,CAAY,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,MACjD;AAAA,IACF;AAEA,IAAA,IAAI,CAAC,gBAAA,EAAkB;AACrB,MAAAA,OAAO,+BAA+B,CAAA;AACtC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,UAAA,GAAatB,QAAQ,gBAAgB,CAAA;AAG3C,IAAA,IAAI,aAAa,OAAA,CAAQ,KAAA,GAAQ,QAAA,CAAS,OAAA,CAAQ,KAAK,CAAA,GAAI,CAAA;AAC3D,IAAA,IAAI,CAAC,UAAA,EAAY;AACf,MAAA,MAAM,UAAA,GAAa,MAAM4B,IAAAA,CAAK;AAAA,QAC5B,OAAA,EAAS,oCAAA;AAAA,QACT,WAAA,EAAa,KAAA;AAAA,QACb,YAAA,EAAc,KAAA;AAAA,QACd,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,mBAAA;AACnB,UAAA,MAAM,KAAA,GAAQ,SAAS,KAAK,CAAA;AAC5B,UAAA,IAAI,KAAA,CAAM,KAAK,CAAA,IAAK,KAAA,GAAQ,GAAG,OAAO,0BAAA;AACtC,UAAA,IAAI,KAAA,GAAQ,KAAO,OAAO,4BAAA;AAC1B,UAAA;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,QAAAC,OAAO,yBAAyB,CAAA;AAChC,QAAA;AAAA,MACF;AAEA,MAAA,UAAA,GAAa,QAAA,CAAS,UAAA,CAAW,QAAA,EAAU,CAAA;AAAA,IAC7C;AAGA,IAAA,IAAI,eAAe,OAAA,CAAQ,QAAA,GAAW,QAAA,CAAS,OAAA,CAAQ,QAAQ,CAAA,GAAI,CAAA;AACnE,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,aAAA,GAAgB,MAAMM,IAAAA,CAAK;AAAA,QAC/B,OAAA,EAAS,gCAAA;AAAA,QACT,WAAA,EAAa,IAAA;AAAA,QACb,YAAA,EAAc,IAAA;AAAA,QACd,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,sBAAA;AACnB,UAAA,MAAM,IAAA,GAAO,SAAS,KAAK,CAAA;AAC3B,UAAA,IAAI,KAAA,CAAM,IAAI,CAAA,IAAK,IAAA,GAAO,GAAG,OAAO,iCAAA;AACpC,UAAA,IAAI,IAAA,GAAO,KAAK,OAAO,iCAAA;AACvB,UAAA;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIP,QAAAA,CAAS,aAAa,CAAA,EAAG;AAC3B,QAAAC,OAAO,yBAAyB,CAAA;AAChC,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,QAAA,CAAS,aAAA,CAAc,QAAA,EAAU,CAAA;AAAA,IAClD;AAGA,IAAA,MAAM,SAAA,GAAY,MAAA,CAAO,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,GAAA,EAAI,GAAI,GAAI,CAAA,GAAK,YAAA,GAAe,EAAA,GAAK,EAAA,GAAK,EAAG,CAAA;AAGtF,IAAAsC,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC;AAAA,EACpCA,QAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,UAAU,IAAI;AAAA,EACtCA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,IAAI,YAAY;AAAA,EAC5CA,OAAAA,CAAM,IAAA,CAAK,oBAAoB,CAAC,IAAI,gBAAgB;AAAA,EACpDA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC,IAAI,UAAU,CAAA;AAAA,EACzCA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,IAAI,YAAY,CAAA;AAAA,EACvCA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,IAAI,IAAA,CAAK,MAAA,CAAO,SAAS,CAAA,GAAI,GAAI,CAAA,CAAE,oBAAoB;;AAAA,EACjFA,OAAAA,CAAM,MAAA,CAAO,kEAAA,GAA2D,UAAA,GAAa,SAAS,CAAC;AAAA,EAC/FA,OAAAA,CAAM,IAAA,CAAK,gDAAgD,CAAC,CAAA,CAAA;AAAA,MAC/D;AAAA,KACF;AAEA,IAAA,MAAM,aAAA,GAAgB,MAAMc,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS;AAAA,KACV,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,yBAAyB,CAAA;AAChC,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,yCAAyC,CAAA;AAEjD,IAAA,IAAI;AACF,MAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,aAAA,CAAc,mBAAA,CAAoB;AAAA,QACnE,MAAA,EAAQ,YAAY,MAAM,CAAA;AAAA,QAC1B,YAAA,EAAc,SAAA;AAAA,QACd,gBAAA,EAAkB,UAAA;AAAA,QAClB,UAAA,EAAY,OAAO,UAAU,CAAA;AAAA,QAC7B,SAAA;AAAA,QACA,OAAA,EAAS;AAAA,OACV,CAAA;AAED,MAAA,CAAA,CAAE,KAAK,2CAAsC,CAAA;AAI7C,MAAA,MAAM,WAAA,GAAc,CAAA,EAAG,SAAA,CAAU,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,GAAA,EAAM,UAAA,CAAW,KAAA,CAAM,CAAA,CAAE,CAAC,CAAA,CAAA;AAEtE,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,SAAA,EAAW,QAAQ,CAAA;AAEtD,MAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,QAAA,OAAA,CAAQ,GAAA,CAAI,KAAK,SAAA,CAAU;AAAA,UACzB,OAAA,EAAS,IAAA;AAAA,UACT,oBAAA,EAAsB,WAAA;AAAA,UACtB,YAAA;AAAA,UACA,gBAAA;AAAA,UACA,UAAA;AAAA,UACA,SAAA,EAAW,UAAU,QAAA,EAAS;AAAA,UAC9B,SAAA;AAAA,UACA;AAAA,SACF,EAAG,IAAA,EAAM,CAAC,CAAC,CAAA;AACX,QAAA;AAAA,MACF;AAEA,MAAAG,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,KAAA,CAAM,+BAA0B,CAAC;;AAAA,EACvCA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC;AAAA,EACpCA,OAAAA,CAAM,KAAK,eAAe,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC;AAAA,EACtDA,QAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,UAAU,IAAI;AAAA,EACtCA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,IAAI,gBAAgB;AAAA,EACzCA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,IAAI,UAAU,CAAA;AAAA,EAClCA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,IAAI,IAAA,CAAK,MAAA,CAAO,SAAS,CAAA,GAAI,GAAI,CAAA,CAAE,oBAAoB;AAAA,EACjFA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,SAAS;;AAAA,EACvCA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC;AAAA,EACzBA,OAAAA,CAAM,KAAK,QAAG,CAAC,mBAAmBA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC;AAAA,EAC/DA,OAAAA,CAAM,KAAK,QAAG,CAAC,sBAAsBA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC;;AAAA,EACpEA,OAAAA,CAAM,KAAK,WAAW,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA;AAAA,OACvD;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,uCAAkC,CAAA;AACzC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,gCAAA,EAAmC,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACzG;AACF,CAAC,CAAA;AAGH,oBAAA,CACG,QAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,kCAAkC,EAC9C,MAAA,CAAO,+BAAA,EAAiC,iCAAiC,CAAA,CACzE,OAAO,mBAAA,EAAqB,yCAAyC,CAAA,CACrE,MAAA,CAAO,OAAO,OAAA,KAA2B;AACxC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,GAAA,CAAI,6BAAwB,CAAC,CAAA;AAEzC,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,cAAc,OAAA,CAAQ,aAAA;AAC1B,IAAA,IAAI,CAAC,WAAA,EAAa;AAChB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,wBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,mCAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,wBAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,kBAAkB,CAAA;AACzB,QAAA;AAAA,MACF;AAEA,MAAA,WAAA,GAAc,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC7C;AAEA,IAAA,MAAM,QAAA,GAAWtB,QAAQ,WAAW,CAAA;AAGpC,IAAA,CAAA,CAAE,MAAM,2BAA2B,CAAA;AACnC,IAAA,MAAM,QAAA,GAAW,MAAM,UAAA,CAAW,aAAA,CAAc,iBAAiB,QAAQ,CAAA;AAEzE,IAAA,IAAI,CAAC,QAAA,EAAU;AACb,MAAA,CAAA,CAAE,KAAK,gCAA2B,CAAA;AAClC,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,2BAAA,EAA8B,WAAW,EAAE,CAAC,CAAA;AAC5D,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,KAAK,6BAAwB,CAAA;AAG/B,IAAA6C,IAAAA;AAAA,MACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,0BAA0B,CAAC;AAAA,EACtCA,QAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,SAAS,KAAK;AAAA,EACtCA,QAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,SAAS,gBAAgB;AAAA,EAClDA,OAAAA,CAAM,KAAK,OAAO,CAAC,IAAI,QAAA,CAAS,YAAY,CAAA,CAAA,EAAI,QAAA,CAAS,UAAU;AAAA,EACnEA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,IAAI,IAAI,IAAA,CAAK,MAAA,CAAO,QAAA,CAAS,SAAS,CAAA,GAAI,GAAI,CAAA,CAAE,oBAAoB;;AAAA,EAC1FA,OAAAA,CAAM,GAAA,CAAI,0EAAgE,CAAC,CAAA,CAAA;AAAA,MAC9E;AAAA,KACF;AAEA,IAAA,MAAM,aAAA,GAAgB,MAAMc,OAAAA,CAAQ;AAAA,MAClC,OAAA,EAAS;AAAA,KACV,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,aAAa,CAAA,IAAK,CAAC,aAAA,EAAe;AAC7C,MAAAC,OAAO,kBAAkB,CAAA;AACzB,MAAA;AAAA,IACF;AAEA,IAAA,CAAA,CAAE,MAAM,yCAAyC,CAAA;AAEjD,IAAA,IAAI;AACF,MAAA,MAAM,SAAA,GAAY,MAAM,UAAA,CAAW,aAAA,CAAc,mBAAA,CAAoB;AAAA,QACnE,MAAA,EAAQ,YAAY,MAAM,CAAA;AAAA,QAC1B,YAAA,EAActB,OAAAA,CAAQ,QAAA,CAAS,KAAK,CAAA;AAAA,QACpC,gBAAA,EAAkBA,OAAAA,CAAQ,QAAA,CAAS,gBAAgB;AAAA,OACpD,CAAA;AAED,MAAA,CAAA,CAAE,KAAK,2CAAsC,CAAA;AAE7C,MAAA,MAAM,WAAA,GAAc,cAAA,CAAe,SAAA,EAAW,QAAQ,CAAA;AAEtD,MAAAyB,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,KAAA,CAAM,+BAA0B,CAAC;;AAAA,EACvCA,OAAAA,CAAM,IAAA,CAAK,gBAAgB,CAAC,IAAI,WAAW;AAAA,EAC3CA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,IAAI,SAAS;;AAAA,EACvCA,OAAAA,CAAM,KAAK,WAAW,CAAC,IAAIA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA;AAAA,OACvD;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,uCAAkC,CAAA;AACzC,MAAA,WAAA,CAAY,KAAK,CAAA;AAAA,IACnB;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,kBAAA,EAAqB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC3F;AACF,CAAC,CAAA;AAGH,oBAAA,CACG,QAAQ,MAAM,CAAA,CACd,WAAA,CAAY,kCAAkC,EAC9C,MAAA,CAAO,uBAAA,EAAyB,eAAe,CAAA,CAC/C,OAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAAyB;AACtC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,+BAAwB,CAAC,CAAA;AAE1C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,4BAA4B,CAAA;AAEpC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAG7C,IAAA,IAAI,eAAe,OAAA,CAAQ,KAAA;AAC3B,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,gBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,2BAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,wBAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,qBAAqB,CAAA;AAC5B,QAAA;AAAA,MACF;AAEA,MAAA,YAAA,GAAe,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC9C;AAEA,IAAA,MAAM,SAAA,GAAYtB,QAAQ,YAAY,CAAA;AAGtC,IAAA,MAAM,cAAA,GAAiB,MAAM,UAAA,CAAW,aAAA,CAAc,yBAAyB,SAAS,CAAA;AAExF,IAAA,CAAA,CAAE,IAAA,CAAK,CAAA,aAAA,EAAW,cAAA,CAAe,MAAM,CAAA,iBAAA,CAAmB,CAAA;AAE1D,IAAA,IAAI,cAAA,CAAe,WAAW,CAAA,EAAG;AAC/B,MAAAyB,KAAAA;AAAA,QACE,CAAA,EAAGV,OAAAA,CAAM,MAAA,CAAO,yBAAyB,CAAC;;AAAA,EACvCA,OAAAA,CAAM,IAAA,CAAK,0BAA0B,CAAC;AAAA,EACtCA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA;AAAA,OACpC;AACA,MAAA;AAAA,IACF;AAEA,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,OAAA,CAAQ,IAAI,IAAA,CAAK,SAAA,CAAU,cAAA,EAAgB,IAAA,EAAM,CAAC,CAAC,CAAA;AACnD,MAAA;AAAA,IACF;AAGA,IAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,cAAA,CAAe,QAAQ,CAAA,EAAA,EAAK;AAC9C,MAAA,MAAM,IAAA,GAAO,eAAe,CAAC,CAAA;AAC7B,MAAA,MAAM,MAAM,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,GAAA,KAAQ,GAAI,CAAA;AACxC,MAAA,MAAM,SAAA,GAAY,MAAA,CAAO,IAAA,CAAK,IAAA,CAAK,SAAS,CAAA,GAAI,GAAA;AAChD,MAAA,MAAM,WAAA,GAAc,IAAA,CAAK,IAAA,CAAK,YAAA,IAAgB,KAAK,IAAA,CAAK,UAAA;AAExD,MAAA,OAAA,CAAQ,GAAA,CAAI;AAAA,EAAKA,OAAAA,CAAM,KAAK,IAAA,CAAK,CAAA,cAAA,EAAiB,IAAI,CAAC,CAAA,CAAA,CAAG,CAAC,CAAA,CAAE,CAAA;AAC7D,MAAA,OAAA,CAAQ,GAAA,CAAI,GAAGA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,CAAA,CAAA,EAAI,IAAA,CAAK,OAAO,CAAA,CAAE,CAAA;AACvD,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,IAAA,CAAK,IAAA,CAAK,gBAAgB,CAAA,CAAE,CAAA;AACpE,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,IAAA,CAAK,IAAA,CAAK,YAAY,CAAA,CAAA,EAAI,IAAA,CAAK,IAAA,CAAK,UAAU,CAAA,CAAE,CAAA;AACvF,MAAA,OAAA,CAAQ,IAAI,CAAA,EAAGA,OAAAA,CAAM,KAAK,UAAU,CAAC,IAAI,IAAI,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,KAAK,SAAS,CAAA,GAAI,GAAI,CAAA,CAAE,kBAAA,EAAoB,CAAA,CAAE,CAAA;AAE5G,MAAA,IAAI,MAAA,GAASA,OAAAA,CAAM,KAAA,CAAM,QAAQ,CAAA;AACjC,MAAA,IAAI,SAAA,EAAW,MAAA,GAASA,OAAAA,CAAM,GAAA,CAAI,SAAS,CAAA;AAC3C,MAAA,IAAI,WAAA,EAAa,MAAA,GAASA,OAAAA,CAAM,MAAA,CAAO,WAAW,CAAA;AAClD,MAAA,IAAI,KAAK,IAAA,CAAK,OAAA,EAAS,MAAA,GAASA,OAAAA,CAAM,IAAI,SAAS,CAAA;AAEnD,MAAA,OAAA,CAAQ,GAAA,CAAI,GAAGA,OAAAA,CAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,MAAM,CAAA,CAAE,CAAA;AAAA,IAClD;AAEA,IAAAU,KAAAA;AAAA,MACE;AAAA,EAAKV,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC;AAAA,EACzBA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA;AAAA,EAC/BA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA;AAAA,EAC/BA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,8BAAA;AAAA,KACpC;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,+BAAA,EAAkC,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EACxG;AACF,CAAC,CAAA;AAGH,oBAAA,CACG,QAAQ,QAAQ,CAAA,CAChB,WAAA,CAAY,kCAAkC,EAC9C,MAAA,CAAO,+BAAA,EAAiC,uBAAuB,CAAA,CAC/D,OAAO,QAAA,EAAU,gBAAgB,CAAA,CACjC,MAAA,CAAO,OAAO,OAAA,KAA2B;AACxC,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,KAAA,CAAM,6BAAwB,CAAC,CAAA;AAE3C,EAAA,IAAI;AACF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,0BAA0B,CAAA;AAElC,IAAA,MAAM,EAAE,MAAA,EAAQ,MAAA,EAAO,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAC1D,IAAA,MAAM,UAAA,GAAa,oBAAoB,MAAM,CAAA;AAE7C,IAAA,CAAA,CAAE,KAAK,4BAAuB,CAAA;AAG9B,IAAA,IAAI,cAAc,OAAA,CAAQ,aAAA;AAC1B,IAAA,IAAI,CAAC,WAAA,EAAa;AAChB,MAAA,MAAM,YAAA,GAAe,MAAMI,IAAAA,CAAK;AAAA,QAC9B,OAAA,EAAS,wBAAA;AAAA,QACT,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,UAAA,IAAI,CAAC,OAAO,OAAO,mCAAA;AACnB,UAAA,IAAI;AACF,YAAA5B,OAAAA,CAAQ,KAAA,CAAM,IAAA,EAAM,CAAA;AACpB,YAAA;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO,wBAAA;AAAA,UACT;AAAA,QACF;AAAA,OACD,CAAA;AAED,MAAA,IAAIqB,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,QAAAC,OAAO,wBAAwB,CAAA;AAC/B,QAAA;AAAA,MACF;AAEA,MAAA,WAAA,GAAc,YAAA,CAAa,QAAA,EAAS,CAAE,IAAA,EAAK;AAAA,IAC7C;AAEA,IAAA,MAAM,QAAA,GAAWtB,QAAQ,WAAW,CAAA;AAGpC,IAAA,CAAA,CAAE,MAAM,4BAA4B,CAAA;AACpC,IAAA,MAAM,QAAA,GAAW,MAAM,UAAA,CAAW,aAAA,CAAc,iBAAiB,QAAQ,CAAA;AAEzE,IAAA,IAAI,CAAC,QAAA,EAAU;AACb,MAAA,CAAA,CAAE,KAAK,gCAA2B,CAAA;AAClC,MAAAyB,MAAMV,OAAAA,CAAM,GAAA,CAAI,CAAA,2BAAA,EAA8B,WAAW,EAAE,CAAC,CAAA;AAC5D,MAAA;AAAA,IACF;AAGA,IAAA,MAAM,MAAM,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,GAAA,KAAQ,GAAI,CAAA;AACxC,IAAA,MAAM,SAAA,GAAY,MAAA,CAAO,QAAA,CAAS,SAAS,CAAA,GAAI,GAAA;AAC/C,IAAA,MAAM,WAAA,GAAc,QAAA,CAAS,YAAA,IAAgB,QAAA,CAAS,UAAA;AACtD,IAAA,MAAM,YAAY,QAAA,CAAS,OAAA;AAC3B,IAAA,MAAM,OAAA,GAAU,CAAC,SAAA,IAAa,CAAC,eAAe,CAAC,SAAA;AAE/C,IAAA,CAAA,CAAE,IAAA,CAAK,OAAA,GAAU,+BAAA,GAA6B,iCAA4B,CAAA;AAE1E,IAAA,IAAI,QAAQ,IAAA,EAAM;AAChB,MAAA,OAAA,CAAQ,GAAA,CAAI,KAAK,SAAA,CAAU;AAAA,QACzB,KAAA,EAAO,OAAA;AAAA,QACP,OAAA,EAAS,SAAA;AAAA,QACT,SAAA,EAAW,WAAA;AAAA,QACX,OAAA,EAAS,SAAA;AAAA,QACT,YAAA,EAAc,QAAA,CAAS,YAAA,CAAa,QAAA,EAAS;AAAA,QAC7C,UAAA,EAAY,QAAA,CAAS,UAAA,CAAW,QAAA,EAAS;AAAA,QACzC,SAAA,EAAW,QAAA,CAAS,SAAA,CAAU,QAAA,EAAS;AAAA,QACvC,GAAG;AAAA,OACL,EAAG,IAAA,EAAM,CAAC,CAAC,CAAA;AACX,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAA,GAAc,OAAA,GAAUA,OAAAA,CAAM,KAAA,GAAQA,OAAAA,CAAM,GAAA;AAClD,IAAA,MAAM,UAAA,GAAa,UAAU,OAAA,GAAU,SAAA;AAEvC,IAAAU,KAAAA;AAAA,MACE,CAAA,EAAG,WAAA,CAAY,CAAA,sBAAA,EAAyB,UAAU,EAAE,CAAC;;AAAA,EAClDV,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC;AAAA,EACtBA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,IAAI,WAAW;AAAA,EACrCA,QAAM,IAAA,CAAK,QAAQ,CAAC,CAAA,CAAA,EAAI,SAAS,KAAK;AAAA,EACtCA,QAAM,IAAA,CAAK,SAAS,CAAC,CAAA,CAAA,EAAI,SAAS,gBAAgB;AAAA,EAClDA,OAAAA,CAAM,KAAK,QAAQ,CAAC,IAAI,QAAA,CAAS,YAAY,CAAA,CAAA,EAAI,QAAA,CAAS,UAAU;AAAA,EACpEA,OAAAA,CAAM,IAAA,CAAK,UAAU,CAAC,IAAI,IAAI,IAAA,CAAK,MAAA,CAAO,QAAA,CAAS,SAAS,CAAA,GAAI,GAAI,CAAA,CAAE,gBAAgB;;AAAA,EACtFA,OAAAA,CAAM,IAAA,CAAK,aAAa,CAAC;AAAA,EACzBA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,UAAA,EAAa,SAAA,GAAYA,OAAAA,CAAM,GAAA,CAAI,KAAK,CAAA,GAAIA,OAAAA,CAAM,KAAA,CAAM,IAAI,CAAC;AAAA,EAC5EA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,YAAA,EAAe,WAAA,GAAcA,OAAAA,CAAM,GAAA,CAAI,KAAK,CAAA,GAAIA,OAAAA,CAAM,KAAA,CAAM,IAAI,CAAC;AAAA,EAChFA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,UAAA,EAAa,SAAA,GAAYA,OAAAA,CAAM,GAAA,CAAI,KAAK,CAAA,GAAIA,OAAAA,CAAM,KAAA,CAAM,IAAI,CAAC;AAAA,EAC5EA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,QAAA,EAAW,OAAA,GAAUA,OAAAA,CAAM,KAAA,CAAM,KAAK,CAAA,GAAIA,OAAAA,CAAM,GAAA,CAAI,IAAI,CAAC,CAAA;AAAA,KAC7E;AAAA,EAEF,SAAS,KAAA,EAAO;AACd,IAAAD,GAAAA,CAAI,MAAM,CAAA,kBAAA,EAAqB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,EAC3F;AACF,CAAC,CAAA;AAGH,oBAAA,CACG,OAAO,YAAY;AAClB,EAAAS,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,+CAAwC,CAAC,CAAA;AAE1D,EAAAD,IAAI,IAAA,CAAK;AAAA,EAAKC,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC;AAAA,CAAI,CAAA;AACnD,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,6BAAA,CAA+B,CAAA;AAC1E,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,0BAAA,CAA4B,CAAA;AACvE,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA,mCAAA,CAAqC,CAAA;AAC9E,EAAAD,IAAI,IAAA,CAAK,CAAA,EAAGC,QAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,gCAAA,CAAkC,CAAA;AAE7E,EAAA6C,IAAAA;AAAA,IACE,CAAA,EAAG7C,OAAAA,CAAM,IAAA,CAAK,8BAA8B,CAAC;;AAAA;AAAA;;AAAA,EAG1CA,OAAAA,CAAM,MAAA,CAAO,eAAe,CAAC;AAAA,EAC7BA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EACfA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EACfA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EACfA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;;AAAA,EACfA,OAAAA,CAAM,MAAA,CAAO,YAAY,CAAC;AAAA,EAC1BA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EACfA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA;AAAA,EACfA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,yCAAA,CAAA;AAAA,IAClB;AAAA,GACF;AAEA,EAAAU,MAAM,8CAA8C,CAAA;AACtD,CAAC,CAAA;ACzmBH,IAAM+B,UAAAA,GAAYC,UAAUC,IAAI,CAAA;AAQhC,IAAM,UAAA,GAAavD,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,mBAAmB,CAAA;AACrE,IAAM,cAAA,GAAiB,EAAA,GAAK,EAAA,GAAK,EAAA,GAAK,GAAA;AAEtC,eAAsB,gBAAgB,cAAA,EAAuC;AAC3E,EAAA,IAAI;AAEF,IAAA,IAAI,OAAA,CAAQ,GAAA,CAAI,4BAAA,KAAiC,GAAA,EAAK;AACpD,MAAA;AAAA,IACF;AAGA,IAAA,IAAIH,UAAAA,CAAW,UAAU,CAAA,EAAG;AAC1B,MAAA,IAAI;AACF,QAAA,MAAM,QAAQ,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,UAAA,EAAY,OAAO,CAAC,CAAA;AAC1D,QAAA,MAAM,kBAAA,GAAqB,IAAA,CAAK,GAAA,EAAI,GAAI,KAAA,CAAM,SAAA;AAE9C,QAAA,IAAI,qBAAqB,cAAA,EAAgB;AAEvC,UAAA,IAAI,KAAA,CAAM,aAAA,IAAiB,KAAA,CAAM,aAAA,KAAkB,cAAA,IAAkB4F,iBAAgB,KAAA,CAAM,aAAA,EAAe,cAAc,CAAA,GAAI,CAAA,EAAG;AAC7H,YAAA,sBAAA,CAAuB,cAAA,EAAgB,MAAM,aAAa,CAAA;AAAA,UAC5D;AACA,UAAA;AAAA,QACF;AAAA,MACF,SAAS,KAAA,EAAO;AAAA,MAEhB;AAAA,IACF;AAGA,IAAA1C,WAAU,kCAAkC,CAAA,CACzC,KAAK,CAAC,EAAE,QAAO,KAAM;AACpB,MAAA,MAAM,aAAA,GAAgB,OAAO,IAAA,EAAK;AAGlC,MAAA,MAAM,KAAA,GAA0B;AAAA,QAC9B,SAAA,EAAW,KAAK,GAAA,EAAI;AAAA,QACpB,aAAA;AAAA,QACA;AAAA,OACF;AAGA,MAAA,MAAM,QAAA,GAAWrD,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,aAAa,CAAA;AAC9C,MAAA,IAAI,CAACH,UAAAA,CAAW,QAAQ,CAAA,EAAG;AACzB,QAAAI,SAAAA,CAAU,QAAA,EAAU,EAAE,SAAA,EAAW,MAAM,CAAA;AAAA,MACzC;AAEA,MAAAE,cAAc,UAAA,EAAY,IAAA,CAAK,UAAU,KAAA,EAAO,IAAA,EAAM,CAAC,CAAC,CAAA;AAGxD,MAAA,IAAI,kBAAkB,cAAA,IAAkB2F,gBAAAA,CAAgB,aAAA,EAAe,cAAc,IAAI,CAAA,EAAG;AAC1F,QAAA,sBAAA,CAAuB,gBAAgB,aAAa,CAAA;AAAA,MACtD;AAAA,IACF,CAAC,CAAA,CACA,KAAA,CAAM,MAAM;AAAA,IAEb,CAAC,CAAA;AAAA,EACL,SAAS,KAAA,EAAO;AAAA,EAEhB;AACF;AAEA,SAAS,sBAAA,CAAuB,gBAAwB,aAAA,EAA6B;AACnF,EAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,EAAA,OAAA,CAAQ,GAAA,CAAInF,OAAAA,CAAM,MAAA,CAAO,4UAAyD,CAAC,CAAA;AACnF,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,QAAG,CAAA,GAAIA,OAAAA,CAAM,IAAA,CAAK,8DAAuD,CAAA,GAAIA,OAAAA,CAAM,MAAA,CAAO,QAAG,CAAC,CAAA;AACvH,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,MAAA,CAAO,QAAG,IAAIA,OAAAA,CAAM,IAAA,CAAK,eAAe,cAAc,CAAA,CAAE,IAAI,GAAA,CAAI,MAAA,CAAO,KAAK,cAAA,CAAe,MAAM,IAAIA,OAAAA,CAAM,MAAA,CAAO,QAAG,CAAC,CAAA;AACxI,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,MAAA,CAAO,QAAG,IAAIA,OAAAA,CAAM,KAAA,CAAM,eAAe,aAAa,CAAA,CAAE,IAAI,GAAA,CAAI,MAAA,CAAO,KAAK,aAAA,CAAc,MAAM,IAAIA,OAAAA,CAAM,MAAA,CAAO,QAAG,CAAC,CAAA;AACvI,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,QAAG,CAAA,GAAI,GAAA,CAAI,MAAA,CAAO,EAAE,CAAA,GAAIA,OAAAA,CAAM,MAAA,CAAO,QAAG,CAAC,CAAA;AAClE,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,QAAG,CAAA,GAAIA,QAAM,IAAA,CAAK,QAAQ,CAAA,GAAIA,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK,cAAc,CAAA,GAAIA,OAAAA,CAAM,IAAA,CAAK,0BAA0B,CAAA,GAAI,GAAA,CAAI,MAAA,CAAO,EAAE,CAAA,GAAIA,OAAAA,CAAM,MAAA,CAAO,QAAG,CAAC,CAAA;AACpK,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,4UAAyD,CAAC,CAAA;AACnF,EAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAChB;AAEA,SAASmF,gBAAAA,CAAgB,IAAY,EAAA,EAAoB;AACvD,EAAA,MAAM,SAAS,EAAA,CAAG,KAAA,CAAM,GAAG,CAAA,CAAE,IAAI,MAAM,CAAA;AACvC,EAAA,MAAM,SAAS,EAAA,CAAG,KAAA,CAAM,GAAG,CAAA,CAAE,IAAI,MAAM,CAAA;AAEvC,EAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,IAAA,CAAK,GAAA,CAAI,OAAO,MAAA,EAAQ,MAAA,CAAO,MAAM,CAAA,EAAG,CAAA,EAAA,EAAK;AAC/D,IAAA,MAAM,KAAA,GAAQ,MAAA,CAAO,CAAC,CAAA,IAAK,CAAA;AAC3B,IAAA,MAAM,KAAA,GAAQ,MAAA,CAAO,CAAC,CAAA,IAAK,CAAA;AAE3B,IAAA,IAAI,KAAA,GAAQ,OAAO,OAAO,CAAA;AAC1B,IAAA,IAAI,KAAA,GAAQ,OAAO,OAAO,EAAA;AAAA,EAC5B;AAEA,EAAA,OAAO,CAAA;AACT;;;AC1FA,WAAA,EAAA;AACA,kBAAA,EAAA;AAqBA,IAAM,oBAAA,GAAuB/F,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,sBAAsB,CAAA;AAClF,IAAM,mBAAA,GAAsB,CAAA;AAErB,IAAM,kBAAN,MAAsB;AAAA,EACnB,OAAA;AAAA,EAER,YAAYgC,QAAAA,EAAkB;AAC5B,IAAA,IAAA,CAAK,OAAA,GAAUA,QAAAA;AAAA,EACjB;AAAA,EAEA,MAAM,YAAA,GAA8B;AAClC,IAAAb,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,kDAA2C,CAAC,CAAA;AAG7D,IAAA,MAAM,UAAA,GAAaZ,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,aAAa,CAAA;AAC/D,IAAA,MAAM,UAAA,GAAa,CAACH,UAAAA,CAAW,UAAU,CAAA;AAGzC,IAAA,WAAS;AACP,MAAA,MAAM,UAAA,GAA+B;AAAA,QACnC;AAAA,UACE,KAAA,EAAO,YAAA;AAAA,UACP,KAAA,EAAO,aAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,qDAAA;AAAA,UACb,IAAA,EAAM,aAAa,oBAAA,GAAkB;AAAA,SACvC;AAAA,QACA;AAAA,UACE,KAAA,EAAO,QAAA;AAAA,UACP,KAAA,EAAO,WAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,oCAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,QAAA;AAAA,UACP,KAAA,EAAO,cAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,6CAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,YAAA;AAAA,UACP,KAAA,EAAO,sBAAA;AAAA,UACP,IAAA,EAAM,QAAA;AAAA,UACN,WAAA,EAAa,yCAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,UAAA;AAAA,UACP,KAAA,EAAO,kBAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,iDAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,eAAA;AAAA,UACP,KAAA,EAAO,oBAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,yCAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,KAAA;AAAA,UACP,KAAA,EAAO,wBAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,iCAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,aAAA;AAAA,UACP,KAAA,EAAO,aAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,mCAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,QAAA;AAAA,UACP,KAAA,EAAO,QAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,sCAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,QAAA;AAAA,UACP,KAAA,EAAO,QAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,mCAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,YAAA;AAAA,UACP,KAAA,EAAO,YAAA;AAAA,UACP,IAAA,EAAM,iBAAA;AAAA,UACN,WAAA,EAAa,gCAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,aAAA;AAAA,UACP,KAAA,EAAO,aAAA;AAAA,UACP,IAAA,EAAM,iBAAA;AAAA,UACN,WAAA,EAAa,kCAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,YAAA;AAAA,UACP,KAAA,EAAO,wBAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,2CAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,QAAA;AAAA,UACP,KAAA,EAAO,iBAAA;AAAA,UACP,IAAA,EAAM,cAAA;AAAA,UACN,WAAA,EAAa,4CAAA;AAAA,UACb,IAAA,EAAM,KAAK,qBAAA;AAAsB,SACnC;AAAA,QACA;AAAA,UACE,KAAA,EAAO,MAAA;AAAA,UACP,KAAA,EAAO,gBAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,8CAAA;AAAA,UACb,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,MAAA;AAAA,UACP,KAAA,EAAO,MAAA;AAAA,UACP,IAAA,EAAM,WAAA;AAAA,UACN,WAAA,EAAa,uBAAA;AAAA,UACb,IAAA,EAAM;AAAA;AACR,OACF;AAEA,MAAA,MAAM,MAAA,GAAS,MAAM0B,MAAAA,CAAO;AAAA,QAC1B,OAAA,EAAS,4BAAA;AAAA,QACT,OAAA,EAAS,UAAA,CAAW,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,UAC9B,OAAO,GAAA,CAAI,KAAA;AAAA,UACX,OAAO,CAAA,EAAG,GAAA,CAAI,IAAI,CAAA,CAAA,EAAI,IAAI,KAAK,CAAA,CAAA;AAAA,UAC/B,MAAM,GAAA,CAAI;AAAA,SACZ,CAAE;AAAA,OACH,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,MAAM,CAAA,EAAG;AACpB,QAAAC,OAAO,4BAA4B,CAAA;AACnC,QAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,MAChB;AAEA,MAAA,QAAQ,MAAA;AAAQ,QACd,KAAK,YAAA;AACH,UAAA,MAAM,KAAK,kBAAA,EAAmB;AAC9B,UAAA;AAAA,QACF,KAAK,QAAA;AACH,UAAA,MAAM,KAAK,aAAA,EAAc;AACzB,UAAA;AAAA,QACF,KAAK,QAAA;AACH,UAAA,MAAM,KAAK,aAAA,EAAc;AACzB,UAAA;AAAA,QACF,KAAK,YAAA;AACH,UAAA,MAAM,KAAK,kBAAA,EAAmB;AAC9B,UAAA;AAAA,QACF,KAAK,UAAA;AACH,UAAA,MAAM,KAAK,gBAAA,EAAiB;AAC5B,UAAA;AAAA,QACF,KAAK,eAAA;AACH,UAAA,MAAM,KAAK,qBAAA,EAAsB;AACjC,UAAA;AAAA,QACF,KAAK,KAAA;AACH,UAAA,MAAM,KAAK,WAAA,EAAY;AACvB,UAAA;AAAA,QACF,KAAK,aAAA;AACH,UAAA,MAAM,KAAK,mBAAA,EAAoB;AAC/B,UAAA;AAAA,QACF,KAAK,QAAA;AACH,UAAA,MAAM,KAAK,cAAA,EAAe;AAC1B,UAAA;AAAA,QACF,KAAK,QAAA;AACH,UAAA,MAAM,KAAK,cAAA,EAAe;AAC1B,UAAA;AAAA,QACF,KAAK,YAAA;AACH,UAAA,MAAM,KAAK,kBAAA,EAAmB;AAC9B,UAAA;AAAA,QACF,KAAK,YAAA;AACH,UAAA,MAAM,KAAK,kBAAA,EAAmB;AAC9B,UAAA;AAAA,QACF,KAAK,aAAA;AACH,UAAA,MAAM,KAAK,mBAAA,EAAoB;AAC/B,UAAA;AAAA,QACF,KAAK,QAAA;AACH,UAAA,MAAM,KAAK,kBAAA,EAAmB;AAC9B,UAAA;AAAA,QACF,KAAK,MAAA;AACH,UAAA,MAAM,KAAK,QAAA,EAAS;AACpB,UAAA;AAAA,QACF,KAAK,MAAA;AACH,UAAAG,KAAAA,CAAMV,OAAAA,CAAM,KAAA,CAAM,wCAAiC,CAAC,CAAA;AACpD,UAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA;AAClB,IACF;AAAA,EACF;AAAA,EAEA,MAAc,kBAAA,GAAoC;AAChD,IAAA,MAAM,OAAA,GAA2B;AAAA,MAC/B,EAAE,OAAO,WAAA,EAAa,KAAA,EAAO,6BAAsB,OAAA,EAAS,gBAAA,EAAkB,MAAM,iCAAA,EAA6B;AAAA,MACjH,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,oCAA6B,OAAA,EAAS,qBAAA,EAAuB,MAAM,wBAAA,EAAyB;AAAA,MACtH,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,iCAA0B,OAAA,EAAS,YAAA,EAAc,MAAM,yBAAA,EAA0B;AAAA,MAC3G,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,gCAAyB,OAAA,EAAS,EAAA,EAAI,MAAM,uBAAA,EAAyB;AAAA,MAC/F,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,4BAAuB,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KACvE;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMY,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,4DAAqD,CAAA;AAAA,MACzE,OAAA,EAAS,OAAA,CAAQ,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC3B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,IAAI,WAAW,QAAA,EAAU;AACvB,MAAA,MAAM,KAAK,eAAA,EAAgB;AAC3B,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,OAAA,CAAQ,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AACzD,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,eAAA,GAAiC;AAC7C,IAAA,MAAM,IAAIG,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,+BAA+B,CAAA;AAEvC,IAAA,MAAM,MAAA,GAAS;AAAA,MACb,QAAQvB,UAAAA,CAAWE,IAAAA,CAAKC,SAAQ,EAAG,aAAA,EAAe,aAAa,CAAC,CAAA;AAAA,MAChE,MAAA,EAAQ,KAAA;AAAA,MACR,OAAA,EAAS,OAAA;AAAA,MACT,MAAA,EAAQ;AAAA,KACV;AAEA,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,gBAAA,EAAiB;AAC1C,MAAA,MAAA,CAAO,MAAA,GAAS,IAAA;AAEhB,MAAA,MAAM,EAAE,UAAA,EAAA+F,WAAAA,EAAW,GAAI,MAAM,OAAA,CAAA,OAAA,EAAA,CAAA,IAAA,CAAA,OAAA,WAAA,EAAA,EAAA,cAAA,CAAA,CAAA;AAC7B,MAAA,MAAM,MAAMA,WAAAA,EAAW;AACvB,MAAA,MAAM,MAAA,GAAS,IAAI,MAAA,IAAU,+BAAA;AAE7B,MAAA,MAAM,MAAA,GAAS,mBAAmB,MAAM,CAAA;AACxC,MAAA,MAAM,EAAE,KAAA,EAAO,OAAA,EAAQ,GAAI,MAAM,MAAA,CAAO,GAAA,CAAI,UAAA,CAAWnG,OAAAA,CAAQ,MAAA,CAAO,OAAO,CAAC,EAAE,IAAA,EAAK;AACrF,MAAA,MAAA,CAAO,OAAA,GAAU,IAAI,MAAA,CAAO,OAAO,IAAI,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA,CAAA;AAEtD,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,SAAA,CAAU,OAAA,CAAuB,aAAA,CAAc,aAAa,CAAA;AACjF,QAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,IAAA,CAAK,EAAE,OAAOA,OAAAA,CAAQ,MAAA,CAAO,OAAO,CAAA,EAAG,CAAA;AACzE,QAAA,MAAA,CAAO,SAAS,MAAA,CAAO,MAAA;AAAA,MACzB,CAAA,CAAA,MAAQ;AACN,QAAA,MAAA,CAAO,MAAA,GAAS,CAAA;AAAA,MAClB;AAAA,IACF,CAAA,CAAA,MAAQ;AAAA,IAER;AAEA,IAAA,CAAA,CAAE,KAAK,eAAe,CAAA;AAEtB,IAAA,OAAA,CAAQ,GAAA,CAAI,IAAA,GAAOe,OAAAA,CAAM,IAAA,CAAK,sCAA+B,CAAC,CAAA;AAC9D,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,iBAAA,EAAoB,MAAA,CAAO,MAAA,GAASA,OAAAA,CAAM,KAAA,CAAM,mBAAc,CAAA,GAAIA,OAAAA,CAAM,GAAA,CAAI,uBAAkB,CAAC,CAAA,CAAE,CAAA;AAC7G,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,iBAAA,EAAoB,MAAA,CAAO,MAAA,GAASA,OAAAA,CAAM,KAAA,CAAM,gBAAW,CAAA,GAAIA,OAAAA,CAAM,GAAA,CAAI,oBAAe,CAAC,CAAA,CAAE,CAAA;AACvG,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,iBAAA,EAAoB,MAAA,CAAO,OAAO,CAAA,CAAE,CAAA;AAChD,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,iBAAA,EAAoB,MAAA,CAAO,MAAM,CAAA,WAAA,CAAa,CAAA;AAC1D,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAEd,IAAA,IAAI,CAAC,MAAA,CAAO,MAAA,IAAU,CAAC,OAAO,MAAA,EAAQ;AACpC,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,mEAA4D,CAAC,CAAA;AAAA,IACxF,CAAA,MAAA,IAAW,UAAA,CAAW,MAAA,CAAO,OAAO,MAAM,CAAA,EAAG;AAC3C,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,mEAA4D,CAAC,CAAA;AAAA,IACxF,CAAA,MAAO;AACL,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,KAAA,CAAM,wDAAkD,CAAC,CAAA;AAAA,IAC7E;AAEA,IAAA,MAAMc,QAAQ,EAAE,OAAA,EAAS,4BAAA,EAA8B,YAAA,EAAc,MAAM,CAAA;AAAA,EAC7E;AAAA,EAEA,MAAc,aAAA,GAA+B;AAC3C,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,UAAA,EAAY,KAAA,EAAO,gCAAyB,OAAA,EAAS,gBAAA,EAAkB,MAAM,sBAAA,EAAuB;AAAA,MAC7G,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,4BAAqB,OAAA,EAAS,YAAA,EAAc,MAAM,sBAAA,EAAuB;AAAA,MACjG,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,0BAAmB,OAAA,EAAS,cAAA,EAAgB,MAAM,oBAAA,EAAqB;AAAA,MACjG,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,6BAAmB,OAAA,EAAS,cAAA,EAAgB,MAAM,sBAAA,EAAuB;AAAA,MACnG,EAAE,OAAO,WAAA,EAAa,KAAA,EAAO,6BAAsB,OAAA,EAAS,iBAAA,EAAmB,MAAM,qBAAA,EAAsB;AAAA,MAC3G,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,2BAAoB,OAAA,EAAS,cAAA,EAAgB,MAAM,2BAAA,EAA4B;AAAA,MACzG,EAAE,OAAO,aAAA,EAAe,KAAA,EAAO,gCAAyB,OAAA,EAAS,mBAAA,EAAqB,MAAM,iBAAA,EAAkB;AAAA,MAC9G,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,eAAU,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KAC1D;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMF,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,gCAAyB,CAAA;AAAA,MAC7C,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,aAAA,GAA+B;AAC3C,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,WAAA,EAAa,KAAA,EAAO,6BAAsB,OAAA,EAAS,UAAA,EAAY,MAAM,wBAAA,EAAyB;AAAA,MACvG,EAAE,OAAO,OAAA,EAAS,KAAA,EAAO,+BAAwB,OAAA,EAAS,aAAA,EAAe,MAAM,yBAAA,EAA0B;AAAA,MACzG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,8BAAuB,OAAA,EAAS,YAAA,EAAc,MAAM,4BAAA,EAA6B;AAAA,MACzG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,4BAAqB,OAAA,EAAS,YAAA,EAAc,MAAM,qBAAA,EAAsB;AAAA,MAChG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,eAAU,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KAC1D;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,mCAA4B,CAAA;AAAA,MAChD,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,kBAAA,GAAoC;AAChD,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,eAAA,EAAiB,KAAA,EAAO,kCAA2B,OAAA,EAAS,eAAA,EAAiB,MAAM,wBAAA,EAAyB;AAAA,MACrH,EAAE,OAAO,YAAA,EAAc,KAAA,EAAO,+BAAwB,OAAA,EAAS,YAAA,EAAc,MAAM,qBAAA,EAAsB;AAAA,MACzG,EAAE,OAAO,OAAA,EAAS,KAAA,EAAO,4BAAuB,OAAA,EAAS,kBAAA,EAAoB,MAAM,oBAAA,EAAqB;AAAA,MACxG,EAAE,OAAO,OAAA,EAAS,KAAA,EAAO,yBAAkB,OAAA,EAAS,eAAA,EAAiB,MAAM,uBAAA,EAAwB;AAAA,MACnG,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,8BAAuB,OAAA,EAAS,SAAA,EAAW,MAAM,oBAAA,EAAqB;AAAA,MACjG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,eAAU,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KAC1D;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,8BAAyB,CAAA;AAAA,MAC7C,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,gBAAA,GAAkC;AAC9C,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,WAAA,EAAa,KAAA,EAAO,gCAAyB,OAAA,EAAS,aAAA,EAAe,MAAM,wBAAA,EAAyB;AAAA,MAC7G,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,6BAAsB,OAAA,EAAS,iBAAA,EAAmB,MAAM,mBAAA,EAAoB;AAAA,MACtG,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,6BAAsB,OAAA,EAAS,kBAAA,EAAoB,MAAM,gBAAA,EAAiB;AAAA,MACrG,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,2BAAsB,OAAA,EAAS,kBAAA,EAAoB,MAAM,eAAA,EAAgB;AAAA,MACpG,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,2BAAsB,OAAA,EAAS,kBAAA,EAAoB,MAAM,qBAAA,EAAsB;AAAA,MAC1G,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,4BAAqB,OAAA,EAAS,eAAA,EAAiB,MAAM,qBAAA,EAAsB;AAAA,MACnG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,eAAU,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KAC1D;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,uCAAgC,CAAA;AAAA,MACpD,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,qBAAA,GAAuC;AACnD,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,WAAA,EAAa,KAAA,EAAO,qCAA8B,OAAA,EAAS,SAAA,EAAW,MAAM,wBAAA,EAAyB;AAAA,MAC9G,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,kCAA2B,OAAA,EAAS,aAAA,EAAe,MAAM,sBAAA,EAAuB;AAAA,MAC1G,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,+BAA0B,OAAA,EAAS,aAAA,EAAe,MAAM,mBAAA,EAAoB;AAAA,MACtG,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,+BAA0B,OAAA,EAAS,aAAA,EAAe,MAAM,gBAAA,EAAiB;AAAA,MACnG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,iCAA0B,OAAA,EAAS,WAAA,EAAa,MAAM,kBAAA,EAAmB;AAAA,MACjG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,eAAU,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KAC1D;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,yCAAkC,CAAA;AAAA,MACtD,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,WAAA,GAA6B;AACzC,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,WAAA,EAAa,KAAA,EAAO,2BAAoB,OAAA,EAAS,QAAA,EAAU,MAAM,yBAAA,EAA0B;AAAA,MACpG,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,wBAAiB,OAAA,EAAS,YAAA,EAAc,MAAM,8BAAA,EAA+B;AAAA,MACvG,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,2BAAiB,OAAA,EAAS,YAAA,EAAc,MAAM,qBAAA,EAAsB;AAAA,MAC9F,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,yBAAkB,OAAA,EAAS,aAAA,EAAe,MAAM,sBAAA,EAAuB;AAAA,MAClG,EAAE,OAAO,YAAA,EAAc,KAAA,EAAO,yBAAoB,OAAA,EAAS,gBAAA,EAAkB,MAAM,mBAAA,EAAoB;AAAA,MACvG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,eAAU,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KAC1D;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,yCAAkC,CAAA;AAAA,MACtD,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,mBAAA,GAAqC;AACjD,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,8BAAuB,OAAA,EAAS,kBAAA,EAAoB,MAAM,6BAAA,EAA8B;AAAA,MAChH,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,eAAU,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KAC1D;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,mCAA4B,CAAA;AAAA,MAChD,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,cAAA,GAAgC;AAC5C,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,WAAA,EAAa,KAAA,EAAO,8BAAuB,OAAA,EAAS,WAAA,EAAa,MAAM,4BAAA,EAA6B;AAAA,MAC7G,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,2BAAoB,OAAA,EAAS,eAAA,EAAiB,MAAM,wBAAA,EAAyB;AAAA,MACvG,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,yBAAoB,OAAA,EAAS,gBAAA,EAAkB,MAAM,oBAAA,EAAqB;AAAA,MACrG,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,6BAAmB,OAAA,EAAS,gBAAA,EAAkB,MAAM,qBAAA,EAAsB;AAAA,MACrG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,0BAAmB,OAAA,EAAS,aAAA,EAAe,MAAM,kBAAA,EAAmB;AAAA,MAC5F,EAAE,OAAO,KAAA,EAAO,KAAA,EAAO,gCAAyB,OAAA,EAAS,YAAA,EAAc,MAAM,sBAAA,EAAuB;AAAA,MACpG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,eAAU,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KAC1D;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,8BAAuB,CAAA;AAAA,MAC3C,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,kBAAA,GAAoC;AAChD,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,4BAAqB,OAAA,EAAS,WAAA,EAAa,MAAM,yBAAA,EAA0B;AAAA,MACnG,EAAE,OAAO,YAAA,EAAc,KAAA,EAAO,+BAA0B,OAAA,EAAS,eAAA,EAAiB,MAAM,sBAAA,EAAuB;AAAA,MAC/G,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,+BAAwB,OAAA,EAAS,YAAA,EAAc,MAAM,qBAAA,EAAsB;AAAA,MACtG,EAAE,OAAO,OAAA,EAAS,KAAA,EAAO,6BAAsB,OAAA,EAAS,UAAA,EAAY,MAAM,gBAAA,EAAiB;AAAA,MAC3F,EAAE,OAAO,UAAA,EAAY,KAAA,EAAO,gCAAyB,OAAA,EAAS,aAAA,EAAe,MAAM,gBAAA,EAAiB;AAAA,MACpG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,qCAA8B,OAAA,EAAS,SAAA,EAAW,MAAM,oBAAA,EAAqB;AAAA,MACrG,EAAE,OAAO,KAAA,EAAO,KAAA,EAAO,2BAAoB,OAAA,EAAS,QAAA,EAAU,MAAM,wBAAA,EAAyB;AAAA,MAC7F,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,8BAAuB,OAAA,EAAS,WAAA,EAAa,MAAM,wBAAA,EAAyB;AAAA,MACtG,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,+BAAwB,OAAA,EAAS,YAAA,EAAc,MAAM,kBAAA,EAAmB;AAAA,MACnG,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,+BAAwB,OAAA,EAAS,YAAA,EAAc,MAAM,oBAAA,EAAqB;AAAA,MACrG,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,eAAU,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KAC1D;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,mCAA4B,CAAA;AAAA,MAChD,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,cAAA,GAAgC;AAC5C,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,0BAAmB,OAAA,EAAS,aAAA,EAAe,MAAM,uBAAA,EAAwB;AAAA,MACjG,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,2BAAoB,OAAA,EAAS,eAAA,EAAiB,MAAM,qBAAA,EAAsB;AAAA,MACpG,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,2BAAoB,OAAA,EAAS,eAAA,EAAiB,MAAM,yBAAA,EAA0B;AAAA,MACxG,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,2BAAoB,OAAA,EAAS,gBAAA,EAAkB,MAAM,qBAAA,EAAsB;AAAA,MACtG,EAAE,OAAO,KAAA,EAAO,KAAA,EAAO,2BAAoB,OAAA,EAAS,YAAA,EAAc,MAAM,sBAAA,EAAuB;AAAA,MAC/F,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,eAAU,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KAC1D;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,2BAAoB,CAAA;AAAA,MACxC,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,kBAAA,GAAoC;AAChD,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,iBAAA,EAAmB,KAAA,EAAO,6BAAsB,OAAA,EAAS,4BAAA,EAA8B,MAAM,yBAAA,EAA0B;AAAA,MAChI,EAAE,OAAO,eAAA,EAAiB,KAAA,EAAO,4BAAqB,OAAA,EAAS,0BAAA,EAA4B,MAAM,kBAAA,EAAmB;AAAA,MACpH,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,oCAAwB,OAAA,EAAS,iBAAA,EAAmB,MAAM,gBAAA,EAAiB;AAAA,MACnG,EAAE,OAAO,YAAA,EAAc,KAAA,EAAO,8BAAkB,OAAA,EAAS,uBAAA,EAAyB,MAAM,mBAAA,EAAoB;AAAA,MAC5G,EAAE,OAAO,aAAA,EAAe,KAAA,EAAO,yBAAkB,OAAA,EAAS,wBAAA,EAA0B,MAAM,oBAAA,EAAqB;AAAA,MAC/G,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,eAAU,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KAC1D;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,iCAAqB,CAAA;AAAA,MACzC,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,mBAAA,GAAqC;AACjD,IAAA,MAAM,QAAA,GAA4B;AAAA,MAChC,EAAE,OAAO,SAAA,EAAW,KAAA,EAAO,8BAAuB,OAAA,EAAS,SAAA,EAAW,MAAM,sBAAA,EAAuB;AAAA,MACnG,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,qBAAc,OAAA,EAAS,QAAA,EAAU,MAAM,yBAAA,EAA0B;AAAA,MAC3F,EAAE,OAAO,UAAA,EAAY,KAAA,EAAO,6BAAsB,OAAA,EAAS,UAAA,EAAY,MAAM,wBAAA,EAAyB;AAAA,MACtG,EAAE,OAAO,UAAA,EAAY,KAAA,EAAO,6BAAsB,OAAA,EAAS,UAAA,EAAY,MAAM,iBAAA,EAAkB;AAAA,MAC/F,EAAE,OAAO,QAAA,EAAU,KAAA,EAAO,2BAAiB,OAAA,EAAS,QAAA,EAAU,MAAM,0BAAA,EAA2B;AAAA,MAC/F,EAAE,OAAO,MAAA,EAAQ,KAAA,EAAO,4BAAuB,OAAA,EAAS,EAAA,EAAI,MAAM,EAAA;AAAG,KACvE;AAEA,IAAA,MAAM,MAAA,GAAS,MAAMM,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,mCAAuB,CAAA;AAAA,MAC3C,OAAA,EAAS,QAAA,CAAS,GAAA,CAAI,CAAA,GAAA,MAAQ;AAAA,QAC5B,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,OAAO,GAAA,CAAI,KAAA;AAAA,QACX,MAAM,GAAA,CAAI;AAAA,OACZ,CAAE;AAAA,KACH,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,WAAW,QAAA,CAAS,IAAA,CAAK,CAAA,GAAA,KAAO,GAAA,CAAI,UAAU,MAAM,CAAA;AAC1D,IAAA,IAAI,UAAU,OAAA,EAAS;AACrB,MAAA,MAAM,IAAA,CAAK,cAAA,CAAe,QAAA,CAAS,OAAO,CAAA;AAC1C,MAAA,IAAA,CAAK,iBAAA,CAAkB,QAAA,CAAS,OAAA,EAAS,QAAA,CAAS,KAAK,CAAA;AAAA,IACzD;AAAA,EACF;AAAA,EAEA,MAAc,kBAAA,GAAoC;AAChD,IAAA,MAAM,cAAA,GAAiB,KAAK,iBAAA,EAAkB;AAE9C,IAAA,IAAI,cAAA,CAAe,WAAW,CAAA,EAAG;AAC/B,MAAAP,GAAAA,CAAI,KAAK,uEAAuE,CAAA;AAChF,MAAA,MAAM,KAAK,eAAA,EAAgB;AAC3B,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,OAAA,GAAU,cAAA,CAAe,GAAA,CAAI,CAAC,KAAK,KAAA,MAAW;AAAA,MAClD,OAAO,GAAA,CAAI,OAAA;AAAA,MACX,OAAO,CAAA,EAAG,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,IAAI,KAAK,CAAA,CAAA;AAAA,MACjC,MAAM,GAAA,CAAI;AAAA,KACZ,CAAE,CAAA;AAEF,IAAA,OAAA,CAAQ,IAAA,CAAK,EAAE,KAAA,EAAO,MAAA,EAAQ,OAAO,0BAAA,EAAuB,IAAA,EAAM,IAAI,CAAA;AAEtE,IAAA,MAAM,MAAA,GAAS,MAAMa,MAAAA,CAAO;AAAA,MAC1B,OAAA,EAASZ,OAAAA,CAAM,IAAA,CAAK,+BAAqB,CAAA;AAAA,MACzC;AAAA,KACD,CAAA;AAED,IAAA,IAAIM,QAAAA,CAAS,MAAM,CAAA,IAAK,MAAA,KAAW,MAAA,EAAQ;AACzC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,IAAA,CAAK,eAAe,MAAgB,CAAA;AAAA,EAC5C;AAAA,EAEA,MAAc,QAAA,GAA0B;AACtC,IAAA,OAAA,CAAQ,GAAA,CAAIN,OAAAA,CAAM,IAAA,CAAK,+CAAwC,CAAC,CAAA;AAChE,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,CAAA;AACtC,IAAA,OAAA,CAAQ,IAAI,gEAAgE,CAAA;AAC5E,IAAA,OAAA,CAAQ,IAAI,yDAAyD,CAAA;AACrE,IAAA,OAAA,CAAQ,IAAI,yDAAyD,CAAA;AAErE,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,eAAe,CAAC,CAAA;AACvC,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,uBAAgB,IAAI,mDAAmD,CAAA;AAC9F,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,qBAAc,IAAI,uDAAuD,CAAA;AAChG,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,8BAAkB,IAAI,yCAAyC,CAAA;AACtF,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,iBAAU,IAAI,wDAAwD,CAAA;AAE7F,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,CAAA;AACpC,IAAA,OAAA,CAAQ,IAAI,6CAA6C,CAAA;AACzD,IAAA,OAAA,CAAQ,IAAI,oDAAoD,CAAA;AAChE,IAAA,OAAA,CAAQ,IAAI,4CAA4C,CAAA;AAExD,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,OAAO,CAAC,CAAA;AAC/B,IAAA,OAAA,CAAQ,GAAA,CAAI,4CAAA,GAA0CA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA;AACpF,IAAA,OAAA,CAAQ,IAAI,eAAA,GAAaA,OAAAA,CAAM,IAAA,CAAK,eAAe,IAAI,qBAAqB,CAAA;AAC5E,IAAA,OAAA,CAAQ,IAAI,uDAAkD,CAAA;AAE9D,IAAA,MAAM,KAAK,eAAA,EAAgB;AAAA,EAC7B;AAAA,EAEA,MAAc,eAAe,OAAA,EAAgC;AAC3D,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK;AAAA,wBAAA,EAAmB,OAAO;AAAA,CAAI,CAAC,CAAA;AAEtD,IAAA,IAAI;AACF,MAAA,MAAMsC,KAAAA,GAAO,OAAA,CAAQ,KAAA,CAAM,GAAG,CAAA;AAC9B,MAAA,MAAM,EAAE,KAAA,EAAM,GAAI,MAAM,OAAO,eAAe,CAAA;AAE9C,MAAA,IAAI,UAAA;AACJ,MAAA,IAAI,OAAA;AAEJ,MAAA,IAAI,QAAQ,IAAA,CAAK,CAAC,CAAA,EAAG,QAAA,CAAS,KAAK,CAAA,EAAG;AACpC,QAAA,UAAA,GAAa,OAAA,CAAQ,KAAK,CAAC,CAAA;AAC3B,QAAA,OAAA,GAAU,CAAC,OAAA,CAAQ,IAAA,CAAK,CAAC,CAAA,EAAG,GAAGA,KAAI,CAAA;AAAA,MACrC,CAAA,MAAO;AACL,QAAA,UAAA,GAAa,OAAA;AACb,QAAA,OAAA,GAAUA,KAAAA;AAAA,MACZ;AAEA,MAAA,MAAM,KAAA,GAAQ,KAAA,CAAM,UAAA,EAAY,OAAA,EAAS;AAAA,QACvC,KAAA,EAAO,SAAA;AAAA,QACP,KAAK,OAAA,CAAQ,GAAA;AAAA,QACb,KAAA,EAAO;AAAA,OACR,CAAA;AAED,MAAA,MAAM,IAAI,OAAA,CAAc,CAAC3C,QAAAA,KAAY;AACnC,QAAA,KAAA,CAAM,EAAA,CAAG,OAAA,EAAS,MAAMA,QAAAA,EAAS,CAAA;AACjC,QAAA,KAAA,CAAM,EAAA,CAAG,OAAA,EAAS,CAAC,GAAA,KAAQ;AACzB,UAAA,OAAA,CAAQ,KAAA,CAAM,CAAA,2BAAA,EAA8B,GAAA,CAAI,OAAO,CAAA,CAAE,CAAA;AACzD,UAAAA,QAAAA,EAAQ;AAAA,QACV,CAAC,CAAA;AAAA,MACH,CAAC,CAAA;AAED,MAAA,MAAM,IAAI,OAAA,CAAQ,CAAAA,aAAW,UAAA,CAAWA,QAAAA,EAAS,GAAG,CAAC,CAAA;AAAA,IAEvD,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,KAAA,CAAMK,QAAM,GAAA,CAAI;AAAA,gCAAA,EAAgC,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,EAAE,CAAC,CAAA;AAAA,IACrH;AAEA,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,EAChB;AAAA,EAEQ,iBAAA,CAAkB,SAAiB,KAAA,EAAqB;AAC9D,IAAA,IAAI;AACF,MAAA,MAAM,cAAA,GAAiB,KAAK,iBAAA,EAAkB;AAC9C,MAAA,MAAM,WAAW,cAAA,CAAe,MAAA,CAAO,CAAA,GAAA,KAAO,GAAA,CAAI,YAAY,OAAO,CAAA;AACrE,MAAA,QAAA,CAAS,OAAA,CAAQ,EAAE,OAAA,EAAS,KAAA,EAAO,WAAW,IAAA,CAAK,GAAA,IAAO,CAAA;AAC1D,MAAA,MAAM,MAAA,GAAS,QAAA,CAAS,KAAA,CAAM,CAAA,EAAG,mBAAmB,CAAA;AAEpD,MAAA,MAAM,GAAA,GAAMZ,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,aAAa,CAAA;AACzC,MAAA,IAAI,CAACH,UAAAA,CAAW,GAAG,CAAA,EAAG;AACpB,QAAAI,SAAAA,CAAU,GAAA,EAAK,EAAE,SAAA,EAAW,MAAM,CAAA;AAAA,MACpC;AAEA,MAAAE,cAAc,oBAAA,EAAsB,IAAA,CAAK,UAAU,MAAA,EAAQ,IAAA,EAAM,CAAC,CAAC,CAAA;AAAA,IACrE,SAAS,KAAA,EAAO;AAAA,IAEhB;AAAA,EACF;AAAA,EAEQ,iBAAA,GAA6E;AACnF,IAAA,IAAI;AACF,MAAA,IAAIN,UAAAA,CAAW,oBAAoB,CAAA,EAAG;AACpC,QAAA,OAAO,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,oBAAA,EAAsB,OAAO,CAAC,CAAA;AAAA,MAC/D;AAAA,IACF,SAAS,KAAA,EAAO;AAAA,IAEhB;AACA,IAAA,OAAO,EAAC;AAAA,EACV;AAAA,EAEQ,qBAAA,GAAgC;AACtC,IAAA,MAAM,KAAA,GAAQ,IAAA,CAAK,iBAAA,EAAkB,CAAE,MAAA;AACvC,IAAA,OAAO,KAAA,GAAQ,IAAI,CAAA,EAAG,KAAK,kBAAkB,KAAA,GAAQ,CAAA,GAAI,GAAA,GAAM,EAAE,CAAA,CAAA,GAAK,oBAAA;AAAA,EACxE;AAAA,EAEA,MAAc,eAAA,GAAiC;AAC7C,IAAA,MAAMuB,OAAAA,CAAQ;AAAA,MACZ,OAAA,EAAS,4BAAA;AAAA,MACT,MAAA,EAAQ,UAAA;AAAA,MACR,QAAA,EAAU;AAAA,KACX,CAAA;AAAA,EACH;AACF,CAAA;AAGO,SAAS,qBAAqB,IAAA,EAAyB;AAC5D,EAAA,MAAM,qBAAqB,IAAA,CAAK,QAAA,CAAS,eAAe,CAAA,IAAK,IAAA,CAAK,SAAS,IAAI,CAAA;AAC/E,EAAA,MAAM,cAAc,IAAA,CAAK,QAAA,CAAS,QAAQ,CAAA,IAAK,IAAA,CAAK,SAAS,IAAI,CAAA;AACjE,EAAA,MAAM,iBAAiB,IAAA,CAAK,QAAA,CAAS,WAAW,CAAA,IAAK,IAAA,CAAK,SAAS,IAAI,CAAA;AAEvE,EAAA,IAAI,eAAe,cAAA,EAAgB;AACjC,IAAA,OAAO,KAAA;AAAA,EACT;AAEA,EAAA,IAAI,kBAAA,EAAoB;AACtB,IAAA,OAAO,IAAA;AAAA,EACT;AAEA,EAAA,MAAM,UAAA,GAAa,KAAK,MAAA,GAAS,CAAA,IAAK,CAAC,IAAA,CAAK,CAAC,CAAA,CAAE,UAAA,CAAW,GAAG,CAAA;AAC7D,EAAA,OAAO,CAAC,UAAA;AACV;;;AC9zBO,IAAM,eAAA,GAAkC;AAAA;AAAA,EAE7C;AAAA,IACE,OAAA,EAAS,CAAC,KAAA,EAAO,IAAA,EAAM,UAAU,CAAA;AAAA,IACjC,OAAA,EAAS,gBAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA,EACA;AAAA,IACE,OAAA,EAAS,CAAC,KAAA,EAAO,IAAA,EAAM,QAAQ,CAAA;AAAA,IAC/B,OAAA,EAAS,YAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA,EACA;AAAA,IACE,OAAA,EAAS,CAAC,KAAA,EAAO,IAAI,CAAA;AAAA,IACrB,OAAA,EAAS,cAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA;AAAA,EAGA;AAAA,IACE,OAAA,EAAS,CAAC,GAAA,EAAK,SAAA,EAAW,KAAK,CAAA;AAAA,IAC/B,OAAA,EAAS,gBAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA,EACA;AAAA,IACE,OAAA,EAAS,CAAC,IAAA,EAAM,SAAS,CAAA;AAAA,IACzB,OAAA,EAAS,aAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA,EACA;AAAA,IACE,OAAA,EAAS,CAAC,IAAA,EAAM,YAAY,CAAA;AAAA,IAC5B,OAAA,EAAS,eAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA;AAAA,EAGA;AAAA,IACE,OAAA,EAAS,CAAC,GAAA,EAAK,MAAA,EAAQ,SAAS,CAAA;AAAA,IAChC,OAAA,EAAS,eAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA,EACA;AAAA,IACE,OAAA,EAAS,CAAC,IAAA,EAAM,OAAA,EAAS,OAAO,CAAA;AAAA,IAChC,OAAA,EAAS,YAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA,EACA;AAAA,IACE,OAAA,EAAS,CAAC,GAAA,EAAK,MAAM,CAAA;AAAA,IACrB,OAAA,EAAS,eAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA,EACA;AAAA,IACE,OAAA,EAAS,CAAC,KAAA,EAAO,WAAW,CAAA;AAAA,IAC5B,OAAA,EAAS,cAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA,EACA;AAAA,IACE,OAAA,EAAS,CAAC,GAAA,EAAK,GAAG,CAAA;AAAA,IAClB,OAAA,EAAS,QAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA;AAAA,EAGA;AAAA,IACE,OAAA,EAAS,CAAC,aAAa,CAAA;AAAA,IACvB,OAAA,EAAS,gBAAA;AAAA,IACT,WAAA,EAAa;AAAA,GACf;AAAA;AAAA,EAEA;AAAA,IACE,OAAA,EAAS,CAAC,cAAc,CAAA;AAAA,IACxB,OAAA,EAAS,IAAA;AAAA,IACT,WAAA,EAAa;AAAA;AAEjB,CAAA;AAKO,IAAM,yBAAA,GAIR;AAAA;AAAA,EAEH;AAAA,IACE,QAAA,EAAU;AAAA,MACR,qBAAA;AAAA,MACA,uBAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,OAAA,EAAS;AAAA,GACX;AAAA,EACA;AAAA,IACE,QAAA,EAAU;AAAA,MACR,gBAAA;AAAA,MACA,gBAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,OAAA,EAAS;AAAA,GACX;AAAA;AAAA,EAGA;AAAA,IACE,QAAA,EAAU;AAAA,MACR,iBAAA;AAAA,MACA,kBAAA;AAAA,MACA,gBAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,OAAA,EAAS;AAAA,GACX;AAAA,EACA;AAAA,IACE,QAAA,EAAU;AAAA,MACR,WAAA;AAAA,MACA,YAAA;AAAA,MACA,eAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,OAAA,EAAS;AAAA,GACX;AAAA,EACA;AAAA,IACE,QAAA,EAAU;AAAA,MACR,iBAAA;AAAA,MACA,cAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,OAAA,EAAS;AAAA,GACX;AAAA;AAAA,EAGA;AAAA,IACE,QAAA,EAAU;AAAA,MACR,OAAA;AAAA,MACA,gBAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,OAAA,EAAS;AAAA,GACX;AAAA,EACA;AAAA,IACE,QAAA,EAAU;AAAA,MACR,QAAA;AAAA,MACA,YAAA;AAAA,MACA,eAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,OAAA,EAAS;AAAA;AAEb,CAAA;AAKO,SAAS,aAAa,KAAA,EAA8B;AACzD,EAAA,MAAM,UAAA,GAAa,KAAA,CAAM,WAAA,EAAY,CAAE,IAAA,EAAK;AAG5C,EAAA,KAAA,MAAW,SAAS,eAAA,EAAiB;AACnC,IAAA,IAAI,KAAA,CAAM,OAAA,CAAQ,QAAA,CAAS,UAAU,CAAA,EAAG;AACtC,MAAA,OAAO,KAAA,CAAM,OAAA;AAAA,IACf;AAAA,EACF;AAIA,EAAA,MAAM,SAAA,GAAY,UAAA,CAAW,KAAA,CAAM,GAAG,EAAE,CAAC,CAAA;AACzC,EAAA,MAAM,aAAA,GAAgB;AAAA,IAAC,OAAA;AAAA,IAAS,YAAA;AAAA,IAAc,QAAA;AAAA,IAAU,QAAA;AAAA,IAAU,QAAA;AAAA,IAC3C,KAAA;AAAA,IAAO,QAAA;AAAA,IAAU,YAAA;AAAA,IAAc,SAAA;AAAA,IAAW,MAAA;AAAA,IAAQ,SAAA;AAAA,IAAW;AAAA,GAAI;AAExF,EAAA,IAAI,aAAA,CAAc,QAAA,CAAS,SAAS,CAAA,EAAG;AACrC,IAAA,OAAO,IAAA;AAAA,EACT;AAGA,EAAA,KAAA,MAAW,WAAW,yBAAA,EAA2B;AAC/C,IAAA,KAAA,MAAW,KAAA,IAAS,QAAQ,QAAA,EAAU;AACpC,MAAA,MAAM,KAAA,GAAQ,UAAA,CAAW,KAAA,CAAM,KAAK,CAAA;AACpC,MAAA,IAAI,KAAA,EAAO;AACT,QAAA,IAAI,UAAU,OAAA,CAAQ,OAAA;AAGtB,QAAA,IAAI,QAAQ,SAAA,EAAW;AACrB,UAAA,MAAM,MAAA,GAAS,OAAA,CAAQ,SAAA,CAAU,KAAK,CAAA;AACtC,UAAA,KAAA,MAAW,CAAC,GAAA,EAAK,KAAK,KAAK,MAAA,CAAO,OAAA,CAAQ,MAAM,CAAA,EAAG;AACjD,YAAA,IAAI,KAAA,EAAO;AACT,cAAA,OAAA,IAAW,CAAA,GAAA,EAAM,GAAG,CAAA,EAAA,EAAK,KAAK,CAAA,CAAA,CAAA;AAAA,YAChC;AAAA,UACF;AAAA,QACF;AAEA,QAAA,OAAO,OAAA;AAAA,MACT;AAAA,IACF;AAAA,EACF;AAEA,EAAA,OAAO,IAAA;AACT;AAKO,SAAS,eAAe,OAAA,EAAiC;AAC9D,EAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,WAAA,EAAY,CAAE,IAAA,EAAK;AAE9C,EAAA,OAAO,eAAA,CAAgB,MAAA;AAAA,IAAO,CAAA,KAAA,KAC5B,MAAM,OAAA,CAAQ,IAAA,CAAK,OAAK,CAAA,CAAE,UAAA,CAAW,UAAU,CAAC,CAAA,IAChD,KAAA,CAAM,QAAQ,WAAA,EAAY,CAAE,SAAS,UAAU,CAAA,IAC/C,MAAM,WAAA,CAAY,WAAA,EAAY,CAAE,QAAA,CAAS,UAAU;AAAA,GACrD,CAAE,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA;AACd;AAKO,SAAS,WAAA,GAAoB;AAClC,EAAA,OAAA,CAAQ,IAAI,kCAA2B,CAAA;AAEvC,EAAA,MAAM,UAAA,GAAa;AAAA,IACjB,EAAE,IAAA,EAAM,OAAA,EAAS,MAAA,EAAQ,CAAC,QAAsB,GAAA,CAAI,OAAA,CAAQ,UAAA,CAAW,OAAO,CAAA,EAAE;AAAA,IAChF,EAAE,IAAA,EAAM,QAAA,EAAU,MAAA,EAAQ,CAAC,QAAsB,GAAA,CAAI,OAAA,CAAQ,UAAA,CAAW,QAAQ,CAAA,EAAE;AAAA,IAClF,EAAE,IAAA,EAAM,eAAA,EAAiB,MAAA,EAAQ,CAAC,QAAsB,CAAC,GAAA,CAAI,OAAA,CAAQ,QAAA,CAAS,GAAG,CAAA,IAAK,GAAA,CAAI,OAAA,CAAQ,QAAA,CAAS,GAAG,CAAA;AAAE,GAClH;AAEA,EAAA,KAAA,MAAW,YAAY,UAAA,EAAY;AACjC,IAAA,MAAM,QAAA,GAAW,eAAA,CAAgB,MAAA,CAAO,QAAA,CAAS,MAAM,CAAA;AACvD,IAAA,IAAI,QAAA,CAAS,SAAS,CAAA,EAAG;AACvB,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAG,QAAA,CAAS,IAAI,CAAA,CAAA,CAAG,CAAA;AAC/B,MAAA,QAAA,CAAS,QAAQ,CAAA,GAAA,KAAO;AACtB,QAAA,MAAM,SAAA,GAAY,GAAA,CAAI,OAAA,CAAQ,CAAC,CAAA;AAC/B,QAAA,MAAM,eAAe,GAAA,CAAI,OAAA,CAAQ,MAAM,CAAC,CAAA,CAAE,KAAK,IAAI,CAAA;AACnD,QAAA,MAAM,SAAA,GAAY,YAAA,GAAe,CAAA,QAAA,EAAW,YAAY,CAAA,CAAA,CAAA,GAAM,EAAA;AAC9D,QAAA,OAAA,CAAQ,IAAI,CAAA,EAAA,EAAK,SAAA,CAAU,MAAA,CAAO,EAAE,CAAC,CAAA,QAAA,EAAM,GAAA,CAAI,OAAA,CAAQ,MAAA,CAAO,EAAE,CAAC,CAAA,CAAA,EAAI,IAAI,WAAW,CAAA,EAAG,SAAS,CAAA,CAAE,CAAA;AAAA,MACpG,CAAC,CAAA;AACD,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,IAChB;AAAA,EACF;AAEA,EAAA,OAAA,CAAQ,IAAI,2FAAoF,CAAA;AAClG;ACrNA,IAAM,wBAAA,GAA2B1B,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,0BAA0B,CAAA;AAC1F,IAAM,iBAAA,GAAoB,GAAA;AAEnB,IAAM,kBAAA,GAAN,MAAM,mBAAA,CAAmB;AAAA,EAC9B,OAAe,QAAA;AAAA,EACP,YAAA,uBAA6C,GAAA,EAAI;AAAA,EACjD,cAAA,uBAA2C,GAAA,EAAI;AAAA,EAE/C,WAAA,GAAc;AACpB,IAAA,IAAA,CAAK,WAAA,EAAY;AAAA,EACnB;AAAA,EAEA,OAAO,WAAA,GAAkC;AACvC,IAAA,OAAQ,IAAA,CAAK,QAAA,KAAa,IAAI,mBAAA,EAAmB;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,gBAAA,CACJ,SAAA,EACA,WAAA,EACA,OAAA,GAAU,UACV,MAAA,EACiB;AACjB,IAAA,MAAM,EAAA,GAAK,CAAA,GAAA,EAAM,IAAA,CAAK,GAAA,EAAK,CAAA,CAAA,EAAI,IAAA,CAAK,MAAA,EAAO,CAAE,SAAS,EAAE,CAAA,CAAE,SAAA,CAAU,CAAA,EAAG,CAAC,CAAC,CAAA,CAAA;AAEzE,IAAA,MAAM,WAAA,GAA2B;AAAA,MAC/B,EAAA;AAAA,MACA,SAAA;AAAA,MACA,MAAA,EAAQ,SAAA;AAAA,MACR,WAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA,EAAW,KAAK,GAAA,EAAI;AAAA,MACpB,OAAA;AAAA,MACA,OAAA,EAAS;AAAA,KACX;AAEA,IAAA,IAAA,CAAK,YAAA,CAAa,GAAA,CAAI,EAAA,EAAI,WAAW,CAAA;AAGrC,IAAA,MAAMoB,YAAU4E,OAAA,EAAc;AAC9B,IAAA,MAAM,aAAA,GAAgB,MAAA,GAAS,CAAA,EAAA,EAAK,MAAM,CAAA,CAAA,CAAA,GAAM,EAAA;AAChD,IAAA5E,UAAQ,KAAA,CAAM,CAAA,EAAG,WAAW,CAAA,EAAG,aAAa,CAAA,CAAE,CAAA;AAE9C,IAAA,IAAA,CAAK,cAAA,CAAe,GAAA,CAAI,EAAA,EAAIA,SAAO,CAAA;AAGnC,IAAA,IAAA,CAAK,WAAA,EAAY;AAEjB,IAAA,OAAO,EAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,cAAA,CAAe,IAAY,QAAA,EAA8C;AACvE,IAAA,MAAMA,SAAAA,GAAU,IAAA,CAAK,cAAA,CAAe,GAAA,CAAI,EAAE,CAAA;AAC1C,IAAA,MAAM,WAAA,GAAc,IAAA,CAAK,YAAA,CAAa,GAAA,CAAI,EAAE,CAAA;AAE5C,IAAA,IAAI,CAACA,SAAAA,IAAW,CAAC,WAAA,EAAa;AAE9B,IAAA,IAAI,SAAS,OAAA,EAAS;AACpB,MAAA,MAAM,gBAAgB,WAAA,CAAY,MAAA,GAAS,CAAA,EAAA,EAAK,WAAA,CAAY,MAAM,CAAA,CAAA,CAAA,GAAM,EAAA;AAGxE,MAAA,IAAI,QAAA,CAAS,OAAA,KAAY,MAAA,IAAa,QAAA,CAAS,UAAU,MAAA,EAAW;AAClE,QAAA,MAAM,aAAa,IAAA,CAAK,KAAA,CAAO,SAAS,OAAA,GAAU,QAAA,CAAS,QAAS,GAAG,CAAA;AACvE,QAAAA,SAAAA,CAAQ,QAAQ,CAAA,EAAG,QAAA,CAAS,OAAO,CAAA,EAAG,aAAa,CAAA,EAAA,EAAK,UAAU,CAAA,EAAA,CAAI,CAAA;AAAA,MACxE,CAAA,MAAO;AACL,QAAAA,UAAQ,OAAA,CAAQ,CAAA,EAAG,SAAS,OAAO,CAAA,EAAG,aAAa,CAAA,CAAE,CAAA;AAAA,MACvD;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,cAAc,EAAA,EAAkB;AAC9B,IAAA,MAAM,WAAA,GAAc,IAAA,CAAK,YAAA,CAAa,GAAA,CAAI,EAAE,CAAA;AAC5C,IAAA,IAAI,WAAA,EAAa;AACf,MAAA,WAAA,CAAY,MAAA,GAAS,YAAA;AACrB,MAAA,IAAA,CAAK,eAAe,EAAA,EAAI;AAAA,QACtB,OAAA,EAAS,CAAA,kBAAA,EAAgB,WAAA,CAAY,WAAW,CAAA;AAAA,OACjD,CAAA;AAAA,IACH;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,UAAA,CAAW,IAAY,YAAA,EAA6B;AAClD,IAAA,MAAMA,SAAAA,GAAU,IAAA,CAAK,cAAA,CAAe,GAAA,CAAI,EAAE,CAAA;AAC1C,IAAA,MAAM,WAAA,GAAc,IAAA,CAAK,YAAA,CAAa,GAAA,CAAI,EAAE,CAAA;AAE5C,IAAA,IAAI,CAACA,SAAAA,IAAW,CAAC,WAAA,EAAa;AAE9B,IAAA,WAAA,CAAY,MAAA,GAAS,WAAA;AAErB,IAAA,MAAM,OAAA,GAAU,YAAA,IAAgB,CAAA,OAAA,EAAK,WAAA,CAAY,WAAW,CAAA,WAAA,CAAA;AAC5D,IAAAA,SAAAA,CAAQ,KAAK,OAAO,CAAA;AAEpB,IAAA,IAAA,CAAK,cAAA,CAAe,OAAO,EAAE,CAAA;AAC7B,IAAA,IAAA,CAAK,WAAA,EAAY;AAGjB,IAAA,IAAA,CAAK,uBAAuB,WAAW,CAAA;AAAA,EACzC;AAAA;AAAA;AAAA;AAAA,EAKA,SAAA,CAAU,EAAA,EAAY,KAAA,EAAuB,QAAA,GAAW,IAAA,EAAY;AAClE,IAAA,MAAMA,SAAAA,GAAU,IAAA,CAAK,cAAA,CAAe,GAAA,CAAI,EAAE,CAAA;AAC1C,IAAA,MAAM,WAAA,GAAc,IAAA,CAAK,YAAA,CAAa,GAAA,CAAI,EAAE,CAAA;AAE5C,IAAA,IAAI,CAACA,SAAAA,IAAW,CAAC,WAAA,EAAa;AAE9B,IAAA,WAAA,CAAY,MAAA,GAAS,QAAA;AACrB,IAAA,WAAA,CAAY,KAAA,GAAQ,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,KAAA;AAG7D,IAAAA,SAAAA,CAAQ,IAAA,CAAK,CAAA,OAAA,EAAK,WAAA,CAAY,WAAW,CAAA,OAAA,CAAS,CAAA;AAElD,IAAA,IAAA,CAAK,cAAA,CAAe,OAAO,EAAE,CAAA;AAC7B,IAAA,IAAA,CAAK,WAAA,EAAY;AAGjB,IAAA,IAAA,CAAK,gBAAA,CAAiB,aAAa,QAAQ,CAAA;AAAA,EAC7C;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,iBAAiB,EAAA,EAA2B;AAChD,IAAA,MAAM,WAAA,GAAc,IAAA,CAAK,YAAA,CAAa,GAAA,CAAI,EAAE,CAAA;AAC5C,IAAA,IAAI,CAAC,WAAA,IAAe,WAAA,CAAY,MAAA,KAAW,QAAA,EAAU;AAErD,IAAA,WAAA,CAAY,OAAA,GAAA,CAAW,WAAA,CAAY,OAAA,IAAW,CAAA,IAAK,CAAA;AACnD,IAAA,WAAA,CAAY,MAAA,GAAS,SAAA;AACrB,IAAA,WAAA,CAAY,KAAA,GAAQ,MAAA;AAGpB,IAAA,MAAMA,YAAU4E,OAAA,EAAc;AAC9B,IAAA5E,SAAAA,CAAQ,MAAM,CAAA,mBAAA,EAAe,WAAA,CAAY,WAAW,CAAA,UAAA,EAAa,WAAA,CAAY,OAAO,CAAA,CAAA,CAAG,CAAA;AAEvF,IAAA,IAAA,CAAK,cAAA,CAAe,GAAA,CAAI,EAAA,EAAIA,SAAO,CAAA;AAAA,EACrC;AAAA;AAAA;AAAA;AAAA,EAKA,UAAA,CAAW,QAAQ,EAAA,EAAmB;AACpC,IAAA,MAAM,kBAAkB,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,QAAQ,CAAA;AAC7D,IAAA,OAAO,eAAA,CACJ,IAAA,CAAK,CAAC,CAAA,EAAG,CAAA,KAAM,CAAA,CAAE,SAAA,GAAY,CAAA,CAAE,SAAS,CAAA,CACxC,KAAA,CAAM,CAAA,EAAG,KAAK,CAAA;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA,EAKQ,uBAAuB,WAAA,EAAgC;AAC7D,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIT,OAAAA,CAAM,IAAA,CAAK,sBAAsB,CAAC,CAAA;AAC9C,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,aAAA,EAAgB,IAAA,CAAK,iBAAiB,WAAA,CAAY,SAAS,CAAC,CAAA,CAAE,CAAC,CAAA;AACtF,IAAA,IAAI,YAAY,MAAA,EAAQ;AACtB,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,aAAa,WAAA,CAAY,MAAM,EAAE,CAAC,CAAA;AAAA,IAC3D;AACA,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,cAAc,WAAA,CAAY,OAAO,EAAE,CAAC,CAAA;AAC3D,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,QAAA,EAAW,IAAI,IAAA,CAAK,WAAA,CAAY,SAAS,CAAA,CAAE,kBAAA,EAAoB,CAAA,CAAE,CAAC,CAAA;AACzF,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,oBAAA,EAAuB,IAAA,CAAK,cAAA,CAAe,WAAA,CAAY,SAAA,EAAW,WAAA,CAAY,OAAO,CAAC,CAAA,CAAE,CAAC,CAAA;AAAA,EAClH;AAAA;AAAA;AAAA;AAAA,EAKQ,gBAAA,CAAiB,aAA0B,QAAA,EAAyB;AAC1E,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,GAAA,CAAI,gBAAgB,CAAC,CAAA;AAEvC,IAAA,MAAM,YAAA,GAAe,YAAY,KAAA,IAAS,eAAA;AAC1C,IAAA,MAAM,UAAA,GAAa,IAAA,CAAK,kBAAA,CAAmB,YAAY,CAAA;AAEvD,IAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAA,EAAK,YAAY,EAAE,CAAC,CAAA;AAE3C,IAAA,IAAI,UAAA,EAAY;AACd,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,MAAA,CAAO,uBAAgB,CAAC,CAAA;AAC1C,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAA,EAAK,UAAU,EAAE,CAAC,CAAA;AAAA,IAC3C;AAEA,IAAA,IAAI,aAAa,WAAA,CAAY,OAAA,KAAY,MAAA,IAAa,WAAA,CAAY,UAAU,CAAA,CAAA,EAAI;AAC9E,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,2DAA2D,CAAC,CAAA;AAAA,IACrF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ,mBAAmB,KAAA,EAA8B;AACvD,IAAA,MAAM,UAAA,GAAa,MAAM,WAAA,EAAY;AAErC,IAAA,IAAI,WAAW,QAAA,CAAS,oBAAoB,KAAK,UAAA,CAAW,QAAA,CAAS,uBAAuB,CAAA,EAAG;AAC7F,MAAA,OAAO,6CAAA;AAAA,IACT;AAEA,IAAA,IAAI,WAAW,QAAA,CAAS,qBAAqB,KAAK,UAAA,CAAW,QAAA,CAAS,mBAAmB,CAAA,EAAG;AAC1F,MAAA,OAAO,wCAAA;AAAA,IACT;AAEA,IAAA,IAAI,UAAA,CAAW,QAAA,CAAS,wBAAwB,CAAA,EAAG;AACjD,MAAA,OAAO,gGAAA;AAAA,IACT;AAEA,IAAA,IAAI,UAAA,CAAW,QAAA,CAAS,mBAAmB,CAAA,EAAG;AAC5C,MAAA,OAAO,uEAAA;AAAA,IACT;AAEA,IAAA,IAAI,WAAW,QAAA,CAAS,SAAS,KAAK,UAAA,CAAW,QAAA,CAAS,YAAY,CAAA,EAAG;AACvE,MAAA,OAAO,yEAAA;AAAA,IACT;AAEA,IAAA,IAAI,UAAA,CAAW,QAAA,CAAS,YAAY,CAAA,EAAG;AACrC,MAAA,OAAO,gEAAA;AAAA,IACT;AAEA,IAAA,OAAO,IAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQ,WAAA,GAAoB;AAC1B,IAAA,IAAI;AACF,MAAA,IAAId,UAAAA,CAAW,wBAAwB,CAAA,EAAG;AACxC,QAAA,MAAM,OAAO,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,wBAAA,EAA0B,OAAO,CAAC,CAAA;AACvE,QAAA,IAAA,CAAK,OAAA,CAAQ,QAAM,IAAA,CAAK,YAAA,CAAa,IAAI,EAAA,CAAG,EAAA,EAAI,EAAE,CAAC,CAAA;AAAA,MACrD;AAAA,IACF,SAAS,KAAA,EAAO;AAAA,IAEhB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ,WAAA,GAAoB;AAC1B,IAAA,IAAI;AACF,MAAA,MAAM,GAAA,GAAMH,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,aAAa,CAAA;AACzC,MAAA,IAAI,CAACH,UAAAA,CAAW,GAAG,CAAA,EAAG;AACpB,QAAAI,SAAAA,CAAU,GAAA,EAAK,EAAE,SAAA,EAAW,MAAM,CAAA;AAAA,MACpC;AAGA,MAAA,MAAM,MAAA,GAAS,IAAA,CAAK,UAAA,CAAW,iBAAiB,CAAA;AAChD,MAAAE,cAAc,wBAAA,EAA0B,IAAA,CAAK,UAAU,MAAA,EAAQ,IAAA,EAAM,CAAC,CAAC,CAAA;AAAA,IACzE,SAAS,KAAA,EAAO;AAAA,IAEhB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ,iBAAiB,SAAA,EAA2B;AAClD,IAAA,IAAI,SAAA,CAAU,MAAA,IAAU,EAAA,EAAI,OAAO,SAAA;AACnC,IAAA,OAAO,CAAA,EAAG,SAAA,CAAU,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,GAAA,EAAM,SAAA,CAAU,KAAA,CAAM,EAAE,CAAC,CAAA,CAAA;AAAA,EAC1D;AAAA;AAAA;AAAA;AAAA,EAKQ,cAAA,CAAe,WAAmB,OAAA,EAAyB;AACjE,IAAA,MAAM,OAAA,GAAU,OAAA,KAAY,cAAA,GAAiB,EAAA,GAAK,YAAY,OAAO,CAAA,CAAA;AACrE,IAAA,OAAO,CAAA,+BAAA,EAAkC,SAAS,CAAA,EAAG,OAAO,CAAA,CAAA;AAAA,EAC9D;AAAA;AAAA;AAAA;AAAA,EAKA,sBAAA,CAAuB,QAAQ,CAAA,EAAS;AACtC,IAAA,MAAM,MAAA,GAAS,IAAA,CAAK,UAAA,CAAW,KAAK,CAAA;AAEpC,IAAA,IAAI,MAAA,CAAO,WAAW,CAAA,EAAG;AACvB,MAAAO,GAAAA,CAAI,KAAK,wBAAwB,CAAA;AACjC,MAAA;AAAA,IACF;AAEA,IAAA,OAAA,CAAQ,GAAA,CAAIC,OAAAA,CAAM,IAAA,CAAK,oCAA6B,CAAC,CAAA;AAErD,IAAA,MAAA,CAAO,OAAA,CAAQ,CAAC,EAAA,EAAI,KAAA,KAAU;AAC5B,MAAA,MAAM,UAAA,GAAa,GAAG,MAAA,KAAW,WAAA,GAAc,WAC7B,EAAA,CAAG,MAAA,KAAW,WAAW,QAAA,GAAM,QAAA;AACjD,MAAA,MAAM,OAAO,IAAI,IAAA,CAAK,EAAA,CAAG,SAAS,EAAE,cAAA,EAAe;AAEnD,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAG,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,UAAU,CAAA,CAAA,EAAI,EAAA,CAAG,WAAW,CAAA,CAAE,CAAC,CAAA;AACvE,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,GAAA,EAAM,IAAA,CAAK,iBAAiB,EAAA,CAAG,SAAS,CAAC,CAAA,CAAE,CAAC,CAAA;AACnE,MAAA,IAAI,GAAG,MAAA,EAAQ;AACb,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,cAAc,EAAA,CAAG,MAAM,EAAE,CAAC,CAAA;AAAA,MACnD;AACA,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,SAAA,EAAY,IAAI,EAAE,CAAC,CAAA;AAC1C,MAAA,IAAI,GAAG,KAAA,EAAO;AACZ,QAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,GAAA,CAAI,aAAa,EAAA,CAAG,KAAK,EAAE,CAAC,CAAA;AAAA,MAChD;AACA,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,IAChB,CAAC,CAAA;AAAA,EACH;AACF,CAAA;AAiDO,SAAS,sBAAA,CAAuB,QAAQ,CAAA,EAAS;AACtD,EAAA,MAAM,OAAA,GAAU,mBAAmB,WAAA,EAAY;AAC/C,EAAA,OAAA,CAAQ,uBAAuB,KAAK,CAAA;AACtC;ACpYA,mBAAA,EAAA;;;ACQA,mBAAA,EAAA;AACA,WAAA,EAAA;AACA,kBAAA,EAAA;ACwCO,SAASsF,QAAAA,CAAQ,IAAA,GAAO,QAAA,EAAK,MAAA,GAAS,EAAA,EAAU;AACrD,EAAA,OAAA,CAAQ,IAAItF,OAAAA,CAAM,IAAA,CAAK,KAAK,MAAA,CAAO,MAAM,CAAC,CAAC,CAAA;AAC7C;AAKO,SAAS,aAAA,CAAc,OAAA,EAAiB,KAAA,EAAe,WAAA,EAA2B;AACvF,EAAA,MAAM,QAAA,GAAW,CAAA,CAAA,EAAI,OAAO,CAAA,CAAA,EAAI,KAAK,CAAA,CAAA,CAAA;AACrC,EAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK,QAAQ,IAAI,GAAA,GAAMA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA;AAClE;AC9DA,kBAAA,EAAA;AAoBA,IAAM,eAAA,GAAkB;AAAA;AAAA,EAEtB,aAAA,EAAe,OAAO,GAAI,CAAA;AAAA;AAAA;AAAA,EAG1B,kBAAA,EAAoB,OAAO,IAAO,CAAA;AAAA;AAAA;AAAA,EAGlC,sBAAA,EAAwB,OAAO,GAAM,CAAA;AAAA;AAAA;AAAA,EAGrC,iBAAA,EAAmB,OAAO,GAAK;AAAA;AACjC,CAAA;AAEO,IAAM,aAAA,GAAN,MAAM,cAAA,CAAc;AAAA,EACzB,OAAe,QAAA;AAAA,EACP,MAAA;AAAA,EAEA,WAAA,CAAY,SAAS,+BAAA,EAAiC;AAC5D,IAAA,IAAA,CAAK,MAAA,GAAS,MAAA;AAAA,EAChB;AAAA,EAEA,OAAO,YAAY,MAAA,EAAgC;AACjD,IAAA,OAAQ,cAAA,CAAc,QAAA,KAAa,IAAI,cAAA,CAAc,MAAM,CAAA;AAAA,EAC7D;AAAA;AAAA;AAAA;AAAA,EAKA,yBAAA,GAA0C;AACxC,IAAA,MAAM,SAAA,GAAY;AAAA,MAChB;AAAA,QACE,IAAA,EAAM,iBAAA;AAAA,QACN,MAAM,eAAA,CAAgB,aAAA;AAAA,QACtB,WAAA,EAAa;AAAA,OACf;AAAA,MACA;AAAA,QACE,IAAA,EAAM,oBAAA;AAAA,QACN,MAAM,eAAA,CAAgB,kBAAA;AAAA,QACtB,WAAA,EAAa;AAAA,OACf;AAAA,MACA;AAAA,QACE,IAAA,EAAM,kBAAA;AAAA,QACN,MAAM,eAAA,CAAgB,sBAAA;AAAA,QACtB,WAAA,EAAa;AAAA,OACf;AAAA,MACA;AAAA,QACE,IAAA,EAAM,gBAAA;AAAA,QACN,MAAM,eAAA,CAAgB,iBAAA;AAAA,QACtB,WAAA,EAAa;AAAA;AACf,KACF;AAEA,IAAA,MAAM,SAAA,GAAY,SAAA,CAAU,MAAA,CAAO,CAAC,GAAA,EAAK,IAAA,KAAS,GAAA,GAAM,IAAA,CAAK,IAAA,EAAM,MAAA,CAAO,CAAC,CAAC,CAAA;AAE5E,IAAA,OAAO;AAAA,MACL,SAAA,EAAW,oBAAA;AAAA,MACX,SAAS,eAAA,CAAgB,aAAA;AAAA,MACzB,YAAY,eAAA,CAAgB,sBAAA;AAAA,MAC5B,aAAa,eAAA,CAAgB,kBAAA;AAAA,MAC7B,SAAA;AAAA,MACA,SAAA;AAAA,MACA,YAAA,EAAc,KAAA;AAAA;AAAA,MACd,eAAA,EAAiB;AAAA,KACnB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,iBAAiBf,SAAAA,EAAmC;AACxD,IAAA,IAAI;AAEF,MAAA,MAAM,MAAA,GAAS,kBAAA,CAAmB,IAAA,CAAK,MAAM,CAAA;AAC7C,MAAA,MAAM,WAAW,MAAM,MAAA,CAAO,IAAI,UAAA,CAAWA,SAAO,EAAE,IAAA,EAAK;AAC3D,MAAA,OAAO,QAAA,CAAS,KAAA;AAAA,IAClB,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,IAAA,CAAK,4BAA4B,KAAK,CAAA;AAC9C,MAAA,OAAO,OAAO,CAAC,CAAA;AAAA,IACjB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,kBAAA,CAAmBA,SAAAA,EAAkB,QAAA,EAA8C;AACvF,IAAA,MAAM,cAAA,GAAiB,MAAM,IAAA,CAAK,gBAAA,CAAiBA,SAAO,CAAA;AAC1D,IAAA,MAAM,WAAW,QAAA,CAAS,SAAA;AAC1B,IAAA,MAAM,eAAe,cAAA,IAAkB,QAAA;AACvC,IAAA,MAAM,QAAA,GAAW,YAAA,GAAe,MAAA,CAAO,CAAC,IAAI,QAAA,GAAW,cAAA;AAGvD,IAAA,QAAA,CAAS,YAAA,GAAe,YAAA;AAExB,IAAA,OAAO;AAAA,MACL,OAAA,EAAS,cAAA;AAAA,MACT,QAAA;AAAA,MACA,QAAA;AAAA,MACA;AAAA,KACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,mBAAA,CACJA,SAAAA,EACA,QAAA,EACA,OAAA,EACsB;AACtB,IAAA,MAAM,EAAE,aAAA,GAAgB,IAAA,EAAK,GAAI,WAAW,EAAC;AAG7C,IAAA,MAAM,WAAA,GAAc,MAAM,IAAA,CAAK,kBAAA,CAAmBA,WAAS,QAAQ,CAAA;AAGnE,IAAA,MAAM,YAAA,GAAe;AAAA,MACnB,EAAE,KAAA,EAAO,WAAA,EAAa,KAAA,EAAO,SAAS,SAAA,EAAU;AAAA,MAChD,EAAE,KAAA,EAAO,YAAA,EAAc,OAAO,SAAA,CAAU,QAAA,CAAS,SAAS,CAAA,EAAE;AAAA,MAC5D,EAAE,KAAA,EAAO,iBAAA,EAAmB,OAAO,SAAA,CAAU,WAAA,CAAY,OAAO,CAAA,EAAE;AAAA,MAClE;AAAA,QACE,KAAA,EAAO,mBAAA;AAAA,QACP,KAAA,EAAO,WAAA,CAAY,YAAA,GACf,SAAA,CAAU,WAAA,CAAY,OAAA,GAAU,QAAA,CAAS,SAAS,CAAA,GAClDe,OAAAA,CAAM,GAAA,CAAI,oBAAoB;AAAA;AACpC,KACF;AAEA,IAAA,OAAA,CAAQ,GAAA,CAAI,OAAA,CAAQ,yBAAA,EAAoB,YAAA,CAAa,GAAA;AAAA,MAAI,CAAA,IAAA,KACvD,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,EAAA,EAAK,IAAA,CAAK,KAAK,CAAA;AAAA,KACrD,CAAE,IAAA,CAAK,IAAI,CAAC,CAAC,CAAA;AAGb,IAAA,IAAI,aAAA,EAAe;AACjB,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,2BAAoB,CAAC,CAAA;AAC5C,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAEd,MAAA,QAAA,CAAS,SAAA,CAAU,QAAQ,CAAA,IAAA,KAAQ;AACjC,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAK,SAAA,CAAU,IAAA,CAAK,IAAI,CAAA,CAAE,MAAA,CAAO,EAAE,CAAC,CAAA,CAAA,EAAI,IAAA,CAAK,IAAI,CAAA,CAAE,CAAA;AAC/D,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAK,GAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK,WAAW,CAAC,CAAA,CAAE,CAAA;AACjE,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,MAChB,CAAC,CAAA;AAAA,IACH;AAGA,IAAA,IAAI,CAAC,YAAY,YAAA,EAAc;AAC7B,MAAA,MAAM,QAAA,GAAW,SAAA,CAAU,WAAA,CAAY,QAAQ,CAAA;AAC/C,MAAA,MAAM,OAAA,GAAU;AAAA,QACd,0CAAA;AAAA,QACA,kCAAA;AAAA,QACA;AAAA,OACF;AAEA,MAAA,OAAA,CAAQ,GAAA,CAAI,UAAA;AAAA,QACV,YAAY,QAAQ,CAAA,sCAAA,CAAA;AAAA,QACpB;AAAA,OACD,CAAA;AACD,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,IAChB;AAEA,IAAA,OAAO,WAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,uBAAuB,UAAA,EAAgF;AACrG,IAAA,IAAI,SAAA,GAAY,OAAO,CAAC,CAAA;AACxB,IAAA,MAAM,YAAuC,EAAC;AAE9C,IAAA,UAAA,CAAW,OAAA,CAAQ,CAAC,EAAA,EAAI,KAAA,KAAU;AAChC,MAAA,IAAI,UAAA;AAEJ,MAAA,QAAQ,GAAG,IAAA;AAAM,QACf,KAAK,gBAAA;AACH,UAAA,UAAA,GAAa,KAAK,yBAAA,EAA0B;AAC5C,UAAA;AAAA,QACF;AAEE,UAAA,UAAA,GAAa;AAAA,YACX,WAAW,EAAA,CAAG,IAAA;AAAA,YACd,SAAS,eAAA,CAAgB,aAAA;AAAA,YACzB,SAAA,EAAW,eAAA,CAAgB,aAAA,GAAgB,eAAA,CAAgB,iBAAA;AAAA,YAC3D,WAAW,EAAC;AAAA,YACZ,YAAA,EAAc,KAAA;AAAA,YACd,eAAA,EAAiB,eAAA,CAAgB,aAAA,GAAgB,eAAA,CAAgB;AAAA,WACnE;AAAA;AAGJ,MAAA,SAAA,IAAa,UAAA,CAAW,SAAA;AACxB,MAAA,SAAA,CAAU,IAAA,CAAK;AAAA,QACb,MAAM,CAAA,EAAG,KAAA,GAAQ,CAAC,CAAA,EAAA,EAAK,WAAW,SAAS,CAAA,CAAA;AAAA,QAC3C,MAAM,UAAA,CAAW,SAAA;AAAA,QACjB,WAAA,EAAa,CAAA,kBAAA,EAAqB,UAAA,CAAW,SAAA,CAAU,aAAa,CAAA;AAAA,OACrE,CAAA;AAAA,IACH,CAAC,CAAA;AAED,IAAA,OAAO;AAAA,MACL,SAAA,EAAW,CAAA,iBAAA,EAAoB,UAAA,CAAW,MAAM,CAAA,OAAA,CAAA;AAAA,MAChD,OAAA,EAAS,MAAA,CAAO,UAAA,CAAW,MAAM,IAAI,eAAA,CAAgB,aAAA;AAAA,MACrD,SAAA;AAAA,MACA,SAAA;AAAA,MACA,YAAA,EAAc,KAAA;AAAA,MACd,eAAA,EAAiB;AAAA,KACnB;AAAA,EACF;AACF,CAAA;AAKA,eAAsB,kBAAA,CACpB,SAAA,EACAf,SAAAA,EACA,MAAA,EACA,OAAA,EACsB;AACtB,EAAA,MAAM,SAAA,GAAY,aAAA,CAAc,WAAA,CAAY,OAAA,EAAS,MAAM,CAAA;AAE3D,EAAA,IAAI,QAAA;AAEJ,EAAA,QAAQ,SAAA;AAAW,IACjB,KAAK,gBAAA;AACH,MAAA,QAAA,GAAW,UAAU,yBAAA,EAA0B;AAC/C,MAAA;AAAA,IACF;AACE,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,mBAAA,EAAsB,SAAS,CAAA,CAAE,CAAA;AAAA;AAGrD,EAAA,OAAO,SAAA,CAAU,mBAAA,CAAoBA,SAAAA,EAAS,QAAA,EAAU,OAAO,CAAA;AACjE;;;AFtNA,IAAM,gBAAA,GAAqC;AAAA,EACzC,SAAA;AAAA,EACA,mBAAA;AAAA,EACA,cAAA;AAAA,EACA,SAAA;AAAA,EACA,aAAA;AAAA,EACA;AACF,CAAA;AAYO,IAAM,oBAAN,MAAwB;AAAA,EAU7B,WAAA,CAAoBE,OAAAA,GAA2B,EAAC,EAAG;AAA/B,IAAA,IAAA,CAAA,MAAA,GAAAA,OAAAA;AAClB,IAAA,IAAA,CAAK,aAAA,GAAgB,IAAI,aAAA,EAAc;AACvC,IAAA,IAAA,CAAK,YAAA,EAAa;AAAA,EACpB;AAAA,EAZQ,QAAA,GAA+B;AAAA,IACrC,IAAA,EAAM,CAAA;AAAA,IACN,cAAA,sBAAoB,GAAA,EAAI;AAAA,IACxB,YAAA,sBAAkB,GAAA,EAAI;AAAA,IACtB,YAAY,gBAAA,CAAiB;AAAA,GAC/B;AAAA,EAEQ,aAAA;AAAA;AAAA;AAAA;AAAA,EAUR,MAAM,KAAA,GAAuB;AAC3B,IAAAqB,KAAAA,CAAMR,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK,0CAAmC,CAAC,CAAA;AAE1D,IAAA,IAAI;AACF,MAAA,MAAM,KAAK,WAAA,EAAY;AACvB,MAAA,MAAM,KAAK,oBAAA,EAAqB;AAChC,MAAA,MAAM,KAAK,eAAA,EAAgB;AAC3B,MAAA,MAAM,KAAK,WAAA,EAAY;AACvB,MAAA,MAAM,KAAK,cAAA,EAAe;AAC1B,MAAA,MAAM,KAAK,cAAA,EAAe;AAAA,IAC5B,SAAS,KAAA,EAAO;AACd,MAAA,IAAI,KAAA,YAAiB,KAAA,IAAS,KAAA,CAAM,OAAA,KAAY,WAAA,EAAa;AAC3D,QAAAO,OAAO,yBAAyB,CAAA;AAChC,QAAA;AAAA,MACF;AAEA,MAAA,OAAA,CAAQ,KAAA,CAAMP,OAAAA,CAAM,GAAA,CAAI,oBAAoB,GAAG,KAAK,CAAA;AACpD,MAAAO,OAAO,+DAA+D,CAAA;AAAA,IACxE;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ,YAAA,GAAqB;AAC3B,IAAA,IAAI;AACF,MAAA,MAAM,YAAA,GAAenB,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,0BAA0B,CAAA;AAC9E,MAAA,IAAIH,UAAAA,CAAW,YAAY,CAAA,EAAG;AAC5B,QAAA,MAAM,OAAO,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,YAAA,EAAc,OAAO,CAAC,CAAA;AAM3D,QAAA,IAAA,CAAK,QAAA,CAAS,IAAA,GAAO,IAAA,CAAK,IAAA,IAAQ,CAAA;AAClC,QAAA,IAAA,CAAK,QAAA,CAAS,cAAA,GAAiB,IAAI,GAAA,CAAI,KAAK,cAAkC,CAAA;AAC9E,QAAA,IAAA,CAAK,QAAA,CAAS,YAAA,GAAe,IAAI,GAAA,CAAI,KAAK,YAAgC,CAAA;AAC1E,QAAA,IAAA,CAAK,MAAA,GAAS,EAAE,GAAG,IAAA,CAAK,QAAQ,GAAI,IAAA,CAAK,MAAA,IAAU,EAAC,EAAG;AAAA,MACzD;AAAA,IACF,SAAS,KAAA,EAAO;AAAA,IAEhB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc,WAAA,GAA6B;AACzC,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,IAAI,aAAA,CAAc,CAAA,EAAG,KAAK,QAAA,CAAS,UAAA,EAAY,SAAS,CAAC,CAAA;AAEjE,IAAA,IAAI,IAAA,CAAK,QAAA,CAAS,cAAA,CAAe,GAAA,CAAI,SAAS,CAAA,EAAG;AAC/C,MAAA,OAAA,CAAQ,GAAA,CAAIS,OAAAA,CAAM,IAAA,CAAK,gCAAgC,CAAC,CAAA;AACxD,MAAA;AAAA,IACF;AAEA,IAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,qBAAA,EAAuB;AAAA,MACzC,8CAAA;AAAA,MACA,EAAA;AAAA,MACA,qDAAA;AAAA,MACA,oDAAA;AAAA,MACA,oEAAA;AAAA,MACA;AAAA,KACD,CAAC,CAAA;AAEF,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,iCAAiC,CAAC,CAAA;AACzD,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,sCAAiC,CAAC,CAAA;AACzD,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,+BAA0B,CAAC,CAAA;AAClD,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,sCAAiC,CAAC,CAAA;AACzD,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,mCAA8B,CAAC,CAAA;AACtD,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,0CAAqC,CAAC,CAAA;AAE7D,IAAA,MAAM,cAAA,GAAiB,MAAMc,OAAAA,CAAQ;AAAA,MACnC,OAAA,EAAS,uBAAA;AAAA,MACT,MAAA,EAAQ,gBAAA;AAAA,MACR,QAAA,EAAU;AAAA,KACX,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,cAAc,CAAA,IAAK,CAAC,cAAA,EAAgB;AAC/C,MAAAC,OAAO,8DAA8D,CAAA;AACrE,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAEA,IAAA,IAAA,CAAK,kBAAkB,SAAS,CAAA;AAAA,EAClC;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc,oBAAA,GAAsC;AAClD,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,IAAI,aAAA,CAAc,CAAA,EAAG,KAAK,QAAA,CAAS,UAAA,EAAY,mBAAmB,CAAC,CAAA;AAE3E,IAAA,IAAI,IAAA,CAAK,OAAO,OAAA,EAAS;AACvB,MAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,kBAAA,EAAoB;AAAA,QACtC,CAAA,MAAA,EAAS,IAAA,CAAK,MAAA,CAAO,OAAO,CAAA,QAAA,CAAA;AAAA,QAC5B,IAAA,CAAK,MAAA,CAAO,OAAA,KAAY,QAAA,GAAW,qCAAA,GAAwC;AAAA,OAC5E,CAAC,CAAA;AACF,MAAA,IAAA,CAAK,kBAAkB,mBAAmB,CAAA;AAC1C,MAAA;AAAA,IACF;AAEA,IAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,qBAAA,EAAuB;AAAA,MACzC,mEAAA;AAAA,MACA,2CAAA;AAAA,MACA;AAAA,KACD,CAAC,CAAA;AAEF,IAAA,MAAM,OAAA,GAAU,MAAMK,MAAAA,CAAO;AAAA,MAC3B,OAAA,EAAS,sCAAA;AAAA,MACT,OAAA,EAAS;AAAA,QACP,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,gCAAA,EAA2B,MAAM,sBAAA,EAAuB;AAAA,QAClF,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,mBAAA,EAAc,MAAM,kBAAA,EAAmB;AAAA,QAClE,EAAE,KAAA,EAAO,cAAA,EAAgB,KAAA,EAAO,mBAAA,EAAc,MAAM,6BAAA;AAA8B;AACpF,KACD,CAAA;AAED,IAAA,IAAIN,QAAAA,CAAS,OAAO,CAAA,EAAG;AACrB,MAAAC,OAAO,iBAAiB,CAAA;AACxB,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAEA,IAAA,IAAA,CAAK,OAAO,OAAA,GAAU,OAAA;AAGtB,IAAA,MAAM,KAAK,YAAA,EAAa;AAExB,IAAA,IAAA,CAAK,kBAAkB,mBAAmB,CAAA;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc,eAAA,GAAiC;AAC7C,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,IAAI,aAAA,CAAc,CAAA,EAAG,KAAK,QAAA,CAAS,UAAA,EAAY,cAAc,CAAC,CAAA;AAGtE,IAAA,MAAM,YAAA,GAAe,IAAA,CAAK,aAAA,CAAc,eAAA,EAAgB;AACxD,IAAA,IAAI,YAAA,EAAc;AAChB,MAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,2BAAA,EAA6B;AAAA,QAClD,CAAA,eAAA,EAAkB,YAAA,CAAa,QAAA,CAAS,IAAI,CAAA,CAAA;AAAA,QAC5C,CAAA,SAAA,EAAY,YAAA,CAAa,QAAA,CAAS,OAAO,CAAA,CAAA;AAAA,QACzC;AAAA,OACD,CAAC,CAAA;AACF,MAAA,IAAA,CAAK,kBAAkB,cAAc,CAAA;AACrC,MAAA;AAAA,IACF;AAEA,IAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,cAAA,EAAgB;AAAA,MAClC,8DAAA;AAAA,MACA,+DAAA;AAAA,MACA;AAAA,KACD,CAAC,CAAA;AAEF,IAAA,MAAM,YAAA,GAAe,MAAMK,MAAAA,CAAO;AAAA,MAChC,OAAA,EAAS,2CAAA;AAAA,MACT,OAAA,EAAS;AAAA,QACP;AAAA,UACE,KAAA,EAAO,QAAA;AAAA,UACP,KAAA,EAAO,6BAAA;AAAA,UACP,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,QAAA;AAAA,UACP,KAAA,EAAO,kCAAA;AAAA,UACP,IAAA,EAAM;AAAA,SACR;AAAA,QACA;AAAA,UACE,KAAA,EAAO,MAAA;AAAA,UACP,KAAA,EAAO,4BAAA;AAAA,UACP,IAAA,EAAM;AAAA;AACR;AACF,KACD,CAAA;AAED,IAAA,IAAIN,QAAAA,CAAS,YAAY,CAAA,EAAG;AAC1B,MAAAC,OAAO,iBAAiB,CAAA;AACxB,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAEA,IAAA,IAAI,iBAAiB,MAAA,EAAQ;AAC3B,MAAA,IAAA,CAAK,gBAAgB,cAAc,CAAA;AACnC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,IAAIE,OAAAA,EAAQ;AAElB,IAAA,IAAI,iBAAiB,QAAA,EAAU;AAC7B,MAAA,CAAA,CAAE,MAAM,yBAAyB,CAAA;AAEjC,MAAA,MAAM,EAAE,MAAA,EAAQ,QAAA,EAAS,GAAI,MAAM,KAAK,aAAA,CAAc,YAAA;AAAA,QACpD,SAAA;AAAA,QACA,IAAA,CAAK,OAAO,OAAA,IAAW;AAAA,OACzB;AAEA,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAG1B,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,gDAAA,EAA2C;AAAA,QAChE,2DAAA;AAAA,QACA,sDAAA;AAAA,QACA;AAAA,OACD,CAAC,CAAA;AAEF,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,MAAA,OAAA,CAAQ,IAAI,OAAA,CAAQ,sBAAA,EAAwB,QAAA,CAAS,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA;AAAA,QAAI,CAAC,IAAA,EAAM,CAAA,KACzE,CAAA,EAAA,CAAI,CAAA,GAAI,CAAA,EAAG,QAAA,EAAS,CAAE,QAAA,CAAS,CAAA,EAAG,GAAG,CAAC,KAAK,IAAI,CAAA;AAAA,OACjD,CAAE,IAAA,CAAK,IAAI,CAAC,CAAC,CAAA;AAEb,MAAA,MAAM,SAAA,GAAY,MAAMK,OAAAA,CAAQ;AAAA,QAC9B,OAAA,EAAS,oDAAA;AAAA,QACT,MAAA,EAAQ,sBAAA;AAAA,QACR,QAAA,EAAU;AAAA,OACX,CAAA;AAED,MAAA,IAAIR,QAAAA,CAAS,SAAS,CAAA,IAAK,CAAC,SAAA,EAAW;AACrC,QAAA,OAAA,CAAQ,GAAA,CAAIN,OAAAA,CAAM,MAAA,CAAO,qEAA2D,CAAC,CAAA;AACrF,QAAA,OAAA,CAAQ,IAAI,mEAAmE,CAAA;AAC/E,QAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,MAChB;AAEA,MAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,6BAAA,EAA+B;AAAA,QACpD,CAAA,MAAA,EAAS,MAAA,CAAO,QAAA,CAAS,IAAI,CAAA,CAAA;AAAA,QAC7B,CAAA,SAAA,EAAY,MAAA,CAAO,QAAA,CAAS,OAAO,CAAA,CAAA;AAAA,QACnC,CAAA,SAAA,EAAY,MAAA,CAAO,QAAA,CAAS,OAAO,CAAA;AAAA,OACpC,CAAC,CAAA;AAAA,IAEJ,CAAA,MAAO;AACL,MAAA,MAAM,UAAA,GAAa,MAAMY,MAAAA,CAAO;AAAA,QAC9B,OAAA,EAAS,gCAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,EAAE,KAAA,EAAO,UAAA,EAAY,KAAA,EAAO,sCAAA,EAAiC,MAAM,aAAA,EAAc;AAAA,UACjF,EAAE,KAAA,EAAO,aAAA,EAAe,KAAA,EAAO,uBAAA,EAAkB,MAAM,kBAAA;AAAmB;AAC5E,OACD,CAAA;AAED,MAAA,IAAIN,QAAAA,CAAS,UAAU,CAAA,EAAG;AACxB,QAAA,IAAA,CAAK,gBAAgB,cAAc,CAAA;AACnC,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,eAAe,UAAA,EAAY;AAC7B,QAAA,MAAM,QAAA,GAAW,MAAMO,IAAAA,CAAK;AAAA,UAC1B,OAAA,EAAS,qCAAA;AAAA,UACT,WAAA,EAAa,uBAAA;AAAA,UACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,YAAA,IAAI,CAAC,OAAO,OAAO,6BAAA;AACnB,YAAA,MAAM,KAAA,GAAQ,KAAA,CAAM,IAAA,EAAK,CAAE,MAAM,KAAK,CAAA;AACtC,YAAA,IAAI,KAAA,CAAM,MAAA,KAAW,EAAA,EAAI,OAAO,+BAAA;AAChC,YAAA;AAAA,UACF;AAAA,SACD,CAAA;AAED,QAAA,IAAIP,QAAAA,CAAS,QAAQ,CAAA,EAAG;AACtB,UAAA,IAAA,CAAK,gBAAgB,cAAc,CAAA;AACnC,UAAA;AAAA,QACF;AAEA,QAAA,CAAA,CAAE,MAAM,0CAA0C,CAAA;AAElD,QAAA,IAAI;AACF,UAAA,MAAM,MAAA,GAAS,MAAM,IAAA,CAAK,aAAA,CAAc,YAAA;AAAA,YACtC,UAAA;AAAA,YACA,QAAA;AAAA,YACA,IAAA,CAAK,OAAO,OAAA,IAAW;AAAA,WACzB;AAEA,UAAA,CAAA,CAAE,KAAK,yBAAoB,CAAA;AAE3B,UAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,8BAAA,EAAgC;AAAA,YACrD,CAAA,MAAA,EAAS,MAAA,CAAO,QAAA,CAAS,IAAI,CAAA,CAAA;AAAA,YAC7B,CAAA,SAAA,EAAY,MAAA,CAAO,QAAA,CAAS,OAAO,CAAA,CAAA;AAAA,YACnC,CAAA,SAAA,EAAY,MAAA,CAAO,QAAA,CAAS,OAAO,CAAA;AAAA,WACpC,CAAC,CAAA;AAAA,QAEJ,SAAS,KAAA,EAAO;AACd,UAAA,CAAA,CAAE,KAAK,sBAAiB,CAAA;AACxB,UAAA,OAAA,CAAQ,GAAA,CAAIN,QAAM,GAAA,CAAI,2BAAA,IAA+B,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAA,CAAgB,CAAC,CAAA;AAC/G,UAAA,IAAA,CAAK,gBAAgB,cAAc,CAAA;AACnC,UAAA;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAEA,IAAA,IAAA,CAAK,kBAAkB,cAAc,CAAA;AAAA,EACvC;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc,WAAA,GAA6B;AACzC,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,IAAI,aAAA,CAAc,CAAA,EAAG,KAAK,QAAA,CAAS,UAAA,EAAY,qBAAqB,CAAC,CAAA;AAE7E,IAAA,MAAM,YAAA,GAAe,IAAA,CAAK,aAAA,CAAc,eAAA,EAAgB;AACxD,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,iBAAA,EAAmB;AAAA,QACxC;AAAA,OACD,CAAC,CAAA;AACF,MAAA,IAAA,CAAK,gBAAgB,SAAS,CAAA;AAC9B,MAAA;AAAA,IACF;AAEA,IAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,sBAAA,EAAwB;AAAA,MAC1C,mDAAA;AAAA,MACA,sDAAA;AAAA,MACA,2CAAA;AAAA,MACA;AAAA,KACD,CAAC,CAAA;AAGF,IAAA,MAAM,IAAIS,OAAAA,EAAQ;AAClB,IAAA,CAAA,CAAE,MAAM,kCAAkC,CAAA;AAE1C,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,QAAQ,GAAA,EAAI,GAAI,MAAM,gBAAA,CAAiB,IAAA,CAAK,OAAO,OAAO,CAAA;AAClE,MAAA,MAAM,kBAAkB,MAAM,GAAA,CAAI,WAAW,MAAA,CAAO,OAAO,EAAE,IAAA,EAAK;AAClE,MAAA,MAAM,UAAU,eAAA,CAAgB,KAAA;AAEhC,MAAA,CAAA,CAAE,KAAK,wBAAmB,CAAA;AAE1B,MAAA,IAAI,OAAA,GAAU,MAAA,CAAO,GAAQ,CAAA,EAAG;AAC9B,QAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,eAAA,EAAiB;AAAA,UACtC,qBAAqB,MAAA,CAAO,OAAO,IAAI,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA,CAAA;AAAA,UACtD;AAAA,SACD,CAAC,CAAA;AACF,QAAA,IAAA,CAAK,kBAAkB,SAAS,CAAA;AAChC,QAAA;AAAA,MACF;AAGA,MAAA,IAAI,IAAA,CAAK,MAAA,CAAO,OAAA,KAAY,QAAA,EAAU;AACpC,QAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,cAAA,EAAgB;AAAA,UAClC,8CAAA;AAAA,UACA;AAAA,SACD,CAAC,CAAA;AAEF,QAAA,MAAM,UAAA,GAAa,IAAA,CAAK,MAAA,CAAO,UAAA,IAAc,MAAMK,OAAAA,CAAQ;AAAA,UACzD,OAAA,EAAS,mCAAA;AAAA,UACT,MAAA,EAAQ,mBAAA;AAAA,UACR,QAAA,EAAU;AAAA,SACX,CAAA;AAED,QAAA,IAAI,CAACR,QAAAA,CAAS,UAAU,CAAA,IAAK,UAAA,EAAY;AACvC,UAAA,MAAM,gBAAgBG,OAAAA,EAAQ;AAC9B,UAAA,aAAA,CAAc,MAAM,+BAA+B,CAAA;AAEnD,UAAA,IAAI;AAEF,YAAA,MAAM,MAAA,GAAS,+BAAA;AACf,YAAA,MAAM,MAAA,GAAS,mBAAmB,MAAM,CAAA;AACxC,YAAA,MAAM,QAAA,GAAW,OAAO,GAAa,CAAA;AAErC,YAAA,MAAM,MAAA,CAAO,IAAI,cAAA,CAAe,YAAA,CAAa,SAAS,OAAA,EAAoB,QAAoB,EAAE,IAAA,EAAK;AAErG,YAAA,aAAA,CAAc,KAAK,oCAA+B,CAAA;AAElD,YAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,eAAA,EAAiB;AAAA,cACtC,uCAAA;AAAA,cACA;AAAA,aACD,CAAC,CAAA;AAAA,UAEJ,SAAS,KAAA,EAAO;AACd,YAAA,aAAA,CAAc,KAAK,8BAAyB,CAAA;AAC5C,YAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,eAAA,EAAiB;AAAA,cACtC,mDAAA;AAAA,cACA;AAAA,aACD,CAAC,CAAA;AAAA,UACJ;AAAA,QACF;AAAA,MACF,CAAA,MAAO;AACL,QAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,sBAAA,EAAwB;AAAA,UAC7C,qBAAqB,MAAA,CAAO,OAAO,IAAI,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAC,CAAA,IAAA,CAAA;AAAA,UACtD,+CAAA;AAAA,UACA;AAAA,SACD,CAAC,CAAA;AAAA,MACJ;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,CAAA,CAAE,KAAK,6BAAwB,CAAA;AAC/B,MAAA,OAAA,CAAQ,GAAA,CAAIT,OAAAA,CAAM,MAAA,CAAO,qEAAqE,CAAC,CAAA;AAAA,IACjG;AAEA,IAAA,IAAA,CAAK,kBAAkB,SAAS,CAAA;AAAA,EAClC;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc,cAAA,GAAgC;AAC5C,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,IAAI,aAAA,CAAc,CAAA,EAAG,KAAK,QAAA,CAAS,UAAA,EAAY,yBAAyB,CAAC,CAAA;AAEjF,IAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,yBAAA,EAA2B;AAAA,MAC7C,kCAAA;AAAA,MACA,yDAAA;AAAA,MACA,oCAAA;AAAA,MACA,8CAAA;AAAA,MACA;AAAA,KACD,CAAC,CAAA;AAEF,IAAA,MAAM,WAAA,GAAc,MAAMc,OAAAA,CAAQ;AAAA,MAChC,OAAA,EAAS,gDAAA;AAAA,MACT,MAAA,EAAQ,sBAAA;AAAA,MACR,QAAA,EAAU;AAAA,KACX,CAAA;AAED,IAAA,IAAIR,QAAAA,CAAS,WAAW,CAAA,IAAK,CAAC,WAAA,EAAa;AACzC,MAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,wBAAA,EAA0B;AAAA,QAC5C,4DAAA;AAAA,QACA;AAAA,OACD,CAAC,CAAA;AACF,MAAA,IAAA,CAAK,gBAAgB,aAAa,CAAA;AAClC,MAAA;AAAA,IACF;AAGA,IAAA,IAAI;AACF,MAAA,MAAM,YAAA,GAAe,IAAA,CAAK,aAAA,CAAc,eAAA,EAAgB;AACxD,MAAA,IAAI,YAAA,EAAc;AAChB,QAAA,MAAM,cAAc,MAAM,kBAAA;AAAA,UACxB,gBAAA;AAAA,UACA,aAAa,QAAA,CAAS,OAAA;AAAA,UACtB,KAAA,CAAA;AAAA,UACA,EAAE,eAAe,KAAA;AAAM,SACzB;AAEA,QAAA,IAAI,CAAC,YAAY,YAAA,EAAc;AAC7B,UAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,oBAAA,EAAsB;AAAA,YAC3C,uCAAA;AAAA,YACA;AAAA,WACD,CAAC,CAAA;AACF,UAAA,IAAA,CAAK,gBAAgB,aAAa,CAAA;AAClC,UAAA;AAAA,QACF;AAAA,MACF;AAAA,IACF,SAAS,KAAA,EAAO;AAAA,IAEhB;AAGA,IAAA,OAAA,CAAQ,GAAA,CAAIN,OAAAA,CAAM,IAAA,CAAK,4CAAsC,CAAC,CAAA;AAC9D,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,kEAAkE,CAAC,CAAA;AAE1F,IAAA,MAAM,SAAA,GAAY,MAAMa,IAAAA,CAAK;AAAA,MAC3B,OAAA,EAAS,iCAAA;AAAA,MACT,WAAA,EAAa,iBAAA;AAAA,MACb,QAAA,EAAU,CAAC,KAAA,KAAU;AACnB,QAAA,IAAI,CAAC,OAAO,OAAO,kBAAA;AACnB,QAAA,IAAI,KAAA,CAAM,MAAA,GAAS,CAAA,EAAG,OAAO,oCAAA;AAC7B,QAAA,IAAI,KAAA,CAAM,MAAA,GAAS,EAAA,EAAI,OAAO,sCAAA;AAAA,MAChC;AAAA,KACD,CAAA;AAED,IAAA,IAAIP,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,MAAA,IAAA,CAAK,gBAAgB,aAAa,CAAA;AAClC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,SAAA,GAAY,MAAMM,MAAAA,CAAO;AAAA,MAC7B,OAAA,EAAS,gDAAA;AAAA,MACT,OAAA,EAAS;AAAA,QACP,EAAE,KAAA,EAAO,WAAA,EAAa,KAAA,EAAO,6BAAA,EAAwB,MAAM,yBAAA,EAA0B;AAAA,QACrF,EAAE,KAAA,EAAO,SAAA,EAAW,KAAA,EAAO,wBAAA,EAAmB,MAAM,8BAAA,EAA+B;AAAA,QACnF,EAAE,KAAA,EAAO,QAAA,EAAU,KAAA,EAAO,8BAAA,EAAsB,MAAM,8BAAA,EAA+B;AAAA,QACrF,EAAE,KAAA,EAAO,WAAA,EAAa,KAAA,EAAO,qBAAA,EAAgB,MAAM,0BAAA,EAA2B;AAAA,QAC9E,EAAE,KAAA,EAAO,OAAA,EAAS,KAAA,EAAO,iBAAA,EAAY,MAAM,sBAAA;AAAuB;AACpE,KACD,CAAA;AAED,IAAA,IAAIN,QAAAA,CAAS,SAAS,CAAA,EAAG;AACvB,MAAA,IAAA,CAAK,gBAAgB,aAAa,CAAA;AAClC,MAAA;AAAA,IACF;AAEA,IAAA,MAAM,eAAeG,OAAAA,EAAQ;AAC7B,IAAA,YAAA,CAAa,MAAM,wBAAwB,CAAA;AAE3C,IAAA,IAAI;AAGF,MAAA,MAAM,IAAI,OAAA,CAAQ,CAAAd,aAAW,UAAA,CAAWA,QAAAA,EAAS,GAAI,CAAC,CAAA;AAEtD,MAAA,YAAA,CAAa,KAAK,oCAA+B,CAAA;AAEjD,MAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,4BAAA,EAA8B;AAAA,QACnD,SAAS,SAAS,CAAA,CAAA;AAAA,QAClB,SAAS,SAAS,CAAA,CAAA;AAAA,QAClB,mDAAA;AAAA,QACA;AAAA,OACD,CAAC,CAAA;AAAA,IAEJ,SAAS,KAAA,EAAO;AACd,MAAA,YAAA,CAAa,KAAK,8BAAyB,CAAA;AAC3C,MAAA,OAAA,CAAQ,GAAA,CAAIK,OAAAA,CAAM,GAAA,CAAI,wBAAwB,CAAC,CAAA;AAC/C,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,oDAAoD,CAAC,CAAA;AAAA,IAC9E;AAEA,IAAA,IAAA,CAAK,kBAAkB,aAAa,CAAA;AAAA,EACtC;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc,cAAA,GAAgC;AAC5C,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,IAAI,aAAA,CAAc,CAAA,EAAG,KAAK,QAAA,CAAS,UAAA,EAAY,gBAAgB,CAAC,CAAA;AAExE,IAAA,MAAM,cAAA,GAAiB,IAAA,CAAK,QAAA,CAAS,cAAA,CAAe,IAAA;AACpD,IAAA,MAAM,YAAA,GAAe,IAAA,CAAK,QAAA,CAAS,YAAA,CAAa,IAAA;AAEhD,IAAA,OAAA,CAAQ,GAAA,CAAI,WAAW,kCAAA,EAA6B;AAAA,MAClD,CAAA,iBAAA,EAAoB,cAAc,CAAA,CAAA,EAAI,IAAA,CAAK,SAAS,UAAU,CAAA,MAAA,CAAA;AAAA,MAC9D,YAAA,GAAe,CAAA,GAAI,CAAA,SAAA,EAAY,YAAY,CAAA,uCAAA,CAAA,GAA4C,sBAAA;AAAA,MACvF;AAAA,KACD,CAAC,CAAA;AAEF,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,wBAAkB,CAAC,CAAA;AAC1C,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAEd,IAAA,MAAM,SAAA,GAAY;AAAA,MAChB,8CAAA;AAAA,MACA,2CAAA;AAAA,MACA,yCAAA;AAAA,MACA;AAAA,KACF;AAEA,IAAA,SAAA,CAAU,QAAQ,CAAA,IAAA,KAAQ;AACxB,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,IAAA,GAAO,IAAI,CAAC,CAAA;AAAA,IACrC,CAAC,CAAA;AAED,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIsF,UAAS,CAAA;AACrB,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAGd,IAAA,MAAM,KAAK,YAAA,EAAa;AAExB,IAAA5E,KAAAA,CAAMV,OAAAA,CAAM,KAAA,CAAM,iDAA0C,CAAC,CAAA;AAAA,EAC/D;AAAA;AAAA;AAAA;AAAA,EAKQ,kBAAkB,IAAA,EAA4B;AACpD,IAAA,IAAA,CAAK,QAAA,CAAS,cAAA,CAAe,GAAA,CAAI,IAAI,CAAA;AACrC,IAAA,IAAA,CAAK,QAAA,CAAS,IAAA,GAAO,IAAA,CAAK,GAAA,CAAI,IAAA,CAAK,QAAA,CAAS,IAAA,EAAM,gBAAA,CAAiB,OAAA,CAAQ,IAAI,CAAA,GAAI,CAAC,CAAA;AAAA,EACtF;AAAA;AAAA;AAAA;AAAA,EAKQ,gBAAgB,IAAA,EAA4B;AAClD,IAAA,IAAA,CAAK,QAAA,CAAS,YAAA,CAAa,GAAA,CAAI,IAAI,CAAA;AACnC,IAAA,IAAA,CAAK,QAAA,CAAS,IAAA,GAAO,IAAA,CAAK,GAAA,CAAI,IAAA,CAAK,QAAA,CAAS,IAAA,EAAM,gBAAA,CAAiB,OAAA,CAAQ,IAAI,CAAA,GAAI,CAAC,CAAA;AAAA,EACtF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc,YAAA,GAA8B;AAC1C,IAAA,IAAI;AACF,MAAA,MAAM,GAAA,GAAMZ,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,aAAa,CAAA;AACzC,MAAA,IAAI,CAACH,UAAAA,CAAW,GAAG,CAAA,EAAG;AACpB,QAAAI,SAAAA,CAAU,GAAA,EAAK,EAAE,SAAA,EAAW,MAAM,CAAA;AAAA,MACpC;AAEA,MAAA,MAAM,YAAA,GAAeF,IAAAA,CAAK,GAAA,EAAK,0BAA0B,CAAA;AACzD,MAAA,MAAM,IAAA,GAAO;AAAA,QACX,GAAG,IAAA,CAAK,QAAA;AAAA,QACR,cAAA,EAAgB,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,SAAS,cAAc,CAAA;AAAA,QACvD,YAAA,EAAc,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,SAAS,YAAY,CAAA;AAAA,QACnD,QAAQ,IAAA,CAAK,MAAA;AAAA,QACb,WAAA,EAAa,KAAK,GAAA;AAAI,OACxB;AAEA,MAAAI,cAAc,YAAA,EAAc,IAAA,CAAK,UAAU,IAAA,EAAM,IAAA,EAAM,CAAC,CAAC,CAAA;AAAA,IAC3D,SAAS,KAAA,EAAO;AAAA,IAEhB;AAAA,EACF;AACF,CAAA;AAKO,SAAS,sBAAA,GAAkC;AAChD,EAAA,IAAI;AACF,IAAA,MAAM,YAAA,GAAeJ,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,0BAA0B,CAAA;AAC9E,IAAA,IAAI,CAACH,UAAAA,CAAW,YAAY,CAAA,EAAG,OAAO,KAAA;AAEtC,IAAA,MAAM,OAAO,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,YAAA,EAAc,OAAO,CAAC,CAAA;AAG3D,IAAA,OAAO,IAAA,CAAK,cAAA,EAAgB,QAAA,CAAS,YAAY,CAAA,IAAK,KAAA;AAAA,EACxD,SAAS,KAAA,EAAO;AACd,IAAA,OAAO,KAAA;AAAA,EACT;AACF;AAKA,eAAsB,gBAAgBJ,OAAAA,EAA0C;AAC9E,EAAA,MAAM,UAAA,GAAa,IAAI,iBAAA,CAAkBA,OAAM,CAAA;AAC/C,EAAA,MAAM,WAAW,KAAA,EAAM;AACzB;;;AD9oBA,IAAM,WAAA,GAAyC;AAAA,EAC7C,YAAA,EAAc;AAAA,IACZ,KAAA,EAAO,uBAAA;AAAA,IACP,WAAA,EAAa,kCAAA;AAAA,IACb,QAAA,EAAU;AAAA,MACR;AAAA,QACE,OAAA,EAAS,kBAAA;AAAA,QACT,WAAA,EAAa,uBAAA;AAAA,QACb,OAAA,EAAS,kBAAA;AAAA,QACT,OAAA,EAAS,CAAC,IAAA,EAAM,OAAO;AAAA,OACzB;AAAA,MACA;AAAA,QACE,OAAA,EAAS,qBAAA;AAAA,QACT,WAAA,EAAa,uBAAA;AAAA,QACb,OAAA,EAAS,qBAAA;AAAA,QACT,OAAA,EAAS,CAAC,GAAA,EAAK,MAAM;AAAA,OACvB;AAAA,MACA;AAAA,QACE,OAAA,EAAS,oBAAA;AAAA,QACT,WAAA,EAAa,wBAAA;AAAA,QACb,OAAA,EAAS,oBAAA;AAAA,QACT,OAAA,EAAS,CAAC,KAAA,EAAO,WAAW;AAAA;AAC9B,KACF;AAAA,IACA,IAAA,EAAM;AAAA,MACJ,kDAAA;AAAA,MACA,wDAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,aAAA,EAAe,CAAC,QAAA,EAAU,OAAO;AAAA,GACnC;AAAA,EAEA,QAAA,EAAU;AAAA,IACR,KAAA,EAAO,6BAAA;AAAA,IACP,WAAA,EAAa,4CAAA;AAAA,IACb,QAAA,EAAU;AAAA,MACR;AAAA,QACE,OAAA,EAAS,qBAAA;AAAA,QACT,WAAA,EAAa,qBAAA;AAAA,QACb,OAAA,EAAS,8BAAA;AAAA,QACT,OAAA,EAAS,CAAC,IAAA,EAAM,YAAY;AAAA,OAC9B;AAAA,MACA;AAAA,QACE,OAAA,EAAS,mBAAA;AAAA,QACT,WAAA,EAAa,uBAAA;AAAA,QACb,OAAA,EAAS,mBAAA;AAAA,QACT,OAAA,EAAS,CAAC,IAAA,EAAM,SAAS;AAAA,OAC3B;AAAA,MACA;AAAA,QACE,OAAA,EAAS,sBAAA;AAAA,QACT,WAAA,EAAa,sBAAA;AAAA,QACb,OAAA,EAAS,sBAAA;AAAA,QACT,OAAA,EAAS,CAAC,GAAA,EAAK,SAAA,EAAW,KAAK;AAAA,OACjC;AAAA,MACA;AAAA,QACE,OAAA,EAAS,cAAA;AAAA,QACT,WAAA,EAAa,4BAAA;AAAA,QACb,OAAA,EAAS,qBAAA;AAAA,QACT,OAAA,EAAS,CAAC,GAAA,EAAK,MAAA,EAAQ,SAAS;AAAA;AAClC,KACF;AAAA,IACA,IAAA,EAAM;AAAA,MACJ,uDAAA;AAAA,MACA,4CAAA;AAAA,MACA,0CAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,aAAA,EAAe,CAAC,iBAAA,EAAmB,cAAc;AAAA,GACnD;AAAA,EAEA,OAAA,EAAS;AAAA,IACP,KAAA,EAAO,+BAAA;AAAA,IACP,WAAA,EAAa,oCAAA;AAAA,IACb,QAAA,EAAU;AAAA,MACR;AAAA,QACE,OAAA,EAAS,sBAAA;AAAA,QACT,WAAA,EAAa,yBAAA;AAAA,QACb,OAAA,EAAS,sBAAA;AAAA,QACT,OAAA,EAAS,CAAC,KAAA,EAAO,IAAA,EAAM,UAAU;AAAA,OACnC;AAAA,MACA;AAAA,QACE,OAAA,EAAS,kBAAA;AAAA,QACT,WAAA,EAAa,6BAAA;AAAA,QACb,OAAA,EAAS,kBAAA;AAAA,QACT,OAAA,EAAS,CAAC,KAAA,EAAO,IAAA,EAAM,QAAQ;AAAA,OACjC;AAAA,MACA;AAAA,QACE,OAAA,EAAS,oBAAA;AAAA,QACT,WAAA,EAAa,gCAAA;AAAA,QACb,OAAA,EAAS,+BAAA;AAAA,QACT,OAAA,EAAS,CAAC,KAAA,EAAO,IAAI;AAAA;AACvB,KACF;AAAA,IACA,IAAA,EAAM;AAAA,MACJ,wDAAA;AAAA,MACA,4DAAA;AAAA,MACA,qDAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,aAAA,EAAe,CAAC,OAAO;AAAA,GACzB;AAAA,EAEA,cAAA,EAAgB;AAAA,IACd,KAAA,EAAO,wBAAA;AAAA,IACP,WAAA,EAAa,4CAAA;AAAA,IACb,QAAA,EAAU;AAAA,MACR;AAAA,QACE,OAAA,EAAS,2BAAA;AAAA,QACT,WAAA,EAAa,0BAAA;AAAA,QACb,OAAA,EAAS,sCAAA;AAAA,QACT,OAAA,EAAS,CAAC,IAAA,EAAM,cAAc;AAAA,OAChC;AAAA,MACA;AAAA,QACE,OAAA,EAAS,sBAAA;AAAA,QACT,WAAA,EAAa,uBAAA;AAAA,QACb,OAAA,EAAS,sBAAA;AAAA,QACT,OAAA,EAAS,CAAC,SAAA,EAAW,KAAK;AAAA;AAC5B,KACF;AAAA,IACA,IAAA,EAAM;AAAA,MACJ,iDAAA;AAAA,MACA,qDAAA;AAAA,MACA,6CAAA;AAAA,MACA;AAAA,KACF;AAAA,IACA,aAAA,EAAe,CAAC,QAAQ;AAAA,GAC1B;AAAA,EAEA,WAAA,EAAa;AAAA,IACX,KAAA,EAAO,4BAAA;AAAA,IACP,WAAA,EAAa,mCAAA;AAAA,IACb,UAAU,EAAC;AAAA,IACX,IAAA,EAAM;AAAA,MACJ,uDAAA;AAAA,MACA,qDAAA;AAAA,MACA,wCAAA;AAAA,MACA;AAAA;AACF,GACF;AAAA,EAEA,iBAAA,EAAmB;AAAA,IACjB,KAAA,EAAO,2BAAA;AAAA,IACP,WAAA,EAAa,6BAAA;AAAA,IACb,QAAA,EAAU;AAAA,MACR;AAAA,QACE,OAAA,EAAS,gBAAA;AAAA,QACT,WAAA,EAAa,wBAAA;AAAA,QACb,OAAA,EAAS;AAAA,OACX;AAAA,MACA;AAAA,QACE,OAAA,EAAS,mBAAA;AAAA,QACT,WAAA,EAAa,4BAAA;AAAA,QACb,OAAA,EAAS;AAAA,OACX;AAAA,MACA;AAAA,QACE,OAAA,EAAS,cAAA;AAAA,QACT,WAAA,EAAa,0BAAA;AAAA,QACb,OAAA,EAAS;AAAA;AACX,KACF;AAAA,IACA,IAAA,EAAM;AAAA,MACJ,mDAAA;AAAA,MACA,iDAAA;AAAA,MACA,8CAAA;AAAA,MACA;AAAA;AACF;AAEJ,CAAA;AAEO,IAAM,aAAN,MAAiB;AAAA,EACd,OAAA;AAAA,EAER,WAAA,GAAc;AACZ,IAAA,IAAA,CAAK,OAAA,GAAU,KAAK,YAAA,EAAa;AAAA,EACnC;AAAA;AAAA;AAAA;AAAA,EAKA,kBAAA,GAA2B;AACzB,IAAA,OAAA,CAAQ,GAAA,CAAIa,OAAAA,CAAM,IAAA,CAAK,IAAA,CAAK,mCAA4B,CAAC,CAAA;AAGzD,IAAA,IAAI,IAAA,CAAK,QAAQ,UAAA,EAAY;AAC3B,MAAA,IAAA,CAAK,gBAAA,EAAiB;AAAA,IACxB,CAAA,MAAA,IAAW,CAAC,IAAA,CAAK,OAAA,CAAQ,SAAA,EAAW;AAClC,MAAA,IAAA,CAAK,mBAAA,EAAoB;AAAA,IAC3B,CAAA,MAAA,IAAW,CAAC,IAAA,CAAK,OAAA,CAAQ,UAAA,EAAY;AACnC,MAAA,IAAA,CAAK,eAAA,EAAgB;AAAA,IACvB,CAAA,MAAA,IAAW,CAAC,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU;AACjC,MAAA,IAAA,CAAK,kBAAA,EAAmB;AAAA,IAC1B,CAAA,MAAO;AACL,MAAA,IAAA,CAAK,eAAA,EAAgB;AAAA,IACvB;AAGA,IAAA,IAAI,IAAA,CAAK,OAAA,CAAQ,cAAA,CAAe,MAAA,GAAS,CAAA,EAAG;AAC1C,MAAA,IAAA,CAAK,qBAAA,EAAsB;AAAA,IAC7B;AAGA,IAAA,IAAI,IAAA,CAAK,OAAA,CAAQ,YAAA,CAAa,MAAA,GAAS,CAAA,EAAG;AACxC,MAAA,IAAA,CAAK,kBAAA,EAAmB;AAAA,IAC1B;AAEA,IAAA,IAAA,CAAK,kBAAA,EAAmB;AAAA,EAC1B;AAAA;AAAA;AAAA;AAAA,EAKA,cAAc,KAAA,EAAqB;AACjC,IAAA,MAAM,SAAA,GAAY,YAAY,KAAK,CAAA;AACnC,IAAA,IAAI,EAAE,SAAS,WAAA,CAAA,EAAc;AAC3B,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,GAAA,CAAI,CAAA,oBAAA,EAAuB,KAAK,EAAE,CAAC,CAAA;AACrD,MAAA,IAAA,CAAK,mBAAA,EAAoB;AACzB,MAAA;AAAA,IACF;AAEA,IAAA,OAAA,CAAQ,IAAI,OAAA,CAAQ,SAAA,CAAU,KAAA,EAAO,SAAA,CAAU,WAAW,CAAC,CAAA;AAC3D,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAEd,IAAA,IAAI,SAAA,CAAU,QAAA,CAAS,MAAA,GAAS,CAAA,EAAG;AACjC,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,WAAW,CAAC,CAAA;AACnC,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAEd,MAAA,SAAA,CAAU,QAAA,CAAS,QAAQ,CAAA,GAAA,KAAO;AAChC,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,GAAA,CAAI,OAAA,CAAQ,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,CAAA,EAAI,GAAA,CAAI,WAAW,CAAA,CAAE,CAAA;AACxE,QAAA,IAAI,IAAI,OAAA,EAAS;AACf,UAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAK,GAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,IAAA,CAAK,WAAA,GAAc,GAAA,CAAI,OAAO,CAAC,CAAA,CAAE,CAAA;AAAA,QAC5E;AACA,QAAA,IAAI,GAAA,CAAI,OAAA,IAAW,GAAA,CAAI,OAAA,CAAQ,SAAS,CAAA,EAAG;AACzC,UAAA,OAAA,CAAQ,IAAI,CAAA,EAAA,EAAK,GAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,IAAA,CAAK,WAAA,GAAc,IAAI,OAAA,CAAQ,IAAA,CAAK,IAAI,CAAC,CAAC,CAAA,CAAE,CAAA;AAAA,QACvF;AACA,QAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,MAChB,CAAC,CAAA;AAAA,IACH;AAEA,IAAA,IAAI,SAAA,CAAU,IAAA,IAAQ,SAAA,CAAU,IAAA,CAAK,SAAS,CAAA,EAAG;AAC/C,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,iBAAU,CAAC,CAAA;AAClC,MAAA,OAAA,CAAQ,GAAA,CAAI,UAAA,CAAW,SAAA,CAAU,IAAI,CAAC,CAAA;AACtC,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,IAChB;AAEA,IAAA,IAAI,SAAA,CAAU,aAAA,IAAiB,SAAA,CAAU,aAAA,CAAc,SAAS,CAAA,EAAG;AACjE,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,2BAAoB,CAAC,CAAA;AAC5C,MAAA,MAAM,OAAA,GAAU,SAAA,CAAU,aAAA,CAAc,GAAA,CAAI,CAAA,CAAA,KAAK,cAAc,CAAC,CAAA,CAAE,CAAA,CAAE,IAAA,CAAK,IAAI,CAAA;AAC7E,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAA,EAAK,OAAO,EAAE,CAAC,CAAA;AACtC,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,IAChB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,mBAAA,GAA4B;AAC1B,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,sCAA+B,CAAC,CAAA;AAEvD,IAAA,MAAA,CAAO,OAAA,CAAQ,WAAW,CAAA,CAAE,OAAA,CAAQ,CAAC,CAAC,GAAA,EAAK,KAAK,CAAA,KAAM;AACpD,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAA,CAAM,aAAA,GAAgB,GAAA,EAAK,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,CAAA,EAAI,KAAA,CAAM,WAAW,CAAA,CAAE,CAAA;AAAA,IACtF,CAAC,CAAA;AAED,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,4BAA4B,CAAC,CAAA;AAAA,EACtD;AAAA;AAAA;AAAA;AAAA,EAKA,WAAW,KAAA,EAAqB;AAC9B,IAAA,MAAM,OAAA,GAAU,IAAA,CAAK,eAAA,CAAgB,KAAK,CAAA;AAE1C,IAAA,IAAI,OAAA,CAAQ,WAAW,CAAA,EAAG;AACxB,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,MAAA,CAAO,CAAA,mBAAA,EAAsB,KAAK,GAAG,CAAC,CAAA;AACxD,MAAA,IAAA,CAAK,gBAAgB,KAAK,CAAA;AAC1B,MAAA;AAAA,IACF;AAEA,IAAA,OAAA,CAAQ,GAAA,CAAIA,QAAM,IAAA,CAAK;AAAA,4BAAA,EAA0B,KAAK,CAAA;AAAA,CAAM,CAAC,CAAA;AAE7D,IAAA,OAAA,CAAQ,QAAQ,CAAA,MAAA,KAAU;AACxB,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,EAAG,MAAA,CAAO,KAAK,CAAA,EAAA,EAAK,MAAA,CAAO,KAAK,CAAA,CAAE,CAAC,CAAA;AAC1D,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,KAAK,MAAA,CAAO,WAAW,EAAE,CAAC,CAAA;AACjD,MAAA,OAAA,CAAQ,IAAIA,OAAAA,CAAM,IAAA,CAAK,yBAAyB,MAAA,CAAO,KAAK,EAAE,CAAC,CAAA;AAC/D,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,IAChB,CAAC,CAAA;AAAA,EACH;AAAA;AAAA;AAAA;AAAA,EAKA,gBAAgB,OAAA,EAAuB;AACrC,IAAA,MAAM,WAAA,GAAc,eAAe,OAAO,CAAA;AAE1C,IAAA,IAAI,WAAA,CAAY,SAAS,CAAA,EAAG;AAC1B,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,2BAAoB,CAAC,CAAA;AAC5C,MAAA,WAAA,CAAY,QAAQ,CAAA,UAAA,KAAc;AAChC,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,WAAW,OAAA,CAAQ,CAAC,CAAA,CAAE,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,CAAA,EAAI,UAAA,CAAW,WAAW,CAAA,CAAE,CAAA;AAAA,MAC3F,CAAC,CAAA;AACD,MAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,IAChB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ,YAAA,GAA4B;AAClC,IAAA,MAAM,aAAA,GAAgB,IAAI,aAAA,EAAc;AAExC,IAAA,OAAO;AAAA,MACL,SAAA,EAAW,aAAA,CAAc,eAAA,EAAgB,KAAM,IAAA;AAAA,MAC/C,UAAA,EAAY,KAAA;AAAA;AAAA,MACZ,QAAA,EAAU,KAAA;AAAA;AAAA,MACV,cAAA,EAAgB,KAAK,iBAAA,EAAkB;AAAA,MACvC,YAAA,EAAc,KAAK,eAAA,EAAgB;AAAA,MACnC,aAAA,EAAe,SAAA;AAAA,MACf,UAAA,EAAY,CAAC,sBAAA;AAAuB,KACtC;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ,gBAAA,GAAyB;AAC/B,IAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,kCAAA,EAA6B;AAAA,MAC/C,yDAAA;AAAA,MACA;AAAA,KACD,CAAC,CAAA;AAEF,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,wBAAiB,CAAC,CAAA;AACzC,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,sBAAA,CAAwB,CAAA;AAClF,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,sBAAsB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,sBAAA,CAAwB,CAAA;AACrF,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,6BAA6B,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,+BAAA,CAAiC,CAAA;AACrG,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAKQ,mBAAA,GAA4B;AAClC,IAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,iCAAA,EAA4B;AAAA,MAC9C,2DAAA;AAAA,MACA;AAAA,KACD,CAAC,CAAA;AAEF,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,kBAAkB,CAAC,CAAA;AAC1C,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,sBAAsB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,oBAAA,CAAsB,CAAA;AACnF,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,sBAAsB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,uBAAA,CAAyB,CAAA;AACtF,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,oBAAoB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,sBAAA,CAAwB,CAAA;AACnF,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAKQ,eAAA,GAAwB;AAC9B,IAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,0BAAA,EAAqB;AAAA,MACvC,yCAAA;AAAA,MACA;AAAA,KACD,CAAC,CAAA;AAEF,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA;AAC3C,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,sBAAsB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,sBAAA,CAAwB,CAAA;AACrF,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,uBAAuB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,sBAAA,CAAwB,CAAA;AACtF,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAKQ,kBAAA,GAA2B;AACjC,IAAA,OAAA,CAAQ,GAAA,CAAI,QAAQ,8BAAA,EAAyB;AAAA,MAC3C,2CAAA;AAAA,MACA;AAAA,KACD,CAAC,CAAA;AAEF,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,CAAC,CAAA;AACzC,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,uBAAuB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,mBAAA,CAAqB,CAAA;AACnF,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,iBAAA,CAAmB,CAAA;AAC7E,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,qBAAA,CAAuB,CAAA;AACjF,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAKQ,eAAA,GAAwB;AAC9B,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,4BAAqB,CAAC,CAAA;AAC7C,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAEd,IAAA,MAAM,cAAA,GAAiB;AAAA,MACrB,EAAE,GAAA,EAAK,oBAAA,EAAsB,IAAA,EAAM,yBAAA,EAA0B;AAAA,MAC7D,EAAE,GAAA,EAAK,kBAAA,EAAoB,IAAA,EAAM,kBAAA,EAAmB;AAAA,MACpD,EAAE,GAAA,EAAK,sBAAA,EAAwB,IAAA,EAAM,mBAAA,EAAoB;AAAA,MACzD,EAAE,GAAA,EAAK,eAAA,EAAiB,IAAA,EAAM,yBAAA,EAA0B;AAAA,MACxD,EAAE,GAAA,EAAK,qBAAA,EAAuB,IAAA,EAAM,kBAAA;AAAmB,KACzD;AAEA,IAAA,cAAA,CAAe,OAAA,CAAQ,CAAC,EAAE,GAAA,EAAK,MAAK,KAAM;AACxC,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,GAAA,CAAI,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,CAAA,EAAI,IAAI,CAAA,CAAE,CAAA;AAAA,IACvD,CAAC,CAAA;AAED,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAKQ,qBAAA,GAA8B;AACpC,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,gCAAsB,CAAC,CAAA;AAC9C,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,mDAAmD,CAAC,CAAA;AAE3E,IAAA,MAAM,WAAA,GAAc,KAAK,wBAAA,EAAyB;AAClD,IAAA,WAAA,CAAY,QAAQ,CAAA,UAAA,KAAc;AAChC,MAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,QAAG,CAAC,CAAA,CAAA,EAAI,UAAU,CAAA,CAAE,CAAA;AAAA,IAClD,CAAC,CAAA;AAED,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAKQ,kBAAA,GAA2B;AACjC,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,4BAAqB,CAAC,CAAA;AAC7C,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,qCAAsC,CAAC,CAAA;AAC9D,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,iBAAiB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,sBAAA,CAAwB,CAAA;AAChF,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,oBAAoB,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,qBAAA,CAAuB,CAAA;AAClF,IAAA,OAAA,CAAQ,GAAA,CAAI,KAAKA,OAAAA,CAAM,IAAA,CAAK,6BAA6B,MAAA,CAAO,EAAE,CAAC,CAAC,CAAA,sBAAA,CAAwB,CAAA;AAC5F,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAKQ,kBAAA,GAA2B;AACjC,IAAA,OAAA,CAAQ,GAAA,CAAI,SAAS,CAAA;AACrB,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,yBAAoB,CAAC,CAAA;AAC5C,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,2BAA2B,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA,CAAE,CAAA;AAClG,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,mBAAmB,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,IAAA,CAAK,qBAAqB,CAAC,CAAA,CAAE,CAAA;AACvF,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,uBAAuB,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,IAAA,CAAK,YAAY,CAAC,CAAA,CAAE,CAAA;AAClF,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,EAAA,EAAKA,OAAAA,CAAM,IAAA,CAAK,cAAc,CAAC,CAAA,CAAA,EAAIA,OAAAA,CAAM,IAAA,CAAK,2BAA2B,CAAC,CAAA,CAAE,CAAA;AACxF,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AACd,IAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,yEAAkE,CAAC,CAAA;AAC1F,IAAA,OAAA,CAAQ,IAAI,EAAE,CAAA;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAKQ,iBAAA,GAA8B;AACpC,IAAA,IAAI;AACF,MAAA,MAAM,WAAA,GAAcZ,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,sBAAsB,CAAA;AACzE,MAAA,IAAIH,UAAAA,CAAW,WAAW,CAAA,EAAG;AAC3B,QAAA,MAAM,OAAO,IAAA,CAAK,KAAA,CAAMK,YAAAA,CAAa,WAAA,EAAa,OAAO,CAAC,CAAA;AAC1D,QAAA,OAAO,IAAA,CAAK,IAAI,CAAC,IAAA,KAAS,KAAK,OAAO,CAAA,CAAE,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA;AAAA,MACpD;AAAA,IACF,SAAS,KAAA,EAAO;AAAA,IAEhB;AACA,IAAA,OAAO,EAAC;AAAA,EACV;AAAA;AAAA;AAAA;AAAA,EAKQ,eAAA,GAA4B;AAElC,IAAA,OAAO,EAAC;AAAA,EACV;AAAA;AAAA;AAAA;AAAA,EAKQ,wBAAA,GAAqC;AAC3C,IAAA,MAAM,cAAc,EAAC;AAErB,IAAA,IAAI,IAAA,CAAK,OAAA,CAAQ,cAAA,CAAe,QAAA,CAAS,gBAAgB,CAAA,EAAG;AAC1D,MAAA,WAAA,CAAY,KAAK,6CAA6C,CAAA;AAAA,IAChE;AAEA,IAAA,IAAI,IAAA,CAAK,OAAA,CAAQ,cAAA,CAAe,QAAA,CAAS,eAAe,CAAA,EAAG;AACzD,MAAA,WAAA,CAAY,KAAK,iCAAiC,CAAA;AAAA,IACpD;AAEA,IAAA,IAAI,IAAA,CAAK,OAAA,CAAQ,cAAA,CAAe,QAAA,CAAS,SAAS,CAAA,EAAG;AACnD,MAAA,WAAA,CAAY,KAAK,yCAAyC,CAAA;AAAA,IAC5D;AAEA,IAAA,IAAI,WAAA,CAAY,WAAW,CAAA,EAAG;AAC5B,MAAA,WAAA,CAAY,KAAK,oCAAoC,CAAA;AACrD,MAAA,WAAA,CAAY,KAAK,iDAAiD,CAAA;AAAA,IACpE;AAEA,IAAA,OAAO,WAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQ,gBAAgB,KAAA,EAIrB;AACD,IAAA,MAAM,UAAwE,EAAC;AAC/E,IAAA,MAAM,UAAA,GAAa,MAAM,WAAA,EAAY;AAErC,IAAA,MAAA,CAAO,OAAA,CAAQ,WAAW,CAAA,CAAE,OAAA,CAAQ,CAAC,CAAC,GAAA,EAAK,KAAK,CAAA,KAAM;AACpD,MAAA,MAAM,UAAA,GAAa,GAAG,KAAA,CAAM,KAAK,IAAI,KAAA,CAAM,WAAW,CAAA,CAAA,EAAI,KAAA,CAAM,QAAA,CAAS,GAAA,CAAI,OAAK,CAAA,CAAE,OAAA,GAAU,MAAM,CAAA,CAAE,WAAW,EAAE,IAAA,CAAK,GAAG,CAAC,CAAA,CAAA,CAAG,WAAA,EAAY;AAE3I,MAAA,IAAI,UAAA,CAAW,QAAA,CAAS,UAAU,CAAA,EAAG;AACnC,QAAA,OAAA,CAAQ,IAAA,CAAK;AAAA,UACX,KAAA,EAAO,GAAA;AAAA,UACP,OAAO,KAAA,CAAM,KAAA;AAAA,UACb,aAAa,KAAA,CAAM;AAAA,SACpB,CAAA;AAAA,MACH;AAAA,IACF,CAAC,CAAA;AAED,IAAA,OAAO,OAAA;AAAA,EACT;AACF,CAAA;AAKO,SAAS,kBAAA,GAA2B;AACzC,EAAA,MAAM,UAAA,GAAa,IAAI,UAAA,EAAW;AAClC,EAAA,UAAA,CAAW,kBAAA,EAAmB;AAChC;AAKO,SAAS,cAAc,KAAA,EAAqB;AACjD,EAAA,MAAM,UAAA,GAAa,IAAI,UAAA,EAAW;AAClC,EAAA,UAAA,CAAW,cAAc,KAAK,CAAA;AAChC;AAKO,SAAS,WAAW,KAAA,EAAqB;AAC9C,EAAA,MAAM,UAAA,GAAa,IAAI,UAAA,EAAW;AAClC,EAAA,UAAA,CAAW,WAAW,KAAK,CAAA;AAC7B;AAKO,SAAS,mBAAA,GAA4B;AAC1C,EAAA,MAAM,UAAA,GAAa,IAAI,UAAA,EAAW;AAClC,EAAA,UAAA,CAAW,mBAAA,EAAoB;AACjC;;;AItkBA,WAAA,EAAA;AACA,gBAAA,EAAA;AACA,kBAAA,EAAA;AAEA,gBAAA,EAAA;;;ACpBA,gBAAA,EAAA;AAKA,eAAsB,qBAAqB,QAAA,EAAoD;AAC7F,EAAA,MAAM,SAAA,GAAY,QAAQ,GAAA,CAAI,UAAA;AAE9B,EAAA,IAAI,CAAC,SAAA,EAAW;AACd,IAAA,OAAA,CAAQ,KAAK,mGAAyF,CAAA;AACtG,IAAA,MAAM,YAAA,GAAe,IAAA,CAAK,SAAA,CAAU,QAAA,EAAU,MAAM,CAAC,CAAA;AACrD,IAAA,OAAO,gCAAgC,MAAA,CAAO,IAAA,CAAK,YAAY,CAAA,CAAE,QAAA,CAAS,QAAQ,CAAC,CAAA,CAAA;AAAA,EACrF;AAEA,EAAA,IAAI;AACF,IAAA,MAAM,QAAA,GAAW,MAAM,KAAA,CAAM,gDAAA,EAAkD;AAAA,MAC7E,MAAA,EAAQ,MAAA;AAAA,MACR,OAAA,EAAS;AAAA,QACP,eAAA,EAAiB,UAAU,SAAS,CAAA,CAAA;AAAA,QACpC,cAAA,EAAgB;AAAA,OAClB;AAAA,MACA,IAAA,EAAM,KAAK,SAAA,CAAU;AAAA,QACnB,aAAA,EAAe,QAAA;AAAA,QACf,aAAA,EAAe,EAAE,UAAA,EAAY,CAAA,EAAE;AAAA,QAC/B,cAAA,EAAgB;AAAA,UACd,IAAA,EAAO,SAAS,IAAA,IAAmB;AAAA;AACrC,OACD;AAAA,KACF,CAAA;AAED,IAAA,IAAI,CAAC,SAAS,EAAA,EAAI;AAChB,MAAA,MAAM,SAAA,GAAY,MAAM,QAAA,CAAS,IAAA,EAAK;AACtC,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,sBAAA,EAAyB,SAAS,CAAA,CAAE,CAAA;AAAA,IACtD;AAEA,IAAA,MAAM,MAAA,GAAS,MAAM,QAAA,CAAS,IAAA,EAAK;AACnC,IAAA,MAAM,MAAM,MAAA,CAAO,QAAA;AAEnB,IAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,yCAAA,EAAuC,GAAG,CAAA,CAAE,CAAA;AACxD,IAAA,OAAO,UAAU,GAAG,CAAA,CAAA;AAAA,EACtB,SAAS,KAAA,EAAO;AACd,IAAA,OAAA,CAAQ,IAAA,CAAK,CAAA,kCAAA,EAA2B,eAAA,CAAgB,KAAK,CAAC,CAAA,yBAAA,CAA2B,CAAA;AACzF,IAAA,MAAM,YAAA,GAAe,IAAA,CAAK,SAAA,CAAU,QAAA,EAAU,MAAM,CAAC,CAAA;AACrD,IAAA,OAAO,gCAAgC,MAAA,CAAO,IAAA,CAAK,YAAY,CAAA,CAAE,QAAA,CAAS,QAAQ,CAAC,CAAA,CAAA;AAAA,EACrF;AACF;;;ADnBA,SAAS,cAAc,GAAA,EAA8D;AACnF,EAAA,OAAO;AAAA,IACL,YAAY,OAAON,SAAAA,KAAqB,IAAI,UAAA,CAAWA,SAAO,EAAE,IAAA,EAAK;AAAA,IACrE,cAAA,EAAgB,OAAOA,SAAAA,KAAqB;AAC1C,MAAA,MAAM,OAAO,MAAM,GAAA,CAAI,cAAA,CAAeA,SAAO,EAAE,IAAA,EAAK;AACpD,MAAA,OAAO,IAAA,CAAK,KAAA;AAAA,IACd,CAAA;AAAA,IACA,eAAA,EAAiB,OAAO,WAAA,KAAyB;AAE/C,MAAA,OAAO,OAAO,WAAW,CAAA;AAAA,IAC3B,CAAA;AAAA,IACA,kBAAA,EAAoB,OAAO,SAAA,EAAmB,WAAA,KAAyB;AAErE,MAAA,MAAM,IAAI,oBAAA,CAAqB,CAAC,SAAsB,CAAC,EAAE,IAAA,EAAK;AAAA,IAChE,CAAA;AAAA,IACA,kBAAA,EAAoB,OAAO,SAAA,EAAoB,OAAA,KAAsC;AAEnF,MAAA,MAAM,WAAW,MAAM,GAAA,CAAI,mBAAmB,SAAA,EAAW,OAAc,EAAE,IAAA,EAAK;AAC9E,MAAA,OAAO,QAAA;AAAA,IACT,CAAA;AAAA,IACA,cAAA,EAAgB,CAACA,SAAAA,EAAkB,QAAA,MAAsB;AAAA,MACvD,MAAM,YAAY;AAGhB,QAAA,MAAM,gBAAiB,GAAA,CAAY,cAAA;AACnC,QAAA,IAAI,CAAC,aAAA,EAAe;AAClB,UAAA,MAAM,IAAI,MAAM,wFAAwF,CAAA;AAAA,QAC1G;AACA,QAAA,MAAM,MAAM,MAAM,aAAA,CAAcA,SAAAA,EAAS,QAAQ,EAAE,IAAA,EAAK;AACxD,QAAA,OAAO,OAAO,GAAG,CAAA;AAAA,MACnB;AAAA,KACF;AAAA,GACF;AACF;AAEO,IAAM,eAAN,MAA4C;AAAA;AAAA,EAKjD,YAAoB,IAAA,EAAgC;AAAhC,IAAA,IAAA,CAAA,IAAA,GAAA,IAAA;AAAA,EAAiC;AAAA,EAJ7C,UAAA,uBAAiB,GAAA,EAAgD;AAAA,EACjE,SAAA,uBAAgB,GAAA,EAAkD;AAAA,EACzD,SAAA,GAAY,GAAA;AAAA;AAAA;AAAA;AAAA,EAO7B,MAAM,SAAS,MAAA,EAA6C;AAC1D,IAAA,IAAA,CAAK,IAAA,CAAK,OAAO,IAAA,CAAK,8BAAA,EAAgC,EAAE,IAAA,EAAM,MAAA,CAAO,MAAM,CAAA;AAG3E,IAAA,MAAM,IAAA,CAAK,uBAAuB,MAAM,CAAA;AACxC,IAAA,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,sBAAsB,CAAA;AAG5C,IAAA,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,0CAA0C,CAAA;AAChE,IAAA,MAAM,YAAA,GAAe,MAAM,IAAA,CAAK,IAAA,CAAK,cAAc,eAAA,EAAgB;AACnE,IAAA,IAAI,CAAC,YAAA,EAAc;AACjB,MAAA,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,yBAAyB,CAAA;AAChD,MAAA,MAAM,IAAI,kBAAkB,uDAAuD,CAAA;AAAA,IACrF;AACA,IAAA,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,wBAAA,EAA0B,EAAE,SAAS,YAAA,CAAa,OAAA,CAAQ,QAAA,EAAS,EAAG,CAAA;AAG5F,IAAA,MAAM,OAAA,GAAUsG,UAAAA,EAAW,CAAE,OAAA,CAAQ,MAAM,EAAE,CAAA;AAC7C,IAAA,MAAM,KAAA,GAAe;AAAA,MACnB,EAAA,EAAI,OAAA;AAAA,MACJ,SAAS,YAAA,CAAa,OAAA;AAAA,MACtB,MAAM,MAAA,CAAO,IAAA;AAAA,MACb,aAAa,MAAA,CAAO,WAAA;AAAA,MACpB,cAAc,MAAA,CAAO,YAAA;AAAA,MACrB,OAAO,YAAA,CAAa,OAAA;AAAA,MACpB,QAAA,EAAU,IAAA;AAAA,MACV,eAAA,EAAiB,CAAA;AAAA,MACjB,SAAA,EAAW,MAAA,CAAO,IAAA,CAAK,GAAA,EAAK,CAAA;AAAA,MAC5B,SAAA,EAAW,MAAA,CAAO,IAAA,CAAK,GAAA,EAAK,CAAA;AAAA,MAC5B,QAAA,EAAU;AAAA,QACR,GAAG,MAAA,CAAO,QAAA;AAAA,QACV,UAAU,MAAA,CAAO,QAAA;AAAA,QACjB,SAAS,MAAA,CAAO;AAAA;AAClB,KACF;AACA,IAAA,IAAA,CAAK,KAAK,MAAA,CAAO,IAAA,CAAK,oBAAA,EAAsB,EAAE,SAAS,CAAA;AAGvD,IAAA,IAAI;AACF,MAAA,MAAM,MAAA,GAAS,YAAA;AACf,MAAA,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,cAAA,EAAgB,EAAE,SAAS,MAAA,CAAO,OAAA,CAAQ,QAAA,EAAS,EAAG,CAAA;AAG5E,MAAA,MAAM,WAAA,GAAc,MAAM,oBAAA,CAAqB;AAAA,QAC7C,MAAM,KAAA,CAAM,IAAA;AAAA,QACZ,aAAa,KAAA,CAAM,WAAA;AAAA,QACnB,cAAc,KAAA,CAAM,YAAA;AAAA,QACpB,UAAU,MAAA,CAAO,QAAA;AAAA,QACjB,KAAA,EAAO,EAAA;AAAA,QACP,YAAA,EAAc,EAAA;AAAA,QACd,UAAA,EAAY;AAAA,UACV,EAAE,UAAA,EAAY,YAAA,EAAc,KAAA,EAAO,UAAA,EAAW;AAAA,UAC9C,EAAE,YAAY,UAAA,EAAY,KAAA,EAAO,OAAO,QAAA,IAAY,KAAA,CAAM,YAAA,CAAa,CAAC,CAAA,EAAE;AAAA,UAC1E,EAAE,YAAY,cAAA,EAAgB,KAAA,EAAO,MAAM,YAAA,CAAa,IAAA,CAAK,IAAI,CAAA;AAAE;AACrE,OACD,CAAA;AAGD,MAAA,MAAM,MAAA,GAAS,mBAAmB,+BAA+B,CAAA;AACjE,MAAA,MAAM,GAAA,GAAM,aAAA,CAAc,MAAA,CAAO,GAAG,CAAA;AACpC,MAAA,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,kCAAkC,CAAA;AACxD,MAAA,MAAM,WAAA,GAAc,IAAIC,WAAAA,CAAY;AAAA,QAClC,WAAW,mBAAA,EAAoB;AAAA,QAC/B,GAAA;AAAA,QACA,UAAA,EAAY,WAAA;AAAA,QACZ,OAAA,EAAS,QAAA;AAAA,QACT,WAAA,EAAa;AAAA,OACd,CAAA;AAED,MAAA,IAAI,SAAA;AAEJ,MAAA,IAAI,OAAO,UAAA,EAAY;AACrB,QAAA,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,wCAAA,EAA0C;AAAA,UAC5D,YAAY,MAAA,CAAO,UAAA;AAAA,UACnB,SAAS,KAAA,CAAM;AAAA,SAClB,CAAA;AAGD,QAAA,SAAA,GAAY,MAAO,WAAA,CAAoB,kBAAA,CAAmB,WAAA,CAAY,MAAM,CAAA,EAAG;AAAA,UAC3E,SAAA,EAAW,CAAA;AAAA,UACX,WAAA;AAAA,UACA,SAAS,KAAA,CAAM,EAAA;AAAA,UACf,YAAY,MAAA,CAAO;AAAA,SACtB,CAAA;AAAA,MACH,CAAA,MAAO;AACL,QAAA,MAAM,kBAAA,GAAqB;AAAA,UACvB,SAAA,EAAW,CAAA;AAAA,UACX,MAAM,KAAA,CAAM,IAAA;AAAA,UACZ,aAAa,KAAA,CAAM,WAAA;AAAA,UACnB,WAAA;AAAA,UACA,SAAS,KAAA,CAAM,EAAA;AAAA,UACf,cAAA,EAAgB;AAAA,SACpB;AACA,QAAA,IAAA,CAAK,KAAK,MAAA,CAAO,IAAA,CAAK,8BAAA,EAAgC,EAAE,oBAAoB,CAAA;AAC5E,QAAA,SAAA,GAAY,MAAM,WAAA,CAAY,QAAA,CAAS,WAAA,CAAY,MAAM,GAAG,kBAAkB,CAAA;AAAA,MAChF;AAEA,MAAA,IAAA,CAAK,KAAK,MAAA,CAAO,IAAA,CAAK,qCAAA,EAAuC,EAAE,WAAW,CAAA;AAE1E,MAAA,IAAI,CAAC,SAAA,IAAa,OAAO,SAAA,KAAc,QAAA,EAAU;AAC/C,QAAA,MAAM,IAAI,MAAM,2DAA2D,CAAA;AAAA,MAC7E;AAGA,MAAA,MAAM,IAAA,CAAK,KAAK,cAAA,CAAe,IAAA,CAAK,SAAS,KAAA,CAAM,EAAE,IAAI,KAAK,CAAA;AAC9D,MAAA,MAAM,IAAA,CAAK,IAAA,CAAK,cAAA,CAAe,IAAA,CAAK,CAAA,YAAA,EAAe,YAAA,CAAa,OAAO,CAAA,CAAA,EAAI,KAAA,CAAM,EAAE,CAAA,CAAA,EAAI,KAAA,CAAM,EAAE,CAAA;AAC/F,MAAA,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,mCAAmC,CAAA;AAEzD,MAAA,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,gCAAA,EAAkC;AAAA,QACtD,SAAS,KAAA,CAAM,EAAA;AAAA,QACf;AAAA,OACD,CAAA;AACD,MAAA,OAAO,KAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,IAAA,CAAK,KAAK,MAAA,CAAO,KAAA,CAAM,qCAAqC,KAAA,YAAiB,KAAA,GAAQ,QAAQ,MAAS,CAAA;AACtG,MAAA,IAAI,KAAA,YAAiB,eAAA,IAAmB,KAAA,YAAiB,YAAA,EAAc;AACrE,QAAA,MAAM,KAAA;AAAA,MACR;AACA,MAAA,MAAM,IAAI,YAAA;AAAA,QACR,CAAA,0BAAA,EAA6B,eAAA,CAAgB,KAAK,CAAC,CAAA,CAAA;AAAA,QACnD;AAAA,OACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,IAAA,CAAK,MAAA,GAA2B,EAAC,EAAqB;AAC1D,IAAA,IAAI;AACF,MAAA,MAAM,SAAkB,EAAC;AAGzB,MAAA,IAAI,OAAO,KAAA,EAAO;AAChB,QAAA,MAAM,WAAA,GAAc,MAAM,IAAA,CAAK,gBAAA,CAAiB,OAAO,KAAK,CAAA;AAC5D,QAAA,MAAA,CAAO,IAAA,CAAK,GAAG,WAAW,CAAA;AAAA,MAC5B,CAAA,MAAO;AAEL,QAAA,MAAM,SAAA,GAAY,MAAM,IAAA,CAAK,YAAA,CAAa;AAAA,UACxC,UAAU,MAAA,CAAO,QAAA;AAAA,UACjB,eAAA,EAAiB,MAAA,CAAO,QAAA,KAAa,KAAA,CAAA,GAAY,OAAO,MAAA,CAAO;AAAA,SAChE,CAAA;AACD,QAAA,MAAA,CAAO,IAAA,CAAK,GAAG,SAAS,CAAA;AAAA,MAC1B;AAGA,MAAA,IAAI,cAAA,GAAiB,MAAA;AACrB,MAAA,IAAI,OAAO,QAAA,EAAU;AACnB,QAAA,cAAA,GAAiB,cAAA,CAAe,MAAA;AAAA,UAAO,CAAA,KAAA,KACrC,KAAA,CAAM,QAAA,EAAU,QAAA,KAAa,MAAA,CAAO;AAAA,SACtC;AAAA,MACF;AACA,MAAA,IAAI,MAAA,CAAO,aAAa,KAAA,CAAA,EAAW;AACjC,QAAA,cAAA,GAAiB,eAAe,MAAA,CAAO,CAAA,KAAA,KAAS,KAAA,CAAM,QAAA,KAAa,OAAO,QAAQ,CAAA;AAAA,MACpF;AAGA,MAAA,MAAM,MAAA,GAAS,OAAO,MAAA,IAAU,CAAA;AAChC,MAAA,MAAM,KAAA,GAAQ,OAAO,KAAA,IAAS,EAAA;AAC9B,MAAA,OAAO,cAAA,CAAe,KAAA,CAAM,MAAA,EAAQ,MAAA,GAAS,KAAK,CAAA;AAAA,IACpD,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,IAAI,YAAA;AAAA,QACR,CAAA,uBAAA,EAA0B,eAAA,CAAgB,KAAK,CAAC,CAAA,CAAA;AAAA,QAChD;AAAA,OACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,QAAQ,OAAA,EAAwC;AAEpD,IAAA,MAAM,MAAA,GAAS,IAAA,CAAK,UAAA,CAAW,GAAA,CAAI,OAAO,CAAA;AAC1C,IAAA,IAAI,UAAU,IAAA,CAAK,GAAA,KAAQ,MAAA,CAAO,SAAA,GAAY,KAAK,SAAA,EAAW;AAC5D,MAAA,OAAO,MAAA,CAAO,IAAA;AAAA,IAChB;AAEA,IAAA,IAAI;AACF,MAAA,MAAM,KAAA,GAAQ,MAAM,IAAA,CAAK,IAAA,CAAK,eAAe,IAAA,CAAY,CAAA,MAAA,EAAS,OAAO,CAAA,CAAE,CAAA;AAG3E,MAAA,IAAI,KAAA,EAAO;AACT,QAAA,IAAA,CAAK,UAAA,CAAW,IAAI,OAAA,EAAS;AAAA,UAC3B,IAAA,EAAM,KAAA;AAAA,UACN,SAAA,EAAW,KAAK,GAAA;AAAI,SACrB,CAAA;AAAA,MACH;AAEA,MAAA,OAAO,KAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,MAAM,CAAA,oBAAA,EAAuB,OAAO,CAAA,CAAA,CAAA,EAAK,eAAA,CAAgB,KAAK,CAAC,CAAA;AACvE,MAAA,OAAO,IAAA;AAAA,IACT;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,MAAA,CAAO,OAAA,EAAiB,OAAA,EAA4C;AACxE,IAAA,MAAM,KAAA,GAAQ,MAAM,IAAA,CAAK,OAAA,CAAQ,OAAO,CAAA;AACxC,IAAA,IAAI,CAAC,KAAA,EAAO;AACV,MAAA,MAAM,IAAI,aAAA,CAAc,OAAA,EAAS,OAAO,CAAA;AAAA,IAC1C;AAGA,IAAA,MAAM,MAAA,GAAS,IAAA,CAAK,IAAA,CAAK,aAAA,CAAc,wBAAA,EAAyB;AAChE,IAAA,IAAI,CAAC,MAAA,IAAU,KAAA,CAAM,KAAA,KAAU,OAAO,OAAA,EAAS;AAC7C,MAAA,MAAM,IAAI,kBAAkB,qCAAqC,CAAA;AAAA,IACnE;AAGA,IAAA,IAAI;AACF,MAAA,OAAA,CAAQ,IAAI,2CAAoC,CAAA;AAChD,MAAA,MAAM,SAAS,MAAM,IAAA,CAAK,IAAA,CAAK,iBAAA,CAAkB,UAAU,QAAQ,CAAA;AACnE,MAAA,MAAM,YAAA,GAAe,MAAM,IAAA,CAAK,IAAA,CAAK,cAAc,eAAA,EAAgB;AAEnE,MAAA,IAAI,CAAC,YAAA,EAAc;AACjB,QAAA,MAAM,IAAI,kBAAkB,mCAAmC,CAAA;AAAA,MACjE;AAEA,MAAA,MAAM,WAAA,GAAc,MAAA;AACpB,MAAA,MAAM,WAAA,GAAc,IAAIA,WAAAA,CAAY;AAAA,QAClC,SAAA,EAAW,YAAY,MAAA,CAAO,SAAA;AAAA,QAC9B,GAAA,EAAK,YAAY,MAAA,CAAO,GAAA;AAAA,QACxB,UAAA,EAAY;AAAA,OACb,CAAA;AAED,MAAA,OAAA,CAAQ,IAAI,yCAAkC,CAAA;AAG9C,MAAA,MAAM,WAAA,GAAc,MAAM,oBAAA,CAAqB;AAAA,QAC7C,GAAG,KAAA,CAAM,QAAA;AAAA,QACT,GAAG,OAAA,CAAQ,QAAA;AAAA,QACX,IAAA,EAAM,OAAA,CAAQ,IAAA,IAAQ,KAAA,CAAM,IAAA;AAAA,QAC5B,WAAA,EAAa,OAAA,CAAQ,WAAA,IAAe,KAAA,CAAM,WAAA;AAAA,QAC1C,YAAA,EAAc,OAAA,CAAQ,YAAA,IAAgB,KAAA,CAAM;AAAA,OAC7C,CAAA;AAGD,MAAA,MAAM,YAAY,MAAM,WAAA,CAAY,MAAA,CAAO,WAAA,CAAY,YAAY,CAAA,EAAG;AAAA,QACpE,SAAS,KAAA,CAAM,EAAA;AAAA,QACf,MAAM,OAAA,CAAQ,IAAA;AAAA,QACd,aAAa,OAAA,CAAQ,WAAA;AAAA,QACrB,cAAc,OAAA,CAAQ,YAAA;AAAA,QACtB,UAAU,OAAA,CAAQ,QAAA;AAAA,QAClB;AAAA,OACD,CAAA;AAED,MAAA,OAAA,CAAQ,GAAA,CAAI,oCAA6B,SAAS,CAAA;AAElD,MAAA,IAAI,CAAC,SAAA,IAAa,OAAO,SAAA,KAAc,QAAA,EAAU;AAC/C,QAAA,MAAM,IAAI,MAAM,qDAAqD,CAAA;AAAA,MACvE;AAEA,MAAA,OAAA,CAAQ,IAAI,CAAA,mCAAA,CAAgC,CAAA;AAC5C,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,uBAAA,EAA0B,SAAS,CAAA,CAAE,CAAA;AACjD,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,iDAAA,EAAoD,SAAS,CAAA,eAAA,CAAiB,CAAA;AAG1F,MAAA,MAAM,YAAA,GAAsB;AAAA,QAC1B,GAAG,KAAA;AAAA,QACH,GAAG,OAAA;AAAA,QACH,SAAA,EAAW,MAAA,CAAO,IAAA,CAAK,GAAA,EAAK;AAAA,OAC9B;AAGA,MAAA,MAAM,KAAK,IAAA,CAAK,cAAA,CAAe,KAAK,CAAA,MAAA,EAAS,OAAO,IAAI,YAAY,CAAA;AAGpE,MAAA,IAAA,CAAK,UAAA,CAAW,IAAI,OAAA,EAAS;AAAA,QAC3B,IAAA,EAAM,YAAA;AAAA,QACN,SAAA,EAAW,KAAK,GAAA;AAAI,OACrB,CAAA;AAGD,MAAA,IAAA,CAAK,UAAU,KAAA,EAAM;AAErB,MAAA,OAAO,YAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,IAAI,KAAA,YAAiB,aAAA,IAAiB,KAAA,YAAiB,iBAAA,EAAmB;AACxE,QAAA,MAAM,KAAA;AAAA,MACR;AACA,MAAA,MAAM,IAAI,YAAA;AAAA,QACR,CAAA,wBAAA,EAA2B,eAAA,CAAgB,KAAK,CAAC,CAAA,CAAA;AAAA,QACjD;AAAA,OACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,WAAW,OAAA,EAAgC;AAC/C,IAAA,MAAM,KAAK,MAAA,CAAO,OAAA,EAAS,EAAE,QAAA,EAAU,OAAO,CAAA;AAAA,EAChD;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,aAAa,OAAA,EAA0C;AAC3D,IAAA,MAAM,KAAA,GAAQ,MAAM,IAAA,CAAK,OAAA,CAAQ,OAAO,CAAA;AACxC,IAAA,IAAI,CAAC,KAAA,EAAO;AACV,MAAA,MAAM,IAAI,aAAA,CAAc,OAAA,EAAS,OAAO,CAAA;AAAA,IAC1C;AAIA,IAAA,OAAO;AAAA,MACL,SAAA,EAAW,CAAA;AAAA,MACX,aAAA,EAAe,CAAA;AAAA,MACf,aAAA,EAAe,CAAA;AAAA,MACf,aAAA,EAAe,OAAO,CAAC,CAAA;AAAA,MACvB,YAAA,EAAc,CAAA;AAAA,MACd,WAAA,EAAa,CAAA;AAAA,MACb,YAAY,KAAA,CAAM;AAAA,KACpB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,cAAA,CAAe,OAAA,EAAiB,MAAA,EAKnB;AACjB,IAAA,MAAM,KAAA,GAAQ,MAAM,IAAA,CAAK,OAAA,CAAQ,OAAO,CAAA;AACxC,IAAA,IAAI,CAAC,KAAA,EAAO;AACV,MAAA,MAAM,IAAI,aAAA,CAAc,OAAA,EAAS,OAAO,CAAA;AAAA,IAC1C;AAEA,IAAA,MAAM,MAAA,GAAS,IAAA,CAAK,IAAA,CAAK,aAAA,CAAc,wBAAA,EAAyB;AAChE,IAAA,IAAI,CAAC,MAAA,IAAU,KAAA,CAAM,KAAA,KAAU,OAAO,OAAA,EAAS;AAC7C,MAAA,MAAM,IAAI,kBAAkB,wCAAwC,CAAA;AAAA,IACtE;AAEA,IAAA,IAAI;AACF,MAAA,IAAA,CAAK,IAAA,CAAK,OAAO,IAAA,CAAK,kCAAA,EAAoC,EAAE,OAAA,EAAS,OAAA,EAAS,MAAA,CAAO,OAAA,EAAS,CAAA;AAI9F,MAAA,MAAM,YAAA,GAAe;AAAA,QACnB,GAAG,KAAA;AAAA,QACH,SAAA,EAAW,MAAA,CAAO,IAAA,CAAK,GAAA,EAAK,CAAA;AAAA,QAC5B,QAAA,EAAU;AAAA,UACR,GAAG,KAAA,CAAM,QAAA;AAAA,UACT,KAAA,EAAO;AAAA,YACL,SAAS,MAAA,CAAO,OAAA;AAAA,YAChB,cAAc,MAAA,CAAO,YAAA;AAAA,YACrB,QAAQ,MAAA,CAAO,MAAA;AAAA;AAAA,YACf,YAAY,MAAA,CAAO,UAAA;AAAA,YACnB,cAAA,EAAgB,KAAK,GAAA;AAAI;AAC3B;AACF,OACF;AAEA,MAAA,MAAM,KAAK,IAAA,CAAK,cAAA,CAAe,KAAK,CAAA,MAAA,EAAS,OAAO,IAAI,YAAY,CAAA;AACpE,MAAA,IAAA,CAAK,UAAA,CAAW,GAAA,CAAI,OAAA,EAAS,EAAE,IAAA,EAAM,cAAc,SAAA,EAAW,IAAA,CAAK,GAAA,EAAI,EAAG,CAAA;AAE1E,MAAA,IAAA,CAAK,KAAK,MAAA,CAAO,IAAA,CAAK,2BAAA,EAA6B,EAAE,SAAS,CAAA;AAE9D,MAAA,OAAO,YAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,IAAA,CAAK,KAAK,MAAA,CAAO,KAAA,CAAM,6BAA6B,KAAA,YAAiB,KAAA,GAAQ,QAAQ,MAAS,CAAA;AAC9F,MAAA,MAAM,IAAI,YAAA;AAAA,QACR,CAAA,2BAAA,EAA8B,eAAA,CAAgB,KAAK,CAAC,CAAA,CAAA;AAAA,QACpD;AAAA,OACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAc,uBAAuB,MAAA,EAA4C;AAC/E,IAAA,IAAI,CAAC,MAAA,CAAO,IAAA,IAAQ,MAAA,CAAO,IAAA,CAAK,SAAS,CAAA,EAAG;AAC1C,MAAA,MAAM,IAAI,eAAA;AAAA,QACR,+CAAA;AAAA,QACA;AAAA,OACF;AAAA,IACF;AACA,IAAA,IAAI,CAAC,MAAA,CAAO,WAAA,IAAe,MAAA,CAAO,WAAA,CAAY,SAAS,EAAA,EAAI;AACzD,MAAA,MAAM,IAAI,eAAA;AAAA,QACR,uDAAA;AAAA,QACA;AAAA,OACF;AAAA,IACF;AACA,IAAA,IAAI,MAAA,CAAO,YAAA,CAAa,MAAA,KAAW,CAAA,EAAG;AACpC,MAAA,MAAM,IAAI,eAAA;AAAA,QACR,yCAAA;AAAA,QACA;AAAA,OACF;AAAA,IACF;AAAA,EACF;AAAA,EAEA,MAAc,iBAAiB,KAAA,EAAkC;AAG/D,IAAA,MAAM,SAAkB,EAAC;AACzB,IAAA,IAAI;AAEF,MAAA,MAAM,SAAA,GAAY,MAAM,IAAA,CAAK,YAAA,EAAa;AAC1C,MAAA,OAAO,SAAA,CAAU,MAAA,CAAO,CAAA,KAAA,KAAS,KAAA,CAAM,UAAU,KAAK,CAAA;AAAA,IACxD,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,KAAA,CAAM,gCAAA,EAAkC,eAAA,CAAgB,KAAK,CAAC,CAAA;AACtE,MAAA,OAAO,MAAA;AAAA,IACT;AAAA,EACF;AAAA,EAEA,MAAc,aAAa,MAAA,EAON;AACnB,IAAA,IAAI;AAEF,MAAA,OAAA,CAAQ,IAAI,6DAAsD,CAAA;AAElE,MAAA,MAAM,EAAE,qBAAA,EAAAC,sBAAAA,EAAsB,GAAI,MAAM,OAAA,CAAA,OAAA,EAAA,CAAA,IAAA,CAAA,OAAA,kBAAA,EAAA,EAAA,qBAAA,CAAA,CAAA;AAExC,MAAA,MAAM,gBAAA,GAAmB,MAAMA,sBAAAA,CAAsB;AAAA,QACnD,KAAA,EAAO,QAAQ,KAAA,IAAS;AAAA,OACzB,CAAA;AAED,MAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,gBAAA,EAAY,gBAAA,CAAiB,MAAM,CAAA,4BAAA,CAA8B,CAAA;AAG7E,MAAA,MAAM,MAAA,GAAkB,gBAAA,CAAiB,GAAA,CAAI,CAAC,KAAA,MAAW;AAAA,QACvD,IAAI,KAAA,CAAM,YAAA;AAAA,QACV,SAAS,KAAA,CAAM,YAAA;AAAA,QACf,MAAM,CAAA,YAAA,EAAe,KAAA,CAAM,aAAa,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC,CAAA,GAAA,CAAA;AAAA,QACnD,WAAA,EAAa,CAAA,WAAA,EAAc,KAAA,CAAM,eAAe,CAAA,MAAA,CAAA;AAAA,QAChD,YAAA,EAAc,CAAC,cAAc,CAAA;AAAA,QAC7B,KAAA,EAAO,KAAA,CAAA;AAAA;AAAA,QACP,QAAA,EAAU,MAAM,MAAA,KAAW,UAAA;AAAA,QAC3B,eAAA,EAAiB,CAAA;AAAA,QACjB,SAAA,EAAW,MAAA,CAAO,KAAA,CAAM,kBAAkB,CAAA;AAAA,QAC1C,SAAA,EAAW,MAAA,CAAO,KAAA,CAAM,SAAA,IAAa,MAAM,SAAS,CAAA;AAAA,QACpD,QAAA,EAAU;AAAA,UACR,MAAA,EAAQ,gBAAA;AAAA,UACR,iBAAiB,KAAA,CAAM,eAAA;AAAA,UACvB,kBAAkB,KAAA,CAAM,gBAAA;AAAA,UACxB,MAAM,KAAA,CAAM,IAAA;AAAA,UACZ,WAAW,KAAA,CAAM,SAAA;AAAA,UACjB,QAAQ,KAAA,CAAM,MAAA;AAAA,UACd,oBAAoB,KAAA,CAAM,kBAAA;AAAA,UAC1B,SAAS,KAAA,CAAM;AAAA;AACjB,OACF,CAAE,CAAA;AAGF,MAAA,IAAI,cAAA,GAAiB,MAAA;AAErB,MAAA,IAAI,MAAA,EAAQ,QAAA,IAAY,MAAA,CAAO,QAAA,KAAa,cAAA,EAAgB;AAE1D,QAAA,cAAA,GAAiB,EAAC;AAAA,MACpB;AAEA,MAAA,IAAI,QAAQ,MAAA,EAAQ;AAClB,QAAA,MAAM,WAAA,GAAc,MAAA,CAAO,MAAA,CAAO,WAAA,EAAY;AAC9C,QAAA,cAAA,GAAiB,cAAA,CAAe,MAAA;AAAA,UAC9B,CAAC,KAAA,KACC,KAAA,CAAM,OAAA,CAAQ,aAAY,CAAE,QAAA,CAAS,WAAW,CAAA,IAChD,MAAM,QAAA,EAAU,gBAAA,EAAkB,WAAA,EAAY,CAAE,SAAS,WAAW;AAAA,SACxE;AAAA,MACF;AAEA,MAAA,IAAI,CAAC,QAAQ,eAAA,EAAiB;AAC5B,QAAA,cAAA,GAAiB,cAAA,CAAe,MAAA,CAAO,CAAC,KAAA,KAAU,MAAM,QAAQ,CAAA;AAAA,MAClE;AAGA,MAAA,IAAI,QAAQ,MAAA,EAAQ;AAClB,QAAA,cAAA,CAAe,IAAA,CAAK,CAAC,CAAA,EAAG,CAAA,KAAM;AAC5B,UAAA,QAAQ,OAAO,MAAA;AAAQ,YACrB,KAAK,YAAA;AACH,cAAA,OAAO,CAAA,CAAE,kBAAkB,CAAA,CAAE,eAAA;AAAA,YAC/B,KAAK,SAAA;AACH,cAAA,OAAO,MAAA,CAAO,CAAA,CAAE,SAAA,GAAY,CAAA,CAAE,SAAS,CAAA;AAAA,YACzC,KAAK,MAAA;AACH,cAAA,OAAO,CAAA,CAAE,IAAA,CAAK,aAAA,CAAc,CAAA,CAAE,IAAI,CAAA;AAAA,YACpC;AACE,cAAA,OAAO,CAAA;AAAA;AACX,QACF,CAAC,CAAA;AAAA,MACH;AAGA,MAAA,MAAM,IAAA,GAAO,QAAQ,IAAA,IAAQ,CAAA;AAC7B,MAAA,MAAM,KAAA,GAAQ,QAAQ,KAAA,IAAS,EAAA;AAC/B,MAAA,MAAM,QAAQ,IAAA,GAAO,KAAA;AACrB,MAAA,MAAM,MAAM,KAAA,GAAQ,KAAA;AAEpB,MAAA,OAAO,cAAA,CAAe,KAAA,CAAM,KAAA,EAAO,GAAG,CAAA;AAAA,IACxC,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,KAAA,CAAM,oCAAA,EAAsC,eAAA,CAAgB,KAAK,CAAC,CAAA;AAG1E,MAAA,IAAI,eAAA,CAAgB,KAAK,CAAA,CAAE,QAAA,CAAS,YAAY,CAAA,EAAG;AACjD,QAAA,OAAA,CAAQ,MAAM,+EAAwE,CAAA;AACtF,QAAA,OAAA,CAAQ,MAAM,6DAA6D,CAAA;AAAA,MAC7E;AAGA,MAAA,OAAO,EAAC;AAAA,IACV;AAAA,EACF;AAEF,CAAA;;;AExkBA,mBAAA,EAAA;;;ACCA,WAAA,EAAA;AAIO,IAAM,oBAAN,MAAsD;AAAA,EACnD,OAAA,uBAAc,GAAA,EAAqB;AAAA;AAAA;AAAA;AAAA,EAK3C,MAAM,UAAU,OAAA,EAAmC;AAEjD,IAAA,IAAI,IAAA,CAAK,OAAA,CAAQ,GAAA,CAAI,OAAO,CAAA,EAAG;AAC7B,MAAA,OAAO,IAAA,CAAK,OAAA,CAAQ,GAAA,CAAI,OAAO,CAAA;AAAA,IACjC;AAGA,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,MAAA,EAAO,GAAI,MAAM,iBAAiB,OAAgD,CAAA;AAC1F,MAAA,IAAA,CAAK,OAAA,CAAQ,GAAA,CAAI,OAAA,EAAS,MAAM,CAAA;AAChC,MAAA,OAAO,MAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,yCAAA,EAA4C,OAAO,CAAA,GAAA,EAAM,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,IACrI;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,MAAM,gBAAgB,qBAAA,EAAgD;AACpE,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,GAAA,EAAI,GAAI,MAAM,gBAAA,EAAiB;AAIvC,MAAA,MAAM,QAAA,GAAW,MAAM,GAAA,CAAI,eAAA;AAAA,QACzB,qBAAA;AAAA,QACA;AAAA,UACE,QAAA,EAAU,QAAA;AAAA,UACV,aAAA,EAAe,KAAA;AAAA,UACf,mBAAA,EAAqB,WAAA;AAAA,UACrB,UAAA,EAAY,OAAO,CAAC;AAAA;AACtB,QACA,IAAA,EAAK;AAEP,MAAA,OAAO,QAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,IAAI,iBAAiB,KAAA,EAAO;AAE1B,QAAA,IAAI,KAAA,CAAM,OAAA,CAAQ,QAAA,CAAS,oBAAoB,CAAA,EAAG;AAChD,UAAA,MAAM,IAAI,YAAA;AAAA,YACR,kDAAA;AAAA,YACA,oBAAA;AAAA,YACA,sCAAA;AAAA,YACA;AAAA,WACF;AAAA,QACF;AAEA,QAAA,IAAI,KAAA,CAAM,OAAA,CAAQ,QAAA,CAAS,qBAAqB,CAAA,EAAG;AACjD,UAAA,MAAM,IAAI,YAAA;AAAA,YACR,4CAAA;AAAA,YACA,mBAAA;AAAA,YACA,gEAAA;AAAA,YACA;AAAA,WACF;AAAA,QACF;AAEA,QAAA,IAAI,KAAA,CAAM,OAAA,CAAQ,QAAA,CAAS,gBAAgB,CAAA,EAAG;AAC5C,UAAA,MAAM,IAAI,YAAA;AAAA,YACR,oCAAA;AAAA,YACA,oBAAA;AAAA,YACA,8DAAA;AAAA,YACA;AAAA,WACF;AAAA,QACF;AAEA,QAAA,MAAM,IAAI,YAAA;AAAA,UACR,CAAA,oBAAA,EAAuB,MAAM,OAAO,CAAA,CAAA;AAAA,UACpC;AAAA,SACF;AAAA,MACF;AAEA,MAAA,MAAM,IAAI,YAAA;AAAA,QACR,oCAAA;AAAA,QACA,eAAA;AAAA,QACA,kCAAA;AAAA,QACA;AAAA,OACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,mBAAmB,SAAA,EAAqC;AAC5D,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,GAAA,EAAI,GAAI,MAAM,gBAAA,EAAiB;AAGvC,MAAA,MAAM,QAAA,GAAW,MAAM,GAAA,CAAI,oBAAA;AAAA,QACzB,CAAC,SAAsB,CAAA;AAAA,QACvB;AAAA,UACE,wBAAA,EAA0B;AAAA;AAC5B,QACA,IAAA,EAAK;AAEP,MAAA,IAAI,CAAC,YAAY,CAAC,QAAA,CAAS,SAAS,QAAA,CAAS,KAAA,CAAM,WAAW,CAAA,EAAG;AAC/D,QAAA,OAAA,CAAQ,IAAA,CAAK,CAAA,iCAAA,EAAoC,SAAS,CAAA,CAAE,CAAA;AAC5D,QAAA,OAAO,KAAA;AAAA,MACT;AAEA,MAAA,MAAM,MAAA,GAAS,QAAA,CAAS,KAAA,CAAM,CAAC,CAAA;AAE/B,MAAA,IAAI,CAAC,MAAA,EAAQ;AACX,QAAA,OAAA,CAAQ,IAAA,CAAK,CAAA,uBAAA,EAA0B,SAAS,CAAA,CAAE,CAAA;AAClD,QAAA,OAAO,KAAA;AAAA,MACT;AAGA,MAAA,IAAI,MAAA,CAAO,kBAAA,KAAuB,WAAA,IAAe,MAAA,CAAO,uBAAuB,WAAA,EAAa;AAC1F,QAAA,IAAI,OAAO,GAAA,EAAK;AACd,UAAA,OAAA,CAAQ,KAAA,CAAM,CAAA,8BAAA,CAAA,EAAkC,MAAA,CAAO,GAAG,CAAA;AAC1D,UAAA,OAAO,KAAA;AAAA,QACT;AAEA,QAAA,OAAA,CAAQ,IAAI,CAAA,uBAAA,EAA0B,SAAS,CAAA,EAAA,EAAK,MAAA,CAAO,kBAAkB,CAAA,CAAA,CAAG,CAAA;AAChF,QAAA,OAAO,IAAA;AAAA,MACT;AAGA,MAAA,OAAA,CAAQ,IAAI,CAAA,8BAAA,EAAiC,SAAS,KAAK,MAAA,CAAO,kBAAA,IAAsB,WAAW,CAAA,CAAA,CAAG,CAAA;AACtG,MAAA,OAAO,KAAA;AAAA,IAET,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,KAAA,CAAM,iCAAiC,SAAS,CAAA,CAAA,CAAA,EAAK,iBAAiB,KAAA,GAAQ,KAAA,CAAM,UAAU,eAAe,CAAA;AACrH,MAAA,OAAO,KAAA;AAAA,IACT;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,eAAexG,SAAAA,EAOX;AACR,IAAA,IAAI;AACF,MAAA,MAAM,EAAE,GAAA,EAAI,GAAI,MAAM,gBAAA,EAAiB;AAGvC,MAAA,MAAM,QAAA,GAAW,MAAM,GAAA,CAAI,cAAA;AAAA,QACzBA,SAAAA;AAAA,QACA;AAAA,UACE,QAAA,EAAU,QAAA;AAAA,UACV,UAAA,EAAY;AAAA;AACd,QACA,IAAA,EAAK;AAEP,MAAA,IAAI,CAAC,QAAA,IAAY,CAAC,QAAA,CAAS,KAAA,EAAO;AAChC,QAAA,OAAA,CAAQ,GAAA,CAAI,CAAA,mBAAA,EAAsBA,SAAO,CAAA,CAAE,CAAA;AAC3C,QAAA,OAAO,IAAA;AAAA,MACT;AAEA,MAAA,MAAM,cAAc,QAAA,CAAS,KAAA;AAG7B,MAAA,IAAI,WAAA;AACJ,MAAA,IAAI,WAAA,CAAY,IAAA,IAAQ,KAAA,CAAM,OAAA,CAAQ,WAAA,CAAY,IAAI,CAAA,IAAK,WAAA,CAAY,IAAA,CAAK,MAAA,IAAU,CAAA,EAAG;AACvF,QAAA,IAAI;AAEF,UAAA,MAAM,UAAA,GAAa,WAAA,CAAY,IAAA,CAAK,CAAC,CAAA;AACrC,UAAA,WAAA,GAAc,IAAI,UAAA,CAAW,MAAA,CAAO,IAAA,CAAK,UAAA,EAAY,QAAQ,CAAC,CAAA;AAAA,QAChE,SAAS,WAAA,EAAa;AACpB,UAAA,OAAA,CAAQ,IAAA,CAAK,kCAAkC,WAAW,CAAA;AAAA,QAC5D;AAAA,MACF;AAEA,MAAA,OAAO;AAAA,QACL,OAAA,EAASA,UAAQ,QAAA,EAAS;AAAA,QAC1B,OAAA,EAAS,MAAA,CAAO,WAAA,CAAY,QAAQ,CAAA;AAAA,QACpC,OAAO,WAAA,CAAY,KAAA;AAAA,QACnB,YAAY,WAAA,CAAY,UAAA;AAAA,QACxB,SAAA,EAAW,MAAA,CAAO,WAAA,CAAY,SAAS,CAAA;AAAA,QACvC,IAAA,EAAM;AAAA,OACR;AAAA,IAEF,SAAS,KAAA,EAAO;AACd,MAAA,IAAI,iBAAiB,KAAA,IAAS,KAAA,CAAM,OAAA,CAAQ,QAAA,CAAS,eAAe,CAAA,EAAG;AACrE,QAAA,MAAM,IAAI,YAAA;AAAA,UACR,2BAA2BA,SAAO,CAAA,CAAA;AAAA,UAClC,iBAAA;AAAA,UACA,iDAAA;AAAA,UACA;AAAA,SACF;AAAA,MACF;AAEA,MAAA,MAAM,IAAI,YAAA;AAAA,QACR,kCAAkCA,SAAO,CAAA,EAAA,EAAK,iBAAiB,KAAA,GAAQ,KAAA,CAAM,UAAU,eAAe,CAAA,CAAA;AAAA,QACtG;AAAA,OACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,cAAA,CAAeA,SAAAA,EAAkB,MAAA,EAAiC;AACtE,IAAA,IAAI;AAEF,MAAA,MAAM,EAAE,GAAA,EAAI,GAAI,MAAM,iBAAiB,QAAQ,CAAA;AAG/C,MAAA,MAAM,QAAA,GAAW,MAAA,CAAO,MAAA,GAAS,GAAa,CAAA;AAU9C,MAAA,MAAM,QAAA,GAAW,GAAA;AACjB,MAAA,MAAM,eAAA,GAAkB,MAAM,QAAA,CAAS,cAAA,CAAeA,WAAS,QAAQ,CAAA;AACvE,MAAA,MAAM,SAAA,GAAY,MAAM,eAAA,CAAgB,IAAA,EAAK;AAG7C,MAAA,MAAM,IAAI,OAAA,CAAQ,CAAAU,aAAW,UAAA,CAAWA,QAAAA,EAAS,GAAI,CAAC,CAAA;AAEtD,MAAA,OAAO,SAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,IAAI,MAAM,CAAA,2BAAA,EAA8B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,IAC1G;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,iBAAiB,QAAA,EAIpB;AAED,IAAA,OAAO;AAAA,MACL,OAAA,EAAS,IAAA;AAAA,MACT,WAAA,EAAa,CAAA;AAAA,MACb,gBAAA,EAAkB;AAAA,KACpB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,YAAA,GAAqB;AACnB,IAAA,IAAA,CAAK,QAAQ,KAAA,EAAM;AAAA,EACrB;AACF,CAAA;ACpQO,IAAM,iBAAN,MAAgD;AAAA,EACpC,OAAA;AAAA,EAEjB,YAAY,OAAA,EAAkB;AAC5B,IAAA,IAAA,CAAK,UAAU,OAAA,IAAWP,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,MAAM,CAAA;AAAA,EACjE;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,IAAA,CAAQ,GAAA,EAAa,IAAA,EAAwB;AACjD,IAAA,IAAI;AACF,MAAA,MAAM,KAAK,qBAAA,EAAsB;AACjC,MAAA,MAAM,QAAA,GAAW,IAAA,CAAK,WAAA,CAAY,GAAG,CAAA;AACrC,MAAA,MAAM,WAAW,IAAA,CAAK,SAAA;AAAA,QAAU,IAAA;AAAA,QAAM,CAAC,GAAG,KAAA,KACxC,OAAO,UAAU,QAAA,GAAW,KAAA,CAAM,UAAS,GAAI,KAAA;AAAA,QAC/C;AAAA,OAAC;AACH,MAAA,MAAM2B,QAAAA,CAAG,SAAA,CAAU,QAAA,EAAU,QAAA,EAAU,OAAO,CAAA;AAAA,IAChD,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,6BAAA,EAAgC,GAAG,CAAA,GAAA,EAAM,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,IACrH;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,KAAQ,GAAA,EAAgC;AAC5C,IAAA,IAAI;AACF,MAAA,MAAM,QAAA,GAAW,IAAA,CAAK,WAAA,CAAY,GAAG,CAAA;AACrC,MAAA,MAAM,QAAA,GAAW,MAAMA,QAAAA,CAAG,QAAA,CAAS,UAAU,OAAO,CAAA;AACpD,MAAA,OAAO,IAAA,CAAK,MAAM,QAAQ,CAAA;AAAA,IAC5B,SAAS,KAAA,EAAO;AACd,MAAA,IAAI,iBAAiB,KAAA,IAAS,MAAA,IAAU,KAAA,IAAS,KAAA,CAAM,SAAS,QAAA,EAAU;AACxE,QAAA,OAAO,IAAA;AAAA,MACT;AACA,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,6BAAA,EAAgC,GAAG,CAAA,GAAA,EAAM,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,IACrH;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,OAAO,GAAA,EAA4B;AACvC,IAAA,IAAI;AACF,MAAA,MAAM,QAAA,GAAW,IAAA,CAAK,WAAA,CAAY,GAAG,CAAA;AACrC,MAAA,MAAMA,QAAAA,CAAG,OAAO,QAAQ,CAAA;AAAA,IAC1B,SAAS,KAAA,EAAO;AACd,MAAA,IAAI,iBAAiB,KAAA,IAAS,MAAA,IAAU,KAAA,IAAS,KAAA,CAAM,SAAS,QAAA,EAAU;AACxE,QAAA;AAAA,MACF;AACA,MAAA,MAAM,IAAI,KAAA,CAAM,CAAA,+BAAA,EAAkC,GAAG,CAAA,GAAA,EAAM,iBAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,IACvH;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,OAAO,GAAA,EAA+B;AAC1C,IAAA,IAAI;AACF,MAAA,MAAM,QAAA,GAAW,IAAA,CAAK,WAAA,CAAY,GAAG,CAAA;AACrC,MAAA,MAAMA,QAAAA,CAAG,OAAO,QAAQ,CAAA;AACxB,MAAA,OAAO,IAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,OAAO,KAAA;AAAA,IACT;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,SAAS,MAAA,EAAoC;AACjD,IAAA,IAAI;AACF,MAAA,MAAM,KAAK,qBAAA,EAAsB;AACjC,MAAA,MAAM,KAAA,GAAQ,MAAMA,QAAAA,CAAG,OAAA,CAAQ,KAAK,OAAO,CAAA;AAC3C,MAAA,MAAM,IAAA,GAAO,MACV,MAAA,CAAO,CAAA,IAAA,KAAQ,KAAK,QAAA,CAAS,OAAO,CAAC,CAAA,CACrC,GAAA,CAAI,CAAA,IAAA,KAAQ,KAAK,OAAA,CAAQ,OAAA,EAAS,EAAE,CAAC,CAAA,CACrC,GAAA,CAAI,UAAQ,IAAA,CAAK,OAAA,CAAQ,IAAA,EAAM,GAAG,CAAC,CAAA;AAEtC,MAAA,IAAI,MAAA,EAAQ;AACV,QAAA,OAAO,KAAK,MAAA,CAAO,CAAA,GAAA,KAAO,GAAA,CAAI,UAAA,CAAW,MAAM,CAAC,CAAA;AAAA,MAClD;AAEA,MAAA,OAAO,IAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,IAAI,MAAM,CAAA,qBAAA,EAAwB,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,IACpG;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,KAAA,GAAuB;AAC3B,IAAA,IAAI;AACF,MAAA,MAAM,MAAA,GAAS,MAAM,IAAA,CAAK,eAAA,EAAgB;AAC1C,MAAA,IAAI,MAAA,EAAQ;AACV,QAAA,MAAMA,QAAAA,CAAG,GAAG,IAAA,CAAK,OAAA,EAAS,EAAE,SAAA,EAAW,IAAA,EAAM,KAAA,EAAO,IAAA,EAAM,CAAA;AAAA,MAC5D;AAAA,IACF,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,IAAI,MAAM,CAAA,yBAAA,EAA4B,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,IACxG;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ,YAAY,GAAA,EAAqB;AAEvC,IAAA,MAAM,OAAA,GAAU,GAAA,CAAI,OAAA,CAAQ,QAAA,EAAU,GAAG,CAAA;AACzC,IAAA,OAAO5B,IAAAA,CAAK,IAAA,CAAK,OAAA,EAAS,CAAA,EAAG,OAAO,CAAA,KAAA,CAAO,CAAA;AAAA,EAC7C;AAAA,EAEA,MAAc,qBAAA,GAAuC;AACnD,IAAA,IAAI;AACF,MAAA,MAAM4B,SAAG,KAAA,CAAM,IAAA,CAAK,SAAS,EAAE,SAAA,EAAW,MAAM,CAAA;AAAA,IAClD,SAAS,KAAA,EAAO;AACd,MAAA,MAAM,IAAI,MAAM,CAAA,oCAAA,EAAuC,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA,CAAE,CAAA;AAAA,IACnH;AAAA,EACF;AAAA,EAEA,MAAc,eAAA,GAAoC;AAChD,IAAA,IAAI;AACF,MAAA,MAAMA,QAAAA,CAAG,MAAA,CAAO,IAAA,CAAK,OAAO,CAAA;AAC5B,MAAA,OAAO,IAAA;AAAA,IACT,SAAS,KAAA,EAAO;AACd,MAAA,OAAO,KAAA;AAAA,IACT;AAAA,EACF;AACF,CAAA;ACtIA,IAAM,YAAA,GAAe,OAAA,CAAQ,GAAA,CAAI,QAAA,KAAa,YAAA;AAE9C,IAAM,kBAAA,GAAqB;AAAA,EACzB,QAAA,EAAU,IAAA;AAAA,EACV,UAAA,EAAY,IAAA;AAAA,EACZ,aAAA,EAAe,cAAA;AAAA,EACf,MAAA,EAAQ;AACV,CAAA;AAEA,IAAM,WAAA,GAAkC;AAAA,EACtC,KAAA,EAAO,OAAA,CAAQ,GAAA,CAAI,SAAA,IAAa;AAClC,CAAA;AAEA,IAAI,CAAC,YAAA,EAAc;AACjB,EAAA,WAAA,CAAY,SAAA,GAAY;AAAA,IACtB,MAAA,EAAQ,aAAA;AAAA,IACR,OAAA,EAAS;AAAA,GACX;AACF;AAEA,IAAM,UAAA,GAAa,KAAK,WAAW,CAAA;AAE5B,IAAM,gBAAN,MAAoB;AAAA,EACjB,MAAA;AAAA,EAER,WAAA,GAAc;AACZ,IAAA,IAAA,CAAK,MAAA,GAAS,UAAA;AAAA,EAChB;AAAA,EAEA,IAAA,CAAK,SAAiB,IAAA,EAA4B;AAChD,IAAA,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,IAAA,EAAM,OAAO,CAAA;AAAA,EAChC;AAAA,EAEA,IAAA,CAAK,SAAiB,IAAA,EAA4B;AAChD,IAAA,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,IAAA,EAAM,OAAO,CAAA;AAAA,EAChC;AAAA,EAEA,KAAA,CAAM,OAAA,EAAiB,KAAA,EAAe,IAAA,EAA4B;AAChE,IAAA,IAAA,CAAK,MAAA,CAAO,MAAM,EAAE,GAAA,EAAK,OAAO,GAAG,IAAA,IAAQ,OAAO,CAAA;AAAA,EACpD;AAAA,EAEA,KAAA,CAAM,SAAiB,IAAA,EAA4B;AACjD,IAAA,IAAA,CAAK,MAAA,CAAO,KAAA,CAAM,IAAA,EAAM,OAAO,CAAA;AAAA,EACjC;AAAA,EAEA,KAAA,CAAM,OAAA,EAAiB,KAAA,EAAe,IAAA,EAA4B;AAChE,IAAA,IAAA,CAAK,MAAA,CAAO,MAAM,EAAE,GAAA,EAAK,OAAO,GAAG,IAAA,IAAQ,OAAO,CAAA;AAAA,EACpD;AAAA,EAEA,WAAA,CAAY,OAAY,OAAA,EAAiB;AACvC,IAAA,MAAM,YAAA,GAAe,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,2BAAA;AAC9D,IAAA,IAAA,CAAK,KAAA,CAAM,SAAS,KAAK,CAAA;AACzB,IAAA,OAAA,CAAQ,KAAA,CAAMhB,QAAM,GAAA,CAAI,CAAA,OAAA,EAAK,OAAO,CAAA,EAAA,EAAK,YAAY,EAAE,CAAC,CAAA;AAAA,EAC1D;AACF,CAAA;;;AH1CO,SAAS,iBAAA,GAA0B;AAExC,EAAA,SAAA,CAAU,SAAS,aAAA,CAAc,cAAA,EAAgB,MAAM,IAAI,eAAe,CAAA;AAG1E,EAAA,SAAA,CAAU,SAAS,aAAA,CAAc,eAAA,EAAiB,MAAM,IAAI,gBAAgB,CAAA;AAG5E,EAAA,SAAA,CAAU,SAAS,aAAA,CAAc,cAAA,EAAgB,MAAM,IAAI,eAAe,CAAA;AAG1E,EAAA,SAAA,CAAU,SAAS,aAAA,CAAc,kBAAA,EAAoB,MAAM,IAAI,mBAAmB,CAAA;AAGlF,EAAA,SAAA,CAAU,QAAA,CAAS,aAAA,CAAc,aAAA,EAAe,MAAM;AACpD,IAAA,MAAMK,OAAAA,GAAS,SAAA,CAAU,OAAA,CAAuB,aAAA,CAAc,cAAc,CAAA;AAC5E,IAAA,MAAM,aAAA,GAAgB,SAAA,CAAU,OAAA,CAAwB,aAAA,CAAc,cAAc,CAAA;AACpF,IAAA,MAAM,iBAAA,GAAoB,SAAA,CAAU,OAAA,CAA4B,aAAA,CAAc,kBAAkB,CAAA;AAChG,IAAA,MAAM,cAAA,GAAiB,SAAA,CAAU,OAAA,CAAyB,aAAA,CAAc,eAAe,CAAA;AAEvF,IAAA,OAAO,IAAI,YAAA,CAAa;AAAA,MACtB,MAAA,EAAAA,OAAAA;AAAA,MACA,aAAA;AAAA,MACA,iBAAA;AAAA,MACA;AAAA,KACD,CAAA;AAAA,EACH,CAAC,CAAA;AAID,EAAA,SAAA,CAAU,MAAA,CAAO;AAAA,IACf,aAAA,CAAc,cAAA;AAAA,IACd,aAAA,CAAc,cAAA;AAAA,IACd,aAAA,CAAc,eAAA;AAAA,IACd,aAAA,CAAc;AAAA,GACf,CAAA;AACH;;;AIXA,SAAS,WAAW,OAAA,EAAiB;AACnC,EAAA,OAAA,CAAQ,GAAA;AAAA,IACNL,OAAAA,CAAM,MAAA;AAAA,MACJ,MAAA,CAAO,SAAS,YAAA,EAAc;AAAA,QAC5B,IAAA,EAAM,OAAA;AAAA,QACN,gBAAA,EAAkB,SAAA;AAAA,QAClB,cAAA,EAAgB;AAAA,OACjB;AAAA;AACH,GACF;AACA,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,gCAAgC,CAAC,CAAA;AACxD,EAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,CAAA,KAAA,EAAQ,OAAO,CAAA;AAAA,CAAkB,CAAC,CAAA;AAC3D;AAGA,eAAe,IAAA,GAAO;AACpB,EAAA,IAAI;AAEF,IAAA,iBAAA,EAAkB;AAGlB,IAAA,IAAI,cAAA,GAAiB,eAAA;AACrB,IAAA,IAAI;AACF,MAAA,MAAM,UAAA,GAAa4C,aAAAA,CAAc,MAAA,CAAA,IAAA,CAAY,GAAG,CAAA;AAChD,MAAA,MAAM,SAAA,GAAYzB,QAAQ,UAAU,CAAA;AACpC,MAAA,MAAM,aAAA,GAAgB;AAAA,QACpB/B,IAAAA,CAAK,WAAW,iBAAiB,CAAA;AAAA,QACjCA,IAAAA,CAAK,WAAW,oBAAoB,CAAA;AAAA,QACpCA,IAAAA,CAAK,WAAW,wBAAwB;AAAA,OAC1C;AAEA,MAAA,KAAA,MAAW2B,SAAQ,aAAA,EAAe;AAChC,QAAA,IAAI7B,UAAAA,CAAW6B,KAAI,CAAA,EAAG;AACpB,UAAA,MAAM,MAAM,IAAA,CAAK,KAAA,CAAMxB,YAAAA,CAAawB,KAAAA,EAAM,OAAO,CAAC,CAAA;AAClD,UAAA,IAAI,GAAA,CAAI,IAAA,KAAS,iBAAA,IAAqB,GAAA,CAAI,OAAA,EAAS;AACjD,YAAA,cAAA,GAAiB,GAAA,CAAI,OAAA;AACrB,YAAA;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF,SAAS,KAAA,EAAO;AAEd,MAAA,KAAK,KAAA;AAAA,IACP;AAGA,IAAA,UAAA,CAAW,cAAc,CAAA;AAGzB,IAAA,MAAM,UAAA,GAAa3B,IAAAA,CAAKC,OAAAA,EAAQ,EAAG,eAAe,aAAa,CAAA;AAC/D,IAAA,MAAM,aAAa,CAACH,UAAAA,CAAW,UAAU,CAAA,IAAK,CAAC,sBAAA,EAAuB;AAGtE,IAAA,MAAM,uBAAA,GAA0B,UAAA,KAC9B,OAAA,CAAQ,IAAA,CAAK,WAAW,CAAA,IACxB,OAAA,CAAQ,IAAA,CAAK,QAAA,CAAS,QAAQ,CAAA,IAC9B,OAAA,CAAQ,IAAA,CAAK,SAAS,IAAI,CAAA,CAAA;AAG5B,IAAA,IAAI,uBAAA,IAA2B,OAAA,CAAQ,IAAA,CAAK,MAAA,KAAW,CAAA,EAAG;AACxD,MAAA,OAAA,CAAQ,GAAA,CAAIc,OAAAA,CAAM,MAAA,CAAO,yEAAkE,CAAC,CAAA;AAC5F,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,wBAAwB,CAAC,CAAA;AAChD,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,cAAS,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,KAAA,CAAM,kBAAkB,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,2BAA2B,CAAC,CAAA;AAChH,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,cAAS,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,KAAA,CAAM,eAAe,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,4BAA4B,CAAC,CAAA;AAC9G,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,cAAS,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,KAAA,CAAM,UAAU,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,2BAA2B,CAAC,CAAA;AACxG,MAAA,OAAA,CAAQ,GAAA,CAAIA,OAAAA,CAAM,IAAA,CAAK,cAAS,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,KAAA,CAAM,4BAA4B,CAAA,EAAGA,OAAAA,CAAM,IAAA,CAAK,0BAA0B,CAAC,CAAA;AAAA,IAC3H;AAGA,IAAA,KAAK,gBAAgB,cAAc,CAAA;AAEnC,IAAA,OAAA,CACG,KAAK,YAAY,CAAA,CACjB,YAAY,kEAAkE,CAAA,CAC9E,QAAQ,cAAc,CAAA,CACtB,OAAO,mBAAA,EAAqB,yBAAyB,EACrD,MAAA,CAAO,SAAA,EAAW,qBAAqB,CAAA,CACvC,MAAA,CAAO,aAAa,2CAA2C,CAAA;AAGlE,IAAA,OAAA,CACG,OAAA,CAAQ,SAAS,CAAA,CACjB,WAAA,CAAY,+CAA+C,CAAA,CAC3D,MAAA,CAAO,kBAAkB,sBAAsB,CAAA,CAC/C,OAAO,qBAAA,EAAuB,2CAA2C,EACzE,MAAA,CAAO,eAAA,EAAiB,oCAAoC,CAAA,CAC5D,MAAA,CAAO,OAAO,OAAA,KAA+E;AAC5F,MAAA,MAAM,eAAA,CAAgB;AAAA,QACpB,SAAS,OAAA,CAAQ,OAAA;AAAA,QACjB,YAAY,OAAA,CAAQ,UAAA;AAAA,QACpB,SAAA,EAAW,OAAA,CAAQ,WAAA,GAAc,CAAC,SAAS,CAAA,GAAI,KAAA;AAAA,OAChD,CAAA;AAAA,IACH,CAAC,CAAA;AAEH,IAAA,OAAA,CACG,OAAA,CAAQ,cAAc,CAAA,CACtB,WAAA,CAAY,mDAAmD,CAAA,CAC/D,MAAA,CAAO,sBAAA,EAAwB,qBAAqB,CAAA,CACpD,MAAA,CAAO,OAAO,OAA2B,OAAA,KAAiC;AACzE,MAAA,IAAI,QAAQ,MAAA,EAAQ;AAClB,QAAA,UAAA,CAAW,QAAQ,MAAM,CAAA;AAAA,MAC3B,WAAW,KAAA,EAAO;AAChB,QAAA,aAAA,CAAc,KAAK,CAAA;AAAA,MACrB,CAAA,MAAO;AACL,QAAA,mBAAA,EAAoB;AAAA,MACtB;AAAA,IACF,CAAC,CAAA;AAEH,IAAA,OAAA,CACG,QAAQ,SAAS,CAAA,CACjB,YAAY,8CAA8C,CAAA,CAC1D,OAAO,MAAM;AACZ,MAAA,WAAA,EAAY;AAAA,IACd,CAAC,CAAA;AAEH,IAAA,OAAA,CACG,QAAQ,IAAI,CAAA,CACZ,KAAA,CAAM,cAAc,EACpB,WAAA,CAAY,iCAAiC,CAAA,CAC7C,MAAA,CAAO,wBAAwB,gCAAA,EAAkC,IAAI,CAAA,CACrE,MAAA,CAAO,CAAC,OAAA,KAAgC;AACvC,MAAA,sBAAA,CAAuB,QAAA,CAAS,OAAA,CAAQ,KAAA,IAAS,IAAI,CAAC,CAAA;AAAA,IACxD,CAAC,CAAA;AAIH,IAAA,OAAA,CAAQ,WAAW,iBAAiB,CAAA;AACpC,IAAA,OAAA,CAAQ,WAAW,aAAa,CAAA;AAChC,IAAA,OAAA,CAAQ,WAAW,aAAa,CAAA;AAChC,IAAA,kBAAA,CAAmB,OAAO,CAAA;AAC1B,IAAA,OAAA,CAAQ,WAAW,cAAc,CAAA;AAGjC,IAAA,OAAA,CAAQ,WAAW,YAAY,CAAA;AAC/B,IAAA,OAAA,CAAQ,WAAW,YAAY,CAAA;AAC/B,IAAA,OAAA,CAAQ,WAAW,iBAAiB,CAAA;AACpC,IAAA,OAAA,CAAQ,WAAW,iBAAiB,CAAA;AACpC,IAAA,OAAA,CAAQ,WAAW,cAAc,CAAA;AACjC,IAAA,OAAA,CAAQ,WAAW,cAAc,CAAA;AACjC,IAAA,OAAA,CAAQ,WAAW,UAAU,CAAA;AAC7B,IAAA,OAAA,CAAQ,WAAW,aAAa,CAAA;AAChC,IAAA,OAAA,CAAQ,WAAWkF,gBAAe,CAAA;AAClC,IAAA,OAAA,CAAQ,WAAW,oBAAoB,CAAA;AAGvC,IAAA,OAAA,CAAQ,WAAW,gBAAgB,CAAA;AAGnC,IAAA,OAAA,CAAQ,WAAW,iBAAiB,CAAA;AAGpC,IAAA,OAAA,CAAQ,WAAW,UAAU,CAAA;AAC7B,IAAA,OAAA,CAAQ,WAAW,aAAa,CAAA;AAChC,IAAA,OAAA,CAAQ,WAAW,kBAAkB,CAAA;AAGrC,IAAA,MAAM,YAAA,GAAe,OAAA,CAAQ,IAAA,CAAK,KAAA,CAAM,CAAC,CAAA;AACzC,IAAA,IAAI,aAAA,GAAgB,CAAC,GAAG,YAAY,CAAA;AAGpC,IAAA,IAAI,YAAA,CAAa,SAAS,CAAA,EAAG;AAC3B,MAAA,MAAM,cAAA,GAAiB,YAAA,CAAa,IAAA,CAAK,GAAG,CAAA;AAC5C,MAAA,MAAM,eAAA,GAAkB,aAAa,cAAc,CAAA;AAEnD,MAAA,IAAI,eAAA,EAAiB;AACnB,QAAA,aAAA,GAAgB,eAAA,CAAgB,MAAM,GAAG,CAAA;AACzC,QAAA,OAAA,CAAQ,GAAA,CAAIlF,QAAM,IAAA,CAAK,CAAA,iBAAA,EAAe,cAAc,CAAA,MAAA,EAAS,eAAe,GAAG,CAAC,CAAA;AAAA,MAClF;AAAA,IACF;AAGA,IAAA,OAAA,CAAQ,IAAA,GAAO,CAAC,OAAA,CAAQ,IAAA,CAAK,CAAC,CAAA,EAAG,OAAA,CAAQ,IAAA,CAAK,CAAC,CAAA,EAAG,GAAG,aAAa,CAAA;AAGlE,IAAA,IAAI,oBAAA,CAAqB,OAAA,CAAQ,IAAI,CAAA,EAAG;AAEtC,MAAA,MAAM,IAAA,GAAO,IAAI,eAAA,CAAgB,OAAO,CAAA;AACxC,MAAA,MAAM,KAAK,YAAA,EAAa;AACxB,MAAA;AAAA,IACF;AAGA,IAAAQ,KAAAA,CAAMR,OAAAA,CAAM,OAAA,CAAQ,6BAA6B,CAAC,CAAA;AAGlD,IAAA,IAAI,CAAC,cAAc,MAAA,EAAQ;AACzB,MAAA,kBAAA,EAAmB;AACnB,MAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,IAChB;AAEA,IAAA,MAAM,OAAA,CAAQ,UAAA,CAAW,OAAA,CAAQ,IAAI,CAAA;AAAA,EAEvC,SAAS,KAAA,EAAO;AACd,IAAA,OAAA,CAAQ,KAAA,CAAMA,QAAM,GAAA,CAAI,eAAU,GAAG,KAAA,YAAiB,KAAA,GAAQ,KAAA,CAAM,OAAA,GAAU,eAAe,CAAA;AAC7F,IAAAU,KAAAA,CAAMV,OAAAA,CAAM,GAAA,CAAI,kBAAkB,CAAC,CAAA;AACnC,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AACF;AAGA,OAAA,CAAQ,EAAA,CAAG,oBAAA,EAAsB,CAAC,MAAA,EAAQ,OAAA,KAAY;AACpD,EAAA,OAAA,CAAQ,KAAA,CAAM,yBAAA,EAA2B,OAAA,EAAS,SAAA,EAAW,MAAM,CAAA;AACnE,EAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAChB,CAAC,CAAA;AAGD,IAAA,EAAK,CAAE,KAAA,CAAM,CAAC,KAAA,KAAU;AACtB,EAAA,OAAA,CAAQ,KAAA,CAAMA,OAAAA,CAAM,GAAA,CAAI,cAAc,GAAG,KAAK,CAAA;AAC9C,EAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAChB,CAAC,CAAA","file":"index.js","sourcesContent":["/**\n * Program ID Configuration\n * \n * Single source of truth for GhostSpeak program IDs across all networks.\n * These IDs match the program ID declared in programs/src/lib.rs\n */\n\nimport { address, type Address } from '@solana/addresses';\n\nexport type NetworkEnvironment = 'mainnet' | 'devnet' | 'testnet' | 'localnet';\n\n/**\n * Program IDs for each network\n * \n * Current deployment:\n * - Devnet: 4wHjA2a5YC4twZb4NQpwZpixo5FgxxzuJUrCG7UnF9pB (deployed Dec 30, 2025)\n * - Mainnet: TBD (not yet deployed)\n */\nexport const PROGRAM_IDS = {\n  devnet: address('4wHjA2a5YC4twZb4NQpwZpixo5FgxxzuJUrCG7UnF9pB'),\n  localnet: address('4wHjA2a5YC4twZb4NQpwZpixo5FgxxzuJUrCG7UnF9pB'),\n  testnet: address('4wHjA2a5YC4twZb4NQpwZpixo5FgxxzuJUrCG7UnF9pB'), // Same as devnet for now\n  mainnet: address('4wHjA2a5YC4twZb4NQpwZpixo5FgxxzuJUrCG7UnF9pB'), // TODO: Update after mainnet deployment\n} as const;\n\n/**\n * Get program ID for the specified network\n * \n * @param network - Network environment (defaults to 'devnet')\n * @returns Program ID as Address\n */\nexport function getCurrentProgramId(network: NetworkEnvironment = 'devnet'): Address {\n  return PROGRAM_IDS[network];\n}\n\n/**\n * Get network configuration including RPC endpoint and program ID\n * \n * @param network - Network environment (defaults to 'devnet')\n * @returns Network configuration object\n */\nexport function getNetworkConfig(network: NetworkEnvironment = 'devnet') {\n  const endpoints = {\n    mainnet: 'https://api.mainnet-beta.solana.com',\n    devnet: 'https://api.devnet.solana.com',\n    testnet: 'https://api.testnet.solana.com',\n    localnet: 'http://localhost:8899',\n  } as const;\n\n  return {\n    endpoint: endpoints[network],\n    programId: PROGRAM_IDS[network],\n    network,\n  };\n}","import { config } from 'dotenv';\nimport { resolve, dirname } from 'path';\nimport { existsSync } from 'fs';\nimport { fileURLToPath } from 'url';\n// July 2025 @solana/kit patterns\nimport { address, type Address } from '@solana/kit';\n// Import canonical program IDs\nimport { PROGRAM_IDS } from '../../../../config/program-ids.js';\n\n// Load environment variables from multiple possible locations\nfunction loadEnvFiles() {\n  const envLocations = [\n    // 1. Current working directory\n    resolve(process.cwd(), '.env'),\n    // 2. Project root (two levels up from CLI package)\n    resolve(process.cwd(), '../../.env'),\n    // 3. CLI package directory (same as this file)\n    (() => {\n      try {\n        const __filename = fileURLToPath(import.meta.url);\n        const __dirname = dirname(__filename);\n        return resolve(__dirname, '../../.env');\n      } catch (error) {\n        return '';\n      }\n    })(),\n    // 4. Parent of CLI package directory\n    (() => {\n      try {\n        const __filename = fileURLToPath(import.meta.url);\n        const __dirname = dirname(__filename);\n        return resolve(__dirname, '../../../.env');\n      } catch (error) {\n        return '';\n      }\n    })()\n  ].filter(Boolean);\n\n  for (const envPath of envLocations) {\n    if (existsSync(envPath)) {\n      config({ path: envPath });\n      // Env loaded silently\n      break;\n    }\n  }\n}\n\nloadEnvFiles();\n\nexport interface EnvironmentConfig {\n  network: 'mainnet-beta' | 'devnet' | 'testnet' | 'localnet';\n  rpcUrl: string;\n  programId: Address | null;\n  walletPath: string;\n  usdcMint: Address;\n  debug: boolean;\n  logLevel: 'debug' | 'info' | 'warn' | 'error';\n  encryptionSalt?: string;\n  keyDerivationIterations: number;\n}\n\n/**\n * Get the current network from environment\n */\nfunction getCurrentNetwork(): 'mainnet-beta' | 'devnet' | 'testnet' | 'localnet' {\n  const network = process.env.GHOSTSPEAK_NETWORK ?? 'devnet';\n  if (!['mainnet-beta', 'devnet', 'testnet', 'localnet'].includes(network)) {\n    throw new Error(`Invalid network: ${network}`);\n  }\n  return network as 'mainnet-beta' | 'devnet' | 'testnet' | 'localnet';\n}\n\n/**\n * Get program ID for the current network using July 2025 patterns\n * Uses canonical program IDs from config/program-ids.ts as source of truth\n * Environment variables can override for testing, but mismatches trigger warnings\n */\nfunction getProgramId(): Address | null {\n  const network = getCurrentNetwork();\n\n  // Get canonical program ID from config\n  const networkKey = network === 'mainnet-beta' ? 'mainnet' : network;\n  const canonicalId = PROGRAM_IDS[networkKey as keyof typeof PROGRAM_IDS];\n\n  // Check for environment variable override\n  let envProgramIdStr: string | undefined;\n  switch (network) {\n    case 'mainnet-beta':\n      envProgramIdStr = process.env.GHOSTSPEAK_PROGRAM_ID_MAINNET;\n      break;\n    case 'devnet':\n      envProgramIdStr = process.env.GHOSTSPEAK_PROGRAM_ID_DEVNET;\n      break;\n    case 'testnet':\n      envProgramIdStr = process.env.GHOSTSPEAK_PROGRAM_ID_TESTNET;\n      break;\n    case 'localnet':\n      envProgramIdStr = process.env.GHOSTSPEAK_PROGRAM_ID_LOCALNET;\n      break;\n  }\n\n  // If environment variable is set, validate it matches canonical\n  if (envProgramIdStr) {\n    try {\n      const envProgramId = address(envProgramIdStr);\n      if (envProgramId !== canonicalId) {\n        console.warn('  WARNING: Program ID mismatch detected!');\n        console.warn(`   Environment: ${envProgramId}`);\n        console.warn(`   Canonical:   ${canonicalId}`);\n        console.warn(`   Using canonical program ID from config/program-ids.ts`);\n        console.warn(`   To fix: Update GHOSTSPEAK_PROGRAM_ID_${network.toUpperCase().replace('-', '_')} in .env`);\n      }\n      // Always use canonical ID to prevent mismatches\n      return canonicalId;\n    } catch (error) {\n      console.warn(`Invalid program ID in environment for ${network}: ${envProgramIdStr}`);\n      console.warn(`Using canonical program ID: ${canonicalId}`);\n      return canonicalId;\n    }\n  }\n\n  // Return canonical ID\n  return canonicalId;\n}\n\n/**\n * Get USDC mint for the current network using July 2025 patterns\n */\nfunction getUsdcMint(): Address {\n  const network = getCurrentNetwork();\n  let mintStr: string | undefined;\n  \n  switch (network) {\n    case 'mainnet-beta':\n      mintStr = process.env.GHOSTSPEAK_USDC_MINT_MAINNET ?? 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v';\n      break;\n    case 'devnet':\n      mintStr = process.env.GHOSTSPEAK_USDC_MINT_DEVNET ?? '4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU';\n      break;\n    case 'testnet':\n    case 'localnet':\n      // For testnet/localnet, we'll use a mock USDC or create our own\n      mintStr = process.env.GHOSTSPEAK_USDC_MINT_TESTNET ?? '11111111111111111111111111111111';\n      break;\n  }\n  \n  return address(mintStr);\n}\n\n/**\n * Load environment configuration\n */\nexport function loadEnvironmentConfig(): EnvironmentConfig {\n  const network = getCurrentNetwork();\n  \n  return {\n    network,\n    rpcUrl: process.env.GHOSTSPEAK_RPC_URL ?? getDefaultRpcUrl(network),\n    programId: getProgramId(),\n    walletPath: process.env.GHOSTSPEAK_WALLET_PATH ?? '~/.config/solana/ghostspeak.json',\n    usdcMint: getUsdcMint(),\n    debug: process.env.GHOSTSPEAK_DEBUG === 'true',\n    logLevel: (process.env.GHOSTSPEAK_LOG_LEVEL as 'debug' | 'info' | 'warn' | 'error' | undefined) ?? 'info',\n    encryptionSalt: process.env.GHOSTSPEAK_ENCRYPTION_SALT,\n    keyDerivationIterations: parseInt(process.env.GHOSTSPEAK_KEY_DERIVATION_ITERATIONS ?? '100000', 10),\n  };\n}\n\n/**\n * Get default RPC URL for a network\n */\nfunction getDefaultRpcUrl(network: string): string {\n  switch (network) {\n    case 'mainnet-beta':\n      return 'https://api.mainnet-beta.solana.com';\n    case 'devnet':\n      return 'https://api.devnet.solana.com';\n    case 'testnet':\n      return 'https://api.testnet.solana.com';\n    case 'localnet':\n      return 'http://localhost:8899';\n    default:\n      return 'https://api.devnet.solana.com';\n  }\n}\n\n/**\n * Validate environment configuration\n */\nexport function validateEnvironmentConfig(config: EnvironmentConfig): void {\n  if (!config.rpcUrl) {\n    throw new Error('RPC URL is required');\n  }\n  \n  if (config.network === 'mainnet-beta' && !config.encryptionSalt) {\n    console.warn('WARNING: Running on mainnet without encryption salt configured');\n  }\n}\n\n// Lazy-loaded configuration to prevent startup crashes\nlet _envConfig: EnvironmentConfig | null = null;\n\nexport function getEnvConfig(): EnvironmentConfig {\n  if (!_envConfig) {\n    _envConfig = loadEnvironmentConfig();\n  }\n  return _envConfig;\n}\n\n// For backwards compatibility - lazy getter\nexport const envConfig: EnvironmentConfig = new Proxy({} as EnvironmentConfig, {\n  get(_target, prop) {\n    return getEnvConfig()[prop as keyof EnvironmentConfig];\n  }\n});","import { homedir } from 'os'\nimport { join } from 'path'\nimport { existsSync, mkdirSync, readFileSync, writeFileSync, chmodSync } from 'fs'\nimport { envConfig } from './env-config.js'\n// Use the standard cluster type with localnet for development\ntype SolanaCluster = 'devnet' | 'testnet' | 'mainnet-beta' | 'localnet'\n\nexport interface GhostSpeakConfig {\n  network: SolanaCluster\n  walletPath: string\n  rpcUrl?: string\n  programId: string\n}\n\nconst CONFIG_DIR = join(homedir(), '.ghostspeak')\nconst CONFIG_FILE = join(CONFIG_DIR, 'config.json')\n\nconst DEFAULT_CONFIG: GhostSpeakConfig = {\n  network: envConfig.network,\n  walletPath: envConfig.walletPath.startsWith('~') \n    ? join(homedir(), envConfig.walletPath.slice(2))\n    : envConfig.walletPath,\n  programId: envConfig.programId.toString(),\n  rpcUrl: envConfig.rpcUrl\n}\n\nexport function ensureConfigDir(): void {\n  if (!existsSync(CONFIG_DIR)) {\n    mkdirSync(CONFIG_DIR, { recursive: true, mode: 0o700 })\n  }\n}\n\nexport function loadConfig(): GhostSpeakConfig {\n  ensureConfigDir()\n  \n  if (!existsSync(CONFIG_FILE)) {\n    return DEFAULT_CONFIG\n  }\n  \n  try {\n    const configData = readFileSync(CONFIG_FILE, 'utf-8')\n    const config = JSON.parse(configData) as Partial<GhostSpeakConfig>\n    return { ...DEFAULT_CONFIG, ...config }\n  } catch (error) {\n    console.error('Error loading config:', error)\n    return DEFAULT_CONFIG\n  }\n}\n\nexport function saveConfig(config: Partial<GhostSpeakConfig>): void {\n  ensureConfigDir()\n  \n  const currentConfig = loadConfig()\n  const newConfig = { ...currentConfig, ...config }\n  \n  writeFileSync(CONFIG_FILE, JSON.stringify(newConfig, null, 2))\n  // Set file permissions to owner-only\n  chmodSync(CONFIG_FILE, 0o600)\n}\n\nexport function resetConfig(): void {\n  ensureConfigDir()\n  \n  if (existsSync(CONFIG_FILE)) {\n    writeFileSync(CONFIG_FILE, JSON.stringify(DEFAULT_CONFIG, null, 2))\n    // Set file permissions to owner-only\n    chmodSync(CONFIG_FILE, 0o600)\n  }\n}\n\nexport function getConfigPath(): string {\n  return CONFIG_FILE\n}","/**\n * Centralized Solana Client Utilities using Gill\n *\n * Provides centralized Solana RPC client management with Gill for:\n * - Singleton pattern for efficiency\n * - Custom RPC URL support\n * - Network-specific clients\n */\n\nimport { createSolanaClient } from 'gill'\nimport type { SolanaClient } from 'gill'\nimport { loadConfig } from '../utils/config.js'\n\n// Singleton client for CLI usage\nlet _client: SolanaClient<any> | null = null\n\n// Cached config for client creation\nlet _cachedRpcUrl: string | null = null\n\n/**\n * Get the default RPC URL based on network configuration\n */\nfunction getDefaultRpcUrl(): string {\n  const config = loadConfig()\n\n  // If custom RPC URL is configured, use it\n  if (config.rpcUrl) {\n    return config.rpcUrl\n  }\n\n  // Otherwise use default URLs based on network\n  switch (config.network) {\n    case 'mainnet-beta':\n      return 'https://api.mainnet-beta.solana.com'\n    case 'testnet':\n      return 'https://api.testnet.solana.com'\n    case 'localnet':\n      return 'http://localhost:8899'\n    case 'devnet':\n    default:\n      return 'https://api.devnet.solana.com'\n  }\n}\n\n/**\n * Get or create the singleton Solana client\n * Uses the configured RPC URL from config\n */\nexport function getSolanaClient(): SolanaClient<any> {\n  const rpcUrl = getDefaultRpcUrl()\n\n  // Reset client if RPC URL has changed\n  if (_cachedRpcUrl !== rpcUrl) {\n    _client = null\n    _cachedRpcUrl = rpcUrl\n  }\n\n  if (!_client) {\n    // Gill requires an object with urlOrMoniker\n    _client = createSolanaClient({ urlOrMoniker: rpcUrl })\n  }\n\n  return _client\n}\n\n/**\n * Reset the singleton client (for testing or forced refresh)\n */\nexport function resetSolanaClient(): void {\n  _client = null\n  _cachedRpcUrl = null\n}\n\n/**\n * Create a custom Solana client with a specific RPC URL\n * Use this when you need a client with different settings than the global config\n *\n * @param rpcUrl - The RPC URL to connect to\n */\nexport function createCustomClient(rpcUrl: string): SolanaClient<any> {\n  return createSolanaClient({ urlOrMoniker: rpcUrl })\n}\n\n/**\n * Create a network-specific Solana client\n * Useful when you need to interact with a specific network regardless of config\n *\n * @param network - The network to connect to\n */\nexport function createNetworkClient(network: 'devnet' | 'testnet' | 'mainnet-beta' | 'localnet'): SolanaClient<any> {\n  // Gill supports monikers for standard networks\n  const moniker = network === 'localnet' ? 'localnet' : network\n  return createSolanaClient({ urlOrMoniker: moniker })\n}\n\n// Re-export commonly used Gill functions for convenience\nexport {\n  // Client creation\n  createSolanaClient,\n\n  // Type exports\n  type SolanaClient,\n} from 'gill'\n","/**\n * Wallet Service - Comprehensive wallet management for GhostSpeak CLI\n */\n\nimport {\n  createKeyPairSignerFromBytes,\n  address,\n  type KeyPairSigner\n} from '@solana/kit'\nimport { createCustomClient } from '../core/solana-client.js'\nimport type { Address } from '@solana/addresses'\nimport { existsSync, readFileSync, writeFileSync, mkdirSync, unlinkSync, renameSync } from 'fs'\nimport { join } from 'path'\nimport { homedir } from 'os'\nimport * as bip39 from 'bip39'\nimport { derivePath } from 'ed25519-hd-key'\nimport nacl from 'tweetnacl'\nimport type { IWalletService, WalletInfo } from '../types/services.js'\n\nexport interface WalletMetadata {\n  name: string\n  address: string\n  network: 'devnet' | 'testnet' | 'mainnet-beta'\n  createdAt: number\n  lastUsed: number\n  isActive: boolean\n}\n\nexport interface WalletData {\n  metadata: WalletMetadata\n  keypair: number[] // Store as array for JSON serialization\n}\n\nexport interface WalletsRegistry {\n  activeWallet: string | null\n  wallets: Record<string, WalletMetadata>\n}\n\nexport class WalletService implements IWalletService {\n  private walletsDir: string\n  private registryPath: string\n\n  constructor() {\n    const ghostspeakDir = join(homedir(), '.ghostspeak')\n    this.walletsDir = join(ghostspeakDir, 'wallets')\n    this.registryPath = join(this.walletsDir, 'registry.json')\n\n    // Ensure directories exist\n    if (!existsSync(ghostspeakDir)) {\n      mkdirSync(ghostspeakDir, { recursive: true })\n    }\n    if (!existsSync(this.walletsDir)) {\n      mkdirSync(this.walletsDir, { recursive: true })\n    }\n  }\n\n  /**\n   * Get or create the wallets registry\n   */\n  private getRegistry(): WalletsRegistry {\n    if (existsSync(this.registryPath)) {\n      try {\n        return JSON.parse(readFileSync(this.registryPath, 'utf-8')) as WalletsRegistry\n      } catch (error) {\n        // If corrupted, start fresh\n      }\n    }\n\n    return {\n      activeWallet: null,\n      wallets: {}\n    }\n  }\n\n  /**\n   * Save the registry\n   */\n  private saveRegistry(registry: WalletsRegistry): void {\n    writeFileSync(this.registryPath, JSON.stringify(registry, null, 2))\n  }\n\n  /**\n   * Generate a new mnemonic seed phrase\n   */\n  generateMnemonic(): string {\n    return bip39.generateMnemonic(256) // 24 words for max security\n  }\n\n  /**\n   * Create keypair from mnemonic with proper BIP44 derivation\n   * Returns both the signer and the raw 64-byte secret key\n   */\n  async keypairFromMnemonic(mnemonic: string, index = 0): Promise<{ signer: KeyPairSigner; secretKey: Uint8Array }> {\n    if (!bip39.validateMnemonic(mnemonic)) {\n      throw new Error('Invalid mnemonic phrase')\n    }\n\n    try {\n      // Generate seed from mnemonic\n      const seed = await bip39.mnemonicToSeed(mnemonic)\n\n      // Use Solana's standard derivation path: m/44'/501'/index'/0'\n      const derivationPath = `m/44'/501'/${index}'/0'`\n      const { key } = derivePath(derivationPath, seed.toString('hex'))\n\n      // Derive full 64-byte keypair from the 32-byte seed\n      // This ensures we have the correct public key matching the private key\n      const keyPair = nacl.sign.keyPair.fromSeed(new Uint8Array(key))\n      const secretKey = keyPair.secretKey\n\n      // Create signer from the full 64-byte secret key\n      const signer = await createKeyPairSignerFromBytes(secretKey)\n\n      return { signer, secretKey }\n    } catch (error) {\n      throw new Error(`Failed to derive keypair from mnemonic: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  /**\n   * Create a new wallet\n   */\n  async createWallet(\n    name: string,\n    network: 'devnet' | 'testnet' | 'mainnet-beta' = 'devnet',\n    mnemonic?: string\n  ): Promise<{ wallet: WalletData; mnemonic: string }> {\n    const registry = this.getRegistry()\n\n    // Check if name already exists\n    if (name in registry.wallets) {\n      throw new Error(`Wallet with name \"${name}\" already exists`)\n    }\n\n    // Generate or use provided mnemonic\n    const seedPhrase = mnemonic ?? this.generateMnemonic()\n    const { signer, secretKey } = await this.keypairFromMnemonic(seedPhrase)\n\n    const walletData: WalletData = {\n      metadata: {\n        name,\n        address: signer.address.toString(),\n        network,\n        createdAt: Date.now(),\n        lastUsed: Date.now(),\n        isActive: Object.keys(registry.wallets).length === 0 // First wallet is active by default\n      },\n      keypair: Array.from(secretKey)\n    }\n\n    // Save wallet file\n    const walletPath = join(this.walletsDir, `${name}.json`)\n    writeFileSync(walletPath, JSON.stringify(walletData, null, 2))\n\n    // Update registry\n    registry.wallets[name] = walletData.metadata\n    if (walletData.metadata.isActive) {\n      registry.activeWallet = name\n    }\n    this.saveRegistry(registry)\n\n    return { wallet: walletData, mnemonic: seedPhrase }\n  }\n\n  /**\n   * Import wallet from private key or mnemonic\n   */\n  async importWallet(\n    name: string,\n    secretKeyOrMnemonic: string | Uint8Array,\n    network: 'devnet' | 'testnet' | 'mainnet-beta' = 'devnet'\n  ): Promise<WalletData> {\n    const registry = this.getRegistry()\n\n    if (name in registry.wallets) {\n      throw new Error(`Wallet with name \"${name}\" already exists`)\n    }\n\n    let signer: KeyPairSigner\n    let privateKeyBytes: Uint8Array\n\n    if (typeof secretKeyOrMnemonic === 'string') {\n      // Check if it's a mnemonic\n      if (bip39.validateMnemonic(secretKeyOrMnemonic)) {\n        const result = await this.keypairFromMnemonic(secretKeyOrMnemonic)\n        signer = result.signer\n        privateKeyBytes = result.secretKey\n      } else {\n        // Try to parse as JSON array or base58\n        try {\n          const bytes = JSON.parse(secretKeyOrMnemonic) as number[]\n          privateKeyBytes = new Uint8Array(bytes)\n          \n          // If 32 bytes, convert to 64 bytes\n          if (privateKeyBytes.length === 32) {\n            const keyPair = nacl.sign.keyPair.fromSeed(privateKeyBytes)\n            privateKeyBytes = keyPair.secretKey\n          }\n          \n          signer = await createKeyPairSignerFromBytes(privateKeyBytes)\n        } catch (error) {\n          throw new Error('Invalid private key or mnemonic format')\n        }\n      }\n    } else {\n      // Use the raw bytes directly - this is the most reliable approach\n      privateKeyBytes = secretKeyOrMnemonic\n      \n      // If 32 bytes, convert to 64 bytes\n      if (privateKeyBytes.length === 32) {\n        const keyPair = nacl.sign.keyPair.fromSeed(privateKeyBytes)\n        privateKeyBytes = keyPair.secretKey\n      }\n      \n      signer = await createKeyPairSignerFromBytes(privateKeyBytes)\n    }\n\n    const walletData: WalletData = {\n      metadata: {\n        name,\n        address: signer.address.toString(),\n        network,\n        createdAt: Date.now(),\n        lastUsed: Date.now(),\n        isActive: Object.keys(registry.wallets).length === 0\n      },\n      keypair: Array.from(privateKeyBytes)\n    }\n\n    // Save wallet\n    const walletPath = join(this.walletsDir, `${name}.json`)\n    writeFileSync(walletPath, JSON.stringify(walletData, null, 2))\n\n    // Update registry\n    registry.wallets[name] = walletData.metadata\n    if (walletData.metadata.isActive) {\n      registry.activeWallet = name\n    }\n    this.saveRegistry(registry)\n\n    return walletData\n  }\n\n  /**\n   * List all wallets\n   */\n  listWallets(): WalletMetadata[] {\n    const registry = this.getRegistry()\n    return Object.values(registry.wallets).sort((a, b) => b.lastUsed - a.lastUsed)\n  }\n\n  /**\n   * Get active wallet\n   */\n  getActiveWallet(): WalletData | null {\n    const registry = this.getRegistry()\n    if (!registry.activeWallet) {\n      return null\n    }\n\n    return this.getWallet(registry.activeWallet)\n  }\n\n  /**\n   * Get wallet by name\n   */\n  getWallet(name: string): WalletData | null {\n    const registry = this.getRegistry()\n    if (!(name in registry.wallets)) {\n      return null\n    }\n\n    const walletPath = join(this.walletsDir, `${name}.json`)\n    if (!existsSync(walletPath)) {\n      return null\n    }\n\n    try {\n      const walletData = JSON.parse(readFileSync(walletPath, 'utf-8')) as WalletData\n      // Update last used\n      walletData.metadata.lastUsed = Date.now()\n      registry.wallets[name].lastUsed = Date.now()\n      this.saveRegistry(registry)\n\n      return walletData\n    } catch (error) {\n      return null\n    }\n  }\n\n  /**\n   * Set active wallet\n   */\n  setActiveWallet(name: string): void {\n    const registry = this.getRegistry()\n    if (!(name in registry.wallets)) {\n      throw new Error(`Wallet \"${name}\" not found`)\n    }\n\n    // Update active status\n    Object.keys(registry.wallets).forEach(walletName => {\n      registry.wallets[walletName].isActive = walletName === name\n    })\n\n    registry.activeWallet = name\n    this.saveRegistry(registry)\n  }\n\n  /**\n   * Rename wallet\n   */\n  renameWallet(oldName: string, newName: string): void {\n    const registry = this.getRegistry()\n\n    if (!(oldName in registry.wallets)) {\n      throw new Error(`Wallet \"${oldName}\" not found`)\n    }\n\n    if (newName in registry.wallets) {\n      throw new Error(`Wallet \"${newName}\" already exists`)\n    }\n\n    // Rename file\n    const oldPath = join(this.walletsDir, `${oldName}.json`)\n    const newPath = join(this.walletsDir, `${newName}.json`)\n\n    if (existsSync(oldPath)) {\n      const walletData = JSON.parse(readFileSync(oldPath, 'utf-8')) as WalletData\n      walletData.metadata.name = newName\n      writeFileSync(newPath, JSON.stringify(walletData, null, 2))\n\n      // Remove old file\n      unlinkSync(oldPath)\n    }\n\n    // Update registry\n    const metadata = registry.wallets[oldName]\n    metadata.name = newName\n    registry.wallets[newName] = metadata\n    delete registry.wallets[oldName]\n\n    if (registry.activeWallet === oldName) {\n      registry.activeWallet = newName\n    }\n\n    this.saveRegistry(registry)\n  }\n\n  /**\n   * Delete wallet\n   */\n  deleteWallet(name: string): void {\n    const registry = this.getRegistry()\n\n    if (!(name in registry.wallets)) {\n      throw new Error(`Wallet \"${name}\" not found`)\n    }\n\n    // Don't delete active wallet if there are others\n    if (registry.activeWallet === name && Object.keys(registry.wallets).length > 1) {\n      throw new Error('Cannot delete active wallet. Switch to another wallet first.')\n    }\n\n    // Delete file\n    const walletPath = join(this.walletsDir, `${name}.json`)\n    if (existsSync(walletPath)) {\n      unlinkSync(walletPath)\n    }\n\n    // Update registry\n    delete registry.wallets[name]\n\n    if (registry.activeWallet === name) {\n      // Set another wallet as active if available\n      const remainingWallets = Object.keys(registry.wallets)\n      registry.activeWallet = remainingWallets.length > 0 ? remainingWallets[0] : null\n      if (registry.activeWallet) {\n        registry.wallets[registry.activeWallet].isActive = true\n      }\n    }\n\n    this.saveRegistry(registry)\n  }\n\n  /**\n   * Get wallet balance\n   */\n  async getBalance(walletAddress: string, network: string): Promise<number> {\n    try {\n      const rpcUrl = network === 'devnet'\n        ? 'https://api.devnet.solana.com'\n        : network === 'testnet'\n          ? 'https://api.testnet.solana.com'\n          : 'https://api.mainnet-beta.solana.com'\n\n      // Use Gill's createCustomClient instead of createSolanaRpc\n      const client = createCustomClient(rpcUrl)\n      const { value: balance } = await client.rpc.getBalance(address(walletAddress)).send()\n      return Number(balance) / 1_000_000_000 // Convert lamports to SOL\n    } catch (error) {\n      return 0\n    }\n  }\n\n  /**\n   * Get signer for a wallet\n   */\n  async getSigner(name: string): Promise<KeyPairSigner | null> {\n    const wallet = this.getWallet(name)\n    if (!wallet) {\n      return null\n    }\n\n    return createKeyPairSignerFromBytes(new Uint8Array(wallet.keypair))\n  }\n\n  /**\n   * Get active signer\n   */\n  async getActiveSigner(): Promise<KeyPairSigner | null> {\n    const wallet = this.getActiveWallet()\n    if (!wallet) {\n      return null\n    }\n\n    return createKeyPairSignerFromBytes(new Uint8Array(wallet.keypair))\n  }\n\n  /**\n   * Interface-compatible method: Create wallet with return type for IWalletService\n   */\n  async createWalletInterface(name: string, network: string): Promise<{ wallet: WalletInfo; mnemonic: string }> {\n    const mnemonic = bip39.generateMnemonic()\n    const { wallet: walletData } = await this.createWallet(name, network as 'devnet' | 'testnet' | 'mainnet-beta', mnemonic)\n\n    const walletInfo: WalletInfo = {\n      address: address(walletData.metadata.address),\n      name: walletData.metadata.name,\n      network: walletData.metadata.network,\n      metadata: {\n        createdAt: walletData.metadata.createdAt,\n        lastUsed: walletData.metadata.lastUsed,\n        isActive: walletData.metadata.isActive\n      }\n    }\n\n    return { wallet: walletInfo, mnemonic }\n  }\n\n  /**\n   * Interface-compatible method: Import wallet from mnemonic\n   */\n  async importWalletInterface(name: string, mnemonic: string, network: string): Promise<WalletInfo> {\n    const walletData = await this.importWallet(name, mnemonic, network as 'devnet' | 'testnet' | 'mainnet-beta')\n\n    return {\n      address: address(walletData.metadata.address),\n      name: walletData.metadata.name,\n      network: walletData.metadata.network,\n      metadata: {\n        createdAt: walletData.metadata.createdAt,\n        lastUsed: walletData.metadata.lastUsed,\n        isActive: walletData.metadata.isActive\n      }\n    }\n  }\n\n  /**\n   * Interface-compatible method: List wallets as WalletInfo[]\n   */\n  async listWalletsInterface(): Promise<WalletInfo[]> {\n    const wallets = this.listWallets()\n    return wallets.map(wallet => ({\n      address: address(wallet.address),\n      name: wallet.name,\n      network: wallet.network,\n      metadata: {\n        createdAt: wallet.createdAt,\n        lastUsed: wallet.lastUsed,\n        isActive: wallet.isActive\n      }\n    }))\n  }\n\n  /**\n   * Interface-compatible method: Get active wallet as WalletInfo\n   */\n  getActiveWalletInterface(): WalletInfo | null {\n    const wallet = this.getActiveWallet()\n    if (!wallet) return null\n\n    return {\n      address: address(wallet.metadata.address),\n      name: wallet.metadata.name,\n      network: wallet.metadata.network,\n      metadata: {\n        createdAt: wallet.metadata.createdAt,\n        lastUsed: wallet.metadata.lastUsed,\n        isActive: wallet.metadata.isActive\n      }\n    }\n  }\n\n  /**\n   * Interface-compatible method: Set active wallet\n   */\n  async setActiveWalletInterface(name: string): Promise<void> {\n    this.setActiveWallet(name)\n  }\n\n  /**\n   * Interface-compatible method: Get balance for address\n   */\n  async getBalanceInterface(walletAddress: Address): Promise<bigint> {\n    const balance = await this.getBalance(walletAddress.toString(), 'devnet')\n    return BigInt(Math.floor(balance * 1_000_000_000)) // Convert SOL to lamports\n  }\n\n  /**\n   * Interface-compatible method: Sign transaction\n   */\n  async signTransaction(signer: KeyPairSigner, transaction: unknown): Promise<string> {\n    try {\n      // Import necessary types and functions\n      const { signTransaction: signTransactionKit } = await import('@solana/kit')\n\n      // Use the transaction directly - types will be checked at import time\n      const tx = transaction\n\n      // Sign the transaction using @solana/kit\n      const signedTransaction = await signTransactionKit([signer as any], tx as any)\n\n      // Extract the signature from the signed transaction\n      // In Web3.js v2, signatures is a SignaturesMap (object), not an array\n      const signatures = Object.values(signedTransaction.signatures)\n      if (signatures.length > 0) {\n        const signature = signatures[0]\n        if (!signature) {\n          throw new Error('Signature is null')\n        }\n        console.log(` Transaction signed by ${signer.address.toString()}`)\n        // Signature is already a string in base58 format\n        return signature.toString()\n      } else {\n        throw new Error('No signature found in signed transaction')\n      }\n    } catch (error) {\n      console.error('Failed to sign transaction:', error)\n      throw new Error(`Transaction signing failed: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  /**\n   * Migrate old wallet.json to new system\n   */\n  async migrateOldWallet(): Promise<void> {\n    const oldWalletPath = join(homedir(), '.ghostspeak', 'wallet.json')\n    if (!existsSync(oldWalletPath)) {\n      return\n    }\n\n    try {\n      const oldWalletData = JSON.parse(readFileSync(oldWalletPath, 'utf-8')) as number[]\n\n      // Import as \"main\" wallet\n      await this.importWallet('main', new Uint8Array(oldWalletData), 'devnet')\n\n      // Optionally rename the old file\n      renameSync(oldWalletPath, oldWalletPath + '.backup')\n\n    } catch (error) {\n      console.warn('Failed to migrate old wallet:', error)\n    }\n  }\n}","/**\n * Event-driven architecture for GhostSpeak CLI\n * \n * Provides reactive data flows, real-time updates, and decoupled\n * communication between different parts of the application.\n * \n * @example\n * ```typescript\n * const eventBus = EventBus.getInstance()\n * \n * // Listen to events\n * eventBus.on('agent:registered', (agent) => {\n *   console.log(`New agent registered: ${agent.name}`)\n * })\n * \n * // Emit events\n * eventBus.emit('agent:registered', newAgent)\n * \n * // Stream real-time data\n * const agentStream = eventBus.createStream('agent:*')\n * agentStream.subscribe(event => console.log(event))\n * ```\n */\n\nimport { EventEmitter } from 'events'\nimport { Subject, Observable, BehaviorSubject, merge, filter, map } from 'rxjs'\n\n/**\n * Event interface for typed events\n */\nexport interface Event<T = unknown> {\n  /** Event type/name */\n  type: string\n  /** Event payload */\n  data: T\n  /** Event timestamp */\n  timestamp: Date\n  /** Event metadata */\n  metadata?: Record<string, unknown>\n  /** Event source */\n  source?: string\n  /** Event correlation ID for tracing */\n  correlationId?: string\n}\n\n/**\n * Event handler function type\n */\nexport type EventHandler<T = unknown> = (event: Event<T>) => void | Promise<void>\n\n/**\n * Event pattern for filtering\n */\nexport type EventPattern = string | RegExp | ((eventType: string) => boolean)\n\n/**\n * Event stream subscription\n */\nexport interface EventSubscription {\n  /** Unsubscribe from the event stream */\n  unsubscribe: () => void\n}\n\n/**\n * Event bus for application-wide event communication\n */\nexport class EventBus extends EventEmitter {\n  private static instance: EventBus | null = null\n  private eventSubjects = new Map<string, Subject<Event>>()\n  private globalSubject = new Subject<Event>()\n  private eventHistory: Event[] = []\n  private maxHistorySize = 1000\n  private correlationIdCounter = 0\n\n  /**\n   * Get singleton instance\n   */\n  static getInstance(): EventBus {\n    EventBus.instance ??= new EventBus()\n    return EventBus.instance\n  }\n\n  /**\n   * Emit an event\n   */\n  emit(type: string, data?: unknown, options?: {\n    source?: string\n    metadata?: Record<string, unknown>\n    correlationId?: string\n  }): boolean {\n    const event: Event = {\n      type,\n      data,\n      timestamp: new Date(),\n      source: options?.source,\n      metadata: options?.metadata,\n      correlationId: options?.correlationId ?? this.generateCorrelationId()\n    }\n\n    // Add to history\n    this.addToHistory(event)\n\n    // Emit to EventEmitter (for backward compatibility)\n    super.emit(type, event)\n\n    // Emit to RxJS subjects\n    this.globalSubject.next(event)\n    \n    const subject = this.eventSubjects.get(type)\n    if (subject) {\n      subject.next(event)\n    }\n\n    return true\n  }\n\n  /**\n   * Listen to events (EventEmitter style)\n   */\n  on(eventName: string, listener: EventHandler): this {\n    super.on(eventName, listener)\n    return this\n  }\n\n  /**\n   * Listen to events once\n   */\n  once(eventName: string, listener: EventHandler): this {\n    super.once(eventName, listener)\n    return this\n  }\n\n  /**\n   * Remove event listener\n   */\n  off(eventName: string, listener: EventHandler): this {\n    super.off(eventName, listener)\n    return this\n  }\n\n  /**\n   * Create an observable stream for events matching pattern\n   */\n  createStream(pattern: EventPattern): Observable<Event> {\n    return this.globalSubject.pipe(\n      filter(event => this.matchesPattern(event.type, pattern))\n    )\n  }\n\n  /**\n   * Create a typed observable stream\n   */\n  createTypedStream<T>(eventType: string): Observable<Event<T>> {\n    let subject = this.eventSubjects.get(eventType)\n    if (!subject) {\n      subject = new Subject<Event>()\n      this.eventSubjects.set(eventType, subject)\n    }\n\n    return subject.asObservable() as Observable<Event<T>>\n  }\n\n  /**\n   * Subscribe to events matching pattern\n   */\n  subscribe(\n    pattern: EventPattern,\n    handler: EventHandler,\n    _options?: {\n      once?: boolean\n      priority?: number\n    }\n  ): EventSubscription {\n    const subscription = this.createStream(pattern).subscribe(handler)\n\n    return {\n      unsubscribe: () => subscription.unsubscribe()\n    }\n  }\n\n  /**\n   * Get event history\n   */\n  getHistory(filter?: {\n    type?: EventPattern\n    since?: Date\n    limit?: number\n  }): Event[] {\n    let events = this.eventHistory\n\n    if (filter?.type) {\n      events = events.filter(event => this.matchesPattern(event.type, filter.type!))\n    }\n\n    if (filter?.since) {\n      events = events.filter(event => event.timestamp >= filter.since!)\n    }\n\n    if (filter?.limit) {\n      events = events.slice(-filter.limit)\n    }\n\n    return events\n  }\n\n  /**\n   * Clear event history\n   */\n  clearHistory(): void {\n    this.eventHistory = []\n  }\n\n  /**\n   * Wait for specific event\n   */\n  waitFor<T = unknown>(\n    eventType: string,\n    timeout = 30000\n  ): Promise<Event<T>> {\n    return new Promise((resolve, reject) => {\n      const timer = setTimeout(() => {\n        reject(new Error(`Timeout waiting for event: ${eventType}`))\n      }, timeout)\n\n      this.once(eventType, (event) => {\n        clearTimeout(timer)\n        resolve(event as Event<T>)\n      })\n    })\n  }\n\n  /**\n   * Batch emit multiple events\n   */\n  emitBatch(events: Array<{ type: string; data?: unknown }>): void {\n    events.forEach(({ type, data }) => {\n      this.emit(type, data)\n    })\n  }\n\n  /**\n   * Create event correlation for tracing\n   */\n  correlate(correlationId: string): EventCorrelator {\n    return new EventCorrelator(this, correlationId)\n  }\n\n  /**\n   * Add event to history\n   */\n  private addToHistory(event: Event): void {\n    this.eventHistory.push(event)\n    \n    // Trim history if too large\n    if (this.eventHistory.length > this.maxHistorySize) {\n      this.eventHistory = this.eventHistory.slice(-this.maxHistorySize)\n    }\n  }\n\n  /**\n   * Check if event type matches pattern\n   */\n  private matchesPattern(eventType: string, pattern: EventPattern): boolean {\n    if (typeof pattern === 'string') {\n      if (pattern.includes('*')) {\n        const regex = new RegExp('^' + pattern.replace(/\\*/g, '.*') + '$')\n        return regex.test(eventType)\n      }\n      return eventType === pattern\n    }\n\n    if (pattern instanceof RegExp) {\n      return pattern.test(eventType)\n    }\n\n    if (typeof pattern === 'function') {\n      return pattern(eventType)\n    }\n\n    return false\n  }\n\n  /**\n   * Generate correlation ID\n   */\n  private generateCorrelationId(): string {\n    return `corr_${Date.now()}_${++this.correlationIdCounter}`\n  }\n}\n\n/**\n * Event correlator for tracing related events\n */\nexport class EventCorrelator {\n  constructor(\n    private eventBus: EventBus,\n    private correlationId: string\n  ) {}\n\n  /**\n   * Emit event with correlation ID\n   */\n  emit(type: string, data?: unknown, metadata?: Record<string, unknown>): void {\n    this.eventBus.emit(type, data, {\n      correlationId: this.correlationId,\n      metadata\n    })\n  }\n\n  /**\n   * Get all events for this correlation\n   */\n  getCorrelatedEvents(): Event[] {\n    return this.eventBus.getHistory({\n      type: () => true\n    }).filter(event => event.correlationId === this.correlationId)\n  }\n\n  /**\n   * Create stream for correlated events\n   */\n  createStream(): Observable<Event> {\n    return this.eventBus.createStream(() => true).pipe(\n      filter(event => event.correlationId === this.correlationId)\n    )\n  }\n}\n\n/**\n * Real-time data stream manager\n */\nexport class StreamManager {\n  private subjects = new Map<string, BehaviorSubject<unknown>>()\n  private eventBus = EventBus.getInstance()\n\n  constructor() {\n    // Listen to all events and update streams\n    this.eventBus.createStream('*').subscribe(event => {\n      this.updateStream(event.type, event.data)\n    })\n  }\n\n  /**\n   * Create or get a data stream\n   */\n  getStream<T>(key: string, initialValue?: T): Observable<T> {\n    let subject = this.subjects.get(key)\n    if (!subject) {\n      subject = new BehaviorSubject<unknown>(initialValue)\n      this.subjects.set(key, subject)\n    }\n\n    return subject.asObservable() as Observable<T>\n  }\n\n  /**\n   * Update stream with new data\n   */\n  updateStream(key: string, data: unknown): void {\n    const subject = this.subjects.get(key)\n    if (subject) {\n      subject.next(data)\n    }\n  }\n\n  /**\n   * Create combined stream from multiple sources\n   */\n  combineStreams<T>(...keys: string[]): Observable<T[]> {\n    const streams = keys.map(key => this.getStream(key))\n    return merge(...streams).pipe(\n      map(() => keys.map(key => this.subjects.get(key)?.value))\n    ) as Observable<T[]>\n  }\n\n  /**\n   * Close stream\n   */\n  closeStream(key: string): void {\n    const subject = this.subjects.get(key)\n    if (subject) {\n      subject.complete()\n      this.subjects.delete(key)\n    }\n  }\n\n  /**\n   * Close all streams\n   */\n  closeAllStreams(): void {\n    this.subjects.forEach(subject => subject.complete())\n    this.subjects.clear()\n  }\n}\n\n/**\n * Command result streaming for reactive CLI\n */\nexport class CommandResultStream {\n  private resultSubject = new Subject<CommandResult>()\n  private eventBus = EventBus.getInstance()\n\n  constructor() {\n    // Listen to command events\n    this.eventBus.on('command:executed', (event: { data: unknown; timestamp: Date }) => {\n      const data = event.data as { command: string; success: boolean; result?: unknown; error?: Error }\n      this.resultSubject.next({\n        command: data.command,\n        success: data.success,\n        result: data.result,\n        error: data.error,\n        timestamp: event.timestamp\n      })\n    })\n  }\n\n  /**\n   * Get stream of command results\n   */\n  getResultStream(): Observable<CommandResult> {\n    return this.resultSubject.asObservable()\n  }\n\n  /**\n   * Get stream for specific command\n   */\n  getCommandStream(command: string): Observable<CommandResult> {\n    return this.resultSubject.pipe(\n      filter(result => result.command === command)\n    )\n  }\n\n  /**\n   * Subscribe to command results\n   */\n  subscribe(handler: (result: CommandResult) => void): EventSubscription {\n    const subscription = this.resultSubject.subscribe(handler)\n    return {\n      unsubscribe: () => subscription.unsubscribe()\n    }\n  }\n}\n\n/**\n * Command result interface\n */\nexport interface CommandResult {\n  command: string\n  success: boolean\n  result?: unknown\n  error?: Error\n  timestamp: Date\n}\n\n/**\n * Blockchain event listener for real-time updates\n */\nexport class BlockchainEventListener {\n  private eventBus = EventBus.getInstance()\n  private isListening = false\n  private subscriptions: EventSubscription[] = []\n\n  /**\n   * Start listening to blockchain events\n   */\n  async startListening(): Promise<void> {\n    if (this.isListening) {\n      return\n    }\n\n    this.isListening = true\n\n    // Simulate blockchain event listening\n    // In real implementation, this would connect to Solana WebSocket\n    this.simulateBlockchainEvents()\n\n    this.eventBus.emit('blockchain:listener:started')\n  }\n\n  /**\n   * Stop listening to blockchain events\n   */\n  stopListening(): void {\n    if (!this.isListening) {\n      return\n    }\n\n    this.isListening = false\n    this.subscriptions.forEach(sub => sub.unsubscribe())\n    this.subscriptions = []\n\n    this.eventBus.emit('blockchain:listener:stopped')\n  }\n\n  /**\n   * Simulate blockchain events (replace with real implementation)\n   */\n  private simulateBlockchainEvents(): void {\n    // This would be replaced with real Solana WebSocket connection\n    const events = [\n      'transaction:confirmed',\n      'agent:registered',\n      'auction:bid_placed'\n    ]\n\n    const emitRandomEvent = () => {\n      if (!this.isListening) return\n\n      const eventType = events[Math.floor(Math.random() * events.length)]\n      this.eventBus.emit(`blockchain:${eventType}`, {\n        blockHash: 'block_' + Math.random().toString(36).substr(2, 9),\n        timestamp: new Date()\n      })\n\n      setTimeout(emitRandomEvent, 5000 + Math.random() * 10000) // 5-15 seconds\n    }\n\n    setTimeout(emitRandomEvent, 1000)\n  }\n}\n\n/**\n * Event-driven CLI state manager\n */\nexport class CLIStateManager {\n  private state = new BehaviorSubject<CLIState>({\n    activeCommand: null,\n    user: null,\n    network: 'devnet',\n    wallet: null,\n    isOnline: true\n  })\n\n  private eventBus = EventBus.getInstance()\n\n  constructor() {\n    this.setupEventHandlers()\n  }\n\n  /**\n   * Get current state\n   */\n  getState(): Observable<CLIState> {\n    return this.state.asObservable()\n  }\n\n  /**\n   * Update state\n   */\n  updateState(updates: Partial<CLIState>): void {\n    const currentState = this.state.value\n    const newState = { ...currentState, ...updates }\n    this.state.next(newState)\n\n    this.eventBus.emit('cli:state:updated', newState)\n  }\n\n  /**\n   * Setup event handlers for state management\n   */\n  private setupEventHandlers(): void {\n    this.eventBus.on('command:started', (event: { data: unknown }) => {\n      const command = (event.data as { command: string }).command\n      this.updateState({ activeCommand: command })\n    })\n\n    this.eventBus.on('command:completed', () => {\n      this.updateState({ activeCommand: null })\n    })\n\n    this.eventBus.on('wallet:connected', (event: { data: unknown }) => {\n      const wallet = event.data as { address: string; balance: number }\n      this.updateState({ wallet })\n    })\n\n    this.eventBus.on('network:changed', (event: { data: unknown }) => {\n      const network = (event.data as { network: string }).network\n      this.updateState({ network })\n    })\n  }\n}\n\n/**\n * CLI state interface\n */\nexport interface CLIState {\n  activeCommand: string | null\n  user: {\n    address: string\n    preferences: Record<string, unknown>\n  } | null\n  network: string\n  wallet: {\n    address: string\n    balance: number\n  } | null\n  isOnline: boolean\n}\n\n// Export singleton instances\nexport const eventBus = EventBus.getInstance()\nexport const streamManager = new StreamManager()\nexport const commandResultStream = new CommandResultStream()\nexport const blockchainEventListener = new BlockchainEventListener()\nexport const cliStateManager = new CLIStateManager()","/**\n * Advanced Connection Pooling System for GhostSpeak CLI\n * \n * Provides intelligent RPC connection pooling with health monitoring,\n * load balancing, and automatic failover for optimal performance.\n * \n * @example\n * ```typescript\n * const poolManager = ConnectionPoolManager.getInstance()\n * \n * // Get optimized connection\n * const connection = await poolManager.getConnection('devnet')\n * \n * // Use connection for RPC calls\n * const result = await connection.call('getAccountInfo', [address])\n * \n * // Connection is automatically returned to pool\n * ```\n */\n\nimport { EventEmitter } from 'events'\nimport { createSolanaClient, type SolanaClient } from 'gill'\nimport { EventBus } from './event-system'\n\n/**\n * Extended RPC API type from Gill client\n */\ntype SolanaRpcApi = SolanaClient<any>['rpc']\n\n/**\n * Network types supported by the connection pool\n */\nexport type NetworkType = 'devnet' | 'testnet' | 'mainnet-beta' | 'localnet'\n\n/**\n * Connection health status\n */\nexport type ConnectionHealth = 'healthy' | 'degraded' | 'unhealthy' | 'unknown'\n\n/**\n * RPC endpoint configuration\n */\nexport interface RpcEndpoint {\n  /** Endpoint URL */\n  url: string\n  /** Weight for load balancing (higher = more traffic) */\n  weight: number\n  /** Maximum concurrent connections */\n  maxConnections: number\n  /** Connection timeout in milliseconds */\n  timeout: number\n  /** Health check interval in milliseconds */\n  healthCheckInterval: number\n  /** Current health status */\n  health: ConnectionHealth\n  /** Last health check timestamp */\n  lastHealthCheck: Date\n  /** Response time statistics */\n  responseTime: {\n    current: number\n    average: number\n    min: number\n    max: number\n    samples: number[]\n  }\n}\n\n/**\n * Connection pool statistics\n */\nexport interface PoolStats {\n  /** Total connections in pool */\n  totalConnections: number\n  /** Active connections in use */\n  activeConnections: number\n  /** Idle connections available */\n  idleConnections: number\n  /** Total requests processed */\n  totalRequests: number\n  /** Average response time */\n  averageResponseTime: number\n  /** Pool hit rate */\n  hitRate: number\n  /** Number of connection failures */\n  failures: number\n  /** Health check results */\n  healthStats: Record<string, ConnectionHealth>\n}\n\n/**\n * Connection wrapper with enhanced functionality\n */\nexport class PooledConnection extends EventEmitter {\n  private rpc: SolanaRpcApi\n  private endpoint: RpcEndpoint\n  private createdAt: Date\n  private lastUsed: Date\n  private requestCount = 0\n  private isActive = false\n  private pool: ConnectionPool\n\n  constructor(rpc: SolanaRpcApi, endpoint: RpcEndpoint, pool: ConnectionPool) {\n    super()\n    this.rpc = rpc\n    this.endpoint = endpoint\n    this.pool = pool\n    this.createdAt = new Date()\n    this.lastUsed = new Date()\n  }\n\n  /**\n   * Execute RPC call with performance tracking\n   */\n  async call<T = unknown>(method: string, params?: unknown[]): Promise<T> {\n    const startTime = Date.now()\n    this.isActive = true\n    this.requestCount++\n    this.lastUsed = new Date()\n\n    try {\n      // Execute the RPC call using the rpc instance\n      const result = await (this.rpc as any)[method]?.(...(params ?? []))\n      \n      // Track response time\n      const responseTime = Date.now() - startTime\n      this.updateResponseTime(responseTime)\n\n      this.emit('request_completed', {\n        method,\n        responseTime,\n        success: true\n      })\n\n      return result as T\n\n    } catch (error) {\n      const responseTime = Date.now() - startTime\n      this.updateResponseTime(responseTime)\n\n      this.emit('request_failed', {\n        method,\n        responseTime,\n        error\n      })\n\n      throw error\n    } finally {\n      this.isActive = false\n      // Return connection to pool\n      this.pool.releaseConnection(this)\n    }\n  }\n\n  /**\n   * Get connection statistics\n   */\n  getStats() {\n    return {\n      endpoint: this.endpoint.url,\n      createdAt: this.createdAt,\n      lastUsed: this.lastUsed,\n      requestCount: this.requestCount,\n      isActive: this.isActive,\n      health: this.endpoint.health,\n      responseTime: this.endpoint.responseTime\n    }\n  }\n\n  /**\n   * Check if connection is stale\n   */\n  isStale(maxIdleTime: number): boolean {\n    return Date.now() - this.lastUsed.getTime() > maxIdleTime\n  }\n\n  /**\n   * Update response time statistics\n   */\n  private updateResponseTime(responseTime: number): void {\n    const stats = this.endpoint.responseTime\n    stats.current = responseTime\n    stats.min = Math.min(stats.min, responseTime)\n    stats.max = Math.max(stats.max, responseTime)\n    \n    // Keep only recent samples for average calculation\n    stats.samples.push(responseTime)\n    if (stats.samples.length > 100) {\n      stats.samples = stats.samples.slice(-100)\n    }\n    \n    stats.average = stats.samples.reduce((sum, time) => sum + time, 0) / stats.samples.length\n  }\n}\n\n/**\n * Connection pool for a specific network\n */\nexport class ConnectionPool extends EventEmitter {\n  private network: NetworkType\n  private endpoints: RpcEndpoint[]\n  private connections: PooledConnection[] = []\n  private activeConnections = new Set<PooledConnection>()\n  private config: {\n    minConnections: number\n    maxConnections: number\n    maxIdleTime: number\n    healthCheckInterval: number\n  }\n  private healthCheckInterval: NodeJS.Timeout | null = null\n  private stats: PoolStats = {\n    totalConnections: 0,\n    activeConnections: 0,\n    idleConnections: 0,\n    totalRequests: 0,\n    averageResponseTime: 0,\n    hitRate: 0,\n    failures: 0,\n    healthStats: {}\n  }\n\n  constructor(\n    network: NetworkType,\n    endpoints: RpcEndpoint[],\n    config = {\n      minConnections: 2,\n      maxConnections: 10,\n      maxIdleTime: 300000, // 5 minutes\n      healthCheckInterval: 30000 // 30 seconds\n    }\n  ) {\n    super()\n    this.network = network\n    this.endpoints = endpoints\n    this.config = config\n\n    // Initialize minimum connections\n    this.initializePool()\n    \n    // Start health checks\n    this.startHealthChecks()\n  }\n\n  /**\n   * Get connection from pool\n   */\n  async getConnection(): Promise<PooledConnection> {\n    // Try to get idle connection first\n    const idleConnection = this.getIdleConnection()\n    if (idleConnection) {\n      this.activeConnections.add(idleConnection)\n      this.updateStats()\n      return idleConnection\n    }\n\n    // Create new connection if under limit\n    if (this.connections.length < this.config.maxConnections) {\n      const connection = await this.createConnection()\n      this.connections.push(connection)\n      this.activeConnections.add(connection)\n      this.updateStats()\n      return connection\n    }\n\n    // Wait for connection to become available\n    return this.waitForConnection()\n  }\n\n  /**\n   * Release connection back to pool\n   */\n  releaseConnection(connection: PooledConnection): void {\n    this.activeConnections.delete(connection)\n    this.updateStats()\n    this.emit('connection_released', connection)\n  }\n\n  /**\n   * Get pool statistics\n   */\n  getStats(): PoolStats {\n    return { ...this.stats }\n  }\n\n  /**\n   * Close all connections and cleanup\n   */\n  async close(): Promise<void> {\n    if (this.healthCheckInterval) {\n      clearInterval(this.healthCheckInterval)\n      this.healthCheckInterval = null\n    }\n\n    // Close all connections\n    for (const connection of this.connections) {\n      connection.removeAllListeners()\n    }\n\n    this.connections = []\n    this.activeConnections.clear()\n    this.emit('pool_closed')\n  }\n\n  /**\n   * Initialize pool with minimum connections\n   */\n  private async initializePool(): Promise<void> {\n    const promises = []\n    for (let i = 0; i < this.config.minConnections; i++) {\n      promises.push(this.createConnection())\n    }\n\n    try {\n      const connections = await Promise.all(promises)\n      this.connections.push(...connections)\n      this.updateStats()\n    } catch (error) {\n      this.emit('pool_initializationerror', error)\n    }\n  }\n\n  /**\n   * Create new connection\n   */\n  private async createConnection(): Promise<PooledConnection> {\n    const endpoint = this.selectEndpoint()\n\n    try {\n      // Use Gill's createSolanaClient which requires urlOrMoniker object\n      const client = createSolanaClient({ urlOrMoniker: endpoint.url })\n      const rpc = client.rpc as unknown as SolanaRpcApi\n      const connection = new PooledConnection(rpc, endpoint, this)\n      \n      // Setup connection event handlers\n      connection.on('request_completed', (data) => {\n        this.stats.totalRequests++\n        this.updateAverageResponseTime(data.responseTime)\n      })\n\n      connection.on('request_failed', (_data) => {\n        this.stats.failures++\n        this.updateEndpointHealth(endpoint, 'degraded')\n      })\n\n      this.emit('connection_created', connection)\n      return connection\n\n    } catch (error) {\n      this.updateEndpointHealth(endpoint, 'unhealthy')\n      throw new Error(`Failed to create connection to ${endpoint.url}: ${error}`)\n    }\n  }\n\n  /**\n   * Get idle connection from pool\n   */\n  private getIdleConnection(): PooledConnection | null {\n    for (const connection of this.connections) {\n      if (!this.activeConnections.has(connection) && !connection.isStale(this.config.maxIdleTime)) {\n        return connection\n      }\n    }\n    return null\n  }\n\n  /**\n   * Wait for connection to become available\n   */\n  private async waitForConnection(): Promise<PooledConnection> {\n    return new Promise((resolve, reject) => {\n      const timeout = setTimeout(() => {\n        reject(new Error('Connection timeout: No connections available'))\n      }, 10000) // 10 second timeout\n\n      const onConnectionReleased = (connection: PooledConnection) => {\n        clearTimeout(timeout)\n        this.off('connection_released', onConnectionReleased)\n        this.activeConnections.add(connection)\n        resolve(connection)\n      }\n\n      this.on('connection_released', onConnectionReleased)\n    })\n  }\n\n  /**\n   * Select best endpoint using weighted round-robin\n   */\n  private selectEndpoint(): RpcEndpoint {\n    const healthyEndpoints = this.endpoints.filter(ep => \n      ep.health === 'healthy' || ep.health === 'unknown'\n    )\n\n    if (healthyEndpoints.length === 0) {\n      // Fall back to degraded endpoints if no healthy ones\n      const degradedEndpoints = this.endpoints.filter(ep => ep.health === 'degraded')\n      if (degradedEndpoints.length > 0) {\n        return degradedEndpoints[0]\n      }\n      // Last resort: use any endpoint\n      return this.endpoints[0]\n    }\n\n    // Weighted selection based on performance and weight\n    const totalWeight = healthyEndpoints.reduce((sum, ep) => {\n      const performanceWeight = Math.max(1, 1000 / (ep.responseTime.average ?? 1000))\n      return sum + ep.weight * performanceWeight\n    }, 0)\n\n    const random = Math.random() * totalWeight\n    let currentWeight = 0\n\n    for (const endpoint of healthyEndpoints) {\n      const performanceWeight = Math.max(1, 1000 / (endpoint.responseTime.average ?? 1000))\n      currentWeight += endpoint.weight * performanceWeight\n      if (random <= currentWeight) {\n        return endpoint\n      }\n    }\n\n    return healthyEndpoints[0]\n  }\n\n  /**\n   * Start health check monitoring\n   */\n  private startHealthChecks(): void {\n    this.healthCheckInterval = setInterval(() => {\n      this.performHealthChecks()\n    }, this.config.healthCheckInterval)\n  }\n\n  /**\n   * Perform health checks on all endpoints\n   */\n  private async performHealthChecks(): Promise<void> {\n    const promises = this.endpoints.map(endpoint => this.checkEndpointHealth(endpoint))\n    await Promise.allSettled(promises)\n    this.cleanupStaleConnections()\n  }\n\n  /**\n   * Check health of specific endpoint\n   */\n  private async checkEndpointHealth(endpoint: RpcEndpoint): Promise<void> {\n    const startTime = Date.now()\n\n    try {\n      // Simple health check - get latest blockhash using Gill\n      const client = createSolanaClient({ urlOrMoniker: endpoint.url })\n      await client.rpc.getLatestBlockhash().send()\n      \n      const responseTime = Date.now() - startTime\n      endpoint.responseTime.current = responseTime\n      endpoint.lastHealthCheck = new Date()\n      \n      // Determine health based on response time\n      if (responseTime < 1000) {\n        this.updateEndpointHealth(endpoint, 'healthy')\n      } else if (responseTime < 3000) {\n        this.updateEndpointHealth(endpoint, 'degraded')\n      } else {\n        this.updateEndpointHealth(endpoint, 'unhealthy')\n      }\n\n    } catch (error) {\n      this.updateEndpointHealth(endpoint, 'unhealthy')\n      endpoint.lastHealthCheck = new Date()\n    }\n  }\n\n  /**\n   * Update endpoint health status\n   */\n  private updateEndpointHealth(endpoint: RpcEndpoint, health: ConnectionHealth): void {\n    if (endpoint.health !== health) {\n      const oldHealth = endpoint.health\n      endpoint.health = health\n      this.stats.healthStats[endpoint.url] = health\n      \n      this.emit('endpoint_health_changed', {\n        endpoint: endpoint.url,\n        oldHealth,\n        newHealth: health\n      })\n    }\n  }\n\n  /**\n   * Clean up stale connections\n   */\n  private cleanupStaleConnections(): void {\n    const staleConnections = this.connections.filter(conn => \n      !this.activeConnections.has(conn) && conn.isStale(this.config.maxIdleTime)\n    )\n\n    for (const staleConnection of staleConnections) {\n      const index = this.connections.indexOf(staleConnection)\n      if (index > -1) {\n        this.connections.splice(index, 1)\n        staleConnection.removeAllListeners()\n      }\n    }\n\n    this.updateStats()\n  }\n\n  /**\n   * Update pool statistics\n   */\n  private updateStats(): void {\n    this.stats.totalConnections = this.connections.length\n    this.stats.activeConnections = this.activeConnections.size\n    this.stats.idleConnections = this.connections.length - this.activeConnections.size\n    this.stats.hitRate = this.stats.totalRequests > 0 \n      ? ((this.stats.totalRequests - this.stats.failures) / this.stats.totalRequests) * 100 \n      : 0\n\n    // Update health stats\n    for (const endpoint of this.endpoints) {\n      this.stats.healthStats[endpoint.url] = endpoint.health\n    }\n  }\n\n  /**\n   * Update average response time\n   */\n  private updateAverageResponseTime(responseTime: number): void {\n    const currentAvg = this.stats.averageResponseTime\n    const totalRequests = this.stats.totalRequests\n    \n    // Running average calculation\n    this.stats.averageResponseTime = totalRequests > 1\n      ? ((currentAvg * (totalRequests - 1)) + responseTime) / totalRequests\n      : responseTime\n  }\n}\n\n/**\n * Global connection pool manager\n */\nexport class ConnectionPoolManager extends EventEmitter {\n  private static instance: ConnectionPoolManager | null = null\n  private pools = new Map<NetworkType, ConnectionPool>()\n  private eventBus = EventBus.getInstance()\n  private defaultEndpoints: Record<NetworkType, RpcEndpoint[]> = {\n    'mainnet-beta': [\n      {\n        url: 'https://api.mainnet-beta.solana.com',\n        weight: 10,\n        maxConnections: 5,\n        timeout: 30000,\n        healthCheckInterval: 60000,\n        health: 'unknown',\n        lastHealthCheck: new Date(),\n        responseTime: { current: 0, average: 0, min: Infinity, max: 0, samples: [] }\n      },\n      {\n        url: 'https://solana-api.projectserum.com',\n        weight: 8,\n        maxConnections: 3,\n        timeout: 30000,\n        healthCheckInterval: 60000,\n        health: 'unknown',\n        lastHealthCheck: new Date(),\n        responseTime: { current: 0, average: 0, min: Infinity, max: 0, samples: [] }\n      }\n    ],\n    'testnet': [\n      {\n        url: 'https://api.testnet.solana.com',\n        weight: 10,\n        maxConnections: 5,\n        timeout: 30000,\n        healthCheckInterval: 60000,\n        health: 'unknown',\n        lastHealthCheck: new Date(),\n        responseTime: { current: 0, average: 0, min: Infinity, max: 0, samples: [] }\n      }\n    ],\n    'devnet': [\n      {\n        url: 'https://api.devnet.solana.com',\n        weight: 10,\n        maxConnections: 5,\n        timeout: 30000,\n        healthCheckInterval: 60000,\n        health: 'unknown',\n        lastHealthCheck: new Date(),\n        responseTime: { current: 0, average: 0, min: Infinity, max: 0, samples: [] }\n      }\n    ],\n    'localnet': [\n      {\n        url: 'http://localhost:8899',\n        weight: 10,\n        maxConnections: 3,\n        timeout: 10000,\n        healthCheckInterval: 30000,\n        health: 'unknown',\n        lastHealthCheck: new Date(),\n        responseTime: { current: 0, average: 0, min: Infinity, max: 0, samples: [] }\n      }\n    ]\n  }\n\n  /**\n   * Get singleton instance\n   */\n  static getInstance(): ConnectionPoolManager {\n    if (!ConnectionPoolManager.instance) {\n      ConnectionPoolManager.instance = new ConnectionPoolManager()\n    }\n    return ConnectionPoolManager.instance\n  }\n\n  /**\n   * Get connection for network\n   */\n  async getConnection(network: NetworkType): Promise<PooledConnection> {\n    let pool = this.pools.get(network)\n    \n    if (!pool) {\n      pool = await this.createPool(network)\n      this.pools.set(network, pool)\n    }\n\n    return pool.getConnection()\n  }\n\n  /**\n   * Add custom RPC endpoint\n   */\n  addEndpoint(network: NetworkType, endpoint: RpcEndpoint): void {\n    if (!this.defaultEndpoints[network]) {\n      this.defaultEndpoints[network] = []\n    }\n    this.defaultEndpoints[network].push(endpoint)\n\n    // If pool exists, recreate it with new endpoints\n    const existingPool = this.pools.get(network)\n    if (existingPool) {\n      existingPool.close()\n      this.pools.delete(network)\n    }\n\n    this.eventBus.emit('connection_pool:endpoint_added', { network, endpoint })\n  }\n\n  /**\n   * Get statistics for all pools\n   */\n  getAllStats(): Record<NetworkType, PoolStats> {\n    const stats: Record<string, PoolStats> = {}\n    \n    for (const [network, pool] of this.pools) {\n      stats[network] = pool.getStats()\n    }\n\n    return stats as Record<NetworkType, PoolStats>\n  }\n\n  /**\n   * Close all pools\n   */\n  async closeAll(): Promise<void> {\n    const promises = Array.from(this.pools.values()).map(pool => pool.close())\n    await Promise.all(promises)\n    this.pools.clear()\n    this.eventBus.emit('connection_pool:all_closed')\n  }\n\n  /**\n   * Create pool for network\n   */\n  private async createPool(network: NetworkType): Promise<ConnectionPool> {\n    const endpoints = this.defaultEndpoints[network] ?? []\n    \n    if (endpoints.length === 0) {\n      throw new Error(`No RPC endpoints configured for network: ${network}`)\n    }\n\n    const pool = new ConnectionPool(network, endpoints)\n    \n    // Forward pool events to event bus\n    pool.on('connection_created', (connection) => {\n      this.eventBus.emit('connection_pool:connection_created', { network, connection })\n    })\n\n    pool.on('endpoint_health_changed', (data) => {\n      this.eventBus.emit('connection_pool:health_changed', { network, ...data })\n    })\n\n    return pool\n  }\n}\n\n// Export singleton instance\nexport const connectionPoolManager = ConnectionPoolManager.getInstance()","/**\n * RPC Pool Manager for GhostSpeak Blockchain Services\n * \n * Integrates the connection pooling system with blockchain services\n * for optimal RPC performance and reliability.\n */\n\nimport type { SolanaRpcApi } from '@solana/kit'\nimport type { Address } from '@solana/addresses'\nimport { ConnectionPoolManager, type NetworkType, type PooledConnection } from '../../core/connection-pool'\nimport { EventBus } from '../../core/event-system'\n\n/**\n * RPC operation types for performance tracking\n */\nexport type RpcOperationType = \n  | 'getAccountInfo'\n  | 'getBalance'\n  | 'getLatestBlockhash'\n  | 'sendTransaction'\n  | 'confirmTransaction'\n  | 'getProgramAccounts'\n  | 'getMultipleAccounts'\n  | 'simulateTransaction'\n  | 'getTransaction'\n  | 'getTransactionHistory'\n\n/**\n * RPC operation metadata\n */\nexport interface RpcOperation {\n  type: RpcOperationType\n  network: NetworkType\n  startTime: number\n  endTime?: number\n  success?: boolean\n  error?: Error\n  cacheHit?: boolean\n}\n\n/**\n * Performance metrics for RPC operations\n */\nexport interface RpcPerformanceMetrics {\n  totalOperations: number\n  averageResponseTime: number\n  operationsByType: Record<RpcOperationType, number>\n  errorRate: number\n  cacheHitRate: number\n  networkDistribution: Record<NetworkType, number>\n}\n\n/**\n * High-performance RPC client with connection pooling\n */\nexport class PooledRpcClient {\n  private network: NetworkType\n  private poolManager = ConnectionPoolManager.getInstance()\n  private eventBus = EventBus.getInstance()\n  private metrics: RpcPerformanceMetrics = {\n    totalOperations: 0,\n    averageResponseTime: 0,\n    operationsByType: {} as Record<RpcOperationType, number>,\n    errorRate: 0,\n    cacheHitRate: 0,\n    networkDistribution: {} as Record<NetworkType, number>\n  }\n  private operations: RpcOperation[] = []\n\n  constructor(network: NetworkType) {\n    this.network = network\n  }\n\n  /**\n   * Get account information\n   */\n  async getAccountInfo(address: Address, options?: {\n    commitment?: 'processed' | 'confirmed' | 'finalized'\n    encoding?: 'base58' | 'base64' | 'jsonParsed'\n  }): Promise<any> {\n    return this.executeRpcCall('getAccountInfo', async (connection) => {\n      return connection.call('getAccountInfo', [address, options])\n    })\n  }\n\n  /**\n   * Get account balance\n   */\n  async getBalance(address: Address, commitment?: 'processed' | 'confirmed' | 'finalized'): Promise<number> {\n    return this.executeRpcCall('getBalance', async (connection) => {\n      return connection.call('getBalance', [address, { commitment }])\n    })\n  }\n\n  /**\n   * Get latest blockhash\n   */\n  async getLatestBlockhash(commitment?: 'processed' | 'confirmed' | 'finalized'): Promise<any> {\n    return this.executeRpcCall('getLatestBlockhash', async (connection) => {\n      return connection.call('getLatestBlockhash', [{ commitment }])\n    })\n  }\n\n  /**\n   * Send transaction\n   */\n  async sendTransaction(\n    transaction: string,\n    options?: {\n      skipPreflight?: boolean\n      preflightCommitment?: 'processed' | 'confirmed' | 'finalized'\n      maxRetries?: number\n    }\n  ): Promise<string> {\n    return this.executeRpcCall('sendTransaction', async (connection) => {\n      return connection.call('sendTransaction', [transaction, options])\n    })\n  }\n\n  /**\n   * Confirm transaction\n   */\n  async confirmTransaction(\n    signature: string,\n    commitment?: 'processed' | 'confirmed' | 'finalized'\n  ): Promise<any> {\n    return this.executeRpcCall('confirmTransaction', async (connection) => {\n      return connection.call('getSignatureStatus', [signature, { commitment }])\n    })\n  }\n\n  /**\n   * Get program accounts\n   */\n  async getProgramAccounts(\n    programId: Address,\n    options?: {\n      commitment?: 'processed' | 'confirmed' | 'finalized'\n      encoding?: 'base58' | 'base64' | 'jsonParsed'\n      filters?: any[]\n      dataSlice?: { offset: number; length: number }\n    }\n  ): Promise<any[]> {\n    return this.executeRpcCall('getProgramAccounts', async (connection) => {\n      return connection.call('getProgramAccounts', [programId, options])\n    })\n  }\n\n  /**\n   * Get multiple accounts (batched operation)\n   */\n  async getMultipleAccounts(\n    addresses: Address[],\n    options?: {\n      commitment?: 'processed' | 'confirmed' | 'finalized'\n      encoding?: 'base58' | 'base64' | 'jsonParsed'\n    }\n  ): Promise<any[]> {\n    return this.executeRpcCall('getMultipleAccounts', async (connection) => {\n      return connection.call('getMultipleAccounts', [addresses, options])\n    })\n  }\n\n  /**\n   * Simulate transaction\n   */\n  async simulateTransaction(\n    transaction: string,\n    options?: {\n      commitment?: 'processed' | 'confirmed' | 'finalized'\n      sigVerify?: boolean\n      replaceRecentBlockhash?: boolean\n    }\n  ): Promise<any> {\n    return this.executeRpcCall('simulateTransaction', async (connection) => {\n      return connection.call('simulateTransaction', [transaction, options])\n    })\n  }\n\n  /**\n   * Get transaction details\n   */\n  async getTransaction(\n    signature: string,\n    options?: {\n      commitment?: 'processed' | 'confirmed' | 'finalized'\n      encoding?: 'json' | 'jsonParsed' | 'base58' | 'base64'\n      maxSupportedTransactionVersion?: number\n    }\n  ): Promise<any> {\n    return this.executeRpcCall('getTransaction', async (connection) => {\n      return connection.call('getTransaction', [signature, options])\n    })\n  }\n\n  /**\n   * Get transaction history for address\n   */\n  async getTransactionHistory(\n    address: Address,\n    options?: {\n      limit?: number\n      before?: string\n      until?: string\n      commitment?: 'processed' | 'confirmed' | 'finalized'\n    }\n  ): Promise<any[]> {\n    return this.executeRpcCall('getTransactionHistory', async (connection) => {\n      return connection.call('getSignaturesForAddress', [address, options])\n    })\n  }\n\n  /**\n   * Get performance metrics\n   */\n  getMetrics(): RpcPerformanceMetrics {\n    return { ...this.metrics }\n  }\n\n  /**\n   * Get recent operations\n   */\n  getRecentOperations(limit = 100): RpcOperation[] {\n    return this.operations.slice(-limit)\n  }\n\n  /**\n   * Clear metrics and operation history\n   */\n  clearMetrics(): void {\n    this.metrics = {\n      totalOperations: 0,\n      averageResponseTime: 0,\n      operationsByType: {} as Record<RpcOperationType, number>,\n      errorRate: 0,\n      cacheHitRate: 0,\n      networkDistribution: {} as Record<NetworkType, number>\n    }\n    this.operations = []\n  }\n\n  /**\n   * Execute RPC call with performance tracking\n   */\n  private async executeRpcCall<T>(\n    operationType: RpcOperationType,\n    operation: (connection: PooledConnection) => Promise<T>\n  ): Promise<T> {\n    const startTime = Date.now()\n    const rpcOperation: RpcOperation = {\n      type: operationType,\n      network: this.network,\n      startTime\n    }\n\n    try {\n      // Get connection from pool\n      const connection = await this.poolManager.getConnection(this.network)\n      \n      // Execute operation\n      const result = await operation(connection)\n      \n      // Track successful operation\n      rpcOperation.endTime = Date.now()\n      rpcOperation.success = true\n      \n      this.recordOperation(rpcOperation)\n      \n      return result\n\n    } catch (error) {\n      // Track failed operation\n      rpcOperation.endTime = Date.now()\n      rpcOperation.success = false\n      rpcOperation.error = error as Error\n      \n      this.recordOperation(rpcOperation)\n      \n      // Emit error event for monitoring\n      this.eventBus.emit('rpc:operation_failed', {\n        operation: rpcOperation,\n        error\n      })\n      \n      throw error\n    }\n  }\n\n  /**\n   * Record operation for metrics tracking\n   */\n  private recordOperation(operation: RpcOperation): void {\n    this.operations.push(operation)\n    \n    // Keep only recent operations\n    if (this.operations.length > 1000) {\n      this.operations = this.operations.slice(-1000)\n    }\n\n    // Update metrics\n    this.updateMetrics(operation)\n    \n    // Emit operation event\n    this.eventBus.emit('rpc:operation_completed', operation)\n  }\n\n  /**\n   * Update performance metrics\n   */\n  private updateMetrics(operation: RpcOperation): void {\n    this.metrics.totalOperations++\n    \n    // Update operation type counter\n    this.metrics.operationsByType[operation.type] = \n      (this.metrics.operationsByType[operation.type] || 0) + 1\n    \n    // Update network distribution\n    this.metrics.networkDistribution[operation.network] = \n      (this.metrics.networkDistribution[operation.network] || 0) + 1\n    \n    // Update response time\n    if (operation.endTime) {\n      const responseTime = operation.endTime - operation.startTime\n      const currentAvg = this.metrics.averageResponseTime\n      const totalOps = this.metrics.totalOperations\n      \n      this.metrics.averageResponseTime = totalOps > 1\n        ? ((currentAvg * (totalOps - 1)) + responseTime) / totalOps\n        : responseTime\n    }\n    \n    // Update error rate\n    const recentOperations = this.operations.slice(-100) // Last 100 operations\n    const errorCount = recentOperations.filter(op => !op.success).length\n    this.metrics.errorRate = (errorCount / recentOperations.length) * 100\n  }\n}\n\n/**\n * RPC Pool Manager - Factory for pooled RPC clients\n */\nexport class RpcPoolManager {\n  private static instance: RpcPoolManager | null = null\n  private clients = new Map<NetworkType, PooledRpcClient>()\n  private eventBus = EventBus.getInstance()\n\n  /**\n   * Get singleton instance\n   */\n  static getInstance(): RpcPoolManager {\n    if (!RpcPoolManager.instance) {\n      RpcPoolManager.instance = new RpcPoolManager()\n    }\n    return RpcPoolManager.instance\n  }\n\n  /**\n   * Get RPC client for network\n   */\n  getClient(network: NetworkType): PooledRpcClient {\n    let client = this.clients.get(network)\n    \n    if (!client) {\n      client = new PooledRpcClient(network)\n      this.clients.set(network, client)\n      \n      this.eventBus.emit('rpc_pool:client_created', { network })\n    }\n    \n    return client\n  }\n\n  /**\n   * Get aggregated metrics for all clients\n   */\n  getAggregatedMetrics(): {\n    overall: RpcPerformanceMetrics\n    byNetwork: Record<NetworkType, RpcPerformanceMetrics>\n  } {\n    const byNetwork: Record<string, RpcPerformanceMetrics> = {}\n    let totalOperations = 0\n    let totalResponseTime = 0\n    let totalErrors = 0\n    const operationsByType: Record<RpcOperationType, number> = {} as Record<RpcOperationType, number>\n\n    for (const [network, client] of this.clients) {\n      const metrics = client.getMetrics()\n      byNetwork[network] = metrics\n      \n      totalOperations += metrics.totalOperations\n      totalResponseTime += metrics.averageResponseTime * metrics.totalOperations\n      totalErrors += (metrics.errorRate / 100) * metrics.totalOperations\n      \n      // Aggregate operations by type\n      for (const [type, count] of Object.entries(metrics.operationsByType)) {\n        operationsByType[type as RpcOperationType] = \n          (operationsByType[type as RpcOperationType] || 0) + count\n      }\n    }\n\n    const overall: RpcPerformanceMetrics = {\n      totalOperations,\n      averageResponseTime: totalOperations > 0 ? totalResponseTime / totalOperations : 0,\n      operationsByType,\n      errorRate: totalOperations > 0 ? (totalErrors / totalOperations) * 100 : 0,\n      cacheHitRate: 0, // Will be calculated when cache integration is added\n      networkDistribution: {} as Record<NetworkType, number>\n    }\n\n    // Calculate network distribution\n    for (const [network, metrics] of Object.entries(byNetwork)) {\n      overall.networkDistribution[network as NetworkType] = metrics.totalOperations\n    }\n\n    return {\n      overall,\n      byNetwork: byNetwork as Record<NetworkType, RpcPerformanceMetrics>\n    }\n  }\n\n  /**\n   * Health check all clients\n   */\n  async healthCheck(): Promise<Record<NetworkType, boolean>> {\n    const results: Record<string, boolean> = {}\n    \n    const promises = Array.from(this.clients.entries()).map(async ([network, client]) => {\n      try {\n        await client.getLatestBlockhash()\n        results[network] = true\n      } catch (error) {\n        results[network] = false\n        this.eventBus.emit('rpc_pool:health_check_failed', { network, error })\n      }\n    })\n\n    await Promise.allSettled(promises)\n    \n    this.eventBus.emit('rpc_pool:health_check_completed', results)\n    \n    return results as Record<NetworkType, boolean>\n  }\n\n  /**\n   * Clear all metrics\n   */\n  clearAllMetrics(): void {\n    for (const client of this.clients.values()) {\n      client.clearMetrics()\n    }\n    \n    this.eventBus.emit('rpc_pool:metrics_cleared')\n  }\n}\n\n// Export singleton instance\nexport const rpcPoolManager = RpcPoolManager.getInstance()","/**\n * Shared SDK client initialization for CLI commands - July 2025 Standards\n * Enhanced with connection pooling for optimal performance\n * Migrated to Gill for Solana RPC operations\n */\n\nimport { createKeyPairSignerFromBytes, address, type TransactionSigner, type KeyPairSigner } from '@solana/kit'\nimport {\n  GhostSpeakClient,\n  GHOSTSPEAK_PROGRAM_ID,\n  AgentModule,\n  GovernanceModule\n} from '@ghostspeak/sdk'\nimport { homedir } from 'os'\nimport { join } from 'path'\nimport { readFileSync, existsSync } from 'fs'\nimport { log } from '@clack/prompts'\nimport { URL } from 'node:url'\nimport chalk from 'chalk'\nimport { loadConfig } from './config.js'\nimport { WalletService } from '../services/wallet-service.js'\nimport { connectionPoolManager as _connectionPoolManager, type NetworkType } from '../core/connection-pool.js'\nimport { rpcPoolManager } from '../services/blockchain/rpc-pool-manager.js'\nimport { getSolanaClient, createCustomClient, type SolanaClient } from '../core/solana-client.js'\n\n\n/**\n * Get or create a wallet for CLI operations\n */\nexport async function getWallet(): Promise<KeyPairSigner> {\n  const walletService = new WalletService()\n\n  // First try to use the active wallet from the new wallet service\n  const activeSigner = await walletService.getActiveSigner()\n  if (activeSigner) {\n    return activeSigner\n  }\n\n  // Check if we need to migrate old wallet\n  await walletService.migrateOldWallet()\n\n  // Try again after migration\n  const postMigrationSigner = await walletService.getActiveSigner()\n  if (postMigrationSigner) {\n    return postMigrationSigner\n  }\n\n  const config = loadConfig()\n\n  // Try to load from configured wallet path (old style)\n  if (config.walletPath && existsSync(config.walletPath)) {\n    try {\n      const walletData = JSON.parse(readFileSync(config.walletPath, 'utf-8')) as number[]\n      const signer = await createKeyPairSignerFromBytes(new Uint8Array(walletData))\n\n      // Import this wallet into the new system\n      await walletService.importWallet('migrated', new Uint8Array(walletData), config.network === 'localnet' ? 'devnet' : config.network as 'devnet' | 'testnet' | 'mainnet-beta')\n      log.info('Migrated existing wallet to new wallet system')\n\n      return signer\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error'\n      log.error(`Failed to load wallet from config: ${config.walletPath}`)\n      log.error(`Error details: ${errorMessage}`)\n      if (errorMessage.includes('ENOENT')) {\n        log.info(` Wallet file not found. Create a new wallet or check the path.`)\n      } else if (errorMessage.includes('permission')) {\n        log.info(` Permission denied. Check file permissions for ${config.walletPath}`)\n      } else if (errorMessage.includes('JSON')) {\n        log.info(` Wallet file appears to be corrupted. Try restoring from backup.`)\n      }\n    }\n  }\n\n  // Fall back to GhostSpeak CLI wallet\n  const walletPath = join(homedir(), '.config', 'solana', 'ghostspeak-cli.json')\n  if (existsSync(walletPath)) {\n    try {\n      const walletData = JSON.parse(readFileSync(walletPath, 'utf-8')) as number[]\n      const signer = await createKeyPairSignerFromBytes(new Uint8Array(walletData))\n\n      // Import this wallet\n      await walletService.importWallet('cli-wallet', new Uint8Array(walletData), config.network === 'localnet' ? 'devnet' : config.network as 'devnet' | 'testnet' | 'mainnet-beta')\n\n      return signer\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error'\n      log.error('Failed to load GhostSpeak CLI wallet')\n      log.error(`Error details: ${errorMessage}`)\n      if (errorMessage.includes('ENOENT')) {\n        log.info(` GhostSpeak CLI wallet not found at ${walletPath}`)\n      } else if (errorMessage.includes('JSON')) {\n        log.info(` GhostSpeak CLI wallet file appears corrupted. Delete ${walletPath} to create a new one.`)\n      } else if (errorMessage.includes('Invalid')) {\n        log.info(` GhostSpeak CLI wallet contains invalid key data. Try recreating the wallet.`)\n      }\n    }\n  }\n\n  // Try default Solana CLI wallet\n  const defaultWalletPath = join(homedir(), '.config', 'solana', 'id.json')\n  if (existsSync(defaultWalletPath)) {\n    try {\n      const walletData = JSON.parse(readFileSync(defaultWalletPath, 'utf-8')) as number[]\n      const signer = await createKeyPairSignerFromBytes(new Uint8Array(walletData))\n\n      // Import this wallet\n      await walletService.importWallet('solana-cli', new Uint8Array(walletData), config.network === 'localnet' ? 'devnet' : config.network as 'devnet' | 'testnet' | 'mainnet-beta')\n\n      return signer\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error'\n      log.error('Failed to load default Solana CLI wallet')\n      log.error(`Error details: ${errorMessage}`)\n      if (errorMessage.includes('ENOENT')) {\n        log.info(` Solana CLI wallet not found. Run 'solana-keygen new' to create one.`)\n      } else if (errorMessage.includes('JSON')) {\n        log.info(` Solana CLI wallet file corrupted. Run 'solana-keygen recover' to restore.`)\n      } else if (errorMessage.includes('Invalid')) {\n        log.info(` Invalid Solana wallet format. Generate a new keypair with 'solana-keygen new'.`)\n      }\n    }\n  }\n\n  // Create new wallet if none exists\n  try {\n    log.info('No wallet found. Creating a new one...')\n    const { wallet, mnemonic } = await walletService.createWallet('default', config.network as 'devnet' | 'testnet' | 'mainnet-beta')\n\n    log.success(`Created new wallet: ${wallet.metadata.address}`)\n    log.warn('  Save your seed phrase:')\n    log.warn(mnemonic)\n    log.info('')\n    log.info('Next steps:')\n    log.info(`  1. Save your seed phrase securely`)\n    log.info(`  2. Fund your wallet: ${chalk.cyan('ghost faucet')}`)\n    log.info(`  3. Create an agent: ${chalk.cyan('ghost agent register')}`)\n\n    const signer = await walletService.getActiveSigner()\n    if (!signer) {\n      throw new Error('Failed to retrieve newly created wallet')\n    }\n\n    return signer\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : 'Unknown error'\n    log.error('Failed to create new wallet')\n    log.error(`Error details: ${errorMessage}`)\n    if (errorMessage.includes('permission')) {\n      log.info(` Permission denied. Check write permissions in ~/.config/solana/`)\n    } else if (errorMessage.includes('ENOSPC')) {\n      log.info(` No space left on device. Free up some disk space and try again.`)\n    } else {\n      log.info(` Try running with elevated permissions or check your file system.`)\n    }\n    throw new Error(`Wallet creation failed: ${errorMessage}`)\n  }\n}\n\n/**\n * Convert CLI KeyPairSigner to TransactionSigner for SDK compatibility\n * Since KeyPairSigner already implements TransactionPartialSigner, which is part of TransactionSigner,\n * we can directly cast it to TransactionSigner.\n */\nexport function toSDKSigner(signer: KeyPairSigner): TransactionSigner {\n  // KeyPairSigner from @solana/kit already implements TransactionPartialSigner\n  // which is part of the TransactionSigner union type, so direct casting is safe\n  return signer as TransactionSigner\n}\n\n/**\n * Initialize GhostSpeak SDK client with connection pooling for optimal performance\n * Now uses Gill for Solana RPC operations\n */\nexport async function initializeClient(network?: 'devnet' | 'testnet' | 'mainnet-beta'): Promise<{\n  client: GhostSpeakClient\n  wallet: KeyPairSigner\n  rpc: SolanaClient<any>['rpc']\n  pooledRpc?: any // PooledRpcClient instance\n}> {\n  const config = loadConfig()\n\n  // Use network from config if not provided\n  const selectedNetwork = network ?? config.network\n\n  // Set up RPC connection with connection pooling for optimal performance\n  let rpcUrl = config.rpcUrl\n  if (!rpcUrl) {\n    switch (selectedNetwork) {\n      case 'mainnet-beta':\n        rpcUrl = 'https://api.mainnet-beta.solana.com'\n        break\n      case 'testnet':\n        rpcUrl = 'https://api.testnet.solana.com'\n        break\n      case 'localnet':\n        rpcUrl = 'http://localhost:8899'\n        break\n      case 'devnet':\n      default:\n        rpcUrl = 'https://api.devnet.solana.com'\n        break\n    }\n  }\n\n  // Validate URL format\n  if (!rpcUrl || typeof rpcUrl !== 'string') {\n    throw new Error('Invalid RPC URL configuration')\n  }\n\n  try {\n    new URL(rpcUrl) // Validate URL format\n  } catch (error) {\n    throw new Error(`Invalid RPC endpoint URL: ${rpcUrl}`)\n  }\n\n  // Use connection pool for improved performance\n  const networkType = (selectedNetwork === 'localnet' ? 'devnet' : selectedNetwork) as NetworkType\n  const pooledRpcClient = rpcPoolManager.getClient(networkType)\n\n  // Create Solana client using Gill\n  const solanaClient = createCustomClient(rpcUrl)\n  const rpc = solanaClient.rpc\n\n  // Note: RPC subscriptions are not currently available in @solana/kit\n  // Transaction confirmations will use polling instead\n  let rpcSubscriptions: any | undefined\n\n  // Get wallet\n  const wallet = await getWallet()\n\n  // Initialize client with the program ID from config or default\n  const programId = config.programId || GHOSTSPEAK_PROGRAM_ID\n  console.log(' [DEBUG] Program ID from config:', programId)\n  console.log(' [DEBUG] Program ID length:', programId.length)\n  console.log(' [DEBUG] GHOSTSPEAK_PROGRAM_ID fallback:', GHOSTSPEAK_PROGRAM_ID)\n\n  // Cast to ExtendedRpcApi - the Solana RPC does support all these methods\n  // Use the proper typed casting function instead of unsafe 'any' casting\n  const extendedRpc = rpc as any\n  const client = new GhostSpeakClient({\n    rpc: extendedRpc,\n    programId: address(programId),\n    commitment: 'confirmed'\n  })\n\n  // Polyfill missing or uninitialized modules\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const clientAny = client as any\n  \n  // Reuse the same config for all modules\n  const moduleConfig = {\n    rpc: extendedRpc,\n    programId: address(programId),\n    commitment: 'confirmed' as const,\n    cluster: (config.network === 'devnet' || config.network === 'testnet' || config.network === 'mainnet-beta') ? config.network : 'devnet',\n    rpcEndpoint: rpcUrl\n  }\n\n  // Force instantiation if module is missing or is just a class constructor (function)\n  if (!client.agent || typeof client.agent === 'function') {\n    clientAny.agent = new AgentModule(moduleConfig)\n  }\n\n  if (!clientAny.governance || typeof clientAny.governance === 'function') {\n    clientAny.governance = new GovernanceModule(moduleConfig)\n  }\n\n  // Check wallet balance\n  try {\n    // Ensure wallet has a valid address\n    if (wallet.address) {\n      const balanceResponse = await rpc.getBalance(wallet.address).send()\n      const balance = balanceResponse.value\n      if (balance === 0n) {\n        log.warn(chalk.yellow('  Your wallet has 0 SOL. You need SOL to perform transactions.'))\n        log.info(chalk.dim('Run: npx ghostspeak faucet --save'))\n      }\n    }\n  } catch (error) {\n    // Log but don't fail on balance check errors\n    console.warn('Balance check failed:', error instanceof Error ? error.message : 'Unknown error')\n  }\n\n  // Add cleanup method to client\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (client as any).cleanup = async () => {\n    try {\n      // Close RPC subscriptions if they exist\n      if (rpcSubscriptions) {\n        if ('close' in rpcSubscriptions && typeof rpcSubscriptions.close === 'function') {\n          const closeMethod = rpcSubscriptions.close as () => Promise<void>\n          await closeMethod.call(rpcSubscriptions)\n        }\n      }\n\n      // Close HTTP connections if possible\n    } catch (error) {\n      // Silent cleanup - don't throw errors during cleanup\n      console.debug('Client cleanup warning:', error instanceof Error ? error.message : 'Unknown error')\n    }\n  }\n\n  return {\n    client,\n    wallet,\n    rpc,\n    pooledRpc: pooledRpcClient\n  }\n}\n\n/**\n * Format transaction signature into explorer URL\n */\nexport function getExplorerUrl(signature: string, network = 'devnet'): string {\n  const cluster = network === 'mainnet-beta' ? '' : `?cluster=${network}`\n  return `https://explorer.solana.com/tx/${signature}${cluster}`\n}\n\n/**\n * Format address into explorer URL\n */\nexport function getAddressExplorerUrl(address: string, network = 'devnet'): string {\n  const cluster = network === 'mainnet-beta' ? '' : `?cluster=${network}`\n  return `https://explorer.solana.com/address/${address}${cluster}`\n}\n\n","/**\n * Type guards and validation functions for SDK responses\n * This ensures type safety for all SDK operations\n */\n\nimport { type Address } from '@solana/addresses'\n\n// Core type interfaces based on expected SDK responses\nexport interface ValidatedAuctionData {\n  auction: Address\n  auctionType: string\n  currentPrice: bigint\n  startingPrice: bigint\n  reservePrice?: bigint\n  auctionEndTime: bigint\n  totalBids: number\n  minimumBidIncrement: bigint\n  currentWinner?: Address\n  creator: Address\n  status?: string\n  timeRemaining?: number\n}\n\nexport interface ValidatedAgent {\n  address: Address\n  data: {\n    name: string\n    description?: string\n    capabilities?: string[]\n  }\n  owner: Address\n}\n\nexport interface ValidatedDisputeSummary {\n  dispute: Address\n  claimant: Address\n  respondent: Address\n  status: string\n  evidenceCount: number\n  createdAt: bigint\n}\n\n// Type guard functions with runtime validation\nexport function isValidAuctionData(value: unknown): value is ValidatedAuctionData {\n  if (!value || typeof value !== 'object') return false\n  \n  const obj = value as Record<string, unknown>\n  \n  return (\n    typeof obj.auction === 'string' &&\n    typeof obj.auctionType === 'string' &&\n    (typeof obj.currentPrice === 'bigint' || typeof obj.currentPrice === 'string' || typeof obj.currentPrice === 'number') &&\n    (typeof obj.startingPrice === 'bigint' || typeof obj.startingPrice === 'string' || typeof obj.startingPrice === 'number') &&\n    (typeof obj.auctionEndTime === 'bigint' || typeof obj.auctionEndTime === 'string' || typeof obj.auctionEndTime === 'number') &&\n    typeof obj.totalBids === 'number' &&\n    (typeof obj.minimumBidIncrement === 'bigint' || typeof obj.minimumBidIncrement === 'string' || typeof obj.minimumBidIncrement === 'number')\n  )\n}\n\nexport function isValidAgent(value: unknown): value is ValidatedAgent {\n  if (!value || typeof value !== 'object') return false\n  \n  const obj = value as Record<string, unknown>\n  \n  return Boolean(\n    typeof obj.address === 'string' &&\n    obj.data && typeof obj.data === 'object' &&\n    typeof (obj.data as Record<string, unknown>).name === 'string' &&\n    typeof obj.owner === 'string'\n  )\n}\n\nexport function isValidDisputeSummary(value: unknown): value is ValidatedDisputeSummary {\n  if (!value || typeof value !== 'object') return false\n  \n  const obj = value as Record<string, unknown>\n  \n  return (\n    typeof obj.dispute === 'string' &&\n    typeof obj.claimant === 'string' &&\n    typeof obj.respondent === 'string' &&\n    typeof obj.status === 'string' &&\n    typeof obj.evidenceCount === 'number'\n  )\n}\n\n// Validation functions that convert and validate\nexport function validateAndConvertAuction(value: unknown): ValidatedAuctionData | null {\n  if (!value || typeof value !== 'object') return null\n  \n  // Define expected SDK Auction structure\n  interface SDKAuction {\n    id: string\n    address: string\n    seller: string\n    currentBid?: bigint | number | string\n    startingPrice?: bigint | number | string\n    reservePrice?: bigint | number | string\n    endTime?: bigint | number | string\n    totalBids?: number\n    auctionType?: string\n    highestBidder?: string\n    status?: string\n  }\n  \n  const obj = value as SDKAuction\n  \n  // Check if this looks like an SDK Auction object\n  if (!obj.id || !obj.address || !obj.seller) return null\n  \n  // Map SDK Auction fields to ValidatedAuctionData fields\n  try {\n    return {\n      auction: obj.address as Address,\n      auctionType: obj.auctionType ?? 'unknown',\n      currentPrice: typeof obj.currentBid === 'bigint' ? obj.currentBid : BigInt(obj.currentBid ?? 0),\n      startingPrice: typeof obj.startingPrice === 'bigint' ? obj.startingPrice : BigInt(obj.startingPrice ?? obj.currentBid ?? 0),\n      reservePrice: obj.reservePrice ? (typeof obj.reservePrice === 'bigint' ? obj.reservePrice : BigInt(obj.reservePrice)) : undefined,\n      auctionEndTime: typeof obj.endTime === 'bigint' ? obj.endTime : BigInt(obj.endTime ?? Date.now() + 86400000),\n      totalBids: obj.totalBids ?? 0,\n      minimumBidIncrement: BigInt(1000000), // 0.001 SOL default\n      currentWinner: obj.highestBidder as Address | undefined,\n      creator: obj.seller as Address,\n      status: obj.status ?? 'active'\n    }\n  } catch (error) {\n    console.warn('Failed to convert auction data:', error)\n    return null\n  }\n}\n\n// Array validation functions\nexport function validateAuctionArray(value: unknown): ValidatedAuctionData[] {\n  if (!Array.isArray(value)) return []\n  \n  return value\n    .map(validateAndConvertAuction)\n    .filter((item): item is ValidatedAuctionData => item !== null)\n}\n\nexport function validateAgentArray(value: unknown): ValidatedAgent[] {\n  if (!Array.isArray(value)) return []\n  \n  return value.filter(isValidAgent)\n}\n\nexport function validateDisputeArray(value: unknown): ValidatedDisputeSummary[] {\n  if (!Array.isArray(value)) return []\n  \n  return value.filter(isValidDisputeSummary)\n}\n\n// Error type guards for safe error handling\nexport function isError(value: unknown): value is Error {\n  return value instanceof Error\n}\n\nexport function isErrorWithMessage(value: unknown): value is Error & { message: string } {\n  return isError(value) && typeof value.message === 'string'\n}\n\nexport function isErrorWithCode(value: unknown): value is Error & { code: string | number } {\n  return isError(value) && ('code' in value) && (typeof value.code === 'string' || typeof value.code === 'number')\n}\n\nexport function getErrorMessage(error: unknown): string {\n  if (isErrorWithMessage(error)) {\n    return error.message\n  }\n  if (typeof error === 'string') {\n    return error\n  }\n  return 'Unknown error'\n}\n\nexport function getErrorCode(error: unknown): string | number | undefined {\n  if (isErrorWithCode(error)) {\n    return error.code\n  }\n  return undefined\n}","/**\n * Safe SDK wrapper functions with proper error handling and type validation\n * This replaces unsafe SDK calls with validated, type-safe alternatives\n */\n\nimport { type Address } from '@solana/addresses'\nimport type { TransactionSigner } from '@solana/kit'\nimport type {\n  GhostSpeakClient,\n  AgentClient,\n  GovernanceClient,\n  CreateMultisigParams,\n  CreateProposalParams,\n  VoteParams\n} from '@ghostspeak/sdk'\nimport {\n  validateAgentArray,\n  type ValidatedAgent\n} from './type-guards.js'\n\n// Governance types\nexport interface ValidatedMultisig {\n  address: Address\n  name: string\n  members: Address[]\n  threshold: number\n  creator: Address\n  pendingProposals?: number\n}\n\nexport interface ValidatedProposal {\n  address: Address\n  title: string\n  description: string\n  type: string\n  status: string\n  creator: Address\n  votesFor?: number\n  votesAgainst?: number\n  threshold: number\n  deadline?: bigint\n}\n\n/**\n * Safe agent operations\n */\nexport class SafeAgentClient {\n  private agentClient: AgentClient | undefined\n\n  constructor(client: GhostSpeakClient) {\n    this.agentClient = client.agent\n  }\n\n  async listByOwner(params: { owner: Address }): Promise<ValidatedAgent[]> {\n    try {\n      if (!this.agentClient) return []\n      const result = await this.agentClient.listByOwner(params)\n      return validateAgentArray(result)\n    } catch (error) {\n      console.warn('Failed to list agents:', error instanceof Error ? error.message : String(error))\n      return []\n    }\n  }\n\n  async getAgentAccount(agentAddress: Address): Promise<any> {\n    try {\n      if (!this.agentClient) return null\n      // Try to get agent using SDK's get method\n      const result = await (this.agentClient as any).get?.(agentAddress)\n      return result || null\n    } catch (error) {\n      console.warn('Failed to get agent account:', error instanceof Error ? error.message : String(error))\n      return null\n    }\n  }\n}\n\n\n/**\n * Safe governance operations\n */\nexport class SafeGovernanceClient {\n  private governanceClient: GovernanceClient | undefined\n\n  constructor(client: GhostSpeakClient) {\n    this.governanceClient = client.governance\n  }\n\n  async createMultisig(signer: TransactionSigner, params: CreateMultisigParams): Promise<string | null> {\n    try {\n      if (!this.governanceClient) return null\n      const result = await this.governanceClient.createMultisig(signer, params)\n      return result.signature\n    } catch (error) {\n      console.warn('Failed to create multisig:', error instanceof Error ? error.message : String(error))\n      return null\n    }\n  }\n\n  async listMultisigs(params?: { creator?: Address }): Promise<ValidatedMultisig[]> {\n    try {\n      if (!this.governanceClient) return []\n      const result = await this.governanceClient.listMultisigs()\n      if (!Array.isArray(result)) return []\n      \n      // Filter by creator if provided\n      const filtered = params?.creator \n        ? result.filter(m => m.signers.includes(params.creator!))\n        : result\n      \n      return filtered.map(item => ({\n        address: item.address,\n        name: item.name,\n        members: item.signers,\n        threshold: item.threshold,\n        creator: item.signers[0] // Use first signer as creator\n      }))\n    } catch (error) {\n      console.warn('Failed to list multisigs:', error instanceof Error ? error.message : String(error))\n      return []\n    }\n  }\n\n  async createProposal(signer: TransactionSigner, params: CreateProposalParams): Promise<string | null> {\n    try {\n      if (!this.governanceClient) return null\n      const result = await this.governanceClient.createProposal(signer, params)\n      return result.signature\n    } catch (error) {\n      console.warn('Failed to create proposal:', error instanceof Error ? error.message : String(error))\n      return null\n    }\n  }\n\n  async listProposals(params?: { multisigAddress?: Address }): Promise<ValidatedProposal[]> {\n    try {\n      if (!this.governanceClient) return []\n      const result = await this.governanceClient.listProposals(params?.multisigAddress)\n      if (!Array.isArray(result)) return []\n      \n      return result.map(item => ({\n        address: item.address,\n        title: item.title,\n        description: item.description,\n        type: item.proposalType,\n        status: item.status,\n        creator: item.address, // Use proposal address as creator placeholder\n        votesFor: item.yesVotes,\n        votesAgainst: item.noVotes,\n        threshold: Math.ceil((item.eligibleVoters ?? 1) / 2), // Simple majority\n        deadline: BigInt(item.votingEndsAt)\n      }))\n    } catch (error) {\n      console.warn('Failed to list proposals:', error instanceof Error ? error.message : String(error))\n      return [] \n    }\n  }\n\n  async vote(signer: TransactionSigner, params: VoteParams): Promise<string | null> {\n    try {\n      if (!this.governanceClient) return null\n      const result = await this.governanceClient.vote(signer, params)\n      return result.signature\n    } catch (error) {\n      console.warn('Failed to vote:', error instanceof Error ? error.message : String(error))\n      return null\n    }\n  }\n\n  async grantRole(_params: Record<string, unknown>): Promise<string | null> {\n    // This method doesn't exist in SDK\n    return null\n  }\n\n  async revokeRole(_params: Record<string, unknown>): Promise<string | null> {\n    // This method doesn't exist in SDK\n    return null\n  }\n}\n\n/**\n * Safe ghost operations\n */\nexport class SafeGhostClient {\n  private client: GhostSpeakClient\n\n  constructor(client: GhostSpeakClient) {\n    this.client = client\n  }\n\n  async getGhost(ghostAddress: Address): Promise<any> {\n    try {\n      return await this.client.ghosts.getGhostAgent(ghostAddress)\n    } catch (error) {\n      console.warn('Failed to get ghost:', error instanceof Error ? error.message : String(error))\n      return null\n    }\n  }\n\n  async getAllGhosts(): Promise<any[]> {\n    try {\n      return await this.client.ghosts.getAllGhosts()\n    } catch (error) {\n      console.warn('Failed to get all ghosts:', error instanceof Error ? error.message : String(error))\n      return []\n    }\n  }\n\n  async getGhostsByType(agentType: number = 10): Promise<any[]> {\n    try {\n      return await this.client.ghosts.getGhostsByType(agentType)\n    } catch (error) {\n      console.warn('Failed to get ghosts by type:', error instanceof Error ? error.message : String(error))\n      return []\n    }\n  }\n\n  async getClaimedGhosts(owner: Address): Promise<any[]> {\n    try {\n      return await this.client.ghosts.getClaimedGhosts(owner)\n    } catch (error) {\n      console.warn('Failed to get claimed ghosts:', error instanceof Error ? error.message : String(error))\n      return []\n    }\n  }\n}\n\n/**\n * Safe multisig operations\n */\nexport class SafeMultisigClient {\n  private client: GhostSpeakClient\n\n  constructor(client: GhostSpeakClient) {\n    this.client = client\n  }\n\n  async createMultisig(params: { owner: TransactionSigner; multisigId: bigint; threshold: number; signers: Address[] }): Promise<string> {\n    const result = await this.client.multisigModule.createMultisig(params)\n    return result\n  }\n\n  async createProposal(params: any): Promise<string> {\n    const result = await this.client.multisigModule.createProposal(params)\n    return result\n  }\n\n  async executeProposal(params: { proposalAddress: Address; executor: TransactionSigner; targetProgram: Address }): Promise<string> {\n    const result = await this.client.multisigModule.executeProposal(params)\n    return result\n  }\n\n  async getMultisig(multisigAddress: Address): Promise<any> {\n    return await this.client.multisigModule.getMultisig(multisigAddress)\n  }\n\n  async getMultisigsByCreator(creator: Address): Promise<any[]> {\n    return await this.client.multisigModule.getMultisigsByCreator(creator)\n  }\n\n  get programId(): Address {\n    return this.client.programId\n  }\n}\n\n/**\n * Safe authorization operations\n */\nexport class SafeAuthorizationClient {\n  private client: GhostSpeakClient\n\n  constructor(client: GhostSpeakClient) {\n    this.client = client\n  }\n\n  async createAuthorization(params: { signer: TransactionSigner; agentAddress: Address; authorizedSource: Address; indexLimit: bigint; expiresAt: bigint; network: string }): Promise<string> {\n    const result = await this.client.authorization.createAuthorization(params)\n    return result\n  }\n\n  async revokeAuthorization(params: { signer: TransactionSigner; agentAddress: Address; authorizedSource: Address }): Promise<string> {\n    const result = await this.client.authorization.revokeAuthorization(params)\n    return result\n  }\n\n  async getAuthorization(authAddress: Address): Promise<any> {\n    return await this.client.authorization.getAuthorization(authAddress)\n  }\n\n  async getAuthorizationsByAgent(agentAddress: Address): Promise<any[]> {\n    return await this.client.authorization.getAuthorizationsByAgent(agentAddress)\n  }\n\n  get programId(): Address {\n    return this.client.programId\n  }\n}\n\n/**\n * Main safe SDK client wrapper\n */\nexport class SafeSDKClient {\n  public readonly agent: SafeAgentClient\n  public readonly governance: SafeGovernanceClient\n  public readonly ghosts: SafeGhostClient\n  public readonly multisigModule: SafeMultisigClient\n  public readonly authorization: SafeAuthorizationClient\n  private client: GhostSpeakClient\n\n  constructor(client: GhostSpeakClient) {\n    this.client = client\n    this.agent = new SafeAgentClient(client)\n    this.governance = new SafeGovernanceClient(client)\n    this.ghosts = new SafeGhostClient(client)\n    this.multisigModule = new SafeMultisigClient(client)\n    this.authorization = new SafeAuthorizationClient(client)\n  }\n\n  get programId(): Address {\n    return this.client.programId\n  }\n\n  get governanceModule() {\n    return this.client.governanceModule\n  }\n}\n\n/**\n * Create a safe SDK client wrapper\n */\nexport function createSafeSDKClient(client: GhostSpeakClient): SafeSDKClient {\n  return new SafeSDKClient(client)\n}","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","/**\n * Convex client for querying indexed agent data\n *\n * Note: This module uses generic Convex API calls to avoid build-time dependencies\n * on generated Convex types from the web app.\n */\n\nimport { ConvexHttpClient } from 'convex/browser'\n\nlet convexClient: ConvexHttpClient | null = null\n\n/**\n * Get or create Convex client instance\n */\nexport function getConvexClient(): ConvexHttpClient {\n  if (!convexClient) {\n    const convexUrl = process.env.CONVEX_URL || process.env.NEXT_PUBLIC_CONVEX_URL\n\n    if (!convexUrl) {\n      throw new Error(\n        'CONVEX_URL not configured. Please set CONVEX_URL environment variable.'\n      )\n    }\n\n    convexClient = new ConvexHttpClient(convexUrl)\n  }\n\n  return convexClient\n}\n\n/**\n * Query discovered agents from Convex indexer\n */\nexport async function queryDiscoveredAgents(params?: {\n  status?: 'discovered' | 'claimed' | 'verified'\n  limit?: number\n}) {\n  const client = getConvexClient()\n\n  // Use generic query - API endpoint name as string\n  return await (client as any).query('ghostDiscovery:listDiscoveredAgents', {\n    status: params?.status,\n    limit: params?.limit || 100,\n  })\n}\n\n/**\n * Get discovery statistics\n */\nexport async function getDiscoveryStats() {\n  const client = getConvexClient()\n  return await (client as any).query('ghostDiscovery:getDiscoveryStats')\n}\n\n/**\n * Get agent by address\n */\nexport async function getDiscoveredAgent(ghostAddress: string) {\n  const client = getConvexClient()\n  return await (client as any).query('ghostDiscovery:getDiscoveredAgent', {\n    ghostAddress,\n  })\n}\n\n/**\n * Get external ID mappings for an agent\n */\nexport async function getExternalIdMappings(ghostAddress: string) {\n  const client = getConvexClient()\n  return await (client as any).query('ghostDiscovery:getExternalIdMappings', {\n    ghostAddress,\n  })\n}\n\n/**\n * Resolve external ID to Ghost address\n */\nexport async function resolveExternalId(platform: string, externalId: string) {\n  const client = getConvexClient()\n  return await (client as any).query('ghostDiscovery:resolveExternalId', {\n    platform,\n    externalId,\n  })\n}\n\n/**\n * Mark an agent as claimed in Convex database\n */\nexport async function markGhostClaimed(\n  ghostAddress: string,\n  claimedBy: string,\n  claimTxSignature?: string\n) {\n  const client = getConvexClient()\n  return await (client as any).mutation('ghostDiscovery:claimAgent', {\n    ghostAddress,\n    claimedBy,\n    claimTxSignature,\n  })\n}\n\n/**\n * Get Ghost Score for an agent\n */\nexport async function getGhostScore(agentAddress: string) {\n  const client = getConvexClient()\n  return await (client as any).query('ghostScoreCalculator:calculateAgentScore', {\n    agentAddress,\n  })\n}\n","import { \n  text, \n  multiselect, \n  confirm,\n  select,\n  isCancel,\n  cancel\n} from '@clack/prompts'\nimport chalk from 'chalk'\nimport { URL } from 'node:url'\n\nexport interface AgentData {\n  name: string\n  description: string\n  capabilities: string[]\n  metadataUri: string\n  serviceEndpoint: string\n  merkleTree?: string\n}\n\nexport async function registerAgentPrompts(options: { name?: string; description?: string; capabilities?: string; category?: string; endpoint?: string; metadata?: boolean; yes?: boolean; type?: string }): Promise<AgentData> {\n  // Agent name\n  const name = options.name ?? await text({\n    message: 'What is your agent\\'s name?',\n    placeholder: 'e.g., DataAnalyzer Pro',\n    validate: (value) => {\n      if (!value) return 'Agent name is required'\n      if (value.length < 3) return 'Agent name must be at least 3 characters'\n      if (value.length > 50) return 'Agent name must be less than 50 characters'\n    }\n  })\n\n  if (isCancel(name)) {\n    cancel('Agent registration cancelled')\n    process.exit(0)\n  }\n\n  // Agent description\n  const description = options.description ?? await text({\n    message: 'Describe what your agent does:',\n    placeholder: 'e.g., Analyzes data and generates insights for businesses',\n    validate: (value) => {\n      if (!value) return 'Description is required'\n      if (value.length < 10) return 'Description must be at least 10 characters'\n      if (value.length > 500) return 'Description must be less than 500 characters'\n    }\n  })\n\n  if (isCancel(description)) {\n    cancel('Agent registration cancelled')\n    process.exit(0)\n  }\n\n  // Agent capabilities\n  let capabilities: string[]\n  if (options.capabilities) {\n    capabilities = options.capabilities.split(',').map(c => c.trim())\n  } else {\n    const result = await multiselect({\n      message: 'Select your agent\\'s capabilities:',\n      options: [\n        { value: 'data-analysis', label: ' Data Analysis & Insights' },\n        { value: 'writing', label: '  Content Writing & Editing' },\n        { value: 'coding', label: ' Programming & Development' },\n        { value: 'translation', label: ' Language Translation' },\n        { value: 'image-processing', label: '  Image Processing & AI Vision' },\n        { value: 'automation', label: ' Task Automation & Workflows' },\n        { value: 'research', label: ' Research & Information Gathering' },\n        { value: 'customer-service', label: ' Customer Service & Support' },\n        { value: 'financial-analysis', label: ' Financial Analysis & Trading' },\n        { value: 'content-moderation', label: '  Content Moderation' }\n      ],\n      required: true\n    })\n\n    if (isCancel(result)) {\n      cancel('Agent registration cancelled')\n      process.exit(0)\n    }\n    \n    capabilities = result as string[]\n  }\n\n  // Service endpoint\n  const serviceEndpoint = options.endpoint ?? await text({\n    message: 'Enter your agent\\'s service endpoint URL:',\n    placeholder: 'https://api.your-agent.com/v1',\n    validate: (value) => {\n      if (!value) return 'Service endpoint is required'\n      try {\n        new URL(value)\n        return undefined\n      } catch {\n        return 'Please enter a valid URL'\n      }\n    }\n  })\n\n  if (isCancel(serviceEndpoint)) {\n    cancel('Agent registration cancelled')\n    process.exit(0)\n  }\n\n  // Agent Type Selection\n  let agentType = options.type || 'standard' // Default to 'standard' if not provided\n\n  if (!options.type) {\n    const selectedType = await select({\n      message: 'Select Agent Type:',\n      options: [\n        { value: 'standard', label: 'Standard Agent', hint: 'Best for most use cases (Mutable, On-chain Reputation)' },\n        { value: 'compressed', label: 'Compressed Agent', hint: 'Lower cost, requires Merkle Tree (Optimized)' }\n      ]\n    })\n\n    if (isCancel(selectedType)) {\n      cancel('Agent registration cancelled')\n      process.exit(0)\n    }\n\n    agentType = selectedType as string\n  }\n\n  // Merkle Tree Address (only if compressed)\n  let merkleTree: string | undefined\n  if (agentType === 'compressed') {\n    merkleTree = await text({\n      message: 'Enter Merkle Tree Address:',\n      placeholder: 'Base58 address...',\n      validate: (value) => {\n        if (!value) return 'Merkle Tree address is required for compressed agents'\n        if (value.length < 32) return 'Invalid address length'\n      }\n    }) as string\n\n    if (isCancel(merkleTree)) {\n      cancel('Agent registration cancelled')\n      process.exit(0)\n    }\n  }\n\n  // Metadata URI (optional)\n  const hasMetadata = options.metadata === false ? false : \n    options.metadata === true ? true :\n    await confirm({\n      message: 'Do you have additional metadata to link? (JSON file with detailed specs)'\n    })\n\n  if (typeof hasMetadata !== 'boolean' && isCancel(hasMetadata)) {\n    cancel('Agent registration cancelled')\n    process.exit(0)\n  }\n\n  let metadataUri = ''\n  if (hasMetadata) {\n    const uri = await text({\n      message: 'Enter metadata URI:',\n      placeholder: 'https://your-site.com/agent-metadata.json',\n      validate: (value) => {\n        if (!value) return 'Metadata URI is required when metadata is enabled'\n        try {\n          new URL(value)\n          return undefined\n        } catch {\n          return 'Please enter a valid URL'\n        }\n      }\n    })\n\n    if (isCancel(uri)) {\n      cancel('Agent registration cancelled')\n      process.exit(0)\n    }\n\n    metadataUri = uri\n  }\n\n  // Confirmation\n  console.log('\\n' + chalk.bold(' Registration Summary:'))\n  console.log(''.repeat(40))\n  console.log(chalk.cyan('Name:') + ` ${name}`)\n  console.log(chalk.cyan('Description:') + ` ${description}`)\n  console.log(chalk.cyan('Capabilities:') + ` ${capabilities.join(', ')}`)\n  console.log(chalk.cyan('Endpoint:') + ` ${serviceEndpoint}`)\n  if (metadataUri) {\n    console.log(chalk.cyan('Metadata:') + ` ${metadataUri}`)\n  }\n\n  const confirmed = options.yes ? true : await confirm({\n    message: 'Register this agent on the blockchain?'\n  })\n\n  if (!options.yes && (isCancel(confirmed) || !confirmed)) {\n    cancel('Agent registration cancelled')\n    process.exit(0)\n  }\n\n  return {\n    name,\n    description,\n    capabilities,\n    metadataUri,\n    serviceEndpoint,\n    merkleTree: merkleTree as string\n  }\n}","/**\n * Shared utilities for agent commands\n */\n\nimport { promises as fs, existsSync, readdirSync, readFileSync } from 'fs'\nimport { join } from 'path'\nimport { homedir } from 'os'\nimport type { Address } from '@solana/addresses'\nimport type { AgentAnalytics } from '@ghostspeak/sdk'\nimport chalk from 'chalk'\n// AgentCredentials type imported but not used directly in current implementation\n\n/**\n * Store a pending information request for an agent (non-blocking async)\n */\nexport async function storePendingInfoRequest(\n  agentAddress: string, \n  request: string, \n  requesterAddress: Address\n): Promise<void> {\n  const requestsDir = join(homedir(), '.ghostspeak', 'pending-requests')\n  \n  try {\n    await fs.access(requestsDir)\n  } catch (error) {\n    await fs.mkdir(requestsDir, { recursive: true })\n  }\n  \n  const requestData = {\n    agentAddress,\n    request,\n    requesterAddress: requesterAddress.toString(),\n    timestamp: Date.now(),\n    status: 'pending'\n  }\n  \n  const requestFile = join(requestsDir, `${agentAddress}-${Date.now()}.json`)\n  \n  // Use setImmediate to prevent blocking main thread\n  await new Promise<void>((resolve, reject) => {\n    setImmediate(async () => {\n      try {\n        await fs.writeFile(requestFile, JSON.stringify(requestData, null, 2))\n        resolve()\n      } catch (error) {\n        reject(error)\n      }\n    })\n  })\n}\n\n/**\n * Get pending information requests for an agent\n */\ninterface InfoRequest {\n  type: string\n  agentAddress: string\n  requestedBy: string\n  timestamp: number\n  status: string\n}\n\nexport function getPendingInfoRequests(agentAddress: string): InfoRequest[] {\n  const requestsDir = join(homedir(), '.ghostspeak', 'pending-requests')\n  \n  if (!existsSync(requestsDir)) {\n    return []\n  }\n  \n  try {\n    const files = readdirSync(requestsDir) as string[]\n    const requests: InfoRequest[] = []\n    \n    for (const file of files) {\n      if (typeof file === 'string' && file.startsWith(agentAddress)) {\n        const requestData = JSON.parse(readFileSync(join(requestsDir, file), 'utf-8')) as InfoRequest\n        requests.push(requestData)\n      }\n    }\n    \n    return requests.sort((a, b) => b.timestamp - a.timestamp)\n  } catch (error) {\n    return []\n  }\n}\n\n/**\n * Format agent analytics for display\n */\nexport function formatAnalytics(analytics: AgentAnalytics): string[] {\n  return [\n    `Total Earnings: ${analytics.totalEarnings} SOL`,\n    `Jobs Completed: ${analytics.completedJobs}`,\n    `Success Rate: ${(analytics.successRate * 100).toFixed(1)}%`,\n    `Average Rating: ${analytics.averageRating.toFixed(1)}/5.0`,\n    `Total Transactions: ${analytics.totalJobs}`,\n    `Active Jobs: ${analytics.activeJobs}`\n  ]\n}\n\n/**\n * Validate agent registration parameters\n */\nexport function validateAgentParams(params: {\n  name?: string\n  description?: string\n  capabilities?: string[]\n  category?: string\n  pricing?: {\n    amount: number\n    currency?: string\n  }\n}): string | null {\n  if (!params.name || params.name.length < 3) {\n    return 'Agent name must be at least 3 characters long'\n  }\n  \n  if (!params.description || params.description.length < 10) {\n    return 'Agent description must be at least 10 characters long'\n  }\n  \n  if (!params.capabilities || params.capabilities.length === 0) {\n    return 'Agent must have at least one capability'\n  }\n  \n  if (params.capabilities.some(cap => cap.length < 2)) {\n    return 'Each capability must be at least 2 characters long'\n  }\n  \n  return null\n}\n\n/**\n * Format agent display information\n */\ninterface AgentData {\n  name?: string\n  address?: { toString(): string }\n  description?: string\n  capabilities?: string[]\n  isActive?: boolean\n  createdAt?: number | bigint\n}\n\nexport function formatAgentInfo(agent: AgentData): {\n  name: string\n  address: string\n  description: string\n  capabilities: string\n  status: string\n  created: string\n} {\n  return {\n    name: agent.name ?? 'Unknown',\n    address: agent.address ? agent.address.toString().slice(0, 8) + '...' + agent.address.toString().slice(-8) : 'Unknown',\n    description: agent.description ?? 'No description',\n    capabilities: Array.isArray(agent.capabilities) ? agent.capabilities.join(', ') : 'None',\n    status: agent.isActive ? 'Active' : 'Inactive',\n    created: agent.createdAt ? new Date(Number(agent.createdAt)).toLocaleDateString() : 'Unknown'\n  }\n}\n\n/**\n * Check if a URL is valid\n */\nexport function isValidUrl(string: string): boolean {\n  try {\n    new URL(string)\n    return true\n  } catch (error) {\n    return false\n  }\n}\n\n/**\n * Type for a newly registered agent's data.\n */\nexport interface RegisteredAgent {\n  name: string;\n  description: string;\n  capabilities: string[];\n  id: string;\n  address: {\n    toString(): string;\n  };\n}\n\n/**\n * Displays the information for a newly registered agent.\n * @param agent The agent data to display.\n */\nexport function displayRegisteredAgentInfo(agent: RegisteredAgent): void {\n  console.log('\\n' + chalk.green(' Your agent has been registered!'))\n  console.log(chalk.gray(`Name: ${agent.name}`))\n  console.log(chalk.gray(`Description: ${agent.description}`))\n  console.log(chalk.gray(`Capabilities: ${agent.capabilities.join(', ')}`))\n  console.log(chalk.gray(`Agent ID: ${agent.id}`))\n  console.log(chalk.gray(`Agent Address: ${agent.address.toString()}`))\n  console.log('')\n  console.log(chalk.yellow(' Agent data stored locally'))\n  console.log(chalk.yellow(' Use your agent ID for future operations:'))\n  console.log(chalk.gray(`   ${agent.id}`))\n}","/**\n * Dependency injection container for service management\n */\n\nexport class Container {\n  private static instance: Container | undefined\n  private services = new Map<string, unknown>()\n  private factories = new Map<string, () => unknown>()\n  private singletonCache = new Map<string, unknown>()\n  private creationTime = new Map<string, number>()\n\n  /**\n   * Get singleton instance\n   */\n  static getInstance(): Container {\n    return (Container.instance ??= new Container())\n  }\n\n  /**\n   * Register a service factory\n   */\n  register<T>(token: string, factory: () => T): void {\n    this.factories.set(token, factory)\n  }\n\n  /**\n   * Register a singleton service instance\n   */\n  registerSingleton<T>(token: string, instance: T): void {\n    this.services.set(token, instance)\n  }\n\n  /**\n   * Resolve a service by token with enhanced caching\n   */\n  resolve<T>(token: string): T {\n    // Check singleton cache first for best performance\n    if (this.singletonCache.has(token)) {\n      return this.singletonCache.get(token) as T\n    }\n\n    // Check if singleton instance exists\n    if (this.services.has(token)) {\n      const instance = this.services.get(token) as T\n      this.singletonCache.set(token, instance)\n      return instance\n    }\n\n    // Check if factory exists\n    if (this.factories.has(token)) {\n      const factory = this.factories.get(token)!\n      const startTime = Date.now()\n      const instance = factory()\n      const endTime = Date.now()\n      \n      // Cache as singleton with performance tracking\n      this.services.set(token, instance)\n      this.singletonCache.set(token, instance)\n      this.creationTime.set(token, endTime - startTime)\n      \n      return instance as T\n    }\n\n    throw new Error(`Service not registered: ${token}`)\n  }\n\n  /**\n   * Get a service by token (alias for resolve)\n   */\n  get<T>(token: string): T {\n    return this.resolve<T>(token)\n  }\n\n  /**\n   * Check if a service is registered\n   */\n  has(token: string): boolean {\n    return this.services.has(token) || this.factories.has(token)\n  }\n\n  /**\n   * Clear all services (useful for testing)\n   */\n  clear(): void {\n    this.services.clear()\n    this.factories.clear()\n    this.singletonCache.clear()\n    this.creationTime.clear()\n  }\n\n  /**\n   * Get performance metrics for service creation\n   */\n  getPerformanceMetrics(): Record<string, number> {\n    const metrics: Record<string, number> = {}\n    this.creationTime.forEach((time, token) => {\n      metrics[token] = time\n    })\n    return metrics\n  }\n\n  /**\n   * Warm up services by pre-creating frequently used ones\n   */\n  warmUp(tokens: string[]): void {\n    tokens.forEach(token => {\n      try {\n        this.resolve(token)\n      } catch (error) {\n        // Ignore errors during warm-up\n      }\n    })\n  }\n\n  /**\n   * Get all registered service tokens\n   */\n  getRegisteredTokens(): string[] {\n    return [\n      ...Array.from(this.services.keys()),\n      ...Array.from(this.factories.keys())\n    ]\n  }\n}\n\n// Global container instance\nexport const container = new Container()\n\n// Service tokens for type safety\nexport const ServiceTokens = {\n  LOGGER_SERVICE: 'LoggerService',\n  AGENT_SERVICE: 'AgentService',\n  WALLET_SERVICE: 'WalletService',\n  BLOCKCHAIN_SERVICE: 'BlockchainService',\n  STORAGE_SERVICE: 'StorageService'\n} as const\n\nexport type ServiceToken = typeof ServiceTokens[keyof typeof ServiceTokens]","/**\n * Agent registration command\n */\n\nimport type { Command } from 'commander'\nimport chalk from 'chalk'\nimport { \n  intro, \n  outro, \n  spinner,\n  isCancel,\n  cancel\n} from '@clack/prompts'\nimport { registerAgentPrompts } from '../../prompts/agent.js'\nimport type { RegisterOptions } from '../../types/cli-types.js'\nimport { validateAgentParams, displayRegisteredAgentInfo } from '../agent/helpers.js'\nimport { container, ServiceTokens } from '../../core/Container.js'\nimport type { IAgentService } from '../../types/services.js'\nimport { LoggerService } from '../../core/logger.js'\n\nexport function registerRegisterCommand(parentCommand: Command): void {\n  parentCommand\n    .command('register')\n    .description('Register a new AI agent')\n    .option('-n, --name <name>', 'Agent name')\n    .option('-d, --description <description>', 'Agent description')\n    .option('-c, --capabilities <capabilities>', 'Comma-separated list of capabilities (e.g. automation,coding)')\n    .option('--endpoint <endpoint>', 'Service endpoint URL')\n    .option('-t, --type <type>', 'Agent type: standard or compressed (default: standard)')\n    .option('--no-metadata', 'Skip metadata URI prompt')\n    .option('-y, --yes', 'Skip confirmation prompt')\n    .action(async (_options: RegisterOptions) => {\n      const logger = container.resolve<LoggerService>(ServiceTokens.LOGGER_SERVICE)\n      logger.info('Starting agent registration command')\n      intro(chalk.cyan(' Register New AI Agent'))\n\n      try {\n        const agentData = await registerAgentPrompts(_options)\n        \n        if (isCancel(agentData)) {\n          logger.warn('Agent registration cancelled by user during prompts.')\n          cancel('Agent registration cancelled')\n          return\n        }\n\n        logger.info('User prompts completed', { agentData: { ...agentData, capabilities: agentData.capabilities.join(',') } })\n\n        // Validate agent parameters\n        const validationError = validateAgentParams({\n          name: agentData.name,\n          description: agentData.description,\n          capabilities: agentData.capabilities\n        })\n        \n        if (validationError) {\n          logger.error('Agent parameter validation failed', new Error(validationError))\n          cancel(chalk.red(validationError))\n          return\n        }\n\n        // Get AgentService from container\n        const agentService = container.resolve<IAgentService>(ServiceTokens.AGENT_SERVICE)\n        logger.info('AgentService resolved from container')\n\n        const s = spinner()\n        s.start('Registering agent...')\n        \n        try {\n          // Use service layer to register agent\n          const agent = await agentService.register({\n            name: agentData.name,\n            description: agentData.description,\n            capabilities: agentData.capabilities,\n            category: agentData.capabilities[0] || 'automation',\n            merkleTree: agentData.merkleTree,\n            metadata: {\n              serviceEndpoint: agentData.serviceEndpoint\n            }\n          })\n          \n          s.stop(' Agent registered successfully!')\n          logger.info('Agent registered successfully', { agentId: agent.id })\n          \n          displayRegisteredAgentInfo(agent)\n          \n          outro('Agent registration completed')\n        } catch (error) {\n          s.stop(' Registration failed')\n          throw error // Rethrow to be caught by outer catch\n        }\n\n      } catch (error) {\n        logger.handleError(error, 'Agent registration failed')\n        outro(chalk.red('Operation failed'))\n      }\n    })\n}","/**\n * Service interface definitions for dependency injection and testing\n */\n\nimport type { Address } from '@solana/addresses'\nimport type { KeyPairSigner } from '@solana/kit'\nimport type { LoggerService as Logger } from '../core/logger'\n\n// Standardized Error Types\nexport class ServiceError extends Error {\n  constructor(\n    message: string,\n    public code: string,\n    public suggestion?: string,\n    public canRetry = false\n  ) {\n    super(message)\n    this.name = 'ServiceError'\n  }\n}\n\nexport class ValidationError extends ServiceError {\n  constructor(message: string, suggestion?: string) {\n    super(message, 'VALIDATION_ERROR', suggestion, false)\n    this.name = 'ValidationError'\n  }\n}\n\nexport class NotFoundError extends ServiceError {\n  constructor(resource: string, id: string) {\n    super(`${resource} not found: ${id}`, 'NOT_FOUND', `Check that the ${resource.toLowerCase()} ID is correct`, false)\n    this.name = 'NotFoundError'\n  }\n}\n\nexport class NetworkError extends ServiceError {\n  constructor(message: string, suggestion?: string) {\n    super(message, 'NETWORK_ERROR', suggestion ?? 'Check your network connection and try again', true)\n    this.name = 'NetworkError'\n  }\n}\n\nexport class UnauthorizedError extends ServiceError {\n  constructor(message = 'Unauthorized access') {\n    super(message, 'UNAUTHORIZED', 'Make sure you have permission to perform this action', false)\n    this.name = 'UnauthorizedError'\n  }\n}\n\n// Core business types\nexport interface Agent {\n  id: string\n  address: Address\n  name: string\n  description: string\n  capabilities: string[]\n  owner: Address\n  isActive: boolean\n  reputationScore: number\n  createdAt: bigint\n  updatedAt: bigint\n  metadata?: Record<string, unknown>\n}\n\n\nexport interface WalletInfo {\n  address: Address\n  name: string\n  network: string\n  balance?: bigint\n  metadata: Record<string, unknown>\n}\n\n// Service interfaces\nexport interface IAgentService {\n  register(params: RegisterAgentParams): Promise<Agent>\n  list(params: ListAgentsParams): Promise<Agent[]>\n  getById(agentId: string): Promise<Agent | null>\n  update(agentId: string, updates: UpdateAgentParams): Promise<Agent>\n  deactivate(agentId: string): Promise<void>\n  getAnalytics(agentId: string): Promise<AgentAnalytics>\n  configurePayAI(agentId: string, params: PayAIConfigParams): Promise<Agent>\n}\n\nexport interface PayAIConfigParams {\n  enabled: boolean\n  pricePerCall: number\n  apiKey: string\n  webhookUrl?: string\n}\n\n\nexport interface IWalletService {\n  createWalletInterface(name: string, network: string): Promise<{ wallet: WalletInfo; mnemonic: string }>\n  importWalletInterface(name: string, mnemonic: string, network: string): Promise<WalletInfo>\n  listWalletsInterface(): Promise<WalletInfo[]>\n  getActiveWalletInterface(): WalletInfo | null\n  setActiveWalletInterface(name: string): Promise<void>\n  getBalanceInterface(address: Address): Promise<bigint>\n  getActiveSigner(): Promise<KeyPairSigner | null>\n  signTransaction(signer: KeyPairSigner, transaction: unknown): Promise<string>\n}\n\nexport interface IBlockchainService {\n  getClient(network: string): Promise<unknown>\n  sendTransaction(serializedTransaction: string): Promise<string>\n  confirmTransaction(signature: string): Promise<boolean>\n  getAccountInfo(address: Address): Promise<{\n    address: string;\n    balance: bigint;\n    owner: string;\n    executable: boolean;\n    rentEpoch: bigint;\n    data?: Uint8Array;\n  } | null>\n  requestAirdrop(address: Address, amount: number): Promise<string>\n}\n\n// Parameter types\nexport interface RegisterAgentParams {\n  name: string\n  description: string\n  capabilities: string[]\n  category?: string\n  pricing?: {\n    hourlyRate?: number\n    fixedRate?: number\n  }\n  metadata?: Record<string, unknown>\n  merkleTree?: string\n}\n\nexport interface ListAgentsParams {\n  owner?: Address\n  category?: string\n  isActive?: boolean\n  limit?: number\n  offset?: number\n}\n\nexport interface UpdateAgentParams {\n  name?: string\n  description?: string\n  capabilities?: string[]\n  isActive?: boolean\n  metadata?: Record<string, unknown>\n}\n\n\nexport interface AgentAnalytics {\n  totalJobs: number\n  completedJobs: number\n  averageRating: number\n  totalEarnings: bigint\n  responseTime: number\n  successRate: number\n  categories: string[]\n}\n\n// Service dependencies\nexport interface AgentServiceDependencies {\n  logger: Logger\n  blockchainService: IBlockchainService\n  walletService: IWalletService\n  storageService: IStorageService\n}\n\n\nexport interface IStorageService {\n  save<T>(key: string, data: T): Promise<void>\n  load<T>(key: string): Promise<T | null>\n  delete(key: string): Promise<void>\n  exists(key: string): Promise<boolean>\n}","/**\n * Standardized error handling utilities for CLI commands\n */\n\nimport chalk from 'chalk'\nimport { cancel } from '@clack/prompts'\nimport { \n  ServiceError, \n  ValidationError, \n  NotFoundError, \n  NetworkError, \n  UnauthorizedError \n} from '../types/services.js'\n\n/**\n * Enhanced error information with actionable suggestions\n */\nexport interface ErrorInfo {\n  message: string\n  suggestion: string\n  actions: string[]\n  canRetry: boolean\n}\n\n/**\n * Handle service errors with user-friendly messages and suggestions\n */\nexport function handleServiceError(error: unknown): ErrorInfo {\n  // Handle our standardized service errors\n  if (error instanceof ServiceError) {\n    let actions: string[] = []\n    \n    if (error instanceof ValidationError) {\n      actions = ['Review the input parameters', 'Check the command help for usage examples']\n    } else if (error instanceof NotFoundError) {\n      actions = ['Verify the ID is correct', 'List available items to find the right one']\n    } else if (error instanceof NetworkError) {\n      actions = ['Check network connection', 'Verify Solana RPC endpoint is accessible']\n    } else if (error instanceof UnauthorizedError) {\n      actions = ['Check wallet permissions', 'Ensure you own the resource you\\'re trying to modify']\n    }\n    \n    return {\n      message: error.message,\n      suggestion: error.suggestion ?? 'Please try again',\n      actions,\n      canRetry: error.canRetry\n    }\n  }\n  \n  // Handle unknown errors\n   \n  const message = error instanceof Error ? error.message : 'Unknown error occurred'\n  return {\n    message,\n    suggestion: 'This is an unexpected error. Please try again or contact support',\n    actions: ['Try the command again', 'Check the loghost for more details'],\n    canRetry: true\n  }\n}\n\n/**\n * Display error with formatted output and cancel the operation\n */\nexport function displayErrorAndCancel(error: unknown, operation = 'Operation'): void {\n  const errorInfo = handleServiceError(error)\n  \n  console.log('')\n  console.log(chalk.red(' ' + operation + ' failed'))\n  console.log(chalk.red('Error: ' + errorInfo.message))\n  \n  if (errorInfo.suggestion) {\n    console.log('')\n    console.log(chalk.yellow(' Suggestion: ' + errorInfo.suggestion))\n  }\n  \n  if (errorInfo.actions.length > 0) {\n    console.log('')\n    console.log(chalk.cyan(' What you can do:'))\n    errorInfo.actions.forEach(action => {\n      console.log(chalk.gray('   ' + action))\n    })\n  }\n  \n  if (errorInfo.canRetry) {\n    console.log('')\n    console.log(chalk.blue(' You can try this command again'))\n  }\n  \n  cancel(chalk.red(operation + ' cancelled'))\n}\n\n/**\n * Wrap async command functions with standardized error handling\n */\nexport function withErrorHandling<T extends unknown[], R>(\n  fn: (...args: T) => Promise<R>,\n  operation = 'Operation'\n) {\n  return async (...args: T): Promise<R> => {\n    try {\n      return await fn(...args)\n    } catch (error) {\n      displayErrorAndCancel(error, operation)\n      throw error // This will never be reached due to process.exit in cancel()\n    }\n  }\n}\n\n/**\n * Create user-friendly error messages for common scenarios\n */\nexport const ErrorMessages = {\n  NO_WALLET: 'No active wallet found. Create or select a wallet first.',\n  NETWORK_UNAVAILABLE: 'Unable to connect to Solana network. Check your connection.',\n  INSUFFICIENT_FUNDS: 'Insufficient SOL balance for this transaction.',\n  INVALID_ADDRESS: 'Invalid Solana address format.',\n  AGENT_NOT_FOUND: 'Agent not found. Check the agent ID is correct.',\n  UNAUTHORIZED_ACCESS: 'You don\\'t have permission to perform this action.',\n  VALIDATION_FAILED: 'Input validation failed. Check your parameters.'\n} as const","/**\n * Agent list command\n */\n\nimport type { Command } from 'commander'\nimport chalk from 'chalk'\nimport { \n  intro, \n  outro, \n  spinner\n} from '@clack/prompts'\nimport type { ListOptions } from '../../types/cli-types.js'\nimport { formatAgentInfo } from '../agent/helpers.js'\nimport { container, ServiceTokens } from '../../core/Container.js'\nimport type { IAgentService } from '../../types/services.js'\nimport { displayErrorAndCancel } from '../../utils/enhanced-error-handler.js'\n\nexport function registerListCommand(parentCommand: Command): void {\n  parentCommand\n    .command('list')\n    .description('List all registered agents')\n    .option('--limit <limit>', 'Maximum number of agents to display', '10')\n    .action(async (options: ListOptions) => {\n      intro(chalk.cyan(' List Registered Agents'))\n\n      const s = spinner()\n      s.start('Fetching agents...')\n      \n      try {\n        // Get AgentService from container\n        const agentService = container.resolve<IAgentService>(ServiceTokens.AGENT_SERVICE)\n        \n        // Fetch agents using service layer\n        const agents = await agentService.list({\n          limit: parseInt(options.limit)\n        })\n        \n        s.stop(' Agents loaded')\n\n        if (agents.length === 0) {\n          console.log('\\n' + chalk.yellow('No agents found'))\n          outro('Try registering an agent with: npx ghostspeak agent register')\n          return\n        }\n\n        console.log('\\n' + chalk.bold(`Available Agents (${agents.length}):`))\n        console.log(''.repeat(60))\n\n        agents.forEach((agent, index) => {\n          const formattedInfo = formatAgentInfo(agent)\n\n          console.log(chalk.cyan(`${index + 1}. ${formattedInfo.name}`))\n          console.log(chalk.gray(`   Address: ${formattedInfo.address}`))\n          console.log(chalk.gray(`   Owner: ${agent.owner ? agent.owner.toString() : 'Unclaimed (Ghost)'}`))\n          console.log(chalk.gray(`   Description: ${formattedInfo.description}`))\n          console.log(chalk.gray(`   Capabilities: ${formattedInfo.capabilities}`))\n          console.log(chalk.gray(`   Status: ${formattedInfo.status === 'Active' ? ' Active' : ' Inactive'}`))\n          console.log(chalk.gray(`   Reputation: ${agent.reputationScore}/100`))\n          console.log(chalk.gray(`   Created: ${formattedInfo.created}`))\n          console.log('')\n        })\n\n        outro('Agent listing completed')\n\n      } catch (error) {\n        s.stop(' Failed to fetch agents')\n        displayErrorAndCancel(error, 'Agent listing')\n      }\n    })\n}","/**\n * Agent search command\n */\n\nimport type { Command } from 'commander'\nimport chalk from 'chalk'\nimport { \n  intro, \n  outro, \n  multiselect,\n  spinner,\n  isCancel,\n  cancel\n} from '@clack/prompts'\nimport { formatAgentInfo } from '../agent/helpers.js'\nimport { container, ServiceTokens } from '../../core/Container.js'\nimport type { IAgentService } from '../../types/services.js'\n\nexport function registerSearchCommand(parentCommand: Command): void {\n  parentCommand\n    .command('search')\n    .description('Search agents by capabilities')\n    .action(async () => {\n      intro(chalk.cyan(' Search AI Agents'))\n\n      try {\n        const capabilities = await multiselect({\n          message: 'Select capabilities to search for:',\n          options: [\n            { value: 'data-analysis', label: 'Data Analysis' },\n            { value: 'writing', label: 'Writing & Content Creation' },\n            { value: 'coding', label: 'Programming & Development' },\n            { value: 'translation', label: 'Language Translation' },\n            { value: 'image-processing', label: 'Image Processing' },\n            { value: 'automation', label: 'Task Automation' },\n            { value: 'research', label: 'Research & Information Gathering' }\n          ]\n        })\n\n        if (isCancel(capabilities)) {\n          cancel('Search cancelled')\n          return\n        }\n\n        const s = spinner()\n        s.start('Searching for agents...')\n        \n        // Get AgentService from container\n        const agentService = container.resolve<IAgentService>(ServiceTokens.AGENT_SERVICE)\n        \n        // Search agents using service layer\n        const results = await agentService.list({\n          // Add capability filter to service interface\n          limit: 50\n        })\n        \n        // Filter results by capabilities\n        const filteredResults = results.filter(agent => \n          agent.capabilities.some(cap => (capabilities as string[]).includes(cap))\n        )\n        \n        s.stop(' Search completed')\n\n        if (filteredResults.length === 0) {\n          console.log('\\n' + chalk.yellow(`No agents found with capabilities: ${capabilities.join(', ')}`))\n          outro('Try searching with different capabilities')\n          return\n        }\n\n        console.log('\\n' + chalk.bold(`Found ${filteredResults.length} agents with capabilities: ${capabilities.join(', ')}`))\n        console.log(''.repeat(60))\n        \n        filteredResults.forEach((agent, index) => {\n          const matchingCaps = agent.capabilities.filter((cap) => (capabilities as string[]).includes(cap))\n          const formattedInfo = formatAgentInfo(agent)\n          \n          console.log(chalk.cyan(`${index + 1}. ${formattedInfo.name}`))\n          console.log(chalk.gray(`   Address: ${formattedInfo.address}`))\n          console.log(chalk.gray(`   Matches: ${matchingCaps.join(', ')}`))\n          console.log(chalk.gray(`   All capabilities: ${formattedInfo.capabilities}`))\n          console.log(chalk.gray(`   Reputation: ${agent.reputationScore}/100`))\n          console.log(chalk.gray(`   Status: ${formattedInfo.status === 'Active' ? ' Active' : ' Inactive'}`))\n          console.log('')\n        })\n        \n        outro('Search completed')\n\n      } catch (error) {\n        cancel(chalk.red('Search failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n      }\n    })\n}","/**\n * Agent status command\n */\n\nimport type { Command } from 'commander'\nimport chalk from 'chalk'\nimport { \n  intro, \n  outro, \n  spinner,\n  cancel\n} from '@clack/prompts'\nimport { container, ServiceTokens } from '../../core/Container.js'\nimport type { IAgentService, IWalletService } from '../../types/services.js'\n\nexport function registerStatusCommand(parentCommand: Command): void {\n  parentCommand\n    .command('status')\n    .description('Check status of your agents')\n    .action(async () => {\n      intro(chalk.cyan(' Agent Status'))\n\n      try {\n        const s = spinner()\n        s.start('Checking agent status...')\n        \n        // Get services from container\n        const agentService = container.resolve<IAgentService>(ServiceTokens.AGENT_SERVICE)\n        const walletService = container.resolve<IWalletService>(ServiceTokens.WALLET_SERVICE)\n        \n        // Get current wallet\n        const wallet = walletService.getActiveWalletInterface()\n        if (!wallet) {\n          cancel(chalk.red('No active wallet found. Please select a wallet first.'))\n          return\n        }\n        \n        // Get user's agents\n        const agents = await agentService.list({\n          owner: wallet.address\n        })\n        \n        s.stop(' Status updated')\n        \n        if (agents.length === 0) {\n          console.log('\\n' + chalk.yellow('You have no registered agents'))\n          outro('Register an agent with: npx ghostspeak agent register')\n          return\n        }\n\n        console.log('\\n' + chalk.bold('Your Agents:'))\n        console.log(''.repeat(60))\n        \n        for (const agent of agents) {\n          const statusIcon = agent.isActive ? chalk.green('') : chalk.red('')\n          const statusText = agent.isActive ? 'Active' : 'Inactive'\n          \n          console.log(`${statusIcon} ${agent.name}` + chalk.gray(` - ${statusText}`))\n          console.log(chalk.gray(`  Agent ID: ${agent.id}`))\n          console.log(chalk.gray(`  Address: ${agent.address.toString()}`))\n          console.log(chalk.gray(`  Owner: ${agent.owner.toString()}`))\n          console.log(chalk.gray(`  Created: ${new Date(Number(agent.createdAt)).toLocaleString()}`))\n          console.log(chalk.gray(`  Reputation Score: ${agent.reputationScore}/100`))\n          console.log(chalk.gray(`  Capabilities: ${agent.capabilities.join(', ')}`))\n          console.log('')\n        }\n\n        outro('Status check completed')\n\n      } catch (error) {\n        cancel(chalk.red('Status check failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n      }\n    })\n}","/**\n * CLI Type Definitions for GhostSpeak - Regenerated for Current Architecture\n * Only includes types for commands that actually exist in the codebase\n */\n\nimport type { Address } from '@solana/addresses'\n\n// ===== ADDRESS VALIDATION =====\nexport function assertValidAddress(value: unknown): Address {\n  if (typeof value === 'string' && value.length >= 32) {\n    return value as Address\n  }\n  throw new Error(`Invalid address: expected string with length >= 32, got ${typeof value}`)\n}\n\n// ===== AGENT COMMAND OPTIONS =====\nexport interface RegisterOptions {\n  name?: string\n  description?: string\n  capabilities?: string\n  endpoint?: string\n  type?: string\n  metadata?: boolean\n  yes?: boolean\n}\n\nexport interface ListOptions {\n  limit: string\n}\n\nexport interface SearchOptions {\n  query: string\n  type?: string\n  capability?: string\n  maxAge?: string\n  startAfter?: string\n  limit?: string\n}\n\nexport interface StatusOptions {\n  agent?: string\n  agentId?: string\n  detailed?: boolean\n}\n\nexport interface UpdateOptions {\n  agentId?: string\n  agent?: string\n  name?: string\n  description?: string\n  endpoint?: string\n  active?: boolean\n}\n\nexport interface VerifyOptions {\n  agent?: string\n  auto?: boolean\n}\n\nexport interface AnalyticsOptions {\n  agent?: string\n  mine?: boolean\n  period?: string\n  format?: string\n}\n\nexport interface ManageOptions {\n  action: string\n  agent?: string\n}\n\n// ===== WALLET COMMAND OPTIONS =====\nexport interface WalletCreateOptions {\n  name?: string\n  network?: 'devnet' | 'testnet' | 'mainnet-beta'\n}\n\nexport interface WalletImportOptions {\n  name: string\n  network?: 'devnet' | 'testnet' | 'mainnet-beta'\n}\n\nexport interface WalletUseOptions {\n  name?: string\n}\n\nexport interface WalletRenameOptions {\n  name: string\n  newName: string\n}\n\nexport interface WalletDeleteOptions {\n  name: string\n  confirm?: boolean\n}\n\n// ===== GOVERNANCE COMMAND OPTIONS =====\nexport interface CreateMultisigOptions {\n  name?: string\n  description?: string\n  threshold?: string\n  timelock?: string\n}\n\nexport interface CreateProposalOptions {\n  title?: string\n  description?: string\n  category?: string\n  duration?: string\n}\n\nexport interface VoteOptions {\n  proposal: string\n  vote: string\n  reason?: string\n}\n\nexport interface ListProposalsOptions {\n  status?: string\n  category?: string\n  proposer?: string\n  limit?: string\n}\n\n// ===== AUCTION COMMAND OPTIONS =====\nexport interface CreateAuctionOptions {\n  item?: string\n  description?: string\n  startingPrice?: string\n  type?: 'english' | 'dutch' | 'sealed'\n  duration?: string\n}\n\nexport interface BidOptions {\n  auction: string\n  amount: string\n}\n\nexport interface ListAuctionsOptions {\n  status?: 'active' | 'ended'\n  limit?: string\n}\n\n// ===== DISPUTE COMMAND OPTIONS =====\nexport interface FileDisputeOptions {\n  reason: string\n  severity?: 'low' | 'medium' | 'high'\n  description?: string\n}\n\nexport interface SubmitEvidenceOptions {\n  dispute: string\n  type: string\n  data: string\n  description?: string\n}\n\nexport interface ListDisputesOptions {\n  status?: string\n  limit?: string\n}\n\n// ===== FAUCET & AIRDROP OPTIONS =====\nexport interface FaucetOptions {\n  amount?: string\n  network?: string\n  save?: boolean\n  wallet?: string\n}\n\nexport interface FaucetStatusOptions {\n  wallet?: string\n}\n\nexport interface AirdropOptions {\n  recipient?: string\n  amount?: string\n}\n\nexport interface GenerateWalletOptions {\n  save?: boolean\n  name?: string\n}\n\n// ===== CONFIG COMMAND OPTIONS =====\nexport interface ConfigSetOptions {\n  key: string\n  value: string\n}\n\nexport interface ConfigGetOptions {\n  key?: string\n}\n\nexport interface ConfigResetOptions {\n  confirm?: boolean\n}\n\n// ===== DIAGNOSE COMMAND OPTIONS =====\nexport interface DiagnoseOptions {\n  network?: 'devnet' | 'testnet' | 'mainnet-beta'\n  verbose?: boolean\n  export?: string\n  dryRun?: boolean\n}\n\nexport interface DiagnosticReport {\n  account: string\n  network: string\n  exists: boolean\n  owner?: string\n  lamports?: number\n  data?: Uint8Array\n  executable?: boolean\n  rentEpoch?: number\n  errors: string[]\n  warnings: string[]\n}\n\n// ===== SDK COMMAND OPTIONS =====\nexport interface SDKInstallOptions {\n  version?: string\n  global?: boolean\n}\n\nexport interface SDKInfoOptions {\n  verbose?: boolean\n}\n\n// ===== COMMON RESPONSE TYPES =====\nexport interface CommandResponse {\n  success: boolean\n  message?: string\n  data?: unknown\n}\n\nexport interface ErrorResponse {\n  success: false\n  error: string\n  details?: string\n}\n\nexport interface SuccessResponse<T = unknown> {\n  success: true\n  data: T\n  message?: string\n}\n\n// ===== TYPE GUARDS =====\nexport function isString(value: unknown): value is string {\n  return typeof value === 'string'\n}\n\nexport function isNumber(value: unknown): value is number {\n  return typeof value === 'number' && !isNaN(value)\n}\n\nexport function isAddress(value: unknown): value is Address {\n  return typeof value === 'string' && value.length >= 32 && value.length <= 88\n}\n\nexport function isDefined<T>(value: T | undefined | null): value is T {\n  return value !== undefined && value !== null\n}\n\nexport function isError(value: unknown): value is Error {\n  return value instanceof Error\n}\n\nexport function isValidDiagnoseOptions(options: unknown): options is DiagnoseOptions {\n  if (typeof options !== 'object' || options === null) return false\n\n  const opts = options as Record<string, unknown>\n  return (\n    (opts.network === undefined || ['devnet', 'testnet', 'mainnet-beta'].includes(opts.network as string)) &&\n    (opts.verbose === undefined || typeof opts.verbose === 'boolean') &&\n    (opts.export === undefined || typeof opts.export === 'string') &&\n    (opts.dryRun === undefined || typeof opts.dryRun === 'boolean')\n  )\n}\n\n// ===== UTILITY TYPES =====\nexport type StringOrUndefined = string | undefined\nexport type NumberOrUndefined = number | undefined\nexport type BooleanOrUndefined = boolean | undefined\n\nexport type RequireOne<T, K extends keyof T> = T & Required<Pick<T, K>>\nexport type RequireAtLeastOne<T> = {\n  [K in keyof T]-?: Required<Pick<T, K>> & Partial<Pick<T, Exclude<keyof T, K>>>\n}[keyof T]\n\n// ===== VALIDATION HELPERS =====\nexport function isValidUrl(value: string): boolean {\n  try {\n    new URL(value)\n    return true\n  } catch {\n    return false\n  }\n}\n\nexport function validateString(value: unknown, name: string): string {\n  if (!isString(value)) {\n    throw new Error(`${name} must be a string`)\n  }\n  return value\n}\n\nexport function validateNumber(value: unknown, name: string): number {\n  if (!isNumber(value)) {\n    throw new Error(`${name} must be a number`)\n  }\n  return value\n}\n\nexport function validateAddress(value: unknown, name: string): Address {\n  if (!isAddress(value)) {\n    throw new Error(`${name} must be a valid Solana address`)\n  }\n  return value as Address\n}\n\nexport function parseNumberSafe(value: string): number | undefined {\n  const parsed = Number(value)\n  return isNaN(parsed) ? undefined : parsed\n}\n\nexport function parseIntSafe(value: string): number | undefined {\n  const parsed = parseInt(value, 10)\n  return isNaN(parsed) ? undefined : parsed\n}\n\nexport function parseFloatSafe(value: string): number | undefined {\n  const parsed = parseFloat(value)\n  return isNaN(parsed) ? undefined : parsed\n}\n","/**\n * Agent update command\n */\n\nimport type { Command } from 'commander'\nimport chalk from 'chalk'\nimport { \n  intro, \n  outro, \n  text, \n  select,\n  multiselect,\n  confirm,\n  spinner,\n  isCancel,\n  cancel\n} from '@clack/prompts'\nimport type { UpdateOptions } from '../../types/cli-types.js'\nimport { isValidUrl } from '../../types/cli-types.js'\nimport { container, ServiceTokens } from '../../core/Container.js'\nimport type { IAgentService } from '../../types/services.js'\n\nexport function registerUpdateCommand(parentCommand: Command): void {\n  parentCommand\n    .command('update')\n    .description('Update your AI agent details')\n    .option('--agent-id <id>', 'Agent ID to update')\n    .action(async (options: UpdateOptions) => {\n      intro(chalk.cyan(' Update AI Agent'))\n\n      try {\n        const s = spinner()\n        s.start('Loading your agents...')\n        \n        // Get AgentService from container\n        const agentService = container.resolve<IAgentService>(ServiceTokens.AGENT_SERVICE)\n        \n        // Get user's agents\n        const myAgents = await agentService.list({})\n        \n        s.stop(' Agents loaded')\n        \n        if (myAgents.length === 0) {\n          cancel('You have no registered agents to update')\n          return\n        }\n\n        let selectedAgentId: string\n        \n        if (options.agentId) {\n          selectedAgentId = options.agentId\n        } else {\n          const selectedAgent = await select({\n            message: 'Select agent to update:',\n            options: myAgents.map((agent) => ({\n              value: agent.id,\n              label: `${agent.name} (${agent.isActive ? 'Active' : 'Inactive'})`\n            }))\n          })\n\n          if (isCancel(selectedAgent)) {\n            cancel('Update cancelled')\n            return\n          }\n\n          selectedAgentId = selectedAgent as string\n        }\n\n        // Get current agent details\n        const currentAgent = await agentService.getById(selectedAgentId)\n        \n        if (!currentAgent) {\n          cancel('Agent not found')\n          return\n        }\n\n        console.log('\\n' + chalk.bold('Current Agent Details:'))\n        console.log(''.repeat(40))\n        console.log(chalk.cyan('Name:') + ` ${currentAgent.name}`)\n        console.log(chalk.cyan('Description:') + ` ${currentAgent.description}`)\n        console.log(chalk.cyan('Capabilities:') + ` ${currentAgent.capabilities.join(', ')}`)\n        console.log(chalk.cyan('Reputation:') + ` ${currentAgent.reputationScore}/100`)\n        console.log(chalk.cyan('Agent ID:') + ` ${currentAgent.id}`)\n\n        // Update options\n        const updateChoice = await select({\n          message: 'What would you like to update?',\n          options: [\n            { value: 'name', label: ' Name' },\n            { value: 'description', label: ' Description' },\n            { value: 'endpoint', label: ' Service Endpoint' },\n            { value: 'capabilities', label: '  Capabilities' },\n            { value: 'price', label: ' Pricing' },\n            { value: 'all', label: ' Update Everything' }\n          ]\n        })\n\n        if (isCancel(updateChoice)) {\n          cancel('Update cancelled')\n          return\n        }\n\n        const updates: {\n          name?: string\n          description?: string\n          endpoint?: string\n          capabilities?: string[]\n          pricePerTask?: string\n          [key: string]: unknown\n        } = {}\n\n        // Name update\n        if (updateChoice === 'name' || updateChoice === 'all') {\n          const newName = await text({\n            message: 'New agent name:',\n            placeholder: currentAgent.name,\n            initialValue: updateChoice === 'all' ? currentAgent.name : undefined,\n            validate: (value) => {\n              if (!value) return 'Name is required'\n              if (value.length < 3) return 'Name must be at least 3 characters'\n            }\n          })\n\n          if (isCancel(newName)) {\n            cancel('Update cancelled')\n            return\n          }\n\n          updates.name = newName\n        }\n\n        // Description update\n        if (updateChoice === 'description' || updateChoice === 'all') {\n          const newDescription = await text({\n            message: 'New description:',\n            placeholder: currentAgent.description,\n            initialValue: updateChoice === 'all' ? currentAgent.description : undefined,\n            validate: (value) => {\n              if (!value) return 'Description is required'\n              if (value.length < 20) return 'Description must be at least 20 characters'\n            }\n          })\n\n          if (isCancel(newDescription)) {\n            cancel('Update cancelled')\n            return\n          }\n\n          updates.description = newDescription\n        }\n\n        // Endpoint update\n        if (updateChoice === 'endpoint' || updateChoice === 'all') {\n          const newEndpoint = await text({\n            message: 'New service endpoint URL:',\n            placeholder: 'https://api.example.com/agent',\n            initialValue: updateChoice === 'all' ? undefined : undefined,\n            validate: (value) => {\n              if (!value) return 'Endpoint is required'\n              if (!isValidUrl(value)) {\n                return 'Please enter a valid URL'\n              }\n              return\n            }\n          })\n\n          if (isCancel(newEndpoint)) {\n            cancel('Update cancelled')\n            return\n          }\n\n          updates.endpoint = newEndpoint\n        }\n\n        // Capabilities update\n        if (updateChoice === 'capabilities' || updateChoice === 'all') {\n          const newCapabilities = await multiselect({\n            message: 'Select agent capabilities:',\n            options: [\n              { value: 'data-analysis', label: ' Data Analysis' },\n              { value: 'writing', label: '  Writing & Content Creation' },\n              { value: 'coding', label: ' Programming & Development' },\n              { value: 'debugging', label: ' Debugging' },\n              { value: 'code-review', label: ' Code Review' },\n              { value: 'translation', label: ' Language Translation' },\n              { value: 'image-processing', label: '  Image Processing' },\n              { value: 'automation', label: ' Task Automation' }\n            ],\n            required: true\n          })\n\n          if (isCancel(newCapabilities)) {\n            cancel('Update cancelled')\n            return\n          }\n\n          updates.capabilities = newCapabilities\n        }\n\n        // Price update (pricing information in metadata)\n        if (updateChoice === 'price' || updateChoice === 'all') {\n          const newPrice = await text({\n            message: 'New price per task (in SOL):',\n            placeholder: '0.001',\n            validate: (value) => {\n              if (!value) return 'Price is required'\n              const num = parseFloat(value)\n              if (isNaN(num) || num < 0) return 'Please enter a valid positive number'\n            }\n          })\n\n          if (isCancel(newPrice)) {\n            cancel('Update cancelled')\n            return\n          }\n\n          updates.pricing = { pricePerTask: parseFloat(newPrice) }\n        }\n\n        // Confirmation\n        console.log('\\n' + chalk.bold(' Update Summary:'))\n        console.log(''.repeat(40))\n        \n        Object.entries(updates).forEach(([key, value]) => {\n          if (Array.isArray(value)) {\n            console.log(chalk.cyan(`${key}:`) + ` ${value.join(', ')}`)\n          } else {\n            console.log(chalk.cyan(`${key}:`) + ` ${value}`)\n          }\n        })\n\n        const confirmed = await confirm({\n          message: 'Apply these updates?'\n        })\n\n        if (isCancel(confirmed) || !confirmed) {\n          cancel('Update cancelled')\n          return\n        }\n\n        const updateSpinner = spinner()\n        updateSpinner.start('Updating agent...')\n\n        try {\n          // Use service layer to update agent\n          const updatedAgent = await agentService.update(selectedAgentId, {\n            name: updates.name,\n            description: updates.description,\n            capabilities: updates.capabilities,\n            metadata: {\n              endpoint: updates.endpoint,\n              pricing: updates.pricing\n            }\n          })\n\n          updateSpinner.stop(' Agent updated successfully!')\n\n          console.log('\\n' + chalk.green(' Agent has been updated!'))\n          console.log(chalk.gray(`Agent ID: ${updatedAgent.id}`))\n          console.log(chalk.gray(`Name: ${updatedAgent.name}`))\n          console.log(chalk.gray(`Description: ${updatedAgent.description}`))\n          console.log(chalk.gray('Changes have been saved'))\n\n          outro('Agent update completed')\n        } catch (error) {\n          updateSpinner.stop(' Update failed')\n          throw error\n        }\n\n      } catch (error) {\n        cancel(chalk.red('Agent update failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n      }\n    })\n}","/**\n * Agent verify command (admin only) - Placeholder implementation\n */\n\nimport type { Command } from 'commander'\nimport chalk from 'chalk'\nimport { \n  intro, \n  outro\n} from '@clack/prompts'\nimport type { VerifyOptions } from '../../types/cli-types.js'\nimport { container, ServiceTokens } from '../../core/Container.js'\nimport type { IAgentService } from '../../types/services.js'\nimport { displayErrorAndCancel } from '../../utils/enhanced-error-handler.js'\n\nexport function registerVerifyCommand(parentCommand: Command): void {\n  parentCommand\n    .command('verify')\n    .description('Verify an AI agent (admin only) - Feature coming soon')\n    .option('-a, --agent <id>', 'Agent ID to verify')\n    .option('--auto', 'Auto-verify based on criteria')\n    .action(async (options: VerifyOptions) => {\n      intro(chalk.cyan(' Agent Verification'))\n\n      try {\n        // Get AgentService from container\n        const agentService = container.resolve<IAgentService>(ServiceTokens.AGENT_SERVICE)\n        \n        console.log('')\n        console.log(chalk.yellow('  Agent Verification Feature'))\n        console.log(chalk.gray('This feature is currently under development and not yet available.'))\n        console.log('')\n        console.log(chalk.cyan('What agent verification will include:'))\n        console.log(chalk.gray(' Admin privilege verification'))\n        console.log(chalk.gray(' Agent quality and compliance checks'))\n        console.log(chalk.gray(' Approval/rejection workflow'))\n        console.log(chalk.gray(' Information request system'))\n        console.log('')\n        \n        if (options.agent) {\n          // Try to show the agent that would be verified\n          const agent = await agentService.getById(options.agent)\n          if (agent) {\n            console.log(chalk.blue(`Target agent: ${agent.name}`))\n            console.log(chalk.gray(`Owner: ${agent.owner.toString()}`))\n            console.log(chalk.gray(`Status: ${agent.isActive ? 'Active' : 'Inactive'}`))\n          } else {\n            console.log(chalk.red(`Agent not found: ${options.agent}`))\n          }\n        }\n        \n        outro('Agent verification will be available in a future update')\n\n      } catch (error) {\n        displayErrorAndCancel(error, 'Agent verification')\n      }\n    })\n}","/**\n * Agent analytics command\n */\n\nimport type { Command } from 'commander'\nimport chalk from 'chalk'\nimport { \n  intro, \n  outro, \n  spinner,\n  log\n} from '@clack/prompts'\nimport type { AnalyticsOptions } from '../../types/cli-types.js'\nimport { formatAnalytics } from '../agent/helpers.js'\nimport { container, ServiceTokens } from '../../core/Container.js'\nimport type { IAgentService } from '../../types/services.js'\n\n// Analytics interface for type safety\ninterface AgentAnalytics {\n  totalEarnings: number\n  jobsCompleted: number\n  successRate: number\n  averageRating: number\n  totalTransactions: number\n  uniqueClients: number\n  totalVolume: bigint\n  activeAgents: number\n  totalJobs: number\n  totalAgents: number\n  verifiedAgents: number\n  jobsByCategory: Record<string, number>\n  earningsTrend: { timestamp: bigint; earnings: bigint }[]\n  topClients: { address: string; jobCount: number; totalSpent: bigint }[]\n  topCategories: { name: string; agentCount: number }[]\n  topPerformers: { name: string; address: string; successRate: number; totalEarnings: bigint }[]\n  growthMetrics: {\n    weeklyGrowth: number\n    monthlyGrowth: number\n    userGrowth: number\n    revenueGrowth: number\n  }\n  insights: string[]\n}\n\nexport function registerAnalyticsCommand(parentCommand: Command): void {\n  parentCommand\n    .command('analytics')\n    .description('View agent performance analytics')\n    .option('-a, --agent <address>', 'Specific agent address')\n    .option('--mine', 'Show analytics for my agents only')\n    .option('-p, --period <period>', 'Time period (7d, 30d, 90d, 1y)')\n    .action(async (options: AnalyticsOptions) => {\n      intro(chalk.cyan(' Agent Analytics'))\n\n      try {\n        const s = spinner()\n        s.start('Loading analytics data...')\n        \n        // Get AgentService from container\n        const agentService = container.resolve<IAgentService>(ServiceTokens.AGENT_SERVICE)\n        \n        let analytics: AgentAnalytics\n        \n        try {\n          // For specific agent analytics\n          if (options.agent) {\n            const agentAnalytics = await agentService.getAnalytics(options.agent)\n            analytics = {\n              totalEarnings: Number(agentAnalytics.totalEarnings),\n              jobsCompleted: agentAnalytics.completedJobs,\n              successRate: agentAnalytics.successRate,\n              averageRating: agentAnalytics.averageRating,\n              totalTransactions: agentAnalytics.totalJobs,\n              uniqueClients: 0,\n              totalVolume: BigInt(0),\n              activeAgents: 1,\n              totalJobs: agentAnalytics.totalJobs,\n              totalAgents: 1,\n              verifiedAgents: 1,\n              jobsByCategory: {},\n              earningsTrend: [],\n              topClients: [],\n              topCategories: [],\n              topPerformers: [],\n              growthMetrics: {\n                weeklyGrowth: 0,\n                monthlyGrowth: 0,\n                userGrowth: 0,\n                revenueGrowth: 0\n              },\n              insights: ['Analytics data coming from service layer']\n            }\n          } else {\n            throw new Error('Analytics methods not fully implemented yet')\n          }\n        } catch (error) {\n          s.stop(' Analytics not available')\n          \n          // Show fallback message with formatted helper output\n          const fallbackAnalytics: AgentAnalytics = {\n            totalEarnings: 0,\n            jobsCompleted: 0,\n            successRate: 0,\n            averageRating: 0,\n            totalTransactions: 0,\n            uniqueClients: 0,\n            totalVolume: BigInt(0),\n            activeAgents: 0,\n            totalJobs: 0,\n            totalAgents: 0,\n            verifiedAgents: 0,\n            jobsByCategory: {},\n            earningsTrend: [],\n            topClients: [],\n            topCategories: [],\n            topPerformers: [],\n            growthMetrics: {\n              weeklyGrowth: 0,\n              monthlyGrowth: 0,\n              userGrowth: 0,\n              revenueGrowth: 0\n            },\n            insights: []\n          }\n          \n          console.log('')\n          console.log(chalk.yellow(' Agent Analytics'))\n          console.log(chalk.gray('Analytics are not yet available in the current SDK version.'))\n          console.log('')\n          console.log(chalk.bold('Sample Analytics Format:'))\n          // Convert to SDK format for formatting\n          const sdkFormatAnalytics = {\n            totalJobs: fallbackAnalytics.totalJobs,\n            completedJobs: fallbackAnalytics.jobsCompleted,\n            averageRating: fallbackAnalytics.averageRating,\n            totalEarnings: BigInt(fallbackAnalytics.totalEarnings),\n            responseTime: 0,\n            successRate: fallbackAnalytics.successRate,\n            activeJobs: 0,\n            failedJobs: 0,\n            disputes: 0,\n            disputesWon: 0\n          }\n          \n          formatAnalytics(sdkFormatAnalytics).forEach(line => {\n            console.log(chalk.gray('  ' + line))\n          })\n          console.log('')\n          console.log(chalk.bold('What you can do instead:'))\n          console.log(chalk.cyan(' ghost agent status') + chalk.gray(' - View basic agent information'))\n          console.log(chalk.cyan(' ghost agent list') + chalk.gray(' - See all registered agents'))\n          console.log(chalk.cyan(' ghost airdrop') + chalk.gray(' - Get devnet GHOST tokens for testing'))\n          console.log('')\n          console.log(chalk.gray('Analytics coming soon via PayAI integration.'))\n          \n          outro('Analytics feature coming soon')\n          return\n        }\n\n        s.stop(' Analytics loaded')\n\n        // Display analytics dashboard\n        log.info(`\\n${chalk.bold(' Performance Overview:')}`)\n        log.info(''.repeat(30))\n        \n        if (options.agent || options.mine) {\n          // Individual agent or user analytics\n          log.info(\n            `${chalk.gray('Active Agents:')} ${analytics.activeAgents}\\n` +\n            `${chalk.gray('Total Jobs Completed:')} ${analytics.totalJobs}\\n` +\n            `${chalk.gray('Success Rate:')} ${(analytics.successRate * 100).toFixed(1)}%\\n` +\n            `${chalk.gray('Average Rating:')} ${analytics.averageRating.toFixed(1)} \\n` +\n            `${chalk.gray('Total Earnings:')} ${(Number(analytics.totalEarnings) / 1_000_000_000).toFixed(3)} SOL\\n`\n          )\n\n          if (Object.keys(analytics.jobsByCategory).length > 0) {\n            log.info(`\\n${chalk.bold(' Jobs by Category:')}`)\n            Object.entries(analytics.jobsByCategory).forEach(([category, count]) => {\n              log.info(`   ${chalk.gray(category + ':')} ${count}`)\n            })\n          }\n\n          if (analytics.earningsTrend.length > 0) {\n            log.info(`\\n${chalk.bold(' Earnings Trend:')}`)\n            analytics.earningsTrend.forEach((point) => {\n              const date = new Date(Number(point.timestamp) * 1000).toLocaleDateString()\n              const earningsSOL = (Number(point.earnings) / 1_000_000_000).toFixed(3)\n              log.info(`   ${chalk.gray(date + ':')} ${earningsSOL} SOL`)\n            })\n          }\n\n          if (analytics.topClients.length > 0) {\n            log.info(`\\n${chalk.bold(' Top Clients:')}`)\n            analytics.topClients.slice(0, 5).forEach((client: { address: string; jobCount: number; totalSpent: bigint }, index: number) => {\n              log.info(\n                `   ${index + 1}. ${client.address}\\n` +\n                `      ${chalk.gray('Jobs:')} ${client.jobCount} | ${chalk.gray('Spent:')} ${(Number(client.totalSpent) / 1_000_000_000).toFixed(3)} SOL`\n              )\n            })\n          }\n\n        } else {\n          // Protocol-wide analytics\n          log.info(\n            `${chalk.gray('Total Agents:')} ${analytics.totalAgents}\\n` +\n            `${chalk.gray('Verified Agents:')} ${analytics.verifiedAgents} (${((analytics.verifiedAgents / analytics.totalAgents) * 100).toFixed(1)}%)\\n` +\n            `${chalk.gray('Active Agents:')} ${analytics.activeAgents}\\n` +\n            `${chalk.gray('Total Jobs:')} ${analytics.totalJobs}\\n` +\n            `${chalk.gray('Protocol Volume:')} ${(Number(analytics.totalVolume) / 1_000_000_000).toFixed(3)} SOL\\n`\n          )\n\n          if (analytics.topCategories.length > 0) {\n            log.info(`\\n${chalk.bold(' Popular Categories:')}`)\n            analytics.topCategories.slice(0, 5).forEach((category: { name: string; agentCount: number }, index: number) => {\n              log.info(`   ${index + 1}. ${category.name} (${category.agentCount} agents)`)\n            })\n          }\n\n          if (analytics.topPerformers.length > 0) {\n            log.info(`\\n${chalk.bold(' Top Performing Agents:')}`)\n            analytics.topPerformers.slice(0, 5).forEach((agent: { name: string; address: string; successRate: number; totalEarnings: bigint }, index: number) => {\n              log.info(\n                `   ${index + 1}. ${agent.name}\\n` +\n                `      ${chalk.gray('Success Rate:')} ${agent.successRate}% | ${chalk.gray('Earnings:')} ${Number(agent.totalEarnings) / 1_000_000} SOL`\n              )\n            })\n          }\n\n          // Growth metrics always exist\n          log.info(`\\n${chalk.bold(' Growth Metrics:')}`)\n          log.info(\n            `   ${chalk.gray('Weekly Growth:')} ${analytics.growthMetrics.weeklyGrowth > 0 ? '+' : ''}${analytics.growthMetrics.weeklyGrowth}%\\n` +\n            `   ${chalk.gray('Monthly Growth:')} ${analytics.growthMetrics.monthlyGrowth > 0 ? '+' : ''}${analytics.growthMetrics.monthlyGrowth}%\\n` +\n            `   ${chalk.gray('User Growth:')} ${analytics.growthMetrics.userGrowth > 0 ? '+' : ''}${analytics.growthMetrics.userGrowth}%\\n` +\n            `   ${chalk.gray('Revenue Growth:')} ${analytics.growthMetrics.revenueGrowth > 0 ? '+' : ''}${analytics.growthMetrics.revenueGrowth}%`\n          )\n        }\n\n        // Performance insights\n        if (analytics.insights.length > 0) {\n          log.info(`\\n${chalk.bold(' Performance Insights:')}`)\n          analytics.insights.forEach((insight: string) => {\n            log.info(`    ${insight}`)\n          })\n        }\n\n        outro(\n          `${chalk.yellow(' Analytics Tips:')}\\n` +\n          ` Monitor success rates and ratings regularly\\n` +\n          ` Focus on high-demand capability categories\\n` +\n          ` Engage with top clients for repeat business\\n\\n` +\n          `${chalk.cyan('npx ghostspeak agent analytics --mine')} - View your agent analytics`\n        )\n        \n      } catch (error) {\n        log.error(`Failed to load analytics: ${error instanceof Error ? error.message : 'Unknown error'}`)\n      }\n    })\n}","import { createCipheriv, createDecipheriv, randomBytes, scrypt } from 'node:crypto';\nimport { readFile, writeFile, access, chmod, mkdir } from 'node:fs/promises';\nimport { resolve } from 'node:path';\nimport { homedir } from 'node:os';\nimport { generateKeyPairSigner, createKeyPairSignerFromBytes, type KeyPairSigner } from '@solana/kit';\nimport { envConfig } from './env-config.js';\n\ninterface EncryptedData {\n  iv: string;\n  salt: string;\n  encrypted: string;\n  version: number;\n}\n\n/**\n * Secure storage for private keys and sensitive data\n * Uses AES-256-GCM encryption with scrypt key derivation\n */\nexport class SecureStorage {\n  private static readonly ALGORITHM = 'aes-256-gcm';\n  private static readonly KEY_LENGTH = 32;\n  private static readonly SALT_LENGTH = 32;\n  private static readonly IV_LENGTH = 16;\n  private static readonly TAG_LENGTH = 16;\n  private static readonly VERSION = 1;\n  private static readonly STORAGE_DIR = '.ghostspeak/secure';\n  \n  /**\n   * Get the secure storage directory path\n   */\n  private static getStorageDir(): string {\n    return resolve(homedir(), this.STORAGE_DIR);\n  }\n  \n  /**\n   * Get the full path for a storage key\n   */\n  private static getStoragePath(key: string): string {\n    return resolve(this.getStorageDir(), `${key}.enc`);\n  }\n  \n  /**\n   * Derive encryption key from password and salt using scrypt\n   */\n  private static async deriveKey(password: string, salt: Buffer): Promise<Buffer> {\n    return new Promise((resolve, reject) => {\n      const iterations = envConfig.keyDerivationIterations || 100000;\n      scrypt(password, salt, this.KEY_LENGTH, { N: iterations }, (err, derivedKey) => {\n        if (err) reject(err);\n        else resolve(derivedKey);\n      });\n    });\n  }\n  \n  /**\n   * Ensure storage directory exists with proper permissions\n   */\n  private static async ensureStorageDir(): Promise<void> {\n    const dir = this.getStorageDir();\n    try {\n      await access(dir);\n    } catch (error) {\n      await mkdir(dir, { recursive: true, mode: 0o700 });\n    }\n    // Ensure directory has proper permissions\n    await chmod(dir, 0o700);\n  }\n  \n  /**\n   * Encrypt data with password\n   */\n  static async encrypt(data: string, password: string): Promise<EncryptedData> {\n    const salt = randomBytes(this.SALT_LENGTH);\n    const iv = randomBytes(this.IV_LENGTH);\n    const key = await this.deriveKey(password, salt);\n    \n    const cipher = createCipheriv(this.ALGORITHM, key, iv);\n    const encrypted = Buffer.concat([\n      cipher.update(data, 'utf8'),\n      cipher.final(),\n    ]);\n    \n    // Get the auth tag\n    const authTag = cipher.getAuthTag();\n    \n    // Combine encrypted data with auth tag\n    const combined = Buffer.concat([encrypted, authTag]);\n    \n    return {\n      iv: iv.toString('hex'),\n      salt: salt.toString('hex'),\n      encrypted: combined.toString('hex'),\n      version: this.VERSION,\n    };\n  }\n  \n  /**\n   * Decrypt data with password\n   */\n  static async decrypt(encryptedData: EncryptedData, password: string): Promise<string> {\n    if (encryptedData.version !== this.VERSION) {\n      throw new Error(`Unsupported encryption version: ${encryptedData.version}`);\n    }\n    \n    const salt = Buffer.from(encryptedData.salt, 'hex');\n    const iv = Buffer.from(encryptedData.iv, 'hex');\n    const combined = Buffer.from(encryptedData.encrypted, 'hex');\n    \n    // Split encrypted data and auth tag\n    const encrypted = combined.subarray(0, combined.length - this.TAG_LENGTH);\n    const authTag = combined.subarray(combined.length - this.TAG_LENGTH);\n    \n    const key = await this.deriveKey(password, salt);\n    \n    const decipher = createDecipheriv(this.ALGORITHM, key, iv);\n    decipher.setAuthTag(authTag);\n    \n    try {\n      const decrypted = Buffer.concat([\n        decipher.update(encrypted),\n        decipher.final(),\n      ]);\n      \n      return decrypted.toString('utf8');\n    } catch (error) {\n      throw new Error('Failed to decrypt: Invalid password or corrupted data');\n    }\n  }\n  \n  /**\n   * Store encrypted data\n   */\n  static async store(key: string, data: string, password: string): Promise<void> {\n    await this.ensureStorageDir();\n    const encrypted = await this.encrypt(data, password);\n    const path = this.getStoragePath(key);\n    \n    // Write encrypted data\n    await writeFile(path, JSON.stringify(encrypted, null, 2), 'utf8');\n    \n    // Set file permissions to owner-only\n    await chmod(path, 0o600);\n  }\n  \n  /**\n   * Retrieve and decrypt data\n   */\n  static async retrieve(key: string, password: string): Promise<string> {\n    const path = this.getStoragePath(key);\n    \n    try {\n      const content = await readFile(path, 'utf8');\n      const encrypted = JSON.parse(content) as EncryptedData;\n      return await this.decrypt(encrypted, password);\n    } catch (error) {\n      if (error instanceof Error && 'code' in error && error.code === 'ENOENT') {\n        throw new Error(`No data found for key: ${key}`);\n      }\n      throw error;\n    }\n  }\n  \n  /**\n   * Check if a key exists\n   */\n  static async exists(key: string): Promise<boolean> {\n    try {\n      await access(this.getStoragePath(key));\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n  \n  /**\n   * Store a Solana keypair securely\n   * Note: In Web3.js v2, we can't extract the secret key from a KeyPairSigner.\n   * This method now expects the raw secret key bytes to be passed separately.\n   */\n  static async storeKeypair(key: string, secretKeyBytes: Uint8Array, password: string): Promise<void> {\n    const secretKey = JSON.stringify(Array.from(secretKeyBytes));\n    await this.store(key, secretKey, password);\n  }\n  \n  /**\n   * Retrieve a Solana keypair\n   */\n  static async retrieveKeypair(key: string, password: string): Promise<KeyPairSigner> {\n    const secretKeyJson = await this.retrieve(key, password);\n    const secretKey = new Uint8Array(JSON.parse(secretKeyJson) as number[]);\n    return await createKeyPairSignerFromBytes(secretKey);\n  }\n  \n  /**\n   * Delete encrypted data\n   */\n  static async delete(key: string): Promise<void> {\n    const path = this.getStoragePath(key);\n    const { unlink } = await import('node:fs/promises');\n    try {\n      await unlink(path);\n    } catch (error) {\n      if (error instanceof Error && 'code' in error && error.code !== 'ENOENT') {\n        throw error;\n      }\n    }\n  }\n  \n  /**\n   * List all stored keys\n   */\n  static async listKeys(): Promise<string[]> {\n    const { readdir } = await import('node:fs/promises');\n    try {\n      const dir = this.getStorageDir();\n      const files = await readdir(dir);\n      return files\n        .filter(f => f.endsWith('.enc'))\n        .map(f => f.replace('.enc', ''));\n    } catch (error) {\n      return [];\n    }\n  }\n}\n\n/**\n * Prompt for password securely (masks input)\n */\nexport async function promptPassword(message = 'Enter password: '): Promise<string> {\n  const { createInterface } = await import('node:readline');\n  const rl = createInterface({\n    input: process.stdin,\n    output: process.stdout,\n  });\n  \n  return new Promise((resolve) => {\n    // Disable echo for password input\n    if (process.stdin.isTTY) {\n      process.stdin.setRawMode(true);\n    }\n    \n    process.stdout.write(message);\n    \n    let password = '';\n    process.stdin.on('data', (char) => {\n      const key = char.toString();\n      \n      switch (key) {\n        case '\\n':\n        case '\\r':\n        case '\\u0004': // Ctrl+D\n          process.stdin.pause();\n          process.stdin.removeAllListeners('data');\n          if (process.stdin.isTTY) {\n            process.stdin.setRawMode(false);\n          }\n          process.stdout.write('\\n');\n          rl.close();\n          resolve(password);\n          break;\n        case '\\u0003': // Ctrl+C\n          process.exit(0);\n          break;\n        case '\\u007f': // Backspace\n          if (password.length > 0) {\n            password = password.slice(0, -1);\n            process.stdout.write('\\b \\b');\n          }\n          break;\n        default:\n          password += key;\n          process.stdout.write('*');\n          break;\n      }\n    });\n  });\n}\n\n/**\n * Clear sensitive data from memory\n */\nexport function clearMemory(data: string | Uint8Array): void {\n  if (typeof data === 'string') {\n    // For strings, we can't directly clear memory in JavaScript\n    // But we can at least ensure the reference is released\n    data = '';\n  } else if (data instanceof Uint8Array) {\n    // Zero out the array\n    data.fill(0);\n  }\n}","import { \n  createKeyPairSignerFromBytes, \n  generateKeyPairSigner,\n  type KeyPairSigner \n} from '@solana/kit'\n// Removed deprecated @solana/web3.js v1 import - using @solana/kit July 2025 patterns\n// Metaplex Umi imports for Bubblegum integration\n// Metaplex UMI imports temporarily disabled due to outdated types\n// These need to be updated for the latest UMI version\n// Type stubs for UMI until proper types are available\ninterface UmiSigner {\n  publicKey: { toString(): string }\n}\ninterface UmiKeypair {\n  publicKey: string\n  secretKey: Uint8Array\n}\ninterface Umi {\n  use(plugin: unknown): void\n}\nconst createUmi = null as ((rpcUrl: string) => Umi) | null\nconst generateSigner = null as ((umi: Umi) => UmiSigner) | null\nconst createSignerFromKeypair = null as ((umi: Umi, keypair: UmiKeypair) => UmiSigner) | null\nconst createKeypairFromSecretKey = null as ((secretKey: Uint8Array) => UmiKeypair) | null\nconst umiIdentity = null as ((signer: UmiSigner) => unknown) | null\nimport { promises as fs } from 'fs'\nimport { join, dirname } from 'path'\nimport { homedir } from 'os'\nimport { randomUUID } from 'crypto'\n// KeyPairSigner now imported above\nimport type { Address } from '@solana/addresses'\nimport { SecureStorage, promptPassword, clearMemory } from './secure-storage.js'\nimport { chmod } from 'fs/promises'\nimport fetch from 'node-fetch'\n\n// Node.js globals\ndeclare const crypto: typeof globalThis.crypto\n\n// DAS API types\ninterface DASApiResponse {\n  result?: {\n    ownership?: {\n      owner?: string\n      delegate?: string\n    }\n  }\n  error?: string\n}\n\n/**\n * Atomic file operations helper to prevent race conditions and resource leaks\n */\nclass AtomicFileManager {\n  private static locks = new Map<string, Promise<void>>()\n  \n  static async writeJSON<T>(filePath: string, data: T): Promise<void> {\n    const lockKey = filePath\n    \n    // Wait for any existing operations on this file\n    if (this.locks.has(lockKey)) {\n      await this.locks.get(lockKey)\n    }\n    \n    // Create new lock for this operation\n    const operation = this.performAtomicWrite(filePath, data)\n    this.locks.set(lockKey, operation)\n    \n    try {\n      await operation\n    } finally {\n      this.locks.delete(lockKey)\n    }\n  }\n  \n  private static async performAtomicWrite<T>(filePath: string, data: T): Promise<void> {\n    const tempPath = `${filePath}.tmp`\n    const backupPath = `${filePath}.backup`\n    \n    try {\n      // Create backup if original exists\n      try {\n        await fs.access(filePath)\n        await fs.copyFile(filePath, backupPath)\n      } catch {\n        // Original doesn't exist, no backup needed\n      }\n      \n      // Write to temporary file first\n      await fs.writeFile(tempPath, JSON.stringify(data, null, 2))\n      \n      // Atomic rename\n      await fs.rename(tempPath, filePath)\n      \n      // Clean up backup on success\n      try {\n        await fs.unlink(backupPath)\n      } catch {\n        // Backup cleanup failed, not critical\n      }\n      \n    } catch (error) {\n      // Cleanup temp file on error\n      try {\n        await fs.unlink(tempPath)\n      } catch {\n        // Temp cleanup failed, not critical\n      }\n      \n      // Restore from backup if possible\n      try {\n        await fs.access(backupPath)\n        await fs.copyFile(backupPath, filePath)\n        await fs.unlink(backupPath)\n      } catch {\n        // Backup restoration failed\n      }\n      \n      throw error\n    }\n  }\n  \n  static async readJSON<T>(filePath: string): Promise<T | null> {\n    const lockKey = filePath\n    \n    // Wait for any existing write operations\n    if (this.locks.has(lockKey)) {\n      await this.locks.get(lockKey)\n    }\n    \n    try {\n      const data = await fs.readFile(filePath, 'utf-8')\n      return JSON.parse(data) as T\n    } catch (error) {\n      if (error instanceof Error && 'code' in error && error.code === 'ENOENT') {\n        return null\n      }\n      throw error\n    }\n  }\n}\n\n// Agent credential storage directory\nconst AGENT_CREDENTIALS_DIR = join(homedir(), '.ghostspeak', 'agents')\n\n// Agent credential interface\nexport interface AgentCredentials {\n  agentId: string\n  uuid: string\n  name: string\n  description: string\n  agentWallet: {\n    publicKey: string\n    // secretKey is now stored separately in secure storage\n  }\n  ownerWallet: string\n  cnftMint?: string\n  merkleTree?: string\n  createdAt: number\n  updatedAt: number\n}\n\n// Agent wallet management utilities\nexport class AgentWalletManager {\n  \n  /**\n   * Generate a new agent wallet with credentials\n   */\n  static async generateAgentWallet(\n    agentName: string,\n    description: string,\n    ownerWallet: Address\n  ): Promise<{\n    agentWallet: KeyPairSigner\n    credentials: AgentCredentials\n    secretKey: Uint8Array\n  }> {\n    // Generate new keypair for agent using July 2025 @solana/kit patterns\n    const _agentWallet = await generateKeyPairSigner()\n    \n    // Create agent ID from name\n    const agentId = agentName.toLowerCase().replace(/\\s+/g, '-')\n    \n    // Generate UUID for agent\n    const uuid = randomUUID()\n    \n    // Generate secure random bytes for key export\n    const keypairBytes = new Uint8Array(64)\n    crypto.getRandomValues(keypairBytes)\n    const exportableWallet = await createKeyPairSignerFromBytes(keypairBytes)\n    \n    // Create credentials object (without secret key)\n    const credentials: AgentCredentials = {\n      agentId,\n      uuid,\n      name: agentName,\n      description,\n      agentWallet: {\n        publicKey: exportableWallet.address.toString()\n      },\n      ownerWallet: ownerWallet.toString(),\n      createdAt: Date.now(),\n      updatedAt: Date.now()\n    }\n    \n    return {\n      agentWallet: exportableWallet,\n      credentials,\n      secretKey: keypairBytes // Return separately for secure storage\n    }\n  }\n  \n  /**\n   * Save agent credentials to file system (with secure key storage)\n   */\n  static async saveCredentials(credentials: AgentCredentials, secretKey?: Uint8Array, password?: string): Promise<void> {\n    // Ensure credentials directory exists\n    await fs.mkdir(AGENT_CREDENTIALS_DIR, { recursive: true })\n    \n    // Create agent-specific directory\n    const agentDir = join(AGENT_CREDENTIALS_DIR, credentials.agentId)\n    await fs.mkdir(agentDir, { recursive: true })\n    \n    // Save public credentials (without secret key)\n    const credentialsPath = join(agentDir, 'credentials.json')\n    await fs.writeFile(credentialsPath, JSON.stringify(credentials, null, 2))\n    \n    // Set file permissions to owner-only\n    await chmod(credentialsPath, 0o600)\n    \n    // Save secret key securely if provided\n    if (secretKey && password) {\n      const keyStorageId = `agent-${credentials.agentId}`\n      // Create keypair signer from bytes for secure storage compatibility\n      const keypairSigner = await createKeyPairSignerFromBytes(secretKey)\n      // Convert to legacy format for SecureStorage compatibility (to be updated later)\n      const legacyKeypair = {\n        publicKey: { toBase58: () => keypairSigner.address },\n        secretKey: secretKey\n      }\n      await SecureStorage.storeKeypair(keyStorageId, legacyKeypair as any, password)\n      // Clear sensitive data from memory\n      clearMemory(secretKey)\n    }\n    \n    // Save UUID mapping for easy lookup with atomic operations\n    const uuidMappingPath = join(AGENT_CREDENTIALS_DIR, 'uuid-mapping.json')\n    \n    try {\n      const uuidMapping: Record<string, string> = await AtomicFileManager.readJSON(uuidMappingPath) ?? {}\n      \n      // Update mapping\n      uuidMapping[credentials.uuid] = credentials.agentId\n      \n      // Atomic write to prevent corruption\n      await AtomicFileManager.writeJSON(uuidMappingPath, uuidMapping)\n      \n    } catch (error) {\n      const message = error instanceof Error ? error.message : 'Unknown error'\n      console.error('Error updating UUID mapping:', message)\n      throw new Error(`Failed to update UUID mapping: ${message}`)\n    }\n  }\n  \n  /**\n   * Load agent credentials by agent ID\n   */\n  static async loadCredentials(agentId: string): Promise<AgentCredentials | null> {\n    try {\n      const credentialsPath = join(AGENT_CREDENTIALS_DIR, agentId, 'credentials.json')\n      const credentialsData = await fs.readFile(credentialsPath, 'utf-8')\n      return JSON.parse(credentialsData) as AgentCredentials\n    } catch (error) {\n      // Only return null for expected errors (file not found)\n      if (error instanceof Error && 'code' in error && error.code === 'ENOENT') {\n        return null\n      }\n      const message = error instanceof Error ? error.message : 'Unknown error'\n      console.error(`Error reading agent credentials for ${agentId}:`, message)\n      throw new Error(`Failed to read agent credentials for ${agentId}: ${message}`)\n    }\n  }\n  \n  /**\n   * Load agent credentials by UUID\n   */\n  static async loadCredentialsByUuid(uuid: string): Promise<AgentCredentials | null> {\n    try {\n      // First find agent ID from UUID mapping\n      const uuidMappingPath = join(AGENT_CREDENTIALS_DIR, 'uuid-mapping.json')\n      const mappingData = await fs.readFile(uuidMappingPath, 'utf-8')\n      const uuidMapping = JSON.parse(mappingData) as Record<string, string>\n      \n      const agentId = uuidMapping[uuid]\n      if (!agentId) return null\n      \n      return await this.loadCredentials(agentId)\n    } catch (error) {\n      // Only return null for expected errors (file not found)\n      if (error instanceof Error && 'code' in error && error.code === 'ENOENT') {\n        return null\n      }\n      const message = error instanceof Error ? error.message : 'Unknown error'\n      console.error(`Error loading credentials by UUID ${uuid}:`, message)\n      throw new Error(`Failed to load credentials by UUID: ${message}`)\n    }\n  }\n  \n  /**\n   * Get all agent credentials for a specific owner\n   */\n  static async getAgentsByOwner(ownerAddress: Address): Promise<AgentCredentials[]> {\n    try {\n      const agentDirs = await fs.readdir(AGENT_CREDENTIALS_DIR)\n      const agents: AgentCredentials[] = []\n      \n      for (const agentId of agentDirs) {\n        if (agentId === 'uuid-mapping.json') continue\n        \n        const credentials = await this.loadCredentials(agentId)\n        if (credentials && credentials.ownerWallet === ownerAddress.toString()) {\n          agents.push(credentials)\n        }\n      }\n      \n      return agents.sort((a, b) => b.createdAt - a.createdAt)\n    } catch (error) {\n      // Only return empty array for expected errors (directory not found)\n      if (error instanceof Error && 'code' in error && error.code === 'ENOENT') {\n        return []\n      }\n      const message = error instanceof Error ? error.message : 'Unknown error'\n      console.error(`Error getting agents by owner ${ownerAddress}:`, message)\n      throw new Error(`Failed to get agents by owner: ${message}`)\n    }\n  }\n  \n  /**\n   * Create agent wallet signer from credentials (requires password)\n   */\n  static async createAgentSigner(credentials: AgentCredentials, password?: string): Promise<KeyPairSigner> {\n    // If no password provided, prompt for it\n    password ??= await promptPassword(`Enter password for agent ${credentials.name}: `)\n    \n    // Retrieve secret key from secure storage\n    const keyStorageId = `agent-${credentials.agentId}`\n    const keypair = await SecureStorage.retrieveKeypair(keyStorageId, password)\n\n    // Clear password from memory\n    clearMemory(password)\n\n    // keypair is already a KeyPairSigner from retrieveKeypair\n    return keypair\n  }\n  \n  /**\n   * Update agent credentials\n   */\n  static async updateCredentials(agentId: string, updates: Partial<AgentCredentials>): Promise<void> {\n    const existingCredentials = await this.loadCredentials(agentId)\n    if (!existingCredentials) {\n      throw new Error(`Agent credentials not found for ID: ${agentId}`)\n    }\n    \n    const updatedCredentials: AgentCredentials = {\n      ...existingCredentials,\n      ...updates,\n      updatedAt: Date.now()\n    }\n    \n    await this.saveCredentials(updatedCredentials)\n  }\n  \n  /**\n   * Delete agent credentials\n   */\n  static async deleteCredentials(agentId: string): Promise<void> {\n    const credentials = await this.loadCredentials(agentId)\n    if (!credentials) return\n    \n    // Remove from UUID mapping with atomic operations\n    const uuidMappingPath = join(AGENT_CREDENTIALS_DIR, 'uuid-mapping.json')\n    try {\n      const uuidMapping: Record<string, string> = await AtomicFileManager.readJSON(uuidMappingPath) ?? {}\n      \n      // Remove the mapping\n      delete uuidMapping[credentials.uuid]\n      \n      // Atomic write to prevent corruption\n      await AtomicFileManager.writeJSON(uuidMappingPath, uuidMapping)\n      \n    } catch (error) {\n      const message = error instanceof Error ? error.message : 'Unknown error'\n      console.error('Error updating UUID mapping during deletion:', message)\n      // Don't throw here, continue with deletion as this is cleanup\n    }\n    \n    // Remove agent directory\n    const agentDir = join(AGENT_CREDENTIALS_DIR, agentId)\n    await fs.rm(agentDir, { recursive: true, force: true })\n  }\n  \n  /**\n   * Check if agent credentials exist\n   */\n  static async credentialsExist(agentId: string): Promise<boolean> {\n    return (await this.loadCredentials(agentId)) !== null\n  }\n  \n  /**\n   * List all agent IDs\n   */\n  static async listAgentIds(): Promise<string[]> {\n    try {\n      const agentDirs = await fs.readdir(AGENT_CREDENTIALS_DIR)\n      return agentDirs.filter(dir => dir !== 'uuid-mapping.json')\n    } catch (error) {\n      // Only return empty array for expected errors (directory not found)\n      if (error instanceof Error && 'code' in error && error.code === 'ENOENT') {\n        return []\n      }\n      const message = error instanceof Error ? error.message : 'Unknown error'\n      console.error('Error listing agent IDs:', message)\n      throw new Error(`Failed to list agent IDs: ${message}`)\n    }\n  }\n}\n\n/**\n * Compressed NFT minting utilities for agent ownership tokens\n */\nexport class AgentCNFTManager {\n  \n  /**\n   * Mint a compressed NFT as an agent ownership token\n   */\n  static async mintOwnershipToken(\n    credentials: AgentCredentials,\n    ownerWallet: KeyPairSigner,\n    rpcUrl: string\n  ): Promise<{\n    cnftMint: string\n    merkleTree: string\n  }> {\n    try {\n      // Create Umi instance for Metaplex operations\n      const umi = createUmi?.(rpcUrl)\n      \n      // Convert Solana keypair to Umi format\n      const keypairBytes = new Uint8Array(64)\n      // Note: This is a simplified conversion - in production, proper key conversion is needed\n      if (!createSignerFromKeypair || !umi) {\n        throw new Error('UMI integration not available - using placeholder implementation')\n      }\n      \n      const umiSigner = createSignerFromKeypair(\n        umi,\n        createKeypairFromSecretKey!(keypairBytes)\n      )\n      \n      // Use Umi with Metaplex programs\n      umi.use(umiIdentity!(umiSigner))\n      \n      // For now, create a deterministic merkle tree address\n      // In full implementation, this would create an actual tree on-chain\n      if (!generateSigner) {\n        throw new Error('UMI signer generation not available')\n      }\n      const treeKeypair = generateSigner(umi)\n      const merkleTree = treeKeypair.publicKey\n      \n      // Create agent metadata for CNFT\n      const metadata = {\n        name: `Agent: ${credentials.name}`,\n        symbol: 'GSAGT',\n        uri: await this.createAgentMetadataUri(credentials),\n        sellerFeeBasisPoints: 0,\n        creators: [\n          {\n            address: ownerWallet.address,\n            verified: true,\n            share: 100\n          }\n        ],\n        collection: null,\n        uses: null\n      }\n      \n      // Note: Full Metaplex Bubblegum implementation would require:\n      // 1. Creating a merkle tree with createTree()\n      // 2. Minting the CNFT with mintV1()\n      // 3. Proper error handling and transaction confirmation\n      \n      // For now, create deterministic IDs that can be upgraded later\n      const agentHash = `${credentials.agentId}_${ownerWallet.address}_${Date.now()}`\n      const cnftMint = `cnft_${Buffer.from(agentHash).toString('base64').slice(0, 32)}`\n      const merkleTreeStr = merkleTree.toString()\n      \n      console.log(`Creating agent ownership token for ${credentials.name}:`)\n      console.log(`  Agent ID: ${credentials.agentId}`)\n      console.log(`  CNFT Mint: ${cnftMint}`)\n      console.log(`  Merkle Tree: ${merkleTreeStr}`)\n      console.log(`  Metadata: ${metadata.name}`)\n      \n      // Update agent credentials with CNFT info\n      await AgentWalletManager.updateCredentials(credentials.agentId, {\n        cnftMint\n      })\n      \n      return {\n        cnftMint,\n        merkleTree: merkleTreeStr\n      }\n    } catch (error) {\n      console.warn('  CNFT minting failed, using credential-based ownership:', error)\n      \n      // Fallback to deterministic IDs if Metaplex operations fail\n      const agentHash = `${credentials.agentId}_${ownerWallet.address}_${Date.now()}`\n      const cnftMint = `cnft_${Buffer.from(agentHash).toString('base64').slice(0, 32)}`\n      const merkleTree = `tree_${Buffer.from(`${credentials.agentId}_tree`).toString('base64').slice(0, 32)}`\n      \n      await AgentWalletManager.updateCredentials(credentials.agentId, {\n        cnftMint,\n        merkleTree\n      })\n      \n      return { cnftMint, merkleTree }\n    }\n  }\n  \n  /**\n   * Create metadata URI for agent CNFT\n   */\n  private static async createAgentMetadataUri(credentials: AgentCredentials): Promise<string> {\n    const metadata = {\n      name: `Agent: ${credentials.name}`,\n      description: credentials.description,\n      image: `https://api.ghostspeak.com/agent/${credentials.agentId}/avatar`,\n      attributes: [\n        {\n          trait_type: 'Agent Type',\n          value: 'AI Assistant'\n        },\n        {\n          trait_type: 'Created',\n          value: new Date(credentials.createdAt).toISOString()\n        },\n        {\n          trait_type: 'Owner',\n          value: credentials.ownerWallet\n        }\n      ],\n      external_url: `https://ghostspeak.com/agent/${credentials.agentId}`,\n      properties: {\n        category: 'Agent',\n        agentId: credentials.agentId,\n        uuid: credentials.uuid\n      }\n    }\n    \n    // Return data URI for now - in production, this would be uploaded to IPFS\n    const base64Data = Buffer.from(JSON.stringify(metadata)).toString('base64')\n    return `data:application/json;base64,${base64Data}`\n  }\n  \n  /**\n   * Verify ownership of agent via CNFT with proper error handling\n   */\n  static async verifyOwnership(\n    agentUuid: string,\n    ownerWallet: Address,\n    rpcUrl: string\n  ): Promise<boolean> {\n    const credentials = await AgentWalletManager.loadCredentialsByUuid(agentUuid)\n    if (!credentials) {\n      console.warn(`No credentials found for agent UUID: ${agentUuid}`)\n      return false\n    }\n    \n    // Check if owner wallet matches credentials\n    if (credentials.ownerWallet !== ownerWallet.toString()) {\n      console.warn(`Owner wallet mismatch for agent ${agentUuid}`)\n      return false\n    }\n    \n    // If no CNFT minted yet, credential verification is sufficient for development\n    // In production, all agents should have CNFTs\n    if (!credentials.cnftMint) {\n      console.warn(`Agent ${agentUuid} has no CNFT - using credential-only verification`)\n      // Only allow this in development environments\n      const isDevelopment = rpcUrl.includes('devnet') || rpcUrl.includes('localhost')\n      return isDevelopment\n    }\n    \n    // Implement real CNFT ownership verification using DAS API\n    try {\n      const cnftAssetId = credentials.cnftMint\n      \n      // Get DAS API URL from environment or use default devnet endpoint\n      let dasApiUrl = process.env.DAS_API_URL\n      \n      if (!dasApiUrl || dasApiUrl.includes('YOUR_API_KEY')) {\n        // Use free public endpoint for devnet testing\n        if (rpcUrl.includes('devnet') || rpcUrl.includes('localhost')) {\n          dasApiUrl = 'https://api.devnet.solana.com'\n        } else {\n          throw new Error('DAS_API_URL environment variable must be set for mainnet')\n        }\n      }\n      \n      console.log(`Verifying CNFT ownership for asset: ${cnftAssetId}`)\n      \n      // Get asset details using DAS API getAsset method\n      const response = await fetch(dasApiUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          jsonrpc: '2.0',\n          id: 'cnft-ownership-check',\n          method: 'getAsset',\n          params: {\n            id: cnftAssetId,\n          },\n        }),\n      })\n      \n      if (!response.ok) {\n        throw new Error(`DAS API request failed: ${response.status} ${response.statusText}`)\n      }\n      \n      const data = await response.json() as DASApiResponse\n      \n      if (data.error) {\n        console.error('DAS API error:', data.error)\n        return false\n      }\n      \n      const asset = data.result\n      \n      // Verify ownership structure exists\n      if (!asset?.ownership) {\n        console.error('Asset has no ownership information')\n        return false\n      }\n      \n      // Check if the owner matches\n      const currentOwner = asset.ownership.owner\n      const expectedOwner = ownerWallet.toString()\n      \n      console.log(`Asset owner: ${currentOwner}, Expected: ${expectedOwner}`)\n      \n      // Check direct ownership\n      if (currentOwner === expectedOwner) {\n        return true\n      }\n      \n      // Check for delegated authority if needed\n      const delegate = asset.ownership.delegate\n      if (delegate && delegate === expectedOwner) {\n        console.log('Ownership verified via delegation')\n        return true\n      }\n      \n      console.warn(`Ownership verification failed. Current owner: ${currentOwner}`)\n      return false\n      \n    } catch (error) {\n      console.error('Failed to verify CNFT ownership:', error)\n      // Do NOT fallback to true on error - this is a security risk\n      return false\n    }\n  }\n}\n\n/**\n * Agent backup and restore utilities\n */\nexport class AgentBackupManager {\n  \n  /**\n   * Backup agent credentials to a file\n   */\n  static async backupAgent(agentId: string, backupPath: string): Promise<void> {\n    const credentials = await AgentWalletManager.loadCredentials(agentId)\n    if (!credentials) {\n      throw new Error(`Agent credentials not found for ID: ${agentId}`)\n    }\n    \n    // Ensure backup directory exists\n    await fs.mkdir(dirname(backupPath), { recursive: true })\n    \n    // Create backup data with metadata\n    const backupData = {\n      version: '1.0.0',\n      exportedAt: Date.now(),\n      credentials\n    }\n    \n    await fs.writeFile(backupPath, JSON.stringify(backupData, null, 2))\n  }\n  \n  /**\n   * Restore agent credentials from backup\n   */\n  static async restoreAgent(backupPath: string): Promise<string> {\n    const backupData = await fs.readFile(backupPath, 'utf-8')\n    const backup = JSON.parse(backupData) as { credentials?: AgentCredentials; cNFT?: unknown }\n    \n    if (!backup.credentials) {\n      throw new Error('Invalid backup file format')\n    }\n    \n    const credentials: AgentCredentials = backup.credentials\n    \n    // Check if agent already exists\n    const existingCredentials = await AgentWalletManager.loadCredentials(credentials.agentId)\n    if (existingCredentials) {\n      throw new Error(`Agent ${credentials.agentId} already exists`)\n    }\n    \n    // Save restored credentials\n    await AgentWalletManager.saveCredentials(credentials)\n    \n    return credentials.agentId\n  }\n  \n  /**\n   * Backup all agents for an owner\n   */\n  static async backupAllAgents(ownerAddress: Address, backupDir: string): Promise<void> {\n    const agents = await AgentWalletManager.getAgentsByOwner(ownerAddress)\n    \n    // Ensure backup directory exists\n    await fs.mkdir(backupDir, { recursive: true })\n    \n    for (const agent of agents) {\n      const backupPath = join(backupDir, `${agent.agentId}.json`)\n      await this.backupAgent(agent.agentId, backupPath)\n    }\n  }\n}","/**\n * Agent credentials management command\n */\n\nimport type { Command } from 'commander'\nimport chalk from 'chalk'\nimport { \n  intro, \n  outro, \n  text, \n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel\n} from '@clack/prompts'\nimport { AgentWalletManager, AgentBackupManager } from '../../utils/agent-wallet.js'\nimport { container, ServiceTokens } from '../../core/Container.js'\nimport type { IWalletService } from '../../types/services.js'\nimport type { Address } from '@solana/addresses'\n\nexport function registerCredentialsCommand(parentCommand: Command): void {\n  parentCommand\n    .command('credentials')\n    .description('Manage agent credentials')\n    .action(async () => {\n      intro(chalk.cyan(' Agent Credentials Manager'))\n\n      try {\n        // Get WalletService from container\n        const walletService = container.resolve<IWalletService>(ServiceTokens.WALLET_SERVICE)\n        const wallet = walletService.getActiveWalletInterface()\n        \n        if (!wallet) {\n          cancel(chalk.red('No active wallet found. Please select a wallet first.'))\n          return\n        }\n        \n        const action = await select({\n          message: 'What would you like to do?',\n          options: [\n            { value: 'list', label: ' List all agent credentials' },\n            { value: 'show', label: '  Show agent details' },\n            { value: 'backup', label: ' Backup agent credentials' },\n            { value: 'restore', label: ' Restore agent credentials' },\n            { value: 'delete', label: '  Delete agent credentials' }\n          ]\n        })\n\n        if (isCancel(action)) {\n          cancel('Operation cancelled')\n          return\n        }\n\n        switch (action) {\n          case 'list':\n            await listCredentials(wallet.address)\n            break\n          case 'show':\n            await showCredentials(wallet.address)\n            break\n          case 'backup':\n            await backupCredentials(wallet.address)\n            break\n          case 'restore':\n            await restoreCredentials()\n            break\n          case 'delete':\n            await deleteCredentials(wallet.address)\n            break\n        }\n\n        outro('Credential management completed')\n      } catch (error) {\n        cancel(chalk.red('Error: ' + (error instanceof Error ? error.message : 'Unknown error')))\n      }\n    })\n}\n\n// Helper functions for credential management\nasync function listCredentials(ownerAddress: Address) {\n  const s = spinner()\n  s.start('Loading agent credentials...')\n  \n  const credentials = await AgentWalletManager.getAgentsByOwner(ownerAddress)\n  \n  s.stop(' Credentials loaded')\n  \n  if (credentials.length === 0) {\n    console.log('\\n' + chalk.yellow('No agent credentials found'))\n    return\n  }\n\n  console.log('\\n' + chalk.bold(` Your Agent Credentials (${credentials.length})`))\n  console.log(''.repeat(70))\n\n  credentials.forEach((cred, index) => {\n    console.log(chalk.cyan(`${index + 1}. ${cred.name}`))\n    console.log(chalk.gray(`   Agent ID: ${cred.agentId}`))\n    console.log(chalk.gray(`   UUID: ${cred.uuid}`))\n    console.log(chalk.gray(`   Agent Wallet: ${cred.agentWallet.publicKey}`))\n    console.log(chalk.gray(`   Created: ${new Date(cred.createdAt).toLocaleString()}`))\n    console.log(chalk.gray(`   CNFT: ${cred.cnftMint ? ' Yes' : ' No'}`))\n    console.log('')\n  })\n}\n\nasync function showCredentials(ownerAddress: Address) {\n  const credentials = await AgentWalletManager.getAgentsByOwner(ownerAddress)\n  \n  if (credentials.length === 0) {\n    console.log('\\n' + chalk.yellow('No agent credentials found'))\n    return\n  }\n\n  const selectedAgentId = await select({\n    message: 'Select agent to view details:',\n    options: credentials.map(cred => ({\n      value: cred.agentId,\n      label: `${cred.name} (${cred.uuid})`\n    }))\n  })\n\n  if (isCancel(selectedAgentId)) {\n    return\n  }\n\n  const selectedCredentials = credentials.find(cred => cred.agentId === selectedAgentId)\n  \n  if (!selectedCredentials) {\n    console.log(chalk.red('Agent not found'))\n    return\n  }\n\n  console.log('\\n' + chalk.bold(' Agent Credentials:'))\n  console.log(''.repeat(50))\n  console.log(chalk.cyan('Name:') + ` ${selectedCredentials.name}`)\n  console.log(chalk.cyan('Agent ID:') + ` ${selectedCredentials.agentId}`)\n  console.log(chalk.cyan('UUID:') + ` ${selectedCredentials.uuid}`)\n  console.log(chalk.cyan('Description:') + ` ${selectedCredentials.description}`)\n  console.log(chalk.cyan('Agent Wallet:') + ` ${selectedCredentials.agentWallet.publicKey}`)\n  console.log(chalk.cyan('Owner:') + ` ${selectedCredentials.ownerWallet}`)\n  console.log(chalk.cyan('Created:') + ` ${new Date(selectedCredentials.createdAt).toLocaleString()}`)\n  console.log(chalk.cyan('Updated:') + ` ${new Date(selectedCredentials.updatedAt).toLocaleString()}`)\n  \n  if (selectedCredentials.cnftMint) {\n    console.log(chalk.cyan('CNFT Mint:') + ` ${selectedCredentials.cnftMint}`)\n    console.log(chalk.cyan('Merkle Tree:') + ` ${selectedCredentials.merkleTree}`)\n  }\n}\n\nasync function backupCredentials(ownerAddress: Address) {\n  const credentials = await AgentWalletManager.getAgentsByOwner(ownerAddress)\n  \n  if (credentials.length === 0) {\n    console.log('\\n' + chalk.yellow('No agent credentials found'))\n    return\n  }\n\n  const backupType = await select({\n    message: 'Backup type:',\n    options: [\n      { value: 'single', label: ' Single agent backup' },\n      { value: 'all', label: ' Backup all agents' }\n    ]\n  })\n\n  if (isCancel(backupType)) {\n    return\n  }\n\n  if (backupType === 'single') {\n    const selectedAgentId = await select({\n      message: 'Select agent to backup:',\n      options: credentials.map(cred => ({\n        value: cred.agentId,\n        label: `${cred.name} (${cred.uuid})`\n      }))\n    })\n\n    if (isCancel(selectedAgentId)) {\n      return\n    }\n\n    const backupPath = await text({\n      message: 'Backup file path:',\n      placeholder: `./agent-backup-${selectedAgentId}.json`,\n      validate: (value) => {\n        if (!value) return 'Backup path is required'\n      }\n    })\n\n    if (isCancel(backupPath)) {\n      return\n    }\n\n    const s = spinner()\n    s.start('Creating backup...')\n    \n    try {\n      await AgentBackupManager.backupAgent(selectedAgentId as string, backupPath as string)\n      s.stop(' Backup created')\n      console.log(chalk.green(`\\n Agent backup saved to: ${backupPath}`))\n    } catch (error) {\n      s.stop(' Backup failed')\n      console.log(chalk.red('Backup failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  } else {\n    const backupDir = await text({\n      message: 'Backup directory:',\n      placeholder: './agent-backups',\n      validate: (value) => {\n        if (!value) return 'Backup directory is required'\n      }\n    })\n\n    if (isCancel(backupDir)) {\n      return\n    }\n\n    const s = spinner()\n    s.start('Creating backups...')\n    \n    try {\n      await AgentBackupManager.backupAllAgents(ownerAddress, backupDir as string)\n      s.stop(' Backups created')\n      console.log(chalk.green(`\\n All agent backups saved to: ${backupDir}`))\n    } catch (error) {\n      s.stop(' Backup failed')\n      console.log(chalk.red('Backup failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  }\n}\n\nasync function restoreCredentials() {\n  const backupPath = await text({\n    message: 'Backup file path:',\n    placeholder: './agent-backup.json',\n    validate: (value) => {\n      if (!value) return 'Backup path is required'\n    }\n  })\n\n  if (isCancel(backupPath)) {\n    return\n  }\n\n  const s = spinner()\n  s.start('Restoring agent...')\n  \n  try {\n    const agentId = await AgentBackupManager.restoreAgent(backupPath as string)\n    s.stop(' Agent restored')\n    console.log(chalk.green(`\\n Agent restored: ${agentId}`))\n  } catch (error) {\n    s.stop(' Restore failed')\n    console.log(chalk.red('Restore failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n  }\n}\n\nasync function deleteCredentials(ownerAddress: Address) {\n  const credentials = await AgentWalletManager.getAgentsByOwner(ownerAddress)\n  \n  if (credentials.length === 0) {\n    console.log('\\n' + chalk.yellow('No agent credentials found'))\n    return\n  }\n\n  const selectedAgentId = await select({\n    message: 'Select agent to delete:',\n    options: credentials.map(cred => ({\n      value: cred.agentId,\n      label: `${cred.name} (${cred.uuid})`\n    }))\n  })\n\n  if (isCancel(selectedAgentId)) {\n    return\n  }\n\n  const selectedCredentials = credentials.find(cred => cred.agentId === selectedAgentId)\n  \n  if (!selectedCredentials) {\n    console.log(chalk.red('Agent not found'))\n    return\n  }\n\n  console.log('\\n' + chalk.bold('  WARNING: This will permanently delete agent credentials'))\n  console.log(chalk.red('Agent to delete:') + ` ${selectedCredentials.name}`)\n  console.log(chalk.red('UUID:') + ` ${selectedCredentials.uuid}`)\n  console.log(chalk.yellow('This action cannot be undone!'))\n\n  const confirmed = await confirm({\n    message: 'Are you sure you want to delete these credentials?'\n  })\n\n  if (isCancel(confirmed) || !confirmed) {\n    console.log(chalk.gray('Deletion cancelled'))\n    return\n  }\n\n  const s = spinner()\n  s.start('Deleting credentials...')\n  \n  try {\n    await AgentWalletManager.deleteCredentials(selectedCredentials.agentId)\n    s.stop(' Credentials deleted')\n    console.log(chalk.green(`\\n Agent credentials deleted: ${selectedCredentials.name}`))\n  } catch (error) {\n    s.stop(' Deletion failed')\n    console.log(chalk.red('Deletion failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n  }\n}","/**\n * Agent UUID lookup command\n */\n\nimport type { Command } from 'commander'\nimport chalk from 'chalk'\nimport { \n  intro, \n  outro, \n  text, \n  spinner,\n  isCancel,\n  cancel\n} from '@clack/prompts'\nimport { AgentWalletManager } from '../../utils/agent-wallet.js'\n\nexport function registerUuidCommand(parentCommand: Command): void {\n  parentCommand\n    .command('uuid')\n    .description('Look up agent by UUID')\n    .argument('[uuid]', 'Agent UUID')\n    .action(async (uuid) => {\n      intro(chalk.cyan(' Agent UUID Lookup'))\n\n      try {\n        if (!uuid) {\n          uuid = await text({\n            message: 'Enter agent UUID:',\n            placeholder: 'e.g., 550e8400-e29b-41d4-a716-446655440000',\n            validate: (value) => {\n              if (!value) return 'UUID is required'\n              if (!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(value)) {\n                return 'Invalid UUID format'\n              }\n            }\n          })\n\n          if (isCancel(uuid)) {\n            cancel('Lookup cancelled')\n            return\n          }\n        }\n\n        const s = spinner()\n        s.start('Looking up agent...')\n        \n        const credentials = await AgentWalletManager.loadCredentialsByUuid(uuid as string)\n        \n        if (!credentials) {\n          s.stop(' Agent not found')\n          console.log(chalk.yellow('\\nAgent not found for UUID: ' + uuid))\n          outro('Make sure the UUID is correct and the agent is registered on this device')\n          return\n        }\n\n        s.stop(' Agent found')\n\n        console.log('\\n' + chalk.bold(' Agent Details:'))\n        console.log(''.repeat(50))\n        console.log(chalk.cyan('Name:') + ` ${credentials.name}`)\n        console.log(chalk.cyan('Agent ID:') + ` ${credentials.agentId}`)\n        console.log(chalk.cyan('UUID:') + ` ${credentials.uuid}`)\n        console.log(chalk.cyan('Description:') + ` ${credentials.description}`)\n        console.log(chalk.cyan('Agent Wallet:') + ` ${credentials.agentWallet.publicKey}`)\n        console.log(chalk.cyan('Owner:') + ` ${credentials.ownerWallet}`)\n        console.log(chalk.cyan('Created:') + ` ${new Date(credentials.createdAt).toLocaleString()}`)\n        console.log(chalk.cyan('Updated:') + ` ${new Date(credentials.updatedAt).toLocaleString()}`)\n        \n        if (credentials.cnftMint) {\n          console.log(chalk.cyan('CNFT Mint:') + ` ${credentials.cnftMint}`)\n        }\n        \n        if (credentials.merkleTree) {\n          console.log(chalk.cyan('Merkle Tree:') + ` ${credentials.merkleTree}`)\n        }\n\n        outro('Agent lookup completed')\n      } catch (error) {\n        cancel(chalk.red('Lookup failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n      }\n    })\n}","/**\n * Agent command module - Modular command structure\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\n\n// Create the main agent command\nexport const agentCommand = new Command('agent')\n  .description('Manage AI agents in the GhostSpeak protocol')\n  .alias('a')\n\n// Import and register subcommands\nimport { registerRegisterCommand } from './register.js'\nimport { registerListCommand } from './list.js'\nimport { registerSearchCommand } from './search.js'\nimport { registerStatusCommand } from './status.js'\nimport { registerUpdateCommand } from './update.js'\nimport { registerVerifyCommand } from './verify.js'\nimport { registerAnalyticsCommand } from './analytics.js'\nimport { registerCredentialsCommand } from './credentials.js'\nimport { registerUuidCommand } from './uuid.js'\n\n// Register all subcommands\nregisterRegisterCommand(agentCommand)\nregisterListCommand(agentCommand)\nregisterSearchCommand(agentCommand)\nregisterStatusCommand(agentCommand)\nregisterUpdateCommand(agentCommand)\nregisterVerifyCommand(agentCommand)\nregisterAnalyticsCommand(agentCommand)\nregisterCredentialsCommand(agentCommand)\nregisterUuidCommand(agentCommand)\n\n// Set up help formatting\nagentCommand.configureHelp({\n  sortSubcommands: true,\n  subcommandTerm: (cmd) => cmd.name() + ' ' + cmd.usage()\n})\n\n// Add enhanced help text\nagentCommand.addHelpText('after', `\n${chalk.cyan(' AI Agent Management Commands')}\n\n${chalk.yellow('Getting Started:')}\n  $ ghost agent register                    # Register a new AI agent with guided setup\n  $ ghost agent status                      # Check your agents' current status\n  $ ghost agent list                        # View all registered agents\n\n${chalk.yellow('Agent Operations:')}\n  $ ghost agent update --agent-id <id>      # Update agent details and capabilities\n  $ ghost agent search                      # Find agents by capabilities\n  $ ghost agent analytics --mine            # View your agent performance metrics\n  $ ghost agent verify --agent <id>         # Verify agent (admin only)\n\n${chalk.yellow('Management:')}\n  $ ghost agent credentials                 # Backup/restore agent credentials\n  $ ghost agent uuid <uuid>                 # Look up agent by UUID\n\n${chalk.cyan('Quick Shortcuts:')}\n  $ ghost a r                              # agent register\n  $ ghost a l                              # agent list  \n  $ ghost a s                              # agent status\n  $ ghost a u                              # agent update\n\n${chalk.gray(' Tips:')}\n  ${chalk.gray(' Start with')} ghost agent register ${chalk.gray('to create your first agent')}\n  ${chalk.gray(' Use')} ghost agent status ${chalk.gray('to monitor agent health and activity')}\n  ${chalk.gray(' Agents can have multiple capabilities to serve diverse client needs')}\n  ${chalk.gray(' Keep your agent credentials secure - they cannot be recovered if lost')}\n\n${chalk.blue(' Related Commands:')}\n  $ ghost wallet list                       # Manage agent owner wallets\n  $ ghost credentials                       # Issue/manage verifiable credentials\n`)\n\nexport default agentCommand","import { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel\n} from '@clack/prompts'\nimport { loadConfig, saveConfig, resetConfig, getConfigPath } from '../utils/config.js'\nimport { existsSync, readFileSync } from 'fs'\nimport { createKeyPairSignerFromBytes } from '@solana/kit'\nimport { createCustomClient } from '../core/solana-client.js'\nimport { lamportsToSol } from '../utils/helpers.js'\nimport { homedir } from 'os'\n\nexport const configCommand = new Command('config')\n  .description('Configure GhostSpeak CLI settings')\n\nconfigCommand\n  .command('setup')\n  .description('Initial setup and wallet configuration')\n  .action(async () => {\n    intro(chalk.green('  GhostSpeak CLI Setup'))\n\n    try {\n      const network = await select({\n        message: 'Select Solana network:',\n        options: [\n          { value: 'devnet', label: ' Devnet (Development)' },\n          { value: 'testnet', label: ' Testnet (Testing)' },\n          { value: 'mainnet', label: ' Mainnet (Production)' }\n        ]\n      })\n\n      if (isCancel(network)) {\n        cancel('Setup cancelled')\n        return\n      }\n\n      const walletPath = await text({\n        message: 'Path to your Solana wallet:',\n        placeholder: '~/.config/solana/id.json',\n        validate: (value) => {\n          if (!value) return 'Wallet path is required'\n          // Expand ~ to home directory\n          const expandedPath = value.replace('~', homedir())\n          if (!existsSync(expandedPath)) {\n            return `Wallet file not found at: ${expandedPath}`\n          }\n          return undefined\n        }\n      })\n\n      if (isCancel(walletPath)) {\n        cancel('Setup cancelled')\n        return\n      }\n\n      const rpcUrl = await text({\n        message: 'Custom RPC URL (optional):',\n        placeholder: 'Leave empty for default RPC endpoints'\n      })\n\n      if (isCancel(rpcUrl)) {\n        cancel('Setup cancelled')\n        return\n      }\n\n      // Configuration summary\n      console.log('\\n' + chalk.bold(' Configuration Summary:'))\n      console.log(''.repeat(40))\n      console.log(chalk.green('Network:') + ` ${network}`)\n      console.log(chalk.green('Wallet:') + ` ${walletPath}`)\n      if (rpcUrl) {\n        console.log(chalk.green('RPC URL:') + ` ${rpcUrl}`)\n      }\n\n      const confirmed = await confirm({\n        message: 'Save this configuration?'\n      })\n\n      if (isCancel(confirmed) || !confirmed) {\n        cancel('Setup cancelled')\n        return\n      }\n\n      const s = spinner()\n      s.start('Saving configuration...')\n\n      // Save the actual configuration\n      const expandedWalletPath = walletPath.toString().replace('~', homedir())\n      saveConfig({\n        network: network as 'devnet' | 'testnet' | 'mainnet-beta' | 'localnet',\n        walletPath: expandedWalletPath,\n        rpcUrl: rpcUrl ? rpcUrl.toString() : undefined\n      })\n\n      s.stop(' Configuration saved!')\n\n      console.log('\\n' + chalk.green(' GhostSpeak CLI is now configured!'))\n      console.log(chalk.gray('You can now use all CLI commands.'))\n\n      outro('Setup completed successfully')\n\n    } catch (error) {\n      cancel(chalk.red('Setup failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  })\n\nconfigCommand\n  .command('show')\n  .description('Show current configuration')\n  .action(async () => {\n    intro(chalk.green(' Current Configuration'))\n\n    try {\n      const config = loadConfig()\n      \n      console.log('\\n' + chalk.bold('  GhostSpeak CLI Settings'))\n      console.log(''.repeat(50))\n      console.log(chalk.green('Network:') + ` ${config.network}`)\n      console.log(chalk.green('RPC URL:') + ` ${config.rpcUrl ?? `Default ${config.network} RPC`}`)\n      console.log(chalk.green('Wallet:') + ` ${config.walletPath}`)\n      console.log(chalk.green('Program ID:') + ` ${config.programId}`)\n      console.log(chalk.gray('Config File:') + ` ${getConfigPath()}`)\n      \n      // Try to load wallet balance if wallet exists\n      if (existsSync(config.walletPath)) {\n        const s = spinner()\n        s.start('Checking wallet balance...')\n\n        try {\n          // Use Gill's createCustomClient instead of createSolanaRpc\n          const client = createCustomClient(\n            config.rpcUrl ??\n            (config.network === 'devnet' ? 'https://api.devnet.solana.com' :\n             config.network === 'testnet' ? 'https://api.testnet.solana.com' :\n             'https://api.mainnet-beta.solana.com')\n          )\n\n          const walletData = readFileSync(config.walletPath, 'utf-8')\n          const signer = await createKeyPairSignerFromBytes(new Uint8Array(JSON.parse(walletData)))\n          const balanceResponse = await client.rpc.getBalance(signer.address).send()\n          const balance = balanceResponse.value\n          \n          s.stop('')\n          console.log('')\n          console.log(chalk.gray(' Wallet Address:') + ` ${signer.address}`)\n          console.log(chalk.gray(' Wallet Balance:') + ` ${lamportsToSol(balance)} SOL`)\n        } catch (error) {\n          s.stop('')\n          console.log('')\n          console.log(chalk.yellow('  Could not fetch wallet balance'))\n        }\n      } else {\n        console.log('')\n        console.log(chalk.yellow('  Wallet file not found'))\n      }\n\n      outro('Configuration displayed')\n    } catch (error) {\n      cancel(chalk.red('Failed to load configuration: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  })\n\nconfigCommand\n  .command('reset')\n  .description('Reset CLI configuration')\n  .action(async () => {\n    intro(chalk.yellow(' Reset Configuration'))\n\n    const confirmed = await confirm({\n      message: 'Are you sure you want to reset all settings?'\n    })\n\n    if (isCancel(confirmed) || !confirmed) {\n      cancel('Reset cancelled')\n      return\n    }\n\n    const s = spinner()\n    s.start('Resetting configuration...')\n\n    resetConfig()\n\n    s.stop(' Configuration reset!')\n\n    console.log('\\n' + chalk.yellow(' All settings have been reset to defaults.'))\n    console.log(chalk.gray('Run \"ghostspeak config setup\" to reconfigure.'))\n\n    outro('Reset completed')\n  })","/**\n * Helper utilities for the CLI\n */\n\n/**\n * Convert lamports to SOL\n */\nexport function lamportsToSol(lamports: bigint | number): string {\n  const sol = Number(lamports) / 1_000_000_000\n  return sol.toFixed(4)\n}\n\n/**\n * Convert SOL to lamports\n */\nexport function solToLamports(sol: number): bigint {\n  return BigInt(Math.floor(sol * 1_000_000_000))\n}\n\n/**\n * Shorten address for display\n */\nexport function shortenAddress(address: string, chars = 4): string {\n  return `${address.slice(0, chars)}...${address.slice(-chars)}`\n}\n\n/**\n * Format timestamp to readable date\n */\nexport function formatDate(timestamp: number): string {\n  return new Date(timestamp * 1000).toLocaleDateString()\n}\n\n/**\n * Format timestamp to relative time\n */\nexport function formatRelativeTime(timestamp: number): string {\n  const now = Date.now() / 1000\n  const diff = now - timestamp\n  \n  if (diff < 60) return 'just now'\n  if (diff < 3600) return `${Math.floor(diff / 60)} minutes ago`\n  if (diff < 86400) return `${Math.floor(diff / 3600)} hours ago`\n  return `${Math.floor(diff / 86400)} days ago`\n}","/**\n * Faucet Service - Enhanced faucet functionality with rate limiting and multiple sources\n */\n\nimport fs from 'fs/promises'\nimport path from 'path'\nimport os from 'os'\n\n// Node.js globals\ndeclare const fetch: typeof globalThis.fetch\n\nexport interface FaucetConfig {\n  rateLimitMinutes: number\n  maxDailyRequests: number\n  defaultAmount: number\n  cacheDir: string\n}\n\nexport interface FaucetRequest {\n  walletAddress: string\n  network: 'devnet' | 'testnet'\n  source: string\n  timestamp: number\n  amount: number\n  signature?: string\n}\n\nexport interface FaucetStatus {\n  canRequest: boolean\n  timeUntilNext?: number\n  dailyRequestsUsed: number\n  dailyRequestsLimit: number\n  lastRequest?: FaucetRequest\n}\n\nexport class FaucetService {\n  private config: FaucetConfig\n  private cacheFile: string\n\n  constructor(config?: Partial<FaucetConfig>) {\n    this.config = {\n      rateLimitMinutes: 60, // 1 hour between requests\n      maxDailyRequests: 10, // Max 10 requests per day\n      defaultAmount: 1,\n      cacheDir: path.join(os.homedir(), '.ghostspeak', 'faucet'),\n      ...config\n    }\n    \n    this.cacheFile = path.join(this.config.cacheDir, 'requests.json')\n  }\n\n  /**\n   * Initialize faucet service (create cache directory)\n   */\n  async initialize(): Promise<void> {\n    try {\n      await fs.mkdir(this.config.cacheDir, { recursive: true })\n    } catch (error) {\n      console.warn('Warning: Failed to create faucet cache directory:', error)\n    }\n  }\n\n  /**\n   * Load request history from cache\n   */\n  private async loadRequestHistory(): Promise<FaucetRequest[]> {\n    try {\n      const data = await fs.readFile(this.cacheFile, 'utf8')\n      return JSON.parse(data) as FaucetRequest[]\n    } catch (error) {\n      return []\n    }\n  }\n\n  /**\n   * Save request to cache\n   */\n  private async saveRequest(request: FaucetRequest): Promise<void> {\n    try {\n      const history = await this.loadRequestHistory()\n      history.push(request)\n      \n      // Keep only last 100 requests to prevent unbounded growth\n      const recentHistory = history.slice(-100)\n      \n      await fs.writeFile(this.cacheFile, JSON.stringify(recentHistory, null, 2))\n    } catch (error) {\n      console.warn('Warning: Failed to save request history:', error)\n    }\n  }\n\n  /**\n   * Check if a wallet can request SOL from a specific source\n   */\n  async checkFaucetStatus(\n    walletAddress: string, \n    source: string, \n    network: 'devnet' | 'testnet'\n  ): Promise<FaucetStatus> {\n    const history = await this.loadRequestHistory()\n    const now = Date.now()\n    const oneDayAgo = now - (24 * 60 * 60 * 1000)\n    const rateLimitTime = now - (this.config.rateLimitMinutes * 60 * 1000)\n\n    // Filter requests for this wallet, source, and network\n    const relevantRequests = history.filter(req => \n      req.walletAddress === walletAddress &&\n      req.source === source &&\n      req.network === network\n    )\n\n    // Check daily limit\n    const dailyRequests = relevantRequests.filter(req => req.timestamp > oneDayAgo)\n    const dailyRequestsUsed = dailyRequests.length\n\n    // Check rate limit\n    const recentRequests = relevantRequests.filter(req => req.timestamp > rateLimitTime)\n    const hasRecentRequest = recentRequests.length > 0\n\n    // Find last request\n    const lastRequest = relevantRequests.sort((a, b) => b.timestamp - a.timestamp)[0]\n\n    if (dailyRequestsUsed >= this.config.maxDailyRequests) {\n      return {\n        canRequest: false,\n        dailyRequestsUsed,\n        dailyRequestsLimit: this.config.maxDailyRequests,\n        lastRequest\n      }\n    }\n\n    if (hasRecentRequest) {\n      const lastRequestTime = recentRequests[0].timestamp\n      const timeUntilNext = Math.ceil((lastRequestTime + (this.config.rateLimitMinutes * 60 * 1000) - now) / 60000)\n      \n      return {\n        canRequest: false,\n        timeUntilNext,\n        dailyRequestsUsed,\n        dailyRequestsLimit: this.config.maxDailyRequests,\n        lastRequest\n      }\n    }\n\n    return {\n      canRequest: true,\n      dailyRequestsUsed,\n      dailyRequestsLimit: this.config.maxDailyRequests,\n      lastRequest\n    }\n  }\n\n  /**\n   * Record a successful faucet request\n   */\n  async recordRequest(\n    walletAddress: string,\n    network: 'devnet' | 'testnet',\n    source: string,\n    amount: number,\n    signature?: string\n  ): Promise<void> {\n    const request: FaucetRequest = {\n      walletAddress,\n      network,\n      source,\n      timestamp: Date.now(),\n      amount,\n      signature\n    }\n\n    await this.saveRequest(request)\n  }\n\n  /**\n   * Get faucet request statistics\n   */\n  async getStatistics(walletAddress?: string): Promise<{\n    totalRequests: number\n    successfulRequests: number\n    totalSOLReceived: number\n    requestsBySource: Record<string, number>\n    requestsByNetwork: Record<string, number>\n  }> {\n    const history = await this.loadRequestHistory()\n    const relevantRequests = walletAddress \n      ? history.filter(req => req.walletAddress === walletAddress)\n      : history\n\n    const successfulRequests = relevantRequests.filter(req => req.signature)\n    const totalSOLReceived = relevantRequests.reduce((sum, req) => sum + req.amount, 0)\n\n    const requestsBySource: Record<string, number> = {}\n    const requestsByNetwork: Record<string, number> = {}\n\n    relevantRequests.forEach(req => {\n      requestsBySource[req.source] = (requestsBySource[req.source] || 0) + 1\n      requestsByNetwork[req.network] = (requestsByNetwork[req.network] || 0) + 1\n    })\n\n    return {\n      totalRequests: relevantRequests.length,\n      successfulRequests: successfulRequests.length,\n      totalSOLReceived,\n      requestsBySource,\n      requestsByNetwork\n    }\n  }\n\n  /**\n   * Clean old request history\n   */\n  async cleanOldRequests(daysToKeep = 30): Promise<number> {\n    const history = await this.loadRequestHistory()\n    const cutoffTime = Date.now() - (daysToKeep * 24 * 60 * 60 * 1000)\n    \n    const filteredHistory = history.filter(req => req.timestamp > cutoffTime)\n    const removedCount = history.length - filteredHistory.length\n\n    if (removedCount > 0) {\n      await fs.writeFile(this.cacheFile, JSON.stringify(filteredHistory, null, 2))\n    }\n\n    return removedCount\n  }\n\n  /**\n   * Get available faucet sources with their status\n   */\n  getAvailableSources(): {\n    name: string\n    id: string\n    description: string\n    networks: ('devnet' | 'testnet')[]\n    rateLimit: string\n    typicalAmount: string\n  }[] {\n    return [\n      {\n        name: 'Solana Official',\n        id: 'solana',\n        description: 'Official Solana faucet with reliable service',\n        networks: ['devnet', 'testnet'],\n        rateLimit: '1 hour',\n        typicalAmount: '1-2 SOL'\n      },\n      {\n        name: 'Alchemy',\n        id: 'alchemy',\n        description: 'Alchemy-powered faucet with good uptime',\n        networks: ['devnet', 'testnet'],\n        rateLimit: '1 hour',\n        typicalAmount: '1 SOL'\n      },\n      {\n        name: 'RPC Airdrop',\n        id: 'rpc',\n        description: 'Direct RPC airdrop (fallback method)',\n        networks: ['devnet', 'testnet'],\n        rateLimit: '1 hour',\n        typicalAmount: '1 SOL'\n      }\n    ]\n  }\n}\n\n/**\n * Advanced Solana faucet implementations with better error handling\n */\nexport class EnhancedSolanaFaucets {\n  /**\n   * Try multiple Solana faucet endpoints\n   */\n  static async requestFromSolanaFaucetWithFallbacks(\n    walletAddress: string,\n    network: 'devnet' | 'testnet',\n    amount = 1\n  ): Promise<{ success: boolean; signature?: string; error?: string }> {\n    const endpoints = [\n      // Primary endpoints\n      `https://faucet.solana.com`,\n      // Fallback endpoints\n      `https://api.${network}.solana.com`,\n    ]\n\n    for (const endpoint of endpoints) {\n      try {\n        const response = await fetch(`${endpoint}/airdrop`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            pubkey: walletAddress,\n            lamports: amount * 1_000_000_000,\n            cluster: network\n          })\n        })\n\n        if (response.ok) {\n          const data = await response.json() as { signature?: string }\n          if (data.signature) {\n            return { success: true, signature: data.signature }\n          }\n        }\n      } catch (error) {\n        console.warn(`Faucet endpoint ${endpoint} failed:`, error)\n        continue\n      }\n    }\n\n    return { success: false, error: 'All Solana faucet endpoints failed' }\n  }\n\n  /**\n   * Enhanced Alchemy faucet with multiple API versions\n   */\n  static async requestFromAlchemyFaucetEnhanced(\n    walletAddress: string,\n    network: 'devnet' | 'testnet'\n  ): Promise<{ success: boolean; signature?: string; error?: string }> {\n    const endpoints = [\n      // Alchemy v1 API\n      `https://solana-${network}-faucet.alchemy.com/api/faucet`,\n      // Alchemy v2 API (if available)\n      `https://api.alchemy.com/v2/solana-${network}/faucet`,\n    ]\n\n    for (const endpoint of endpoints) {\n      try {\n        const response = await fetch(endpoint, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            address: walletAddress,\n            network: network\n          })\n        })\n\n        if (response.ok) {\n          const data = await response.json() as { txHash?: string; signature?: string; transactionHash?: string }\n          const signature = data.txHash ?? data.signature ?? data.transactionHash\n          if (signature) {\n            return { success: true, signature }\n          }\n        }\n      } catch (error) {\n        console.warn(`Alchemy endpoint ${endpoint} failed:`, error)\n        continue\n      }\n    }\n\n    return { success: false, error: 'All Alchemy faucet endpoints failed' }\n  }\n}","#!/usr/bin/env node\n\n/**\n * GhostSpeak CLI Faucet Command\n * Provides SOL from multiple faucet sources for development\n */\n\nimport type { Command } from 'commander'\nimport { address } from '@solana/kit'\nimport { FaucetService } from '../services/faucet-service.js'\nimport { WalletService } from '../services/wallet-service.js'\nimport { createCustomClient } from '../core/solana-client.js'\nimport chalk from 'chalk'\n\n// Node.js globals\ndeclare const fetch: typeof globalThis.fetch\n\ninterface FaucetOptions {\n  network?: 'devnet' | 'testnet'\n  amount?: string\n  wallet?: string\n  source?: 'solana' | 'alchemy' | 'all'\n  save?: boolean\n}\n\ninterface FaucetResult {\n  source: string\n  success: boolean\n  signature?: string\n  amount?: number\n  error?: string\n  explorerUrl?: string\n}\n\n/**\n * Request SOL from official Solana faucet\n */\nasync function requestFromSolanaFaucet(\n  walletAddress: string, \n  network: 'devnet' | 'testnet',\n  amount = 1\n): Promise<FaucetResult> {\n  try {\n    console.log(` Requesting ${amount} SOL from Solana faucet...`)\n    \n    const faucetUrl = network === 'devnet' \n      ? 'https://faucet.solana.com/api/airdrop'\n      : 'https://faucet.solana.com/api/airdrop'\n\n    const response = await fetch(faucetUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        pubkey: walletAddress,\n        lamports: amount * 1_000_000_000, // Convert SOL to lamports\n        cluster: network\n      })\n    })\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`)\n    }\n\n    const data = await response.json() as { signature?: string; error?: string }\n    \n    if (data.signature) {\n      const explorerUrl = `https://explorer.solana.com/tx/${data.signature}?cluster=${network}`\n      \n      return {\n        source: 'Solana Official',\n        success: true,\n        signature: data.signature,\n        amount,\n        explorerUrl\n      }\n    } else {\n      throw new Error(data.error ?? 'Unknown error from Solana faucet')\n    }\n  } catch (error) {\n    return {\n      source: 'Solana Official',\n      success: false,\n      error: error instanceof Error ? error.message : 'Unknown error'\n    }\n  }\n}\n\n/**\n * Request SOL from Alchemy faucet\n */\nasync function requestFromAlchemyFaucet(\n  walletAddress: string,\n  network: 'devnet' | 'testnet'\n): Promise<FaucetResult> {\n  try {\n    console.log(` Requesting SOL from Alchemy faucet...`)\n    \n    // Alchemy faucet endpoint\n    const faucetUrl = network === 'devnet'\n      ? 'https://solana-devnet-faucet.alchemy.com/api/faucet'\n      : 'https://solana-testnet-faucet.alchemy.com/api/faucet'\n\n    const response = await fetch(faucetUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        address: walletAddress,\n        network: network\n      })\n    })\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`)\n    }\n\n    const data = await response.json() as { txHash?: string; signature?: string; amount?: number; error?: string; message?: string }\n    \n    if (data.txHash || data.signature) {\n      const signature = data.txHash ?? data.signature\n      const amount = data.amount ?? 1 // Alchemy typically gives 1 SOL\n      const explorerUrl = `https://explorer.solana.com/tx/${signature}?cluster=${network}`\n      \n      return {\n        source: 'Alchemy',\n        success: true,\n        signature,\n        amount,\n        explorerUrl\n      }\n    } else {\n      throw new Error(data.error ?? (data.message as string | undefined) ?? 'Unknown error from Alchemy faucet')\n    }\n  } catch (error) {\n    return {\n      source: 'Alchemy',\n      success: false,\n      error: error instanceof Error ? error.message : 'Unknown error'\n    }\n  }\n}\n\n/**\n * Request SOL using RPC airdrop (alternative method)\n */\nasync function requestFromRpcAirdrop(\n  walletAddress: string,\n  network: 'devnet' | 'testnet',\n  amount = 1\n): Promise<FaucetResult> {\n  try {\n    console.log(` Requesting ${amount} SOL via RPC airdrop...`)\n\n    const rpcUrl = network === 'devnet'\n      ? 'https://api.devnet.solana.com'\n      : 'https://api.testnet.solana.com'\n\n    // Use Gill's createCustomClient instead of createSolanaRpc\n    const client = createCustomClient(rpcUrl)\n\n    // Request airdrop via RPC using Gill\n    const lamports = BigInt(Math.floor(amount * 1_000_000_000)) // Convert SOL to lamports\n    // Cast to any since requestAirdrop is only available on devnet/testnet\n    const rpc = client.rpc as any\n    const airdropResult = await rpc.requestAirdrop(\n      address(walletAddress),\n      lamports\n    ).send()\n    const signature = airdropResult\n\n    const explorerUrl = `https://explorer.solana.com/tx/${signature}?cluster=${network}`\n\n    return {\n      source: 'RPC Airdrop',\n      success: true,\n      signature,\n      amount,\n      explorerUrl\n    }\n  } catch (error) {\n    return {\n      source: 'RPC Airdrop',\n      success: false,\n      error: error instanceof Error ? error.message : 'Unknown error'\n    }\n  }\n}\n\n\n/**\n * Check wallet balance\n */\nasync function checkBalance(walletAddress: string, network: 'devnet' | 'testnet'): Promise<number> {\n  try {\n    const rpcUrl = network === 'devnet'\n      ? 'https://api.devnet.solana.com'\n      : 'https://api.testnet.solana.com'\n\n    // Use Gill's createCustomClient instead of createSolanaRpc\n    const client = createCustomClient(rpcUrl)\n\n    const { value: balance } = await client.rpc.getBalance(address(walletAddress)).send()\n    return Number(balance) / 1_000_000_000 // Convert lamports to SOL\n  } catch (error) {\n    console.warn('Failed to check balance:', error)\n    return 0\n  }\n}\n\n/**\n * Main faucet command\n */\nasync function faucetCommand(options: FaucetOptions): Promise<void> {\n  try {\n    console.log(' GhostSpeak Faucet - Get SOL for Development')\n    console.log('')\n\n    const network = options.network ?? 'devnet'\n    const amount = parseFloat(options.amount ?? '1')\n    const source = options.source ?? 'all'\n\n    console.log(` Network: ${network}`)\n    console.log(` Amount: ${amount} SOL`)\n    console.log(` Source: ${source}`)\n    console.log('')\n\n    // Initialize faucet service\n    const faucetService = new FaucetService()\n    await faucetService.initialize()\n\n    // Handle wallet\n    const walletService = new WalletService()\n    let walletAddress: string\n    let walletName: string\n\n    // Try to use active wallet first\n    const activeWallet = walletService.getActiveWallet()\n    if (activeWallet) {\n      walletAddress = activeWallet.metadata.address\n      walletName = activeWallet.metadata.name\n      console.log(` Using active wallet: ${chalk.cyan(walletName)}`)\n      console.log(` Address: ${walletAddress}`)\n    } else {\n      // No active wallet, check if user wants to create one\n      console.log(chalk.yellow('  No active wallet found.'))\n      console.log('')\n      console.log('Create a wallet first:')\n      console.log(`  ${chalk.cyan('ghost wallet create')} - Create a new wallet`)\n      console.log(`  ${chalk.cyan('ghost wallet import')} - Import existing wallet`)\n      console.log('')\n      process.exit(1)\n    }\n\n    // Check initial balance\n    const initialBalance = await checkBalance(walletAddress, network)\n    console.log(` Current Balance: ${initialBalance} SOL`)\n    console.log('')\n\n    // Check rate limits for each source\n    const sources = source === 'all' ? ['solana', 'alchemy'] : [source]\n    const results: FaucetResult[] = []\n\n    for (const sourceName of sources) {\n      console.log(`\\n Checking ${sourceName} faucet status...`)\n      const status = await faucetService.checkFaucetStatus(walletAddress, sourceName, network)\n      \n      if (!status.canRequest) {\n        if (status.timeUntilNext) {\n          console.log(` Rate limited. Wait ${status.timeUntilNext} minutes before next request.`)\n        } else {\n          console.log(` Daily limit reached (${status.dailyRequestsUsed}/${status.dailyRequestsLimit} requests used).`)\n        }\n        \n        results.push({\n          source: sourceName,\n          success: false,\n          error: status.timeUntilNext \n            ? `Rate limited. Wait ${status.timeUntilNext} minutes.`\n            : `Daily limit reached (${status.dailyRequestsUsed}/${status.dailyRequestsLimit}).`\n        })\n        continue\n      }\n\n      // Request from the specific source\n      let result: FaucetResult\n      \n      if (sourceName === 'solana') {\n        result = await requestFromSolanaFaucet(walletAddress, network, amount)\n      } else if (sourceName === 'alchemy') {\n        result = await requestFromAlchemyFaucet(walletAddress, network)\n      } else {\n        result = { source: sourceName, success: false, error: 'Unknown source' }\n      }\n\n      // Record successful requests\n      if (result.success && result.signature) {\n        await faucetService.recordRequest(\n          walletAddress, \n          network, \n          sourceName, \n          result.amount ?? amount, \n          result.signature\n        )\n      }\n\n      results.push(result)\n    }\n\n    // Fallback to RPC airdrop if others fail and source is 'all'\n    const hasSuccess = results.some(r => r.success)\n    if (!hasSuccess && source === 'all') {\n      console.log('\\n Trying RPC airdrop as fallback...')\n      \n      const rpcStatus = await faucetService.checkFaucetStatus(walletAddress, 'rpc', network)\n      if (rpcStatus.canRequest) {\n        const result = await requestFromRpcAirdrop(walletAddress, network, amount)\n        \n        if (result.success && result.signature) {\n          await faucetService.recordRequest(\n            walletAddress, \n            network, \n            'rpc', \n            result.amount ?? amount, \n            result.signature\n          )\n        }\n        \n        results.push(result)\n      } else {\n        console.log(' RPC airdrop also rate limited')\n      }\n    }\n\n    // Display results\n    console.log(' FAUCET RESULTS:')\n    console.log('')\n    \n    let totalReceived = 0\n    results.forEach((result, index) => {\n      const status = result.success ? '' : ''\n      console.log(`${status} ${result.source}:`)\n      \n      if (result.success) {\n        console.log(`   Amount: ${result.amount} SOL`)\n        console.log(`   Signature: ${result.signature}`)\n        console.log(`   Explorer: ${result.explorerUrl}`)\n        totalReceived += result.amount ?? 0\n      } else {\n        console.log(`   Error: ${result.error}`)\n      }\n      \n      if (index < results.length - 1) console.log('')\n    })\n\n    console.log('')\n    console.log(` Total Received: ${totalReceived} SOL`)\n\n    // Check final balance\n    if (totalReceived > 0) {\n      console.log('\\n Waiting for transactions to confirm...')\n      await new Promise(resolve => setTimeout(resolve, 3000))\n      \n      const finalBalance = await checkBalance(walletAddress, network)\n      console.log(` Final Balance: ${finalBalance} SOL (+${finalBalance - initialBalance} SOL)`)\n    }\n\n    // Show wallet info\n    console.log('\\n WALLET INFO:')\n    console.log(`   Address: ${walletAddress}`)\n    console.log(`   Network: ${network}`)\n    console.log(`   Balance: ${await checkBalance(walletAddress, network)} SOL`)\n\n    console.log('\\n TIP: Your wallet is saved. Use ghost wallet list to see all wallets.')\n\n  } catch (error) {\n    console.error(' Faucet command failed:', error)\n    process.exit(1)\n  }\n}\n\n/**\n * Setup CLI command\n */\nexport function setupFaucetCommand(program: Command): void {\n  program\n    .command('faucet')\n    .description('Get SOL from development faucets')\n    .option('-n, --network <network>', 'Network to use (devnet|testnet)', 'devnet')\n    .option('-a, --amount <amount>', 'Amount of SOL to request', '1')\n    .option('-w, --wallet <path>', 'Path to existing wallet file')\n    .option('-s, --source <source>', 'Faucet source (solana|alchemy|all)', 'all')\n    .option('--save', 'Save generated wallet to file')\n    .action((_options: FaucetOptions) => {\n      faucetCommand(_options).catch(console.error)\n    })\n\n  // Add subcommands\n  const faucetCmd = program.commands.find(cmd => cmd.name() === 'faucet')!\n\n  faucetCmd\n    .command('balance')\n    .description('Check wallet balance')\n    .option('-w, --wallet <name>', 'Wallet name to check')\n    .option('-n, --network <network>', 'Network to check (devnet|testnet)', 'devnet')\n    .action(async (_options: { wallet?: string; network?: 'devnet' | 'testnet' }) => {\n      try {\n        const walletService = new WalletService()\n        \n        let walletAddress: string\n        let walletName: string\n        \n        if (_options.wallet) {\n          // Check specific wallet\n          const wallet = walletService.getWallet(_options.wallet)\n          if (!wallet) {\n            console.error(` Wallet \"${_options.wallet}\" not found`)\n            process.exit(1)\n          }\n          walletAddress = wallet.metadata.address\n          walletName = wallet.metadata.name\n        } else {\n          // Use active wallet\n          const activeWallet = walletService.getActiveWallet()\n          if (!activeWallet) {\n            console.error(' No active wallet found. Create one with: ghost wallet create')\n            process.exit(1)\n          }\n          walletAddress = activeWallet.metadata.address\n          walletName = activeWallet.metadata.name\n        }\n        \n        const balance = await checkBalance(walletAddress, _options.network ?? 'devnet')\n        console.log(` Wallet: ${chalk.cyan(walletName)}`)\n        console.log(` Address: ${walletAddress}`)\n        console.log(` Balance: ${chalk.green(`${balance} SOL`)} (${_options.network})`)\n      } catch (error) {\n        console.error(' Failed to check balance:', error)\n        process.exit(1)\n      }\n    })\n\n\n  faucetCmd\n    .command('status')\n    .description('Check faucet status and rate limits')\n    .option('-w, --wallet <name>', 'Wallet name to check')\n    .option('-n, --network <network>', 'Network to check (devnet|testnet)', 'devnet')\n    .option('-s, --source <source>', 'Specific source to check (solana|alchemy|rpc)')\n    .action(async (_options: { wallet?: string; network?: 'devnet' | 'testnet'; source?: string }) => {\n      try {\n        const faucetService = new FaucetService()\n        await faucetService.initialize()\n\n        const walletService = new WalletService()\n        \n        let walletAddress: string\n        let walletName: string\n        \n        if (_options.wallet) {\n          const wallet = walletService.getWallet(_options.wallet)\n          if (!wallet) {\n            console.error(` Wallet \"${_options.wallet}\" not found`)\n            process.exit(1)\n          }\n          walletAddress = wallet.metadata.address\n          walletName = wallet.metadata.name\n        } else {\n          const activeWallet = walletService.getActiveWallet()\n          if (!activeWallet) {\n            console.error(' No active wallet found. Create one with: ghost wallet create')\n            process.exit(1)\n          }\n          walletAddress = activeWallet.metadata.address\n          walletName = activeWallet.metadata.name\n        }\n        \n        const network = _options.network ?? 'devnet'\n        const sources = _options.source ? [_options.source] : ['solana', 'alchemy', 'rpc']\n\n        console.log(' FAUCET STATUS')\n        console.log('')\n        console.log(`Wallet: ${chalk.cyan(walletName)}`)\n        console.log(`Address: ${walletAddress}`)\n        console.log(`Network: ${network}`)\n        console.log('')\n\n        for (const source of sources) {\n            const status = await faucetService.checkFaucetStatus(walletAddress, source, network)\n            const statusIcon = status.canRequest ? '' : ''\n            \n            console.log(`${statusIcon} ${source.toUpperCase()} Faucet:`)\n            console.log(`   Can Request: ${status.canRequest ? 'Yes' : 'No'}`)\n            \n            if (status.timeUntilNext) {\n              console.log(`   Wait Time: ${status.timeUntilNext} minutes`)\n            }\n            \n            console.log(`   Daily Usage: ${status.dailyRequestsUsed}/${status.dailyRequestsLimit}`)\n            \n            if (status.lastRequest) {\n              const lastDate = new Date(status.lastRequest.timestamp).toLocaleString()\n              console.log(`   Last Request: ${lastDate} (${status.lastRequest.amount} SOL)`)\n              if (status.lastRequest.signature) {\n                console.log(`   Last Signature: ${status.lastRequest.signature}`)\n              }\n            }\n            console.log('')\n          }\n\n        // Show overall statistics\n        const stats = await faucetService.getStatistics()\n        console.log(' OVERALL STATISTICS')\n        console.log('')\n        console.log(`Total Requests: ${stats.totalRequests}`)\n        console.log(`Successful Requests: ${stats.successfulRequests}`)\n        console.log(`Total SOL Received: ${stats.totalSOLReceived} SOL`)\n        console.log('')\n        \n        console.log('By Source:')\n        Object.entries(stats.requestsBySource).forEach(([source, count]) => {\n          console.log(`   ${source}: ${count} requests`)\n        })\n        \n        console.log('')\n        console.log('By Network:')\n        Object.entries(stats.requestsByNetwork).forEach(([network, count]) => {\n          console.log(`   ${network}: ${count} requests`)\n        })\n\n      } catch (error) {\n        console.error(' Failed to check faucet status:', error)\n        process.exit(1)\n      }\n    })\n\n  faucetCmd\n    .command('sources')\n    .description('List available faucet sources')\n    .action(async () => {\n      const faucetService = new FaucetService()\n      const sources = faucetService.getAvailableSources()\n\n      console.log(' AVAILABLE FAUCET SOURCES')\n      console.log('')\n      \n      sources.forEach((source, index) => {\n        console.log(`${index + 1}. ${source.name} (${source.id})`)\n        console.log(`   Description: ${source.description}`)\n        console.log(`   Networks: ${source.networks.join(', ')}`)\n        console.log(`   Rate Limit: ${source.rateLimit}`)\n        console.log(`   Typical Amount: ${source.typicalAmount}`)\n        if (index < sources.length - 1) console.log('')\n      })\n    })\n\n  faucetCmd\n    .command('clean')\n    .description('Clean old faucet request history')\n    .option('-d, --days <days>', 'Days of history to keep', '30')\n    .action(async (_options: { days?: string }) => {\n      try {\n        const faucetService = new FaucetService()\n        await faucetService.initialize()\n        \n        const daysToKeep = parseInt(_options.days ?? '30')\n        const removedCount = await faucetService.cleanOldRequests(daysToKeep)\n        \n        console.log(` Cleaned ${removedCount} old request records`)\n        console.log(` Kept ${daysToKeep} days of history`)\n      } catch (error) {\n        console.error(' Failed to clean request history:', error)\n        process.exit(1)\n      }\n    })\n}\n\n","/**\n * This code was AUTOGENERATED using the Codama library.\n * Please DO NOT EDIT THIS FILE, instead use visitors\n * to add features, then rerun Codama to update it.\n *\n * @see https://github.com/codama-idl/codama\n */\n\nimport {\n  combineCodec,\n  getEnumDecoder,\n  getEnumEncoder,\n  type FixedSizeCodec,\n  type FixedSizeDecoder,\n  type FixedSizeEncoder,\n} from '@solana/kit';\n\nexport enum AccountState {\n  Uninitialized,\n  Initialized,\n  Frozen,\n}\n\nexport type AccountStateArgs = AccountState;\n\nexport function getAccountStateEncoder(): FixedSizeEncoder<AccountStateArgs> {\n  return getEnumEncoder(AccountState);\n}\n\nexport function getAccountStateDecoder(): FixedSizeDecoder<AccountState> {\n  return getEnumDecoder(AccountState);\n}\n\nexport function getAccountStateCodec(): FixedSizeCodec<\n  AccountStateArgs,\n  AccountState\n> {\n  return combineCodec(getAccountStateEncoder(), getAccountStateDecoder());\n}\n","/**\n * This code was AUTOGENERATED using the Codama library.\n * Please DO NOT EDIT THIS FILE, instead use visitors\n * to add features, then rerun Codama to update it.\n *\n * @see https://github.com/codama-idl/codama\n */\n\nimport {\n  assertAccountExists,\n  assertAccountsExist,\n  combineCodec,\n  decodeAccount,\n  fetchEncodedAccount,\n  fetchEncodedAccounts,\n  getAddressDecoder,\n  getAddressEncoder,\n  getOptionDecoder,\n  getOptionEncoder,\n  getStructDecoder,\n  getStructEncoder,\n  getU32Decoder,\n  getU32Encoder,\n  getU64Decoder,\n  getU64Encoder,\n  type Account,\n  type Address,\n  type EncodedAccount,\n  type FetchAccountConfig,\n  type FetchAccountsConfig,\n  type FixedSizeCodec,\n  type FixedSizeDecoder,\n  type FixedSizeEncoder,\n  type MaybeAccount,\n  type MaybeEncodedAccount,\n  type Option,\n  type OptionOrNullable,\n} from '@solana/kit';\nimport {\n  getAccountStateDecoder,\n  getAccountStateEncoder,\n  type AccountState,\n  type AccountStateArgs,\n} from '../types';\n\nexport type Token = {\n  /** The mint associated with this account. */\n  mint: Address;\n  /** The owner of this account. */\n  owner: Address;\n  /** The amount of tokens this account holds. */\n  amount: bigint;\n  /**\n   * If `delegate` is `Some` then `delegated_amount` represents\n   * the amount authorized by the delegate.\n   */\n  delegate: Option<Address>;\n  /** The account's state. */\n  state: AccountState;\n  /**\n   * If is_native.is_some, this is a native token, and the value logs the\n   * rent-exempt reserve. An Account is required to be rent-exempt, so\n   * the value is used by the Processor to ensure that wrapped SOL\n   * accounts do not drop below this threshold.\n   */\n  isNative: Option<bigint>;\n  /** The amount delegated. */\n  delegatedAmount: bigint;\n  /** Optional authority to close the account. */\n  closeAuthority: Option<Address>;\n};\n\nexport type TokenArgs = {\n  /** The mint associated with this account. */\n  mint: Address;\n  /** The owner of this account. */\n  owner: Address;\n  /** The amount of tokens this account holds. */\n  amount: number | bigint;\n  /**\n   * If `delegate` is `Some` then `delegated_amount` represents\n   * the amount authorized by the delegate.\n   */\n  delegate: OptionOrNullable<Address>;\n  /** The account's state. */\n  state: AccountStateArgs;\n  /**\n   * If is_native.is_some, this is a native token, and the value logs the\n   * rent-exempt reserve. An Account is required to be rent-exempt, so\n   * the value is used by the Processor to ensure that wrapped SOL\n   * accounts do not drop below this threshold.\n   */\n  isNative: OptionOrNullable<number | bigint>;\n  /** The amount delegated. */\n  delegatedAmount: number | bigint;\n  /** Optional authority to close the account. */\n  closeAuthority: OptionOrNullable<Address>;\n};\n\nexport function getTokenEncoder(): FixedSizeEncoder<TokenArgs> {\n  return getStructEncoder([\n    ['mint', getAddressEncoder()],\n    ['owner', getAddressEncoder()],\n    ['amount', getU64Encoder()],\n    [\n      'delegate',\n      getOptionEncoder(getAddressEncoder(), {\n        prefix: getU32Encoder(),\n        noneValue: 'zeroes',\n      }),\n    ],\n    ['state', getAccountStateEncoder()],\n    [\n      'isNative',\n      getOptionEncoder(getU64Encoder(), {\n        prefix: getU32Encoder(),\n        noneValue: 'zeroes',\n      }),\n    ],\n    ['delegatedAmount', getU64Encoder()],\n    [\n      'closeAuthority',\n      getOptionEncoder(getAddressEncoder(), {\n        prefix: getU32Encoder(),\n        noneValue: 'zeroes',\n      }),\n    ],\n  ]);\n}\n\nexport function getTokenDecoder(): FixedSizeDecoder<Token> {\n  return getStructDecoder([\n    ['mint', getAddressDecoder()],\n    ['owner', getAddressDecoder()],\n    ['amount', getU64Decoder()],\n    [\n      'delegate',\n      getOptionDecoder(getAddressDecoder(), {\n        prefix: getU32Decoder(),\n        noneValue: 'zeroes',\n      }),\n    ],\n    ['state', getAccountStateDecoder()],\n    [\n      'isNative',\n      getOptionDecoder(getU64Decoder(), {\n        prefix: getU32Decoder(),\n        noneValue: 'zeroes',\n      }),\n    ],\n    ['delegatedAmount', getU64Decoder()],\n    [\n      'closeAuthority',\n      getOptionDecoder(getAddressDecoder(), {\n        prefix: getU32Decoder(),\n        noneValue: 'zeroes',\n      }),\n    ],\n  ]);\n}\n\nexport function getTokenCodec(): FixedSizeCodec<TokenArgs, Token> {\n  return combineCodec(getTokenEncoder(), getTokenDecoder());\n}\n\nexport function decodeToken<TAddress extends string = string>(\n  encodedAccount: EncodedAccount<TAddress>\n): Account<Token, TAddress>;\nexport function decodeToken<TAddress extends string = string>(\n  encodedAccount: MaybeEncodedAccount<TAddress>\n): MaybeAccount<Token, TAddress>;\nexport function decodeToken<TAddress extends string = string>(\n  encodedAccount: EncodedAccount<TAddress> | MaybeEncodedAccount<TAddress>\n): Account<Token, TAddress> | MaybeAccount<Token, TAddress> {\n  return decodeAccount(\n    encodedAccount as MaybeEncodedAccount<TAddress>,\n    getTokenDecoder()\n  );\n}\n\nexport async function fetchToken<TAddress extends string = string>(\n  rpc: Parameters<typeof fetchEncodedAccount>[0],\n  address: Address<TAddress>,\n  config?: FetchAccountConfig\n): Promise<Account<Token, TAddress>> {\n  const maybeAccount = await fetchMaybeToken(rpc, address, config);\n  assertAccountExists(maybeAccount);\n  return maybeAccount;\n}\n\nexport async function fetchMaybeToken<TAddress extends string = string>(\n  rpc: Parameters<typeof fetchEncodedAccount>[0],\n  address: Address<TAddress>,\n  config?: FetchAccountConfig\n): Promise<MaybeAccount<Token, TAddress>> {\n  const maybeAccount = await fetchEncodedAccount(rpc, address, config);\n  return decodeToken(maybeAccount);\n}\n\nexport async function fetchAllToken(\n  rpc: Parameters<typeof fetchEncodedAccounts>[0],\n  addresses: Array<Address>,\n  config?: FetchAccountsConfig\n): Promise<Account<Token>[]> {\n  const maybeAccounts = await fetchAllMaybeToken(rpc, addresses, config);\n  assertAccountsExist(maybeAccounts);\n  return maybeAccounts;\n}\n\nexport async function fetchAllMaybeToken(\n  rpc: Parameters<typeof fetchEncodedAccounts>[0],\n  addresses: Array<Address>,\n  config?: FetchAccountsConfig\n): Promise<MaybeAccount<Token>[]> {\n  const maybeAccounts = await fetchEncodedAccounts(rpc, addresses, config);\n  return maybeAccounts.map((maybeAccount) => decodeToken(maybeAccount));\n}\n\nexport function getTokenSize(): number {\n  return 165;\n}\n","/**\n * This code was AUTOGENERATED using the Codama library.\n * Please DO NOT EDIT THIS FILE, instead use visitors\n * to add features, then rerun Codama to update it.\n *\n * @see https://github.com/codama-idl/codama\n */\n\nimport {\n  containsBytes,\n  getU8Encoder,\n  type Address,\n  type ReadonlyUint8Array,\n} from '@solana/kit';\nimport {\n  type ParsedCreateAssociatedTokenIdempotentInstruction,\n  type ParsedCreateAssociatedTokenInstruction,\n  type ParsedRecoverNestedAssociatedTokenInstruction,\n} from '../instructions';\n\nexport const ASSOCIATED_TOKEN_PROGRAM_ADDRESS =\n  'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL' as Address<'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL'>;\n\nexport enum AssociatedTokenInstruction {\n  CreateAssociatedToken,\n  CreateAssociatedTokenIdempotent,\n  RecoverNestedAssociatedToken,\n}\n\nexport function identifyAssociatedTokenInstruction(\n  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array\n): AssociatedTokenInstruction {\n  const data = 'data' in instruction ? instruction.data : instruction;\n  if (containsBytes(data, getU8Encoder().encode(0), 0)) {\n    return AssociatedTokenInstruction.CreateAssociatedToken;\n  }\n  if (containsBytes(data, getU8Encoder().encode(1), 0)) {\n    return AssociatedTokenInstruction.CreateAssociatedTokenIdempotent;\n  }\n  if (containsBytes(data, getU8Encoder().encode(2), 0)) {\n    return AssociatedTokenInstruction.RecoverNestedAssociatedToken;\n  }\n  throw new Error(\n    'The provided instruction could not be identified as a associatedToken instruction.'\n  );\n}\n\nexport type ParsedAssociatedTokenInstruction<\n  TProgram extends string = 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',\n> =\n  | ({\n      instructionType: AssociatedTokenInstruction.CreateAssociatedToken;\n    } & ParsedCreateAssociatedTokenInstruction<TProgram>)\n  | ({\n      instructionType: AssociatedTokenInstruction.CreateAssociatedTokenIdempotent;\n    } & ParsedCreateAssociatedTokenIdempotentInstruction<TProgram>)\n  | ({\n      instructionType: AssociatedTokenInstruction.RecoverNestedAssociatedToken;\n    } & ParsedRecoverNestedAssociatedTokenInstruction<TProgram>);\n","/**\n * This code was AUTOGENERATED using the Codama library.\n * Please DO NOT EDIT THIS FILE, instead use visitors\n * to add features, then rerun Codama to update it.\n *\n * @see https://github.com/codama-idl/codama\n */\n\nimport {\n  containsBytes,\n  getU8Encoder,\n  type Address,\n  type ReadonlyUint8Array,\n} from '@solana/kit';\nimport {\n  type ParsedAmountToUiAmountInstruction,\n  type ParsedApproveCheckedInstruction,\n  type ParsedApproveInstruction,\n  type ParsedBurnCheckedInstruction,\n  type ParsedBurnInstruction,\n  type ParsedCloseAccountInstruction,\n  type ParsedFreezeAccountInstruction,\n  type ParsedGetAccountDataSizeInstruction,\n  type ParsedInitializeAccount2Instruction,\n  type ParsedInitializeAccount3Instruction,\n  type ParsedInitializeAccountInstruction,\n  type ParsedInitializeImmutableOwnerInstruction,\n  type ParsedInitializeMint2Instruction,\n  type ParsedInitializeMintInstruction,\n  type ParsedInitializeMultisig2Instruction,\n  type ParsedInitializeMultisigInstruction,\n  type ParsedMintToCheckedInstruction,\n  type ParsedMintToInstruction,\n  type ParsedRevokeInstruction,\n  type ParsedSetAuthorityInstruction,\n  type ParsedSyncNativeInstruction,\n  type ParsedThawAccountInstruction,\n  type ParsedTransferCheckedInstruction,\n  type ParsedTransferInstruction,\n  type ParsedUiAmountToAmountInstruction,\n} from '../instructions';\n\nexport const TOKEN_PROGRAM_ADDRESS =\n  'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA' as Address<'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA'>;\n\nexport enum TokenAccount {\n  Mint,\n  Token,\n  Multisig,\n}\n\nexport function identifyTokenAccount(\n  account: { data: ReadonlyUint8Array } | ReadonlyUint8Array\n): TokenAccount {\n  const data = 'data' in account ? account.data : account;\n  if (data.length === 82) {\n    return TokenAccount.Mint;\n  }\n  if (data.length === 165) {\n    return TokenAccount.Token;\n  }\n  if (data.length === 355) {\n    return TokenAccount.Multisig;\n  }\n  throw new Error(\n    'The provided account could not be identified as a token account.'\n  );\n}\n\nexport enum TokenInstruction {\n  InitializeMint,\n  InitializeAccount,\n  InitializeMultisig,\n  Transfer,\n  Approve,\n  Revoke,\n  SetAuthority,\n  MintTo,\n  Burn,\n  CloseAccount,\n  FreezeAccount,\n  ThawAccount,\n  TransferChecked,\n  ApproveChecked,\n  MintToChecked,\n  BurnChecked,\n  InitializeAccount2,\n  SyncNative,\n  InitializeAccount3,\n  InitializeMultisig2,\n  InitializeMint2,\n  GetAccountDataSize,\n  InitializeImmutableOwner,\n  AmountToUiAmount,\n  UiAmountToAmount,\n}\n\nexport function identifyTokenInstruction(\n  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array\n): TokenInstruction {\n  const data = 'data' in instruction ? instruction.data : instruction;\n  if (containsBytes(data, getU8Encoder().encode(0), 0)) {\n    return TokenInstruction.InitializeMint;\n  }\n  if (containsBytes(data, getU8Encoder().encode(1), 0)) {\n    return TokenInstruction.InitializeAccount;\n  }\n  if (containsBytes(data, getU8Encoder().encode(2), 0)) {\n    return TokenInstruction.InitializeMultisig;\n  }\n  if (containsBytes(data, getU8Encoder().encode(3), 0)) {\n    return TokenInstruction.Transfer;\n  }\n  if (containsBytes(data, getU8Encoder().encode(4), 0)) {\n    return TokenInstruction.Approve;\n  }\n  if (containsBytes(data, getU8Encoder().encode(5), 0)) {\n    return TokenInstruction.Revoke;\n  }\n  if (containsBytes(data, getU8Encoder().encode(6), 0)) {\n    return TokenInstruction.SetAuthority;\n  }\n  if (containsBytes(data, getU8Encoder().encode(7), 0)) {\n    return TokenInstruction.MintTo;\n  }\n  if (containsBytes(data, getU8Encoder().encode(8), 0)) {\n    return TokenInstruction.Burn;\n  }\n  if (containsBytes(data, getU8Encoder().encode(9), 0)) {\n    return TokenInstruction.CloseAccount;\n  }\n  if (containsBytes(data, getU8Encoder().encode(10), 0)) {\n    return TokenInstruction.FreezeAccount;\n  }\n  if (containsBytes(data, getU8Encoder().encode(11), 0)) {\n    return TokenInstruction.ThawAccount;\n  }\n  if (containsBytes(data, getU8Encoder().encode(12), 0)) {\n    return TokenInstruction.TransferChecked;\n  }\n  if (containsBytes(data, getU8Encoder().encode(13), 0)) {\n    return TokenInstruction.ApproveChecked;\n  }\n  if (containsBytes(data, getU8Encoder().encode(14), 0)) {\n    return TokenInstruction.MintToChecked;\n  }\n  if (containsBytes(data, getU8Encoder().encode(15), 0)) {\n    return TokenInstruction.BurnChecked;\n  }\n  if (containsBytes(data, getU8Encoder().encode(16), 0)) {\n    return TokenInstruction.InitializeAccount2;\n  }\n  if (containsBytes(data, getU8Encoder().encode(17), 0)) {\n    return TokenInstruction.SyncNative;\n  }\n  if (containsBytes(data, getU8Encoder().encode(18), 0)) {\n    return TokenInstruction.InitializeAccount3;\n  }\n  if (containsBytes(data, getU8Encoder().encode(19), 0)) {\n    return TokenInstruction.InitializeMultisig2;\n  }\n  if (containsBytes(data, getU8Encoder().encode(20), 0)) {\n    return TokenInstruction.InitializeMint2;\n  }\n  if (containsBytes(data, getU8Encoder().encode(21), 0)) {\n    return TokenInstruction.GetAccountDataSize;\n  }\n  if (containsBytes(data, getU8Encoder().encode(22), 0)) {\n    return TokenInstruction.InitializeImmutableOwner;\n  }\n  if (containsBytes(data, getU8Encoder().encode(23), 0)) {\n    return TokenInstruction.AmountToUiAmount;\n  }\n  if (containsBytes(data, getU8Encoder().encode(24), 0)) {\n    return TokenInstruction.UiAmountToAmount;\n  }\n  throw new Error(\n    'The provided instruction could not be identified as a token instruction.'\n  );\n}\n\nexport type ParsedTokenInstruction<\n  TProgram extends string = 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n> =\n  | ({\n      instructionType: TokenInstruction.InitializeMint;\n    } & ParsedInitializeMintInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.InitializeAccount;\n    } & ParsedInitializeAccountInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.InitializeMultisig;\n    } & ParsedInitializeMultisigInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.Transfer;\n    } & ParsedTransferInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.Approve;\n    } & ParsedApproveInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.Revoke;\n    } & ParsedRevokeInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.SetAuthority;\n    } & ParsedSetAuthorityInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.MintTo;\n    } & ParsedMintToInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.Burn;\n    } & ParsedBurnInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.CloseAccount;\n    } & ParsedCloseAccountInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.FreezeAccount;\n    } & ParsedFreezeAccountInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.ThawAccount;\n    } & ParsedThawAccountInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.TransferChecked;\n    } & ParsedTransferCheckedInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.ApproveChecked;\n    } & ParsedApproveCheckedInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.MintToChecked;\n    } & ParsedMintToCheckedInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.BurnChecked;\n    } & ParsedBurnCheckedInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.InitializeAccount2;\n    } & ParsedInitializeAccount2Instruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.SyncNative;\n    } & ParsedSyncNativeInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.InitializeAccount3;\n    } & ParsedInitializeAccount3Instruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.InitializeMultisig2;\n    } & ParsedInitializeMultisig2Instruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.InitializeMint2;\n    } & ParsedInitializeMint2Instruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.GetAccountDataSize;\n    } & ParsedGetAccountDataSizeInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.InitializeImmutableOwner;\n    } & ParsedInitializeImmutableOwnerInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.AmountToUiAmount;\n    } & ParsedAmountToUiAmountInstruction<TProgram>)\n  | ({\n      instructionType: TokenInstruction.UiAmountToAmount;\n    } & ParsedUiAmountToAmountInstruction<TProgram>);\n","/**\n * This code was AUTOGENERATED using the Codama library.\n * Please DO NOT EDIT THIS FILE, instead use visitors\n * to add features, then rerun Codama to update it.\n *\n * @see https://github.com/codama-idl/codama\n */\n\nimport {\n  isProgramError,\n  type Address,\n  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,\n  type SolanaError,\n} from '@solana/kit';\nimport { ASSOCIATED_TOKEN_PROGRAM_ADDRESS } from '../programs';\n\n/** InvalidOwner: Associated token account owner does not match address derivation */\nexport const ASSOCIATED_TOKEN_ERROR__INVALID_OWNER = 0x0; // 0\n\nexport type AssociatedTokenError = typeof ASSOCIATED_TOKEN_ERROR__INVALID_OWNER;\n\nlet associatedTokenErrorMessages:\n  | Record<AssociatedTokenError, string>\n  | undefined;\nif (process.env.NODE_ENV !== 'production') {\n  associatedTokenErrorMessages = {\n    [ASSOCIATED_TOKEN_ERROR__INVALID_OWNER]: `Associated token account owner does not match address derivation`,\n  };\n}\n\nexport function getAssociatedTokenErrorMessage(\n  code: AssociatedTokenError\n): string {\n  if (process.env.NODE_ENV !== 'production') {\n    return (\n      associatedTokenErrorMessages as Record<AssociatedTokenError, string>\n    )[code];\n  }\n\n  return 'Error message not available in production bundles.';\n}\n\nexport function isAssociatedTokenError<\n  TProgramErrorCode extends AssociatedTokenError,\n>(\n  error: unknown,\n  transactionMessage: {\n    instructions: Record<number, { programAddress: Address }>;\n  },\n  code?: TProgramErrorCode\n): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &\n  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {\n  return isProgramError<TProgramErrorCode>(\n    error,\n    transactionMessage,\n    ASSOCIATED_TOKEN_PROGRAM_ADDRESS,\n    code\n  );\n}\n","/**\n * This code was AUTOGENERATED using the Codama library.\n * Please DO NOT EDIT THIS FILE, instead use visitors\n * to add features, then rerun Codama to update it.\n *\n * @see https://github.com/codama-idl/codama\n */\n\nimport {\n  isProgramError,\n  type Address,\n  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,\n  type SolanaError,\n} from '@solana/kit';\nimport { TOKEN_PROGRAM_ADDRESS } from '../programs';\n\n/** NotRentExempt: Lamport balance below rent-exempt threshold */\nexport const TOKEN_ERROR__NOT_RENT_EXEMPT = 0x0; // 0\n/** InsufficientFunds: Insufficient funds */\nexport const TOKEN_ERROR__INSUFFICIENT_FUNDS = 0x1; // 1\n/** InvalidMint: Invalid Mint */\nexport const TOKEN_ERROR__INVALID_MINT = 0x2; // 2\n/** MintMismatch: Account not associated with this Mint */\nexport const TOKEN_ERROR__MINT_MISMATCH = 0x3; // 3\n/** OwnerMismatch: Owner does not match */\nexport const TOKEN_ERROR__OWNER_MISMATCH = 0x4; // 4\n/** FixedSupply: Fixed supply */\nexport const TOKEN_ERROR__FIXED_SUPPLY = 0x5; // 5\n/** AlreadyInUse: Already in use */\nexport const TOKEN_ERROR__ALREADY_IN_USE = 0x6; // 6\n/** InvalidNumberOfProvidedSigners: Invalid number of provided signers */\nexport const TOKEN_ERROR__INVALID_NUMBER_OF_PROVIDED_SIGNERS = 0x7; // 7\n/** InvalidNumberOfRequiredSigners: Invalid number of required signers */\nexport const TOKEN_ERROR__INVALID_NUMBER_OF_REQUIRED_SIGNERS = 0x8; // 8\n/** UninitializedState: State is unititialized */\nexport const TOKEN_ERROR__UNINITIALIZED_STATE = 0x9; // 9\n/** NativeNotSupported: Instruction does not support native tokens */\nexport const TOKEN_ERROR__NATIVE_NOT_SUPPORTED = 0xa; // 10\n/** NonNativeHasBalance: Non-native account can only be closed if its balance is zero */\nexport const TOKEN_ERROR__NON_NATIVE_HAS_BALANCE = 0xb; // 11\n/** InvalidInstruction: Invalid instruction */\nexport const TOKEN_ERROR__INVALID_INSTRUCTION = 0xc; // 12\n/** InvalidState: State is invalid for requested operation */\nexport const TOKEN_ERROR__INVALID_STATE = 0xd; // 13\n/** Overflow: Operation overflowed */\nexport const TOKEN_ERROR__OVERFLOW = 0xe; // 14\n/** AuthorityTypeNotSupported: Account does not support specified authority type */\nexport const TOKEN_ERROR__AUTHORITY_TYPE_NOT_SUPPORTED = 0xf; // 15\n/** MintCannotFreeze: This token mint cannot freeze accounts */\nexport const TOKEN_ERROR__MINT_CANNOT_FREEZE = 0x10; // 16\n/** AccountFrozen: Account is frozen */\nexport const TOKEN_ERROR__ACCOUNT_FROZEN = 0x11; // 17\n/** MintDecimalsMismatch: The provided decimals value different from the Mint decimals */\nexport const TOKEN_ERROR__MINT_DECIMALS_MISMATCH = 0x12; // 18\n/** NonNativeNotSupported: Instruction does not support non-native tokens */\nexport const TOKEN_ERROR__NON_NATIVE_NOT_SUPPORTED = 0x13; // 19\n\nexport type TokenError =\n  | typeof TOKEN_ERROR__ACCOUNT_FROZEN\n  | typeof TOKEN_ERROR__ALREADY_IN_USE\n  | typeof TOKEN_ERROR__AUTHORITY_TYPE_NOT_SUPPORTED\n  | typeof TOKEN_ERROR__FIXED_SUPPLY\n  | typeof TOKEN_ERROR__INSUFFICIENT_FUNDS\n  | typeof TOKEN_ERROR__INVALID_INSTRUCTION\n  | typeof TOKEN_ERROR__INVALID_MINT\n  | typeof TOKEN_ERROR__INVALID_NUMBER_OF_PROVIDED_SIGNERS\n  | typeof TOKEN_ERROR__INVALID_NUMBER_OF_REQUIRED_SIGNERS\n  | typeof TOKEN_ERROR__INVALID_STATE\n  | typeof TOKEN_ERROR__MINT_CANNOT_FREEZE\n  | typeof TOKEN_ERROR__MINT_DECIMALS_MISMATCH\n  | typeof TOKEN_ERROR__MINT_MISMATCH\n  | typeof TOKEN_ERROR__NATIVE_NOT_SUPPORTED\n  | typeof TOKEN_ERROR__NON_NATIVE_HAS_BALANCE\n  | typeof TOKEN_ERROR__NON_NATIVE_NOT_SUPPORTED\n  | typeof TOKEN_ERROR__NOT_RENT_EXEMPT\n  | typeof TOKEN_ERROR__OVERFLOW\n  | typeof TOKEN_ERROR__OWNER_MISMATCH\n  | typeof TOKEN_ERROR__UNINITIALIZED_STATE;\n\nlet tokenErrorMessages: Record<TokenError, string> | undefined;\nif (process.env.NODE_ENV !== 'production') {\n  tokenErrorMessages = {\n    [TOKEN_ERROR__ACCOUNT_FROZEN]: `Account is frozen`,\n    [TOKEN_ERROR__ALREADY_IN_USE]: `Already in use`,\n    [TOKEN_ERROR__AUTHORITY_TYPE_NOT_SUPPORTED]: `Account does not support specified authority type`,\n    [TOKEN_ERROR__FIXED_SUPPLY]: `Fixed supply`,\n    [TOKEN_ERROR__INSUFFICIENT_FUNDS]: `Insufficient funds`,\n    [TOKEN_ERROR__INVALID_INSTRUCTION]: `Invalid instruction`,\n    [TOKEN_ERROR__INVALID_MINT]: `Invalid Mint`,\n    [TOKEN_ERROR__INVALID_NUMBER_OF_PROVIDED_SIGNERS]: `Invalid number of provided signers`,\n    [TOKEN_ERROR__INVALID_NUMBER_OF_REQUIRED_SIGNERS]: `Invalid number of required signers`,\n    [TOKEN_ERROR__INVALID_STATE]: `State is invalid for requested operation`,\n    [TOKEN_ERROR__MINT_CANNOT_FREEZE]: `This token mint cannot freeze accounts`,\n    [TOKEN_ERROR__MINT_DECIMALS_MISMATCH]: `The provided decimals value different from the Mint decimals`,\n    [TOKEN_ERROR__MINT_MISMATCH]: `Account not associated with this Mint`,\n    [TOKEN_ERROR__NATIVE_NOT_SUPPORTED]: `Instruction does not support native tokens`,\n    [TOKEN_ERROR__NON_NATIVE_HAS_BALANCE]: `Non-native account can only be closed if its balance is zero`,\n    [TOKEN_ERROR__NON_NATIVE_NOT_SUPPORTED]: `Instruction does not support non-native tokens`,\n    [TOKEN_ERROR__NOT_RENT_EXEMPT]: `Lamport balance below rent-exempt threshold`,\n    [TOKEN_ERROR__OVERFLOW]: `Operation overflowed`,\n    [TOKEN_ERROR__OWNER_MISMATCH]: `Owner does not match`,\n    [TOKEN_ERROR__UNINITIALIZED_STATE]: `State is unititialized`,\n  };\n}\n\nexport function getTokenErrorMessage(code: TokenError): string {\n  if (process.env.NODE_ENV !== 'production') {\n    return (tokenErrorMessages as Record<TokenError, string>)[code];\n  }\n\n  return 'Error message not available in production bundles.';\n}\n\nexport function isTokenError<TProgramErrorCode extends TokenError>(\n  error: unknown,\n  transactionMessage: {\n    instructions: Record<number, { programAddress: Address }>;\n  },\n  code?: TProgramErrorCode\n): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &\n  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {\n  return isProgramError<TProgramErrorCode>(\n    error,\n    transactionMessage,\n    TOKEN_PROGRAM_ADDRESS,\n    code\n  );\n}\n","/**\n * This code was AUTOGENERATED using the Codama library.\n * Please DO NOT EDIT THIS FILE, instead use visitors\n * to add features, then rerun Codama to update it.\n *\n * @see https://github.com/codama-idl/codama\n */\n\nimport {\n  AccountRole,\n  isProgramDerivedAddress,\n  isTransactionSigner as kitIsTransactionSigner,\n  type AccountMeta,\n  type AccountSignerMeta,\n  type Address,\n  type ProgramDerivedAddress,\n  type TransactionSigner,\n  upgradeRoleToSigner,\n} from '@solana/kit';\n\n/**\n * Asserts that the given value is not null or undefined.\n * @internal\n */\nexport function expectSome<T>(value: T | null | undefined): T {\n  if (value === null || value === undefined) {\n    throw new Error('Expected a value but received null or undefined.');\n  }\n  return value;\n}\n\n/**\n * Asserts that the given value is a PublicKey.\n * @internal\n */\nexport function expectAddress<T extends string = string>(\n  value:\n    | Address<T>\n    | ProgramDerivedAddress<T>\n    | TransactionSigner<T>\n    | null\n    | undefined\n): Address<T> {\n  if (!value) {\n    throw new Error('Expected a Address.');\n  }\n  if (typeof value === 'object' && 'address' in value) {\n    return value.address;\n  }\n  if (Array.isArray(value)) {\n    return value[0] as Address<T>;\n  }\n  return value as Address<T>;\n}\n\n/**\n * Asserts that the given value is a PDA.\n * @internal\n */\nexport function expectProgramDerivedAddress<T extends string = string>(\n  value:\n    | Address<T>\n    | ProgramDerivedAddress<T>\n    | TransactionSigner<T>\n    | null\n    | undefined\n): ProgramDerivedAddress<T> {\n  if (!value || !Array.isArray(value) || !isProgramDerivedAddress(value)) {\n    throw new Error('Expected a ProgramDerivedAddress.');\n  }\n  return value;\n}\n\n/**\n * Asserts that the given value is a TransactionSigner.\n * @internal\n */\nexport function expectTransactionSigner<T extends string = string>(\n  value:\n    | Address<T>\n    | ProgramDerivedAddress<T>\n    | TransactionSigner<T>\n    | null\n    | undefined\n): TransactionSigner<T> {\n  if (!value || !isTransactionSigner(value)) {\n    throw new Error('Expected a TransactionSigner.');\n  }\n  return value;\n}\n\n/**\n * Defines an instruction account to resolve.\n * @internal\n */\nexport type ResolvedAccount<\n  T extends string = string,\n  U extends\n    | Address<T>\n    | ProgramDerivedAddress<T>\n    | TransactionSigner<T>\n    | null =\n    | Address<T>\n    | ProgramDerivedAddress<T>\n    | TransactionSigner<T>\n    | null,\n> = {\n  isWritable: boolean;\n  value: U;\n};\n\n/**\n * Defines an instruction that stores additional bytes on-chain.\n * @internal\n */\nexport type InstructionWithByteDelta = {\n  byteDelta: number;\n};\n\n/**\n * Get account metas and signers from resolved accounts.\n * @internal\n */\nexport function getAccountMetaFactory(\n  programAddress: Address,\n  optionalAccountStrategy: 'omitted' | 'programId'\n) {\n  return (\n    account: ResolvedAccount\n  ): AccountMeta | AccountSignerMeta | undefined => {\n    if (!account.value) {\n      if (optionalAccountStrategy === 'omitted') return;\n      return Object.freeze({\n        address: programAddress,\n        role: AccountRole.READONLY,\n      });\n    }\n\n    const writableRole = account.isWritable\n      ? AccountRole.WRITABLE\n      : AccountRole.READONLY;\n    return Object.freeze({\n      address: expectAddress(account.value),\n      role: isTransactionSigner(account.value)\n        ? upgradeRoleToSigner(writableRole)\n        : writableRole,\n      ...(isTransactionSigner(account.value) ? { signer: account.value } : {}),\n    });\n  };\n}\n\nexport function isTransactionSigner<TAddress extends string = string>(\n  value:\n    | Address<TAddress>\n    | ProgramDerivedAddress<TAddress>\n    | TransactionSigner<TAddress>\n): value is TransactionSigner<TAddress> {\n  return (\n    !!value &&\n    typeof value === 'object' &&\n    'address' in value &&\n    kitIsTransactionSigner(value)\n  );\n}\n","/**\n * This code was AUTOGENERATED using the Codama library.\n * Please DO NOT EDIT THIS FILE, instead use visitors\n * to add features, then rerun Codama to update it.\n *\n * @see https://github.com/codama-idl/codama\n */\n\nimport {\n  getAddressEncoder,\n  getProgramDerivedAddress,\n  type Address,\n  type ProgramDerivedAddress,\n} from '@solana/kit';\n\nexport type AssociatedTokenSeeds = {\n  /** The wallet address of the associated token account. */\n  owner: Address;\n  /** The address of the token program to use. */\n  tokenProgram: Address;\n  /** The mint address of the associated token account. */\n  mint: Address;\n};\n\nexport async function findAssociatedTokenPda(\n  seeds: AssociatedTokenSeeds,\n  config: { programAddress?: Address | undefined } = {}\n): Promise<ProgramDerivedAddress> {\n  const {\n    programAddress = 'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL' as Address<'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL'>,\n  } = config;\n  return await getProgramDerivedAddress({\n    programAddress,\n    seeds: [\n      getAddressEncoder().encode(seeds.owner),\n      getAddressEncoder().encode(seeds.tokenProgram),\n      getAddressEncoder().encode(seeds.mint),\n    ],\n  });\n}\n","/**\n * This code was AUTOGENERATED using the Codama library.\n * Please DO NOT EDIT THIS FILE, instead use visitors\n * to add features, then rerun Codama to update it.\n *\n * @see https://github.com/codama-idl/codama\n */\n\nimport {\n  combineCodec,\n  getStructDecoder,\n  getStructEncoder,\n  getU8Decoder,\n  getU8Encoder,\n  transformEncoder,\n  type AccountMeta,\n  type AccountSignerMeta,\n  type Address,\n  type FixedSizeCodec,\n  type FixedSizeDecoder,\n  type FixedSizeEncoder,\n  type Instruction,\n  type InstructionWithAccounts,\n  type InstructionWithData,\n  type ReadonlyAccount,\n  type ReadonlyUint8Array,\n  type TransactionSigner,\n  type WritableAccount,\n  type WritableSignerAccount,\n} from '@solana/kit';\nimport { findAssociatedTokenPda } from '../pdas';\nimport { ASSOCIATED_TOKEN_PROGRAM_ADDRESS } from '../programs';\nimport {\n  expectAddress,\n  getAccountMetaFactory,\n  type ResolvedAccount,\n} from '../shared';\n\nexport const CREATE_ASSOCIATED_TOKEN_DISCRIMINATOR = 0;\n\nexport function getCreateAssociatedTokenDiscriminatorBytes() {\n  return getU8Encoder().encode(CREATE_ASSOCIATED_TOKEN_DISCRIMINATOR);\n}\n\nexport type CreateAssociatedTokenInstruction<\n  TProgram extends string = typeof ASSOCIATED_TOKEN_PROGRAM_ADDRESS,\n  TAccountPayer extends string | AccountMeta<string> = string,\n  TAccountAta extends string | AccountMeta<string> = string,\n  TAccountOwner extends string | AccountMeta<string> = string,\n  TAccountMint extends string | AccountMeta<string> = string,\n  TAccountSystemProgram extends\n    | string\n    | AccountMeta<string> = '11111111111111111111111111111111',\n  TAccountTokenProgram extends\n    | string\n    | AccountMeta<string> = 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n  TRemainingAccounts extends readonly AccountMeta<string>[] = [],\n> = Instruction<TProgram> &\n  InstructionWithData<ReadonlyUint8Array> &\n  InstructionWithAccounts<\n    [\n      TAccountPayer extends string\n        ? WritableSignerAccount<TAccountPayer> &\n            AccountSignerMeta<TAccountPayer>\n        : TAccountPayer,\n      TAccountAta extends string ? WritableAccount<TAccountAta> : TAccountAta,\n      TAccountOwner extends string\n        ? ReadonlyAccount<TAccountOwner>\n        : TAccountOwner,\n      TAccountMint extends string\n        ? ReadonlyAccount<TAccountMint>\n        : TAccountMint,\n      TAccountSystemProgram extends string\n        ? ReadonlyAccount<TAccountSystemProgram>\n        : TAccountSystemProgram,\n      TAccountTokenProgram extends string\n        ? ReadonlyAccount<TAccountTokenProgram>\n        : TAccountTokenProgram,\n      ...TRemainingAccounts,\n    ]\n  >;\n\nexport type CreateAssociatedTokenInstructionData = { discriminator: number };\n\nexport type CreateAssociatedTokenInstructionDataArgs = {};\n\nexport function getCreateAssociatedTokenInstructionDataEncoder(): FixedSizeEncoder<CreateAssociatedTokenInstructionDataArgs> {\n  return transformEncoder(\n    getStructEncoder([['discriminator', getU8Encoder()]]),\n    (value) => ({\n      ...value,\n      discriminator: CREATE_ASSOCIATED_TOKEN_DISCRIMINATOR,\n    })\n  );\n}\n\nexport function getCreateAssociatedTokenInstructionDataDecoder(): FixedSizeDecoder<CreateAssociatedTokenInstructionData> {\n  return getStructDecoder([['discriminator', getU8Decoder()]]);\n}\n\nexport function getCreateAssociatedTokenInstructionDataCodec(): FixedSizeCodec<\n  CreateAssociatedTokenInstructionDataArgs,\n  CreateAssociatedTokenInstructionData\n> {\n  return combineCodec(\n    getCreateAssociatedTokenInstructionDataEncoder(),\n    getCreateAssociatedTokenInstructionDataDecoder()\n  );\n}\n\nexport type CreateAssociatedTokenAsyncInput<\n  TAccountPayer extends string = string,\n  TAccountAta extends string = string,\n  TAccountOwner extends string = string,\n  TAccountMint extends string = string,\n  TAccountSystemProgram extends string = string,\n  TAccountTokenProgram extends string = string,\n> = {\n  /** Funding account (must be a system account). */\n  payer: TransactionSigner<TAccountPayer>;\n  /** Associated token account address to be created. */\n  ata?: Address<TAccountAta>;\n  /** Wallet address for the new associated token account. */\n  owner: Address<TAccountOwner>;\n  /** The token mint for the new associated token account. */\n  mint: Address<TAccountMint>;\n  /** System program. */\n  systemProgram?: Address<TAccountSystemProgram>;\n  /** SPL Token program. */\n  tokenProgram?: Address<TAccountTokenProgram>;\n};\n\nexport async function getCreateAssociatedTokenInstructionAsync<\n  TAccountPayer extends string,\n  TAccountAta extends string,\n  TAccountOwner extends string,\n  TAccountMint extends string,\n  TAccountSystemProgram extends string,\n  TAccountTokenProgram extends string,\n  TProgramAddress extends Address = typeof ASSOCIATED_TOKEN_PROGRAM_ADDRESS,\n>(\n  input: CreateAssociatedTokenAsyncInput<\n    TAccountPayer,\n    TAccountAta,\n    TAccountOwner,\n    TAccountMint,\n    TAccountSystemProgram,\n    TAccountTokenProgram\n  >,\n  config?: { programAddress?: TProgramAddress }\n): Promise<\n  CreateAssociatedTokenInstruction<\n    TProgramAddress,\n    TAccountPayer,\n    TAccountAta,\n    TAccountOwner,\n    TAccountMint,\n    TAccountSystemProgram,\n    TAccountTokenProgram\n  >\n> {\n  // Program address.\n  const programAddress =\n    config?.programAddress ?? ASSOCIATED_TOKEN_PROGRAM_ADDRESS;\n\n  // Original accounts.\n  const originalAccounts = {\n    payer: { value: input.payer ?? null, isWritable: true },\n    ata: { value: input.ata ?? null, isWritable: true },\n    owner: { value: input.owner ?? null, isWritable: false },\n    mint: { value: input.mint ?? null, isWritable: false },\n    systemProgram: { value: input.systemProgram ?? null, isWritable: false },\n    tokenProgram: { value: input.tokenProgram ?? null, isWritable: false },\n  };\n  const accounts = originalAccounts as Record<\n    keyof typeof originalAccounts,\n    ResolvedAccount\n  >;\n\n  // Resolve default values.\n  if (!accounts.tokenProgram.value) {\n    accounts.tokenProgram.value =\n      'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA' as Address<'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA'>;\n  }\n  if (!accounts.ata.value) {\n    accounts.ata.value = await findAssociatedTokenPda({\n      owner: expectAddress(accounts.owner.value),\n      tokenProgram: expectAddress(accounts.tokenProgram.value),\n      mint: expectAddress(accounts.mint.value),\n    });\n  }\n  if (!accounts.systemProgram.value) {\n    accounts.systemProgram.value =\n      '11111111111111111111111111111111' as Address<'11111111111111111111111111111111'>;\n  }\n\n  const getAccountMeta = getAccountMetaFactory(programAddress, 'programId');\n  return Object.freeze({\n    accounts: [\n      getAccountMeta(accounts.payer),\n      getAccountMeta(accounts.ata),\n      getAccountMeta(accounts.owner),\n      getAccountMeta(accounts.mint),\n      getAccountMeta(accounts.systemProgram),\n      getAccountMeta(accounts.tokenProgram),\n    ],\n    data: getCreateAssociatedTokenInstructionDataEncoder().encode({}),\n    programAddress,\n  } as CreateAssociatedTokenInstruction<\n    TProgramAddress,\n    TAccountPayer,\n    TAccountAta,\n    TAccountOwner,\n    TAccountMint,\n    TAccountSystemProgram,\n    TAccountTokenProgram\n  >);\n}\n\nexport type CreateAssociatedTokenInput<\n  TAccountPayer extends string = string,\n  TAccountAta extends string = string,\n  TAccountOwner extends string = string,\n  TAccountMint extends string = string,\n  TAccountSystemProgram extends string = string,\n  TAccountTokenProgram extends string = string,\n> = {\n  /** Funding account (must be a system account). */\n  payer: TransactionSigner<TAccountPayer>;\n  /** Associated token account address to be created. */\n  ata: Address<TAccountAta>;\n  /** Wallet address for the new associated token account. */\n  owner: Address<TAccountOwner>;\n  /** The token mint for the new associated token account. */\n  mint: Address<TAccountMint>;\n  /** System program. */\n  systemProgram?: Address<TAccountSystemProgram>;\n  /** SPL Token program. */\n  tokenProgram?: Address<TAccountTokenProgram>;\n};\n\nexport function getCreateAssociatedTokenInstruction<\n  TAccountPayer extends string,\n  TAccountAta extends string,\n  TAccountOwner extends string,\n  TAccountMint extends string,\n  TAccountSystemProgram extends string,\n  TAccountTokenProgram extends string,\n  TProgramAddress extends Address = typeof ASSOCIATED_TOKEN_PROGRAM_ADDRESS,\n>(\n  input: CreateAssociatedTokenInput<\n    TAccountPayer,\n    TAccountAta,\n    TAccountOwner,\n    TAccountMint,\n    TAccountSystemProgram,\n    TAccountTokenProgram\n  >,\n  config?: { programAddress?: TProgramAddress }\n): CreateAssociatedTokenInstruction<\n  TProgramAddress,\n  TAccountPayer,\n  TAccountAta,\n  TAccountOwner,\n  TAccountMint,\n  TAccountSystemProgram,\n  TAccountTokenProgram\n> {\n  // Program address.\n  const programAddress =\n    config?.programAddress ?? ASSOCIATED_TOKEN_PROGRAM_ADDRESS;\n\n  // Original accounts.\n  const originalAccounts = {\n    payer: { value: input.payer ?? null, isWritable: true },\n    ata: { value: input.ata ?? null, isWritable: true },\n    owner: { value: input.owner ?? null, isWritable: false },\n    mint: { value: input.mint ?? null, isWritable: false },\n    systemProgram: { value: input.systemProgram ?? null, isWritable: false },\n    tokenProgram: { value: input.tokenProgram ?? null, isWritable: false },\n  };\n  const accounts = originalAccounts as Record<\n    keyof typeof originalAccounts,\n    ResolvedAccount\n  >;\n\n  // Resolve default values.\n  if (!accounts.tokenProgram.value) {\n    accounts.tokenProgram.value =\n      'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA' as Address<'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA'>;\n  }\n  if (!accounts.systemProgram.value) {\n    accounts.systemProgram.value =\n      '11111111111111111111111111111111' as Address<'11111111111111111111111111111111'>;\n  }\n\n  const getAccountMeta = getAccountMetaFactory(programAddress, 'programId');\n  return Object.freeze({\n    accounts: [\n      getAccountMeta(accounts.payer),\n      getAccountMeta(accounts.ata),\n      getAccountMeta(accounts.owner),\n      getAccountMeta(accounts.mint),\n      getAccountMeta(accounts.systemProgram),\n      getAccountMeta(accounts.tokenProgram),\n    ],\n    data: getCreateAssociatedTokenInstructionDataEncoder().encode({}),\n    programAddress,\n  } as CreateAssociatedTokenInstruction<\n    TProgramAddress,\n    TAccountPayer,\n    TAccountAta,\n    TAccountOwner,\n    TAccountMint,\n    TAccountSystemProgram,\n    TAccountTokenProgram\n  >);\n}\n\nexport type ParsedCreateAssociatedTokenInstruction<\n  TProgram extends string = typeof ASSOCIATED_TOKEN_PROGRAM_ADDRESS,\n  TAccountMetas extends readonly AccountMeta[] = readonly AccountMeta[],\n> = {\n  programAddress: Address<TProgram>;\n  accounts: {\n    /** Funding account (must be a system account). */\n    payer: TAccountMetas[0];\n    /** Associated token account address to be created. */\n    ata: TAccountMetas[1];\n    /** Wallet address for the new associated token account. */\n    owner: TAccountMetas[2];\n    /** The token mint for the new associated token account. */\n    mint: TAccountMetas[3];\n    /** System program. */\n    systemProgram: TAccountMetas[4];\n    /** SPL Token program. */\n    tokenProgram: TAccountMetas[5];\n  };\n  data: CreateAssociatedTokenInstructionData;\n};\n\nexport function parseCreateAssociatedTokenInstruction<\n  TProgram extends string,\n  TAccountMetas extends readonly AccountMeta[],\n>(\n  instruction: Instruction<TProgram> &\n    InstructionWithAccounts<TAccountMetas> &\n    InstructionWithData<ReadonlyUint8Array>\n): ParsedCreateAssociatedTokenInstruction<TProgram, TAccountMetas> {\n  if (instruction.accounts.length < 6) {\n    // TODO: Coded error.\n    throw new Error('Not enough accounts');\n  }\n  let accountIndex = 0;\n  const getNextAccount = () => {\n    const accountMeta = (instruction.accounts as TAccountMetas)[accountIndex]!;\n    accountIndex += 1;\n    return accountMeta;\n  };\n  return {\n    programAddress: instruction.programAddress,\n    accounts: {\n      payer: getNextAccount(),\n      ata: getNextAccount(),\n      owner: getNextAccount(),\n      mint: getNextAccount(),\n      systemProgram: getNextAccount(),\n      tokenProgram: getNextAccount(),\n    },\n    data: getCreateAssociatedTokenInstructionDataDecoder().decode(\n      instruction.data\n    ),\n  };\n}\n","/**\n * This code was AUTOGENERATED using the Codama library.\n * Please DO NOT EDIT THIS FILE, instead use visitors\n * to add features, then rerun Codama to update it.\n *\n * @see https://github.com/codama-idl/codama\n */\n\nimport {\n  AccountRole,\n  combineCodec,\n  getStructDecoder,\n  getStructEncoder,\n  getU64Decoder,\n  getU64Encoder,\n  getU8Decoder,\n  getU8Encoder,\n  transformEncoder,\n  type AccountMeta,\n  type AccountSignerMeta,\n  type Address,\n  type FixedSizeCodec,\n  type FixedSizeDecoder,\n  type FixedSizeEncoder,\n  type Instruction,\n  type InstructionWithAccounts,\n  type InstructionWithData,\n  type ReadonlyAccount,\n  type ReadonlySignerAccount,\n  type ReadonlyUint8Array,\n  type TransactionSigner,\n  type WritableAccount,\n} from '@solana/kit';\nimport { TOKEN_PROGRAM_ADDRESS } from '../programs';\nimport { getAccountMetaFactory, type ResolvedAccount } from '../shared';\n\nexport const TRANSFER_DISCRIMINATOR = 3;\n\nexport function getTransferDiscriminatorBytes() {\n  return getU8Encoder().encode(TRANSFER_DISCRIMINATOR);\n}\n\nexport type TransferInstruction<\n  TProgram extends string = typeof TOKEN_PROGRAM_ADDRESS,\n  TAccountSource extends string | AccountMeta<string> = string,\n  TAccountDestination extends string | AccountMeta<string> = string,\n  TAccountAuthority extends string | AccountMeta<string> = string,\n  TRemainingAccounts extends readonly AccountMeta<string>[] = [],\n> = Instruction<TProgram> &\n  InstructionWithData<ReadonlyUint8Array> &\n  InstructionWithAccounts<\n    [\n      TAccountSource extends string\n        ? WritableAccount<TAccountSource>\n        : TAccountSource,\n      TAccountDestination extends string\n        ? WritableAccount<TAccountDestination>\n        : TAccountDestination,\n      TAccountAuthority extends string\n        ? ReadonlyAccount<TAccountAuthority>\n        : TAccountAuthority,\n      ...TRemainingAccounts,\n    ]\n  >;\n\nexport type TransferInstructionData = {\n  discriminator: number;\n  /** The amount of tokens to transfer. */\n  amount: bigint;\n};\n\nexport type TransferInstructionDataArgs = {\n  /** The amount of tokens to transfer. */\n  amount: number | bigint;\n};\n\nexport function getTransferInstructionDataEncoder(): FixedSizeEncoder<TransferInstructionDataArgs> {\n  return transformEncoder(\n    getStructEncoder([\n      ['discriminator', getU8Encoder()],\n      ['amount', getU64Encoder()],\n    ]),\n    (value) => ({ ...value, discriminator: TRANSFER_DISCRIMINATOR })\n  );\n}\n\nexport function getTransferInstructionDataDecoder(): FixedSizeDecoder<TransferInstructionData> {\n  return getStructDecoder([\n    ['discriminator', getU8Decoder()],\n    ['amount', getU64Decoder()],\n  ]);\n}\n\nexport function getTransferInstructionDataCodec(): FixedSizeCodec<\n  TransferInstructionDataArgs,\n  TransferInstructionData\n> {\n  return combineCodec(\n    getTransferInstructionDataEncoder(),\n    getTransferInstructionDataDecoder()\n  );\n}\n\nexport type TransferInput<\n  TAccountSource extends string = string,\n  TAccountDestination extends string = string,\n  TAccountAuthority extends string = string,\n> = {\n  /** The source account. */\n  source: Address<TAccountSource>;\n  /** The destination account. */\n  destination: Address<TAccountDestination>;\n  /** The source account's owner/delegate or its multisignature account. */\n  authority: Address<TAccountAuthority> | TransactionSigner<TAccountAuthority>;\n  amount: TransferInstructionDataArgs['amount'];\n  multiSigners?: Array<TransactionSigner>;\n};\n\nexport function getTransferInstruction<\n  TAccountSource extends string,\n  TAccountDestination extends string,\n  TAccountAuthority extends string,\n  TProgramAddress extends Address = typeof TOKEN_PROGRAM_ADDRESS,\n>(\n  input: TransferInput<TAccountSource, TAccountDestination, TAccountAuthority>,\n  config?: { programAddress?: TProgramAddress }\n): TransferInstruction<\n  TProgramAddress,\n  TAccountSource,\n  TAccountDestination,\n  (typeof input)['authority'] extends TransactionSigner<TAccountAuthority>\n    ? ReadonlySignerAccount<TAccountAuthority> &\n        AccountSignerMeta<TAccountAuthority>\n    : TAccountAuthority\n> {\n  // Program address.\n  const programAddress = config?.programAddress ?? TOKEN_PROGRAM_ADDRESS;\n\n  // Original accounts.\n  const originalAccounts = {\n    source: { value: input.source ?? null, isWritable: true },\n    destination: { value: input.destination ?? null, isWritable: true },\n    authority: { value: input.authority ?? null, isWritable: false },\n  };\n  const accounts = originalAccounts as Record<\n    keyof typeof originalAccounts,\n    ResolvedAccount\n  >;\n\n  // Original args.\n  const args = { ...input };\n\n  // Remaining accounts.\n  const remainingAccounts: AccountMeta[] = (args.multiSigners ?? []).map(\n    (signer) => ({\n      address: signer.address,\n      role: AccountRole.READONLY_SIGNER,\n      signer,\n    })\n  );\n\n  const getAccountMeta = getAccountMetaFactory(programAddress, 'programId');\n  return Object.freeze({\n    accounts: [\n      getAccountMeta(accounts.source),\n      getAccountMeta(accounts.destination),\n      getAccountMeta(accounts.authority),\n      ...remainingAccounts,\n    ],\n    data: getTransferInstructionDataEncoder().encode(\n      args as TransferInstructionDataArgs\n    ),\n    programAddress,\n  } as TransferInstruction<\n    TProgramAddress,\n    TAccountSource,\n    TAccountDestination,\n    (typeof input)['authority'] extends TransactionSigner<TAccountAuthority>\n      ? ReadonlySignerAccount<TAccountAuthority> &\n          AccountSignerMeta<TAccountAuthority>\n      : TAccountAuthority\n  >);\n}\n\nexport type ParsedTransferInstruction<\n  TProgram extends string = typeof TOKEN_PROGRAM_ADDRESS,\n  TAccountMetas extends readonly AccountMeta[] = readonly AccountMeta[],\n> = {\n  programAddress: Address<TProgram>;\n  accounts: {\n    /** The source account. */\n    source: TAccountMetas[0];\n    /** The destination account. */\n    destination: TAccountMetas[1];\n    /** The source account's owner/delegate or its multisignature account. */\n    authority: TAccountMetas[2];\n  };\n  data: TransferInstructionData;\n};\n\nexport function parseTransferInstruction<\n  TProgram extends string,\n  TAccountMetas extends readonly AccountMeta[],\n>(\n  instruction: Instruction<TProgram> &\n    InstructionWithAccounts<TAccountMetas> &\n    InstructionWithData<ReadonlyUint8Array>\n): ParsedTransferInstruction<TProgram, TAccountMetas> {\n  if (instruction.accounts.length < 3) {\n    // TODO: Coded error.\n    throw new Error('Not enough accounts');\n  }\n  let accountIndex = 0;\n  const getNextAccount = () => {\n    const accountMeta = (instruction.accounts as TAccountMetas)[accountIndex]!;\n    accountIndex += 1;\n    return accountMeta;\n  };\n  return {\n    programAddress: instruction.programAddress,\n    accounts: {\n      source: getNextAccount(),\n      destination: getNextAccount(),\n      authority: getNextAccount(),\n    },\n    data: getTransferInstructionDataDecoder().decode(instruction.data),\n  };\n}\n","/**\n * This code was AUTOGENERATED using the Codama library.\n * Please DO NOT EDIT THIS FILE, instead use visitors\n * to add features, then rerun Codama to update it.\n *\n * @see https://github.com/codama-idl/codama\n */\n\nimport {\n  isProgramError,\n  type Address,\n  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,\n  type SolanaError,\n} from '@solana/kit';\nimport { SYSTEM_PROGRAM_ADDRESS } from '../programs';\n\n/** AccountAlreadyInUse: an account with the same address already exists */\nexport const SYSTEM_ERROR__ACCOUNT_ALREADY_IN_USE = 0x0; // 0\n/** ResultWithNegativeLamports: account does not have enough SOL to perform the operation */\nexport const SYSTEM_ERROR__RESULT_WITH_NEGATIVE_LAMPORTS = 0x1; // 1\n/** InvalidProgramId: cannot assign account to this program id */\nexport const SYSTEM_ERROR__INVALID_PROGRAM_ID = 0x2; // 2\n/** InvalidAccountDataLength: cannot allocate account data of this length */\nexport const SYSTEM_ERROR__INVALID_ACCOUNT_DATA_LENGTH = 0x3; // 3\n/** MaxSeedLengthExceeded: length of requested seed is too long */\nexport const SYSTEM_ERROR__MAX_SEED_LENGTH_EXCEEDED = 0x4; // 4\n/** AddressWithSeedMismatch: provided address does not match addressed derived from seed */\nexport const SYSTEM_ERROR__ADDRESS_WITH_SEED_MISMATCH = 0x5; // 5\n/** NonceNoRecentBlockhashes: advancing stored nonce requires a populated RecentBlockhashes sysvar */\nexport const SYSTEM_ERROR__NONCE_NO_RECENT_BLOCKHASHES = 0x6; // 6\n/** NonceBlockhashNotExpired: stored nonce is still in recent_blockhashes */\nexport const SYSTEM_ERROR__NONCE_BLOCKHASH_NOT_EXPIRED = 0x7; // 7\n/** NonceUnexpectedBlockhashValue: specified nonce does not match stored nonce */\nexport const SYSTEM_ERROR__NONCE_UNEXPECTED_BLOCKHASH_VALUE = 0x8; // 8\n\nexport type SystemError =\n  | typeof SYSTEM_ERROR__ACCOUNT_ALREADY_IN_USE\n  | typeof SYSTEM_ERROR__ADDRESS_WITH_SEED_MISMATCH\n  | typeof SYSTEM_ERROR__INVALID_ACCOUNT_DATA_LENGTH\n  | typeof SYSTEM_ERROR__INVALID_PROGRAM_ID\n  | typeof SYSTEM_ERROR__MAX_SEED_LENGTH_EXCEEDED\n  | typeof SYSTEM_ERROR__NONCE_BLOCKHASH_NOT_EXPIRED\n  | typeof SYSTEM_ERROR__NONCE_NO_RECENT_BLOCKHASHES\n  | typeof SYSTEM_ERROR__NONCE_UNEXPECTED_BLOCKHASH_VALUE\n  | typeof SYSTEM_ERROR__RESULT_WITH_NEGATIVE_LAMPORTS;\n\nlet systemErrorMessages: Record<SystemError, string> | undefined;\nif (process.env.NODE_ENV !== 'production') {\n  systemErrorMessages = {\n    [SYSTEM_ERROR__ACCOUNT_ALREADY_IN_USE]: `an account with the same address already exists`,\n    [SYSTEM_ERROR__ADDRESS_WITH_SEED_MISMATCH]: `provided address does not match addressed derived from seed`,\n    [SYSTEM_ERROR__INVALID_ACCOUNT_DATA_LENGTH]: `cannot allocate account data of this length`,\n    [SYSTEM_ERROR__INVALID_PROGRAM_ID]: `cannot assign account to this program id`,\n    [SYSTEM_ERROR__MAX_SEED_LENGTH_EXCEEDED]: `length of requested seed is too long`,\n    [SYSTEM_ERROR__NONCE_BLOCKHASH_NOT_EXPIRED]: `stored nonce is still in recent_blockhashes`,\n    [SYSTEM_ERROR__NONCE_NO_RECENT_BLOCKHASHES]: `advancing stored nonce requires a populated RecentBlockhashes sysvar`,\n    [SYSTEM_ERROR__NONCE_UNEXPECTED_BLOCKHASH_VALUE]: `specified nonce does not match stored nonce`,\n    [SYSTEM_ERROR__RESULT_WITH_NEGATIVE_LAMPORTS]: `account does not have enough SOL to perform the operation`,\n  };\n}\n\nexport function getSystemErrorMessage(code: SystemError): string {\n  if (process.env.NODE_ENV !== 'production') {\n    return (systemErrorMessages as Record<SystemError, string>)[code];\n  }\n\n  return 'Error message not available in production bundles.';\n}\n\nexport function isSystemError<TProgramErrorCode extends SystemError>(\n  error: unknown,\n  transactionMessage: {\n    instructions: Record<number, { programAddress: Address }>;\n  },\n  code?: TProgramErrorCode\n): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &\n  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {\n  return isProgramError<TProgramErrorCode>(\n    error,\n    transactionMessage,\n    SYSTEM_PROGRAM_ADDRESS,\n    code\n  );\n}\n","/**\n * Devnet GHOST Token Airdrop Command\n *\n * Airdrops 10,000 devnet GHOST tokens to the connected wallet.\n * For testing and development purposes only.\n *\n * Fully migrated to Solana v5 with @solana-program/token\n */\n\nimport { Command } from 'commander'\nimport { address, type Address } from '@solana/addresses'\nimport {\n  getCreateAssociatedTokenInstructionAsync,\n  getTransferInstruction,\n  fetchToken,\n  findAssociatedTokenPda,\n  TOKEN_PROGRAM_ADDRESS,\n} from '@solana-program/token'\nimport {\n  createTransactionMessage,\n  setTransactionMessageFeePayerSigner,\n  setTransactionMessageLifetimeUsingBlockhash,\n  appendTransactionMessageInstruction,\n  pipe,\n  signTransactionMessageWithSigners,\n  sendAndConfirmTransactionFactory,\n} from '@solana/kit'\nimport { createKeyPairSignerFromBytes } from '@solana/signers'\nimport { createCustomClient } from '../core/solana-client.js'\nimport fs from 'fs'\nimport path from 'path'\nimport ora from 'ora'\nimport chalk from 'chalk'\n\n// Devnet GHOST token mint (from .devnet-ghost.json in SDK)\nconst DEVNET_GHOST_MINT = 'BV4uhhMJ84zjwRomS15JMH5wdXVrMP8o9E1URS4xtYoh'\nconst DECIMALS = 6\nconst AIRDROP_AMOUNT = 10000 // 10,000 GHOST per request\n\n// Rate limiting (simple file-based tracking)\nconst RATE_LIMIT_FILE = path.join(process.cwd(), '.ghost-airdrop-claims.json')\nconst RATE_LIMIT_HOURS = 24\n\ninterface AirdropClaim {\n  wallet: string\n  lastClaim: number\n}\n\nfunction loadClaims(): Record<string, number> {\n  try {\n    if (fs.existsSync(RATE_LIMIT_FILE)) {\n      const data = fs.readFileSync(RATE_LIMIT_FILE, 'utf-8')\n      return JSON.parse(data)\n    }\n  } catch (error) {\n    // Ignore errors, start fresh\n  }\n  return {}\n}\n\nfunction saveClaims(claims: Record<string, number>) {\n  try {\n    fs.writeFileSync(RATE_LIMIT_FILE, JSON.stringify(claims, null, 2))\n  } catch (error) {\n    // Ignore errors\n  }\n}\n\nfunction canClaim(wallet: string): boolean {\n  const claims = loadClaims()\n  const lastClaim = claims[wallet]\n  if (!lastClaim) return true\n\n  const hoursSinceClaim = (Date.now() - lastClaim) / (1000 * 60 * 60)\n  return hoursSinceClaim >= RATE_LIMIT_HOURS\n}\n\nfunction getTimeUntilNextClaim(wallet: string): string {\n  const claims = loadClaims()\n  const lastClaim = claims[wallet]\n  if (!lastClaim) return '0 hours'\n\n  const hoursSinceClaim = (Date.now() - lastClaim) / (1000 * 60 * 60)\n  const hoursRemaining = Math.ceil(RATE_LIMIT_HOURS - hoursSinceClaim)\n\n  if (hoursRemaining <= 0) return '0 hours'\n  if (hoursRemaining === 1) return '1 hour'\n  return `${hoursRemaining} hours`\n}\n\nfunction recordClaim(wallet: string) {\n  const claims = loadClaims()\n  claims[wallet] = Date.now()\n  saveClaims(claims)\n}\n\nexport const airdropCommand = new Command('airdrop')\n  .description('Airdrop devnet GHOST tokens for testing (10,000 GHOST per request - CLI version)')\n  .option('-r, --recipient <address>', 'Recipient wallet address (defaults to your wallet)')\n  .action(async (options) => {\n    const spinner = ora()\n\n    try {\n      // Load wallet from CLI config\n      const walletPath = process.env.SOLANA_WALLET || path.join(process.env.HOME || '', '.config/solana/id.json')\n\n      if (!fs.existsSync(walletPath)) {\n        console.error(chalk.red(' Wallet not found!'))\n        console.log(chalk.gray(`   Expected: ${walletPath}`))\n        console.log(chalk.yellow('   Set SOLANA_WALLET environment variable or create wallet with:'))\n        console.log(chalk.gray('   solana-keygen new'))\n        process.exit(1)\n      }\n\n      // Load keypair from file\n      const secretKeyBytes = new Uint8Array(JSON.parse(fs.readFileSync(walletPath, 'utf-8')))\n      const walletKeypair = await createKeyPairSignerFromBytes(secretKeyBytes)\n\n      const recipientAddress = options.recipient\n        ? address(options.recipient)\n        : walletKeypair.address\n\n      console.log(chalk.blue(' GhostSpeak Devnet GHOST Airdrop'))\n      console.log(chalk.gray('='.repeat(60)))\n      console.log(chalk.gray(`  Recipient: ${recipientAddress}`))\n      console.log(chalk.gray(`  Amount: ${AIRDROP_AMOUNT.toLocaleString()} GHOST`))\n      console.log(chalk.gray(`  Network: devnet`))\n\n      // Check rate limit\n      if (!canClaim(recipientAddress)) {\n        const timeRemaining = getTimeUntilNextClaim(recipientAddress)\n        console.log(chalk.yellow(`\\n Rate limit: Already claimed within last 24 hours`))\n        console.log(chalk.gray(`   Next claim available in: ${timeRemaining}`))\n        process.exit(1)\n      }\n\n      // Connect to devnet using Gill\n      spinner.start('Connecting to devnet...')\n      const client = createCustomClient(\n        process.env.SOLANA_RPC_URL || 'https://api.devnet.solana.com'\n      )\n      const rpc = client.rpc\n\n      const ghostMintAddress = address(DEVNET_GHOST_MINT)\n\n      // Get faucet token account (wallet's ATA)\n      const [faucetTokenAccount] = await findAssociatedTokenPda({\n        mint: ghostMintAddress,\n        owner: walletKeypair.address,\n        tokenProgram: TOKEN_PROGRAM_ADDRESS,\n      })\n\n      // Check faucet balance\n      try {\n        const faucetAccountData = await fetchToken(rpc, faucetTokenAccount)\n        const faucetBalance = Number(faucetAccountData.data.amount) / 10 ** DECIMALS\n\n        if (faucetBalance < AIRDROP_AMOUNT) {\n          spinner.fail('Insufficient faucet balance')\n          console.log(chalk.red(`\\n Faucet has only ${faucetBalance.toLocaleString()} GHOST`))\n          console.log(chalk.gray('   Please contact the GhostSpeak team to refill the faucet'))\n          process.exit(1)\n        }\n\n        spinner.succeed(`Faucet balance: ${faucetBalance.toLocaleString()} GHOST`)\n      } catch (error) {\n        spinner.fail('Faucet not initialized')\n        console.log(chalk.red('\\n Devnet airdrop faucet not set up'))\n        console.log(chalk.gray('   Please contact the GhostSpeak team'))\n        process.exit(1)\n      }\n\n      // Get or create recipient token account\n      spinner.start('Setting up recipient token account...')\n      const [recipientTokenAccount] = await findAssociatedTokenPda({\n        mint: ghostMintAddress,\n        owner: recipientAddress,\n        tokenProgram: TOKEN_PROGRAM_ADDRESS,\n      })\n\n      // Build transaction\n      const { value: latestBlockhash } = await rpc.getLatestBlockhash().send()\n\n      // Create ATA instruction (idempotent - will do nothing if already exists)\n      const createAtaInstruction = await getCreateAssociatedTokenInstructionAsync({\n        payer: walletKeypair,\n        mint: ghostMintAddress,\n        owner: recipientAddress,\n        ata: recipientTokenAccount,\n      })\n\n      // Create transfer instruction\n      const amountWithDecimals = BigInt(AIRDROP_AMOUNT) * BigInt(10 ** DECIMALS)\n      const transferInstruction = getTransferInstruction({\n        source: faucetTokenAccount,\n        destination: recipientTokenAccount,\n        authority: walletKeypair,\n        amount: amountWithDecimals,\n      })\n\n      spinner.text = 'Building transaction...'\n\n      // Build and sign transaction\n      const transactionMessage = await pipe(\n        createTransactionMessage({ version: 0 }),\n        (tx) => setTransactionMessageFeePayerSigner(walletKeypair, tx),\n        (tx) =>\n          setTransactionMessageLifetimeUsingBlockhash(\n            latestBlockhash,\n            tx\n          ),\n        (tx) => appendTransactionMessageInstruction(createAtaInstruction, tx),\n        (tx) => appendTransactionMessageInstruction(transferInstruction, tx)\n      )\n\n      spinner.text = `Transferring ${AIRDROP_AMOUNT.toLocaleString()} GHOST...`\n\n      // Sign and send using modern v5 pattern\n      const signedTransaction = await signTransactionMessageWithSigners(transactionMessage)\n\n      const sendAndConfirmTransaction = sendAndConfirmTransactionFactory({\n        rpc: rpc as Parameters<typeof sendAndConfirmTransactionFactory>[0]['rpc'],\n        rpcSubscriptions: undefined as any // Subscriptions not currently available\n      })\n\n      const signature = await sendAndConfirmTransaction(signedTransaction, { commitment: 'confirmed' })\n\n      spinner.succeed('Transfer complete!')\n\n      // Record claim\n      recordClaim(recipientAddress)\n\n      // Get new balance\n      const updatedAccount = await fetchToken(rpc, recipientTokenAccount)\n      const newBalance = Number(updatedAccount.data.amount) / 10 ** DECIMALS\n\n      console.log(chalk.green('\\n Airdrop successful!'))\n      console.log(chalk.gray('  Transaction:'), chalk.cyan(signature))\n      console.log(chalk.gray('  Explorer:'), chalk.cyan(`https://explorer.solana.com/tx/${signature}?cluster=devnet`))\n      console.log(chalk.gray('  New Balance:'), chalk.green(`${newBalance.toLocaleString()} GHOST`))\n\n      console.log(chalk.blue('\\n Next Steps:'))\n      console.log(chalk.gray('  1. Stake GHOST: ghost stake <amount>'))\n      console.log(chalk.gray('  2. Register agent: ghost agent register'))\n      console.log(chalk.gray('  3. Test features in devnet'))\n      console.log(chalk.gray('\\n  Next airdrop available in 24 hours'))\n\n    } catch (error: any) {\n      spinner.fail('Airdrop failed')\n      console.error(chalk.red('\\n Error:'), error.message)\n\n      if (error.message?.includes('Transaction simulation failed')) {\n        console.log(chalk.yellow('\\n  Common causes:'))\n        console.log(chalk.gray('   Insufficient SOL for rent'))\n        console.log(chalk.gray('   Faucet needs refilling'))\n        console.log(chalk.gray('   Network congestion'))\n      }\n\n      process.exit(1)\n    }\n  })\n","import { Command } from 'commander'\nimport { intro, outro, spinner, confirm, note } from '@clack/prompts'\nimport pc from 'picocolors'\nimport { exec } from 'child_process'\nimport { promisify } from 'util'\nimport { existsSync, readFileSync } from 'fs'\nimport { join } from 'path'\n\nconst execAsync = promisify(exec)\n\n// Type definitions for command options\ninterface InstallOptions {\n  global?: boolean\n  version?: string\n  dev?: boolean\n}\n\nexport const sdkCommand = new Command('sdk')\n  .description('Manage GhostSpeak SDK installation')\n\nsdkCommand\n  .command('install')\n  .description('Install the GhostSpeak SDK')\n  .option('-g, --global', 'Install globally', false)\n  .option('-v, --version <version>', 'Specific version to install')\n  .option('-D, --dev', 'Save as dev dependency', false)\n  .action(async (options: InstallOptions) => {\n        try {\n          intro(pc.cyan('  GhostSpeak SDK Installer'))\n\n          // Check if we're in a Node.js project\n          const hasPackageJson = existsSync(join(process.cwd(), 'package.json'))\n          \n          if (!options.global && !hasPackageJson) {\n            const shouldInit = await confirm({\n              message: 'No package.json found. Initialize a new project?',\n              initialValue: true\n            })\n\n            if (shouldInit) {\n              const s = spinner()\n              s.start('Initializing new project')\n              \n              try {\n                await execAsync('npm init -y')\n                s.stop('Project initialized')\n              } catch (error) {\n                s.stop('Failed to initialize project')\n                throw error\n              }\n            } else {\n              outro(pc.yellow('  Cancelled SDK installation'))\n              return\n            }\n          }\n\n          // Determine package manager\n          const packageManager = await detectPackageManager()\n          \n          // Build install command\n          const packageName = '@ghostspeak/sdk'\n          const version = options.version ?? 'latest'\n          const versionString = version === 'latest' ? '' : `@${version}`\n          \n          let installCmd: string\n          if (options.global) {\n            installCmd = `${packageManager} ${packageManager === 'yarn' ? 'global add' : 'install -g'} ${packageName}${versionString}`\n          } else {\n            const saveFlag = options.dev ? (packageManager === 'yarn' ? '--dev' : '--save-dev') : ''\n            installCmd = `${packageManager} ${packageManager === 'yarn' ? 'add' : 'install'} ${saveFlag} ${packageName}${versionString}`\n          }\n\n          const s = spinner()\n          s.start(`Installing ${packageName}${versionString}`)\n\n          try {\n            const { stdout, stderr } = await execAsync(installCmd)\n            // Acknowledge unused outputs for future logging\n            void stdout\n            void stderr\n            s.stop(`Successfully installed ${packageName}`)\n\n            // Show post-installation message\n            if (!options.global) {\n              note(\n                `Import the SDK in your code:\n\n${pc.cyan(\"import { GhostSpeakClient } from '@ghostspeak/sdk'\")}\n\nExample usage:\n${pc.gray(`\nconst client = new GhostSpeakClient(connection, signer)\nconst agents = await client.agent.listAgents()\n`)}`,\n                'Quick Start'\n              )\n            }\n\n            outro(pc.green(' SDK installed successfully!'))\n          } catch (error) {\n            s.stop('Failed to install SDK')\n            console.error(pc.red(`\\nError: ${error instanceof Error ? error.message : 'Unknown error'}`))\n            outro(pc.red(' SDK installation failed'))\n            process.exit(1)\n          }\n        } catch (error) {\n          console.error(pc.red(`\\nError: ${error instanceof Error ? error.message : 'Unknown error'}`))\n          outro(pc.red(' SDK installation failed'))\n          process.exit(1)\n        }\n      })\n\nsdkCommand\n  .command('info')\n  .description('Show SDK information and installation status')\n  .action(async () => {\n        intro(pc.cyan(' GhostSpeak SDK Information'))\n\n        try {\n          // Check if SDK is installed locally\n          const localPath = join(process.cwd(), 'node_modules', '@ghostspeak', 'sdk', 'package.json')\n          const hasLocal = existsSync(localPath)\n\n          if (hasLocal) {\n            const packageJson = JSON.parse(readFileSync(localPath, 'utf-8')) as { version: string }\n            console.log(pc.green('\\n SDK installed locally'))\n            console.log(pc.gray(`  Version: ${packageJson.version}`))\n            console.log(pc.gray(`  Path: ${join(process.cwd(), 'node_modules', '@ghostspeak', 'sdk')}`))\n          } else {\n            console.log(pc.yellow('\\n SDK not installed locally'))\n          }\n\n          // Check global installation\n          try {\n            const { stdout } = await execAsync('npm list -g @ghostspeak/sdk --depth=0')\n            if (stdout.includes('@ghostspeak/sdk')) {\n              console.log(pc.green('\\n SDK installed globally'))\n              const versionMatch = /@ghostspeak\\/sdk@(\\S+)/.exec(stdout)\n              if (versionMatch) {\n                console.log(pc.gray(`  Version: ${versionMatch[1]}`))\n              }\n            }\n          } catch (error) {\n            console.log(pc.yellow('\\n SDK not installed globally'))\n          }\n\n          // Show latest version\n          try {\n            const { stdout } = await execAsync('npm view @ghostspeak/sdk version')\n            console.log(pc.cyan(`\\n Latest version: ${stdout.trim()}`))\n          } catch (error) {\n            console.log(pc.gray('\\n  Could not fetch latest version'))\n          }\n\n          // Installation instructions\n          if (!hasLocal) {\n            console.log(pc.gray('\\nTo install the SDK:'))\n            console.log(pc.cyan('  npx ghostspeak sdk install'))\n            console.log(pc.cyan('  npx ghostspeak sdk install --global'))\n          }\n\n          outro(pc.green(' SDK info complete'))\n        } catch (error) {\n          console.error(pc.red(`\\nError: ${error instanceof Error ? error.message : 'Unknown error'}`))\n          outro(pc.red(' Failed to get SDK info'))\n          process.exit(1)\n        }\n      })\n\nasync function detectPackageManager(): Promise<string> {\n  // Check for lock files\n  if (existsSync(join(process.cwd(), 'bun.lockb'))) return 'bun'\n  if (existsSync(join(process.cwd(), 'yarn.lock'))) return 'yarn'\n  if (existsSync(join(process.cwd(), 'pnpm-lock.yaml'))) return 'pnpm'\n  \n  // Default to npm\n  return 'npm'\n}","import { Command } from 'commander'\nimport { intro, outro, spinner, confirm, isCancel, cancel } from '@clack/prompts'\nimport chalk from 'chalk'\nimport { exec } from 'child_process'\nimport { promisify } from 'util'\n\nconst execAsync = promisify(exec)\n\nexport const updateCommand = new Command('update')\n  .description('Update GhostSpeak CLI to the latest version')\n  .option('-f, --force', 'Force update without confirmation')\n  .action(async (options: { force?: boolean }) => {\n    intro(chalk.cyan(' GhostSpeak CLI Updater'))\n\n    try {\n      const s = spinner()\n      s.start('Checking current version...')\n      \n      // Get current version - foolproof approach\n      let currentVersion = '1.12.0' // Fallback version\n      \n      // First, try to get version from the program itself\n      const programVersion = updateCommand.parent?.version()\n      if (programVersion && /^\\d+\\.\\d+\\.\\d+/.test(programVersion)) {\n        currentVersion = programVersion\n      }\n      \n      // Method 1: Try reading from package.json first (most reliable)\n      try {\n        const { readFileSync } = await import('fs')\n        const { fileURLToPath } = await import('url')\n        const { dirname, join } = await import('path')\n        \n        const __filename = fileURLToPath(import.meta.url)\n        const __dirname = dirname(__filename)\n        \n        // Try multiple possible package.json locations\n        const possiblePaths = [\n          join(__dirname, '../../package.json'),\n          join(__dirname, '../../../package.json'),\n          join(__dirname, '../../../../cli/package.json'),\n          '/Users/michelleeidschun/.bun/install/global/node_modules/@ghostspeak/cli/package.json'\n        ]\n        \n        for (const path of possiblePaths) {\n          try {\n            const pkg = JSON.parse(readFileSync(path, 'utf-8')) as { name?: string; version?: string }\n            if (pkg.name === '@ghostspeak/cli' && pkg.version) {\n              currentVersion = pkg.version\n              break\n            }\n          } catch {\n            // Try next path\n          }\n        }\n      } catch {\n        // If reading package.json fails, we'll try other methods\n      }\n      \n      // Method 2: Try running the CLI with --version flag as backup\n      if (currentVersion === '1.12.0') {\n        try {\n          // Try different command names that might be available\n          const commands = [\n            'ghostspeak --version',\n            'ghost --version'\n          ]\n          \n          for (const cmd of commands) {\n            try {\n              const { stdout } = await execAsync(cmd, { timeout: 5000 }) // 5 second timeout\n              // Look for version after \"CLI v\" pattern to avoid catching other versions\n              const versionMatch = /CLI v(\\d+\\.\\d+\\.\\d+)/.exec(stdout)\n              if (versionMatch) {\n                currentVersion = versionMatch[1]\n                break\n              }\n            } catch {\n              // Try next command\n            }\n          }\n        } catch {\n          // If all methods fail, we'll use the fallback version\n        }\n      }\n      \n      // Method 3: If other methods failed, try npm list as a backup\n      if (currentVersion === '1.12.0') {\n        try {\n          const { stdout } = await execAsync('npm list -g @ghostspeak/cli --depth=0 2>/dev/null || npm list @ghostspeak/cli --depth=0 2>/dev/null')\n          const match = /@ghostspeak\\/cli@(\\S+)/.exec(stdout)\n          if (match) {\n            currentVersion = match[1]\n          }\n        } catch {\n          // Still use fallback version\n        }\n      }\n      \n      s.message('Checking latest version...')\n      \n      // Check latest version on npm\n      const { stdout: latestVersion } = await execAsync('npm view @ghostspeak/cli version')\n      const latest = latestVersion.trim()\n      \n      s.stop(' Version check complete')\n      \n      console.log('')\n      console.log(chalk.gray('Current version:'), chalk.yellow(`v${currentVersion}`))\n      console.log(chalk.gray('Latest version:'), chalk.green(`v${latest}`))\n      console.log('')\n      \n      // Compare versions\n      if (currentVersion === latest) {\n        console.log(chalk.green(' You are already using the latest version!'))\n        outro('No update needed')\n        return\n      }\n      \n      // Check if newer version available\n      const isNewer = compareVersions(latest, currentVersion) > 0\n      \n      if (!isNewer) {\n        console.log(chalk.yellow('  You are using a newer version than the latest published version'))\n        outro('No update needed')\n        return\n      }\n      \n      // Show changelog if available\n      console.log(chalk.bold(' Update available!'))\n      console.log(chalk.gray(`Version ${latest} is now available`))\n      console.log('')\n      \n      // Confirm update\n      let shouldUpdate = options.force\n      if (!shouldUpdate) {\n        const confirmResult = await confirm({\n          message: 'Would you like to update now?',\n          initialValue: true\n        })\n        \n        if (isCancel(confirmResult)) {\n          cancel('Update cancelled')\n          return\n        }\n        \n        shouldUpdate = confirmResult\n      }\n      \n      if (!shouldUpdate) {\n        outro('Update cancelled')\n        return\n      }\n      \n      // Determine best update method\n      const updateSpinner = spinner()\n      updateSpinner.start('Determining best update method...')\n      \n      // Check if globally installed\n      let isGlobal = false\n      let updateCmd = ''\n      \n      try {\n        const { stdout } = await execAsync('npm list -g @ghostspeak/cli --depth=0')\n        if (stdout.includes('@ghostspeak/cli')) {\n          isGlobal = true\n          // Acknowledge isGlobal for future use\n          void isGlobal\n          updateCmd = 'npm install -g @ghostspeak/cli@latest'\n        }\n      } catch {\n        // Not globally installed via npm\n      }\n      \n      // If not found globally, check other methods\n      if (!updateCmd) {\n        // Check if running via npx\n        try {\n          const { stdout } = await execAsync('which ghostspeak')\n          if (stdout.includes('npx') || stdout.includes('.npm')) {\n            updateCmd = 'npm install -g @ghostspeak/cli@latest'\n            console.log(chalk.yellow('\\n  Detected npx installation. Installing globally for better performance...'))\n          } else {\n            // Default to global install if we can't determine\n            updateCmd = 'npm install -g @ghostspeak/cli@latest'\n          }\n        } catch {\n          // Default to global install\n          updateCmd = 'npm install -g @ghostspeak/cli@latest'\n        }\n      }\n      \n      updateSpinner.message('Updating GhostSpeak CLI...')\n      \n      try {\n        // Use install instead of update for more reliable results\n        // Use spawn to allow interactivity and showing output\n        const { spawn } = await import('child_process')\n        \n        await new Promise<void>((resolve, reject) => {\n          // split command into cmd and args\n          const parts = updateCmd.split(' ')\n          const cmd = parts[0]\n          const arghost = parts.slice(1)\n          \n          const child = spawn(cmd, args, {\n            stdio: 'inherit',\n            shell: true\n          })\n          \n          child.on('close', (code) => {\n            if (code === 0) resolve()\n            else reject(new Error(`Command failed with code ${code}`))\n          })\n          \n          child.on('error', (err) => reject(err))\n        })\n        \n        updateSpinner.stop(' Update successful!')\n        \n        console.log('')\n        console.log(chalk.green(' GhostSpeak CLI has been updated!'))\n        console.log(chalk.gray(`Updated from v${currentVersion} to v${latest}`))\n        console.log('')\n        \n        // Verify the update by checking version again\n        try {\n          const { stdout } = await execAsync('ghostspeak --version')\n          const newVersion = (/(\\d+\\.\\d+\\.\\d+)/.exec(stdout.trim()))?.[1]\n          if (newVersion && newVersion === latest) {\n            console.log(chalk.green(' Version verified:'), chalk.bold(`v${newVersion}`))\n          }\n        } catch {\n          // Version check failed, but update likely succeeded\n        }\n        \n        console.log('')\n        console.log(chalk.cyan('What\\'s new:'))\n        console.log(chalk.gray(' Bug fixes and improvements'))\n        console.log(chalk.gray(' Enhanced performance'))\n        console.log(chalk.gray(' Updated dependencies'))\n        console.log('')\n        console.log(chalk.yellow(' Tip: Run \"ghostspeak --help\" or \"ghost --help\" to see all available commands'))\n        \n        outro('Update completed successfully')\n      } catch (error) {\n        updateSpinner.stop(' Update failed')\n        \n        console.error('')\n        console.error(chalk.red('Failed to update CLI:'), error instanceof Error ? error.message : 'Unknown error')\n        console.error('')\n        console.error(chalk.yellow('Try updating manually with one of these commands:'))\n        console.error(chalk.gray('  npm install -g @ghostspeak/cli@latest'))\n        console.error(chalk.gray('  sudo npm install -g @ghostspeak/cli@latest') + chalk.dim(' (if permission denied)'))\n        console.error('')\n        console.error(chalk.dim('Or if you prefer using npx:'))\n        console.error(chalk.gray('  npx @ghostspeak/cli@latest'))\n        \n        outro('Update failed')\n        process.exit(1)\n      }\n      \n    } catch (error) {\n      console.error(chalk.red('Error:'), error instanceof Error ? error.message : 'Unknown error')\n      outro('Update check failed')\n      process.exit(1)\n    }\n  })\n\n// Simple version comparison\nfunction compareVersions(v1: string, v2: string): number {\n  const parts1 = v1.split('.').map(Number)\n  const parts2 = v2.split('.').map(Number)\n  \n  for (let i = 0; i < Math.max(parts1.length, parts2.length); i++) {\n    const part1 = parts1[i] ?? 0\n    const part2 = parts2[i] ?? 0\n    \n    if (part1 > part2) return 1\n    if (part1 < part2) return -1\n  }\n  \n  return 0\n}","import { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl, toSDKSigner } from '../../utils/client.js'\nimport { handleError } from '../../utils/error-handler.js'\nimport { createSafeSDKClient } from '../../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { CreateMultisigOptions } from './types.js'\n\nexport const multisigCommand = new Command('multisig')\n  .description('Manage multi-signature wallets')\n\nmultisigCommand\n  .command('create')\n  .description('Create a new multisig wallet')\n  .option('-n, --name <name>', 'Multisig name')\n  .option('-m, --members <members>', 'Comma-separated list of member addresses')\n  .option('-t, --threshold <threshold>', 'Number of signatures required')\n  .action(async (options: CreateMultisigOptions) => {\n    intro(chalk.blue('Create Multisig Wallet'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop('Connected to devnet')\n\n      // Get multisig name\n      let name = options.name\n      if (!name) {\n        const nameInput = await text({\n          message: 'Multisig wallet name:',\n          placeholder: 'Treasury Multisig',\n          validate: (value) => {\n            if (!value || value.trim().length === 0) {\n              return 'Multisig name is required'\n            }\n            if (value.length > 50) {\n              return 'Name must be less than 50 characters'\n            }\n          }\n        })\n\n        if (isCancel(nameInput)) {\n          cancel('Multisig creation cancelled')\n          return\n        }\n\n        name = nameInput.toString()\n      }\n\n      // Get member addresses\n      let members = options.members\n      if (!members) {\n        const membersInput = await text({\n          message: 'Member addresses (comma-separated):',\n          placeholder: 'addr1,addr2,addr3',\n          validate: (value) => {\n            if (!value || value.trim().length === 0) {\n              return 'At least one member address is required'\n            }\n            const addresses = value.split(',').map(a => a.trim())\n            if (addresses.length < 2) {\n              return 'Multisig requires at least 2 members'\n            }\n            if (addresses.length > 10) {\n              return 'Maximum 10 members allowed'\n            }\n            // Validate each address format\n            for (const addr of addresses) {\n              try {\n                address(addr)\n              } catch {\n                return `Invalid address format: ${addr}`\n              }\n            }\n          }\n        })\n\n        if (isCancel(membersInput)) {\n          cancel('Multisig creation cancelled')\n          return\n        }\n\n        members = membersInput.toString()\n      }\n\n      const memberAddresses = members.split(',').map(a => a.trim())\n\n      // Get threshold\n      let threshold = options.threshold\n      if (!threshold) {\n        const thresholdInput = await select({\n          message: 'Signature threshold:',\n          options: [\n            { value: '1', label: '1 signature', hint: 'Any member can execute' },\n            { value: '2', label: '2 signatures', hint: 'Requires 2 members' },\n            { value: Math.ceil(memberAddresses.length / 2).toString(), label: `${Math.ceil(memberAddresses.length / 2)} signatures`, hint: 'Simple majority' },\n            { value: memberAddresses.length.toString(), label: `${memberAddresses.length} signatures`, hint: 'Unanimous (all members)' }\n          ]\n        })\n\n        if (isCancel(thresholdInput)) {\n          cancel('Multisig creation cancelled')\n          return\n        }\n\n        threshold = thresholdInput.toString()\n      }\n\n      const thresholdNum = parseInt(threshold)\n\n      // Show multisig preview\n      note(\n        `${chalk.bold('Multisig Details:')}\\n` +\n        `${chalk.gray('Name:')} ${name}\\n` +\n        `${chalk.gray('Members:')} ${memberAddresses.length}\\n` +\n        `${chalk.gray('Threshold:')} ${thresholdNum} of ${memberAddresses.length}\\n` +\n        `${chalk.gray('Creator:')} ${wallet.address.slice(0, 8)}...${wallet.address.slice(-8)}\\n` +\n        `${chalk.gray('Security:')} ${thresholdNum === memberAddresses.length ? 'Maximum' : thresholdNum === 1 ? 'Minimal' : 'Balanced'}`,\n        'Multisig Preview'\n      )\n\n      const confirmCreate = await confirm({\n        message: 'Create this multisig wallet?'\n      })\n\n      if (isCancel(confirmCreate) || !confirmCreate) {\n        cancel('Multisig creation cancelled')\n        return\n      }\n\n      s.start('Creating multisig on blockchain...')\n\n      try {\n        const signature = await safeClient.governance.createMultisig(toSDKSigner(wallet), {\n          signers: memberAddresses.map(addr => address(addr)),\n          threshold: thresholdNum,\n          multisigId: BigInt(Date.now()),\n          name: `Multisig-${Date.now()}`,\n          multisigType: 'standard' as const\n        })\n\n        if (!signature) {\n          throw new Error('Failed to get transaction signature')\n        }\n\n        s.stop('Multisig created successfully!')\n\n        const explorerUrl = getExplorerUrl(signature, 'devnet')\n\n        outro(\n          `${chalk.green('Multisig Created Successfully!')}\\n\\n` +\n          `${chalk.bold('Multisig Details:')}\\n` +\n          `${chalk.gray('Name:')} ${name}\\n` +\n          `${chalk.gray('Members:')} ${memberAddresses.length}\\n` +\n          `${chalk.gray('Threshold:')} ${thresholdNum} signatures required\\n\\n` +\n          `${chalk.bold('Transaction:')}\\n` +\n          `${chalk.gray('Signature:')} ${signature}\\n` +\n          `${chalk.gray('Explorer:')} ${explorerUrl}\\n\\n` +\n          `${chalk.yellow('Next Steps:')}\\n` +\n          `- Share multisig address with members\\n` +\n          `- Create proposals: ${chalk.cyan('ghost governance proposal create')}\\n` +\n          `- Manage transactions through multisig approval process`\n        )\n\n      } catch (error) {\n        s.stop('Failed to create multisig')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to create multisig: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\nmultisigCommand\n  .command('list')\n  .description('List your multisig wallets')\n  .action(async () => {\n    intro(chalk.blue('Your Multisig Wallets'))\n\n    try {\n      const s = spinner()\n      s.start('Loading multisig wallets...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      const multisigs = await safeClient.governance.listMultisigs({ creator: wallet.address })\n\n      s.stop(`Found ${multisigs.length} multisig wallets`)\n\n      if (multisigs.length === 0) {\n        outro(\n          `${chalk.yellow('No multisig wallets found')}\\n\\n` +\n          `${chalk.gray('- Create a multisig:')} ${chalk.cyan('ghost governance multisig create')}\\n` +\n          `${chalk.gray('Get invited to existing multisigs by other members')}`\n        )\n        return\n      }\n\n      // Display multisigs\n      log.info(`\\n${chalk.bold('Your Multisig Wallets:')}\\n`)\n\n      multisigs.forEach((multisig, index) => {\n        const isCreator = multisig.creator === wallet.address\n        const role = isCreator ? chalk.green('CREATOR') : chalk.blue('MEMBER')\n\n        log.info(\n          `${chalk.bold(`${index + 1}. ${multisig.name}`)}\\n` +\n          `   ${chalk.gray('Address:')} ${multisig.address.slice(0, 8)}...${multisig.address.slice(-8)}\\n` +\n          `   ${chalk.gray('Members:')} ${multisig.members.length}\\n` +\n          `   ${chalk.gray('Threshold:')} ${multisig.threshold} of ${multisig.members.length}\\n` +\n          `   ${chalk.gray('Your Role:')} ${role}\\n` +\n          `   ${chalk.gray('Pending Proposals:')} ${multisig.pendingProposals ?? 0}\\n`\n        )\n      })\n\n      outro(\n        `${chalk.yellow('Commands:')}\\n` +\n        `${chalk.cyan('ghost governance proposal create')} - Create proposal\\n` +\n        `${chalk.cyan('ghost governance proposal list')} - View proposals\\n` +\n        `${chalk.cyan('ghost governance vote')} - Vote on proposals`\n      )\n\n    } catch (error) {\n      log.error(`Failed to load multisigs: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n","/**\n * Enhanced error handling for better UX\n * Provides human-readable messages and recovery suggestions\n */\n\nimport chalk from 'chalk'\nimport { log } from '@clack/prompts'\n\nexport interface ErrorContext {\n  operation?: string\n  details?: Record<string, unknown>\n  canRetry?: boolean\n  suggestion?: string\n}\n\nexport class ErrorHandler {\n  private static readonly ERROR_MAPPINGS = new Map<RegExp, (error: string) => ErrorInfo>([\n    [\n      /insufficient funds|insufficient lamports/i,\n      () => ({\n        message: 'Insufficient SOL balance',\n        suggestion: 'You need more SOL to complete this transaction.',\n        actions: [\n          'Run: ghost faucet --save (for devnet)',\n          'Check balance: ghost wallet balance',\n          'Transfer SOL from another wallet'\n        ],\n        canRetry: false\n      })\n    ],\n    [\n      /blockhash not found|blockhash expired/i,\n      (error) => ({\n        message: 'Transaction expired',\n        suggestion: 'The transaction took too long and expired.',\n        actions: [\n          'Try the operation again',\n          'Check your network connection',\n          'Use a faster RPC endpoint'\n        ],\n        canRetry: true\n      })\n    ],\n    [\n      /account.*does not exist|account.*not found/i,\n      () => ({\n        message: 'Account not found',\n        suggestion: 'The account you\\'re trying to interact with doesn\\'t exist.',\n        actions: [\n          'Verify the address is correct',\n          'The account may need to be initialized first',\n          'Check if you\\'re on the correct network (devnet/mainnet)'\n        ],\n        canRetry: false\n      })\n    ],\n    [\n      /already in use|already exists/i,\n      (error) => ({\n        message: 'Resource already exists',\n        suggestion: 'You\\'re trying to create something that already exists.',\n        actions: [\n          'Use a different ID or name',\n          'Check existing resources with list commands',\n          'Delete the existing resource if needed'\n        ],\n        canRetry: false\n      })\n    ],\n    [\n      /simulation failed/i,\n      (error) => ({\n        message: 'Transaction simulation failed',\n        suggestion: 'The transaction would fail if submitted to the blockchain.',\n        actions: [\n          'Check all input parameters are correct',\n          'Ensure you have the necessary permissions',\n          'Verify account states are as expected'\n        ],\n        canRetry: true\n      })\n    ],\n    [\n      /rate limit/i,\n      (error) => ({\n        message: 'Rate limit exceeded',\n        suggestion: 'You\\'ve made too many requests too quickly.',\n        actions: [\n          'Wait 30-60 seconds before retrying',\n          'Use a custom RPC endpoint for higher limits',\n          'Batch operations when possible'\n        ],\n        canRetry: true,\n        retryDelay: 30000\n      })\n    ],\n    [\n      /network|connection|timeout/i,\n      (error) => ({\n        message: 'Network connection issue',\n        suggestion: 'Unable to connect to the Solana network.',\n        actions: [\n          'Check your internet connection',\n          'Try a different RPC endpoint',\n          'Check if the RPC service is operational'\n        ],\n        canRetry: true,\n        retryDelay: 5000\n      })\n    ],\n    [\n      /unauthorized|permission denied|access denied/i,\n      (error) => ({\n        message: 'Permission denied',\n        suggestion: 'You don\\'t have permission to perform this action.',\n        actions: [\n          'Ensure you\\'re using the correct wallet',\n          'Check if you have the required role',\n          'Verify ownership of the resource'\n        ],\n        canRetry: false\n      })\n    ],\n    [\n      /invalid.*address|malformed.*address/i,\n      (error) => ({\n        message: 'Invalid address format',\n        suggestion: 'The provided address is not a valid Solana address.',\n        actions: [\n          'Check for typos in the address',\n          'Ensure it\\'s a base58 encoded string',\n          'Verify the address length (44 characters)'\n        ],\n        canRetry: false\n      })\n    ],\n    [\n      /signature.*failed|signing.*failed/i,\n      (error) => ({\n        message: 'Transaction signing failed',\n        suggestion: 'Unable to sign the transaction with your wallet.',\n        actions: [\n          'Check your wallet is properly configured',\n          'Ensure the wallet file exists and is readable',\n          'Verify the wallet has the correct permissions'\n        ],\n        canRetry: true\n      })\n    ]\n  ])\n\n  /**\n   * Handle an error with user-friendly output\n   */\n  static handle(error: Error | unknown, context?: ErrorContext): void {\n     \n    const errorMessage = error instanceof Error ? error.message : String(error)\n    const errorInfo = this.parseError(errorMessage)\n    \n    // Display error header\n    console.log('')\n    console.log(chalk.red.bold(' Error: ') + chalk.red(errorInfo.message))\n    \n    // Display context if provided\n    if (context?.operation) {\n      console.log(chalk.gray(`Operation: ${context.operation}`))\n    }\n    \n    // Display suggestion\n    if (errorInfo.suggestion || context?.suggestion) {\n      console.log('')\n      console.log(chalk.yellow(' ') + chalk.yellow.bold('What happened:'))\n      console.log(chalk.gray(`   ${errorInfo.suggestion || context?.suggestion}`))\n    }\n    \n    // Display actions\n    if (errorInfo.actions.length > 0) {\n      console.log('')\n      console.log(chalk.cyan(' ') + chalk.cyan.bold('How to fix:'))\n      errorInfo.actions.forEach((action, index) => {\n        console.log(chalk.gray(`   ${index + 1}. ${action}`))\n      })\n    }\n    \n    // Display retry information\n    if (errorInfo.canRetry || context?.canRetry) {\n      console.log('')\n      if (errorInfo.retryDelay) {\n        const seconds = Math.round(errorInfo.retryDelay / 1000)\n        console.log(chalk.gray(`  You can retry in ${seconds} seconds`))\n      } else {\n        console.log(chalk.gray(' You can retry this operation'))\n      }\n    }\n    \n    // Display technical details for debugging\n    if (process.env.DEBUG || process.env.VERBOSE) {\n      console.log('')\n      console.log(chalk.gray(' Technical details:'))\n      console.log(chalk.gray(`   ${errorMessage}`))\n      if (error instanceof Error && error.stack) {\n        console.log(chalk.gray('   Stack trace:'))\n        console.log(chalk.gray(error.stack.split('\\n').map(line => '   ' + line).join('\\n')))\n      }\n    }\n    \n    console.log('')\n  }\n  \n  /**\n   * Parse error message and return user-friendly information\n   */\n  private static parseError(errorMessage: string): ErrorInfo {\n    // Check against known error patterns\n    for (const [pattern, handler] of this.ERROR_MAPPINGS) {\n      if (pattern.test(errorMessage)) {\n        return handler(errorMessage)\n      }\n    }\n    \n    // Default error info\n    return {\n      message: this.cleanErrorMessage(errorMessage),\n      suggestion: 'An unexpected error occurred.',\n      actions: [\n        'Check your input parameters',\n        'Verify your network connection',\n        'Try again in a few moments',\n        'Run with DEBUG=1 for more details'\n      ],\n      canRetry: true\n    }\n  }\n  \n  /**\n   * Clean up technical error messages\n   */\n  private static cleanErrorMessage(message: string): string {\n    // Remove technical prefixes\n    let cleaned = message\n      .replace(/^Error:\\s*/i, '')\n      .replace(/^Failed to\\s*/i, '')\n      .replace(/^Unable to\\s*/i, '')\n      .replace(/^Exception:\\s*/i, '')\n    \n    // Remove instruction indices and hashes\n    cleaned = cleaned.replace(/instruction \\d+:/gi, '')\n    cleaned = cleaned.replace(/0x[a-fA-F0-9]+/g, '')\n    \n    // Remove program IDs\n    cleaned = cleaned.replace(/[A-HJ-NP-Z1-9]{44}/g, '<address>')\n    \n    // Capitalize first letter\n    cleaned = cleaned.charAt(0).toUpperCase() + cleaned.slice(1)\n    \n    return cleaned\n  }\n  \n  /**\n   * Create a retry handler with exponential backoff\n   */\n  static async withRetry<T>(\n    operation: () => Promise<T>,\n    options: {\n      maxRetries?: number\n      initialDelay?: number\n      maxDelay?: number\n      onRetry?: (attempt: number, error: Error) => void\n    } = {}\n  ): Promise<T> {\n    const {\n      maxRetries = 3,\n      initialDelay = 1000,\n      maxDelay = 30000,\n      onRetry\n    } = options\n    \n    let lastError: Error\n    \n    for (let attempt = 1; attempt <= maxRetries; attempt++) {\n      try {\n        return await operation()\n      } catch (error) {\n         \n        lastError = error instanceof Error ? error : new Error(String(error))\n        \n        if (attempt === maxRetries) {\n          throw lastError\n        }\n        \n        // Calculate delay with exponential backoff\n        const delay = Math.min(initialDelay * Math.pow(2, attempt - 1), maxDelay)\n        \n        if (onRetry) {\n          onRetry(attempt, lastError)\n        } else {\n          log.warn(`Attempt ${attempt} failed, retrying in ${delay}ms...`)\n        }\n        \n        await new Promise(resolve => setTimeout(resolve, delay))\n      }\n    }\n    \n    throw lastError!\n  }\n}\n\ninterface ErrorInfo {\n  message: string\n  suggestion: string\n  actions: string[]\n  canRetry: boolean\n  retryDelay?: number\n}\n\n/**\n * Helper function to handle errors with context\n */\nexport function handleError(error: Error | unknown, context?: ErrorContext): void {\n  ErrorHandler.handle(error, context)\n}\n\n/**\n * Helper function for operations that might need retry\n */\nexport async function withRetry<T>(\n  operation: () => Promise<T>,\n  options?: Parameters<typeof ErrorHandler.withRetry>[1]\n): Promise<T> {\n  return ErrorHandler.withRetry(operation, options)\n}\n\n/**\n * Format error for display without handling\n */\nexport function formatError(error: Error | unknown): string {\n   \n  const errorMessage = error instanceof Error ? error.message : String(error)\n  return ErrorHandler['cleanErrorMessage'](errorMessage)\n}","import { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl, toSDKSigner } from '../../utils/client.js'\nimport { handleError } from '../../utils/error-handler.js'\nimport { createSafeSDKClient } from '../../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { CreateProposalOptions } from './types.js'\n\nexport const proposalCommand = new Command('proposal')\n  .description('Manage governance proposals')\n\nproposalCommand\n  .command('create')\n  .description('Create a new governance proposal')\n  .option('-t, --title <title>', 'Proposal title')\n  .option('-d, --description <description>', 'Proposal description')\n  .option('--type <type>', 'Proposal type (config, upgrade, transfer, custom)')\n  .action(async (options: CreateProposalOptions) => {\n    intro(chalk.yellow('Create Governance Proposal'))\n\n    try {\n      const s = spinner()\n      s.start('Loading your multisigs...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      // Get user's multisigs\n      const multisigs = await safeClient.governance.listMultisigs({ creator: wallet.address })\n\n      s.stop(`Found ${multisigs.length} multisig wallets`)\n\n      if (multisigs.length === 0) {\n        outro('No multisig wallets found. Create one first with: ghost governance multisig create')\n        return\n      }\n\n      // Select multisig\n      const multisigChoice = await select({\n        message: 'Select multisig for proposal:',\n        options: multisigs.map(ms => ({\n          value: ms.address,\n          label: ms.name,\n          hint: `${ms.threshold} of ${ms.members.length} signatures required`\n        }))\n      })\n\n      if (isCancel(multisigChoice)) {\n        cancel('Proposal creation cancelled')\n        return\n      }\n\n      const selectedMultisig = multisigs.find(ms => ms.address === multisigChoice.toString())!\n\n      // Get proposal title\n      let title = options.title\n      if (!title) {\n        const titleInput = await text({\n          message: 'Proposal title:',\n          placeholder: 'Increase transaction fee threshold',\n          validate: (value) => {\n            if (!value || value.trim().length === 0) {\n              return 'Proposal title is required'\n            }\n            if (value.length > 100) {\n              return 'Title must be less than 100 characters'\n            }\n          }\n        })\n\n        if (isCancel(titleInput)) {\n          cancel('Proposal creation cancelled')\n          return\n        }\n\n        title = titleInput.toString()\n      }\n\n      // Get proposal type\n      let type = options.type\n      if (!type) {\n        const typeChoice = await select({\n          message: 'Proposal type:',\n          options: [\n            { value: 'config', label: 'Configuration Change', hint: 'Modify protocol parameters' },\n            { value: 'upgrade', label: 'Protocol Upgrade', hint: 'Upgrade smart contracts' },\n            { value: 'transfer', label: 'Treasury Transfer', hint: 'Transfer funds from treasury' },\n            { value: 'custom', label: 'Custom Action', hint: 'Custom governance action' }\n          ]\n        })\n\n        if (isCancel(typeChoice)) {\n          cancel('Proposal creation cancelled')\n          return\n        }\n\n        type = typeChoice.toString()\n      }\n\n      // Get proposal description\n      let description = options.description\n      if (!description) {\n        const descriptionInput = await text({\n          message: 'Proposal description:',\n          placeholder: 'Detailed explanation of what this proposal does and why...',\n          validate: (value) => {\n            if (!value || value.trim().length < 20) {\n              return 'Please provide at least 20 characters describing the proposal'\n            }\n            if (value.length > 1000) {\n              return 'Description must be less than 1000 characters'\n            }\n          }\n        })\n\n        if (isCancel(descriptionInput)) {\n          cancel('Proposal creation cancelled')\n          return\n        }\n\n        description = descriptionInput.toString()\n      }\n\n      // Get voting duration\n      const duration = await select({\n        message: 'Voting period:',\n        options: [\n          { value: '1', label: '1 day', hint: 'Quick decision' },\n          { value: '3', label: '3 days', hint: 'Standard period' },\n          { value: '7', label: '1 week', hint: 'Extended discussion' },\n          { value: '14', label: '2 weeks', hint: 'Complex proposals' }\n        ]\n      })\n\n      if (isCancel(duration)) {\n        cancel('Proposal creation cancelled')\n        return\n      }\n\n      // Show proposal preview\n      note(\n        `${chalk.bold('Proposal Details:')}\\n` +\n        `${chalk.gray('Multisig:')} ${selectedMultisig.name}\\n` +\n        `${chalk.gray('Title:')} ${title}\\n` +\n        `${chalk.gray('Type:')} ${type.toUpperCase()}\\n` +\n        `${chalk.gray('Description:')} ${description.slice(0, 100)}${description.length > 100 ? '...' : ''}\\n` +\n        `${chalk.gray('Voting Period:')} ${duration} days\\n` +\n        `${chalk.gray('Required Votes:')} ${selectedMultisig.threshold} of ${selectedMultisig.members.length}`,\n        'Proposal Preview'\n      )\n\n      const confirmCreate = await confirm({\n        message: 'Create this proposal?'\n      })\n\n      if (isCancel(confirmCreate) || !confirmCreate) {\n        cancel('Proposal creation cancelled')\n        return\n      }\n\n      s.start('Creating proposal on blockchain...')\n\n      try {\n        const signature = await safeClient.governance.createProposal(toSDKSigner(wallet), {\n          multisig: address(selectedMultisig.address),\n          title,\n          description,\n          proposalType: type,\n          votingDuration: parseInt(duration as string) * 24 * 3600, // Convert days to seconds\n          proposalId: BigInt(Date.now())\n        })\n\n        if (!signature) {\n          throw new Error('Failed to get transaction signature')\n        }\n\n        s.stop('Proposal created successfully!')\n\n        const explorerUrl = getExplorerUrl(signature, 'devnet')\n\n        outro(\n          `${chalk.green('Proposal Created Successfully!')}\\n\\n` +\n          `${chalk.bold('Proposal Details:')}\\n` +\n          `${chalk.gray('Title:')} ${title}\\n` +\n          `${chalk.gray('Type:')} ${type.toUpperCase()}\\n` +\n          `${chalk.gray('Multisig:')} ${selectedMultisig.name}\\n` +\n          `${chalk.gray('Voting Period:')} ${duration} days\\n\\n` +\n          `${chalk.bold('Transaction:')}\\n` +\n          `${chalk.gray('Signature:')} ${signature}\\n` +\n          `${chalk.gray('Explorer:')} ${explorerUrl}\\n\\n` +\n          `${chalk.yellow('Next Steps:')}\\n` +\n          `- Notify multisig members about the proposal\\n` +\n          `- Members can vote: ${chalk.cyan('ghost governance vote')}\\n` +\n          `- Monitor voting progress: ${chalk.cyan('ghost governance proposal list')}`\n        )\n\n      } catch (error) {\n        s.stop('Failed to create proposal')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to create proposal: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\nproposalCommand\n  .command('list')\n  .description('List governance proposals')\n  .option('--active', 'Show only active proposals')\n  .action(async (_options: { active?: boolean }) => {\n    intro(chalk.yellow('Governance Proposals'))\n\n    try {\n      const s = spinner()\n      s.start('Loading proposals...')\n\n      const { client, wallet: _wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      // Get all proposals (SDK doesn't support filtering by participant)\n      const proposals = await safeClient.governance.listProposals()\n\n      s.stop(`Found ${proposals.length} proposals`)\n\n      if (proposals.length === 0) {\n        outro(\n          `${chalk.yellow('No proposals found')}\\n\\n` +\n          `${chalk.gray('- Create a proposal:')} ${chalk.cyan('ghost governance proposal create')}\\n` +\n          `${chalk.gray('- Join a multisig to participate in governance')}`\n        )\n        return\n      }\n\n      // Display proposals\n      log.info(`\\n${chalk.bold('Governance Proposals:')}\\n`)\n\n      proposals.forEach((proposal, index) => {\n        const status = proposal.status.toLowerCase()\n        const statusColor = status === 'active' ? chalk.yellow :\n                           status === 'passed' ? chalk.green :\n                           status === 'failed' ? chalk.red : chalk.gray\n\n        const votesFor = proposal.votesFor ?? 0\n        const votesAgainst = proposal.votesAgainst ?? 0\n        const totalVotes = votesFor + votesAgainst\n        const threshold = proposal.threshold\n\n        log.info(\n          `${chalk.bold(`${index + 1}. ${proposal.title}`)}\\n` +\n          `   ${chalk.gray('Type:')} ${proposal.type.toUpperCase()}\\n` +\n          `   ${chalk.gray('Status:')} ${statusColor(status.toUpperCase())}\\n` +\n          `   ${chalk.gray('Votes:')} ${votesFor} yes, ${votesAgainst} no (${totalVotes}/${threshold} required)\\n` +\n          `   ${chalk.gray('Creator:')} ${proposal.creator.slice(0, 8)}...${proposal.creator.slice(-8)}\\n` +\n          `   ${chalk.gray('Deadline:')} ${proposal.deadline ? new Date(Number(proposal.deadline) * 1000).toLocaleDateString() : 'N/A'}\\n`\n        )\n      })\n\n      outro(\n        `${chalk.yellow('Commands:')}\\n` +\n        `${chalk.cyan('ghost governance vote')} - Vote on active proposals\\n` +\n        `${chalk.cyan('ghost governance proposal create')} - Create new proposal`\n      )\n\n    } catch (error) {\n      log.error(`Failed to load proposals: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n","import { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl, toSDKSigner } from '../../utils/client.js'\nimport { handleError } from '../../utils/error-handler.js'\nimport { createSafeSDKClient } from '../../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { VoteOptions } from './types.js'\n\nexport const voteCommand = new Command('vote')\n  .description('Vote on governance proposals')\n  .option('-p, --proposal <address>', 'Proposal address')\n  .option('-c, --choice <choice>', 'Vote choice (yes, no, abstain)')\n  .action(async (options: VoteOptions) => {\n    intro(chalk.yellow('Vote on Proposal'))\n\n    try {\n      const s = spinner()\n      s.start('Loading active proposals...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      // Get all proposals (SDK doesn't support filtering by participant)\n      const proposals = await safeClient.governance.listProposals()\n\n      s.stop(`Found ${proposals.length} active proposals`)\n\n      if (proposals.length === 0) {\n        outro('No active proposals found to vote on')\n        return\n      }\n\n      // Select proposal\n      let selectedProposal = options.proposal\n      if (!selectedProposal) {\n        const proposalChoice = await select({\n          message: 'Select proposal to vote on:',\n          options: proposals.map(proposal => ({\n            value: proposal.address,\n            label: proposal.title,\n            hint: `${proposal.type} - ${proposal.votesFor ?? 0} yes, ${proposal.votesAgainst ?? 0} no`\n          }))\n        })\n\n        if (isCancel(proposalChoice)) {\n          cancel('Voting cancelled')\n          return\n        }\n\n        selectedProposal = proposalChoice.toString()\n      }\n\n      const proposal = proposals.find(p => p.address === selectedProposal)\n      if (!proposal) {\n        log.error('Proposal not found or not active')\n        return\n      }\n\n      // Get vote choice\n      let choice = options.choice\n      if (!choice) {\n        const voteChoice = await select({\n          message: 'How do you vote?',\n          options: [\n            { value: 'yes', label: 'Yes (Approve)', hint: 'Vote in favor of the proposal' },\n            { value: 'no', label: 'No (Reject)', hint: 'Vote against the proposal' },\n            { value: 'abstain', label: 'Abstain', hint: 'Do not vote either way' }\n          ]\n        })\n\n        if (isCancel(voteChoice)) {\n          cancel('Voting cancelled')\n          return\n        }\n\n        choice = voteChoice as 'yes' | 'no' | 'abstain'\n      }\n\n      // Show voting preview\n      note(\n        `${chalk.bold('Vote Details:')}\\n` +\n        `${chalk.gray('Proposal:')} ${proposal.title}\\n` +\n        `${chalk.gray('Type:')} ${proposal.type.toUpperCase()}\\n` +\n        `${chalk.gray('Your Vote:')} ${choice.toUpperCase()}\\n` +\n        `${chalk.gray('Current Votes:')} ${proposal.votesFor ?? 0} yes, ${proposal.votesAgainst ?? 0} no\\n` +\n        `${chalk.gray('Required:')} ${proposal.threshold} votes to pass`,\n        'Vote Confirmation'\n      )\n\n      const confirmVote = await confirm({\n        message: `Cast your vote as \"${choice.toUpperCase()}\"?`\n      })\n\n      if (isCancel(confirmVote) || !confirmVote) {\n        cancel('Voting cancelled')\n        return\n      }\n\n      s.start('Casting vote on blockchain...')\n\n      try {\n        const signature = await safeClient.governance.vote(toSDKSigner(wallet), {\n          proposal: address(selectedProposal!),\n          vote: choice as 'yes' | 'no' | 'abstain'\n        })\n\n        if (!signature) {\n          throw new Error('Failed to get transaction signature')\n        }\n\n        s.stop('Vote cast successfully!')\n\n        const explorerUrl = getExplorerUrl(signature, 'devnet')\n\n        outro(\n          `${chalk.green('Vote Cast Successfully!')}\\n\\n` +\n          `${chalk.bold('Vote Details:')}\\n` +\n          `${chalk.gray('Proposal:')} ${proposal.title}\\n` +\n          `${chalk.gray('Your Vote:')} ${choice.toUpperCase()}\\n` +\n          `${chalk.gray('Status:')} Recorded on blockchain\\n\\n` +\n          `${chalk.bold('Transaction:')}\\n` +\n          `${chalk.gray('Signature:')} ${signature}\\n` +\n          `${chalk.gray('Explorer:')} ${explorerUrl}\\n\\n` +\n          `${chalk.yellow('Your vote is now part of the governance process!')}`\n        )\n\n      } catch (error) {\n        s.stop('Failed to cast vote')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to vote: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n","import { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl, toSDKSigner } from '../../utils/client.js'\nimport { handleError } from '../../utils/error-handler.js'\nimport { createSafeSDKClient } from '../../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { RBACOptions } from './types.js'\n\nexport const rbacCommand = new Command('rbac')\n  .description('Manage role-based access control')\n\nrbacCommand\n  .command('grant')\n  .description('Grant role to user')\n  .option('-u, --user <address>', 'User address')\n  .option('-r, --role <role>', 'Role to grant')\n  .action(async (options: RBACOptions) => {\n    intro(chalk.green('Grant Role'))\n\n    try {\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      // Get user address\n      let userAddress = options.user\n      if (!userAddress) {\n        const userInput = await text({\n          message: 'User address to grant role to:',\n          validate: (value) => {\n            if (!value) return 'User address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(userInput)) {\n          cancel('Role grant cancelled')\n          return\n        }\n\n        userAddress = userInput.toString().trim()\n      }\n\n      // Get role\n      let role = options.role\n      if (!role) {\n        const roleChoice = await select({\n          message: 'Select role to grant:',\n          options: [\n            { value: 'admin', label: 'Admin', hint: 'Full system access' },\n            { value: 'moderator', label: 'Moderator', hint: 'Moderation privileges' },\n            { value: 'arbitrator', label: 'Arbitrator', hint: 'Dispute resolution' },\n            { value: 'operator', label: 'Operator', hint: 'System operations' }\n          ]\n        })\n\n        if (isCancel(roleChoice)) {\n          cancel('Role grant cancelled')\n          return\n        }\n\n        role = roleChoice.toString()\n      }\n\n      const confirmGrant = await confirm({\n        message: `Grant ${role} role to ${userAddress}?`\n      })\n\n      if (isCancel(confirmGrant) || !confirmGrant) {\n        cancel('Role grant cancelled')\n        return\n      }\n\n      const s = spinner()\n      s.start('Granting role on blockchain...')\n\n      try {\n        const signature = await safeClient.governance.grantRole({\n          user: address(userAddress),\n          role,\n          granter: wallet.address,\n          signer: toSDKSigner(wallet)\n        })\n\n        if (!signature) {\n          throw new Error('Failed to get transaction signature')\n        }\n\n        s.stop('Role granted successfully!')\n\n        const explorerUrl = getExplorerUrl(signature, 'devnet')\n\n        outro(\n          `${chalk.green('Role Granted!')}\\n\\n` +\n          `${chalk.gray('User:')} ${userAddress}\\n` +\n          `${chalk.gray('Role:')} ${role.toUpperCase()}\\n` +\n          `${chalk.gray('Explorer:')} ${explorerUrl}`\n        )\n\n      } catch (error) {\n        s.stop('Failed to grant role')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to grant role: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\nrbacCommand\n  .command('revoke')\n  .description('Revoke role from user')\n  .option('-u, --user <address>', 'User address')\n  .option('-r, --role <role>', 'Role to revoke')\n  .action(async (options: RBACOptions) => {\n    intro(chalk.red('Revoke Role'))\n\n    try {\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      // Get user address\n      let userAddress = options.user\n      if (!userAddress) {\n        const userInput = await text({\n          message: 'User address to revoke role from:',\n          validate: (value) => {\n            if (!value) return 'User address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(userInput)) {\n          cancel('Role revoke cancelled')\n          return\n        }\n\n        userAddress = userInput.toString().trim()\n      }\n\n      // Get role\n      let role = options.role\n      if (!role) {\n        const roleChoice = await select({\n          message: 'Select role to revoke:',\n          options: [\n            { value: 'admin', label: 'Admin', hint: 'Remove admin access' },\n            { value: 'moderator', label: 'Moderator', hint: 'Remove moderation privileges' },\n            { value: 'arbitrator', label: 'Arbitrator', hint: 'Remove arbitration rights' },\n            { value: 'operator', label: 'Operator', hint: 'Remove operation access' }\n          ]\n        })\n\n        if (isCancel(roleChoice)) {\n          cancel('Role revoke cancelled')\n          return\n        }\n\n        role = roleChoice.toString()\n      }\n\n      const confirmRevoke = await confirm({\n        message: `Revoke ${role} role from ${userAddress}?`\n      })\n\n      if (isCancel(confirmRevoke) || !confirmRevoke) {\n        cancel('Role revoke cancelled')\n        return\n      }\n\n      const s = spinner()\n      s.start('Revoking role on blockchain...')\n\n      try {\n        const signature = await safeClient.governance.revokeRole({\n          user: address(userAddress),\n          role,\n          revoker: wallet.address,\n          signer: toSDKSigner(wallet)\n        })\n\n        if (!signature) {\n          throw new Error('Failed to get transaction signature')\n        }\n\n        s.stop('Role revoked successfully!')\n\n        const explorerUrl = getExplorerUrl(signature, 'devnet')\n\n        outro(\n          `${chalk.red('Role Revoked!')}\\n\\n` +\n          `${chalk.gray('User:')} ${userAddress}\\n` +\n          `${chalk.gray('Role:')} ${role.toUpperCase()}\\n` +\n          `${chalk.gray('Explorer:')} ${explorerUrl}`\n        )\n\n      } catch (error) {\n        s.stop('Failed to revoke role')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to revoke role: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n","import { Command } from 'commander'\nimport chalk from 'chalk'\nimport { intro, outro, log } from '@clack/prompts'\nimport { multisigCommand } from './multisig.js'\nimport { proposalCommand } from './proposal.js'\nimport { voteCommand } from './vote.js'\nimport { rbacCommand } from './rbac.js'\n\nexport const governanceCommand = new Command('governance')\n  .description('Participate in protocol governance')\n\n// Add subcommands\ngovernanceCommand.addCommand(multisigCommand)\ngovernanceCommand.addCommand(proposalCommand)\ngovernanceCommand.addCommand(voteCommand)\ngovernanceCommand.addCommand(rbacCommand)\n\n// Default action - show available commands\ngovernanceCommand\n  .action(async () => {\n    intro(chalk.blue('GhostSpeak Governance'))\n\n    log.info(`\\n${chalk.bold('Available Commands:')}\\n`)\n    log.info(`${chalk.cyan('ghost governance multisig')} - Manage multisig wallets`)\n    log.info(`${chalk.cyan('ghost governance proposal')} - Create and manage proposals`)\n    log.info(`${chalk.cyan('ghost governance vote')} - Vote on active proposals`)\n    log.info(`${chalk.cyan('ghost governance rbac')} - Manage roles and permissions`)\n\n    outro('Use --help with any command for more details')\n  })\n\n// Re-export types for external use\nexport * from './types.js'\n","/**\n * Setup Helpers - Shared utilities for GhostSpeak CLI setup flows\n */\n\nimport chalk from 'chalk'\nimport { spinner } from '@clack/prompts'\nimport { address, createKeyPairSignerFromBytes } from '@solana/kit'\nimport { existsSync, readFileSync } from 'fs'\nimport { homedir } from 'os'\nimport { FaucetService } from '../services/faucet-service.js'\nimport { WalletService } from '../services/wallet-service.js'\nimport { createCustomClient } from '../core/solana-client.js'\nimport type { KeyPairSigner } from '@solana/kit'\ninterface MinimalClient {\n  config: { programId: string }\n  governance: {\n    createMultisig: (...args: unknown[]) => Promise<string>\n  }\n}\n\n// Node.js globals\ndeclare const fetch: typeof globalThis.fetch\n\nexport interface SetupProgress {\n  step: number\n  totalSteps: number\n  currentTask: string\n}\n\nexport interface WalletInfo {\n  signer: KeyPairSigner\n  address: string\n  balance: number\n  isNew: boolean\n}\n\nexport interface SetupResult {\n  success: boolean\n  wallet: WalletInfo\n  multisigAddress?: string\n  network: 'devnet' | 'testnet'\n  configPath: string\n  agentCreated: boolean\n  errors: string[]\n}\n\n/**\n * Display setup progress\n */\nexport function showProgress(progress: SetupProgress): void {\n  const percentage = Math.round((progress.step / progress.totalSteps) * 100)\n  const filled = Math.round(percentage / 5)\n  const empty = 20 - filled\n  \n  console.log('\\n' + chalk.cyan('Setup Progress:'))\n  console.log(chalk.gray('[') + chalk.green(''.repeat(filled)) + chalk.gray(''.repeat(empty)) + chalk.gray(']') + ` ${percentage}%`)\n  console.log(chalk.gray(`Step ${progress.step}/${progress.totalSteps}: `) + chalk.white(progress.currentTask) + '\\n')\n}\n\n/**\n * Generate a new wallet keypair\n */\nexport async function generateNewWallet(name?: string): Promise<WalletInfo & { mnemonic: string }> {\n  const walletService = new WalletService()\n  \n  // Determine wallet name\n  let walletName = name ?? 'ghost1'\n  const registry = walletService.listWallets()\n  const existingNames = new Set(registry.map(w => w.name))\n  \n  if (existingNames.has(walletName)) {\n    // If name is taken (or default ghost1 is taken), find next available ghostN\n    let i = 1\n    while (existingNames.has(`ghost${i}`)) {\n      i++\n    }\n    walletName = `ghost${i}`\n  }\n  \n  const { wallet, mnemonic } = await walletService.createWallet(walletName, 'devnet')\n  \n  const signer = await walletService.getSigner(walletName)\n  if (!signer) {\n    throw new Error('Failed to create wallet')\n  }\n  \n  return {\n    signer,\n    address: wallet.metadata.address,\n    balance: 0,\n    isNew: true,\n    mnemonic\n  }\n}\n\n/**\n * Load existing wallet from file\n */\nexport async function loadExistingWallet(walletPath: string): Promise<WalletInfo> {\n  const expandedPath = walletPath.replace('~', homedir())\n  \n  if (!existsSync(expandedPath)) {\n    throw new Error(`Wallet file not found at: ${expandedPath}`)\n  }\n  \n  const walletData = readFileSync(expandedPath, 'utf-8')\n  const keyArray = JSON.parse(walletData) as number[]\n  const privateKey = new Uint8Array(keyArray)\n  \n  const signer = await createKeyPairSignerFromBytes(privateKey)\n  \n  return {\n    signer,\n    address: signer.address,\n    balance: 0,\n    isNew: false\n  }\n}\n\n/**\n * Check wallet balance\n */\nexport async function checkWalletBalance(\n  walletAddress: string,\n  network: 'devnet' | 'testnet'\n): Promise<number> {\n  try {\n    const rpcUrl = network === 'devnet'\n      ? 'https://api.devnet.solana.com'\n      : 'https://api.testnet.solana.com'\n\n    // Use Gill's createCustomClient instead of createSolanaRpc\n    const client = createCustomClient(rpcUrl)\n    const { value: balance } = await client.rpc.getBalance(address(walletAddress)).send()\n    return Number(balance) / 1_000_000_000 // Convert lamports to SOL\n  } catch (error) {\n    console.warn('Failed to check balance:', error)\n    return 0\n  }\n}\n\n/**\n * Fund wallet using multiple faucet sources\n */\nexport async function fundWallet(\n  walletAddress: string,\n  network: 'devnet' | 'testnet',\n  targetAmount = 2\n): Promise<{ success: boolean; amount: number; errors: string[] }> {\n  const s = spinner()\n  s.start('Requesting SOL from faucets...')\n  \n  const faucetService = new FaucetService()\n  await faucetService.initialize()\n  \n  let totalReceived = 0\n  const errors: string[] = []\n  const sources = ['web3', 'solana', 'rpc'] // Try these sources in order\n  \n  for (const source of sources) {\n    if (totalReceived >= targetAmount) break\n    \n    try {\n      // Check rate limits\n      const status = await faucetService.checkFaucetStatus(walletAddress, source, network)\n      if (!status.canRequest) {\n        errors.push(`${source}: Rate limited`)\n        continue\n      }\n      \n      // Request from faucet\n      let result: { success: boolean; signature?: string; amount?: number; error?: string }\n      \n      if (source === 'web3') {\n        const response = await fetch('https://api.devnet.solana.com/faucet', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            pubkey: walletAddress,\n            lamports: 1_000_000_000 // 1 SOL\n          })\n        })\n        \n        const data = await response.json() as { signature?: string; error?: string }\n        result = {\n          success: Boolean(data.signature),\n          signature: data.signature,\n          amount: 1,\n          error: data.error\n        }\n      } else if (source === 'solana') {\n        const response = await fetch('https://faucet.solana.com/api/airdrop', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            pubkey: walletAddress,\n            lamports: 1_000_000_000,\n            cluster: network\n          })\n        })\n        \n        const data = await response.json() as { signature?: string; error?: string }\n        result = {\n          success: Boolean(data.signature),\n          signature: data.signature,\n          amount: 1,\n          error: data.error\n        }\n      } else {\n        // RPC airdrop using Gill\n        const rpcUrl = network === 'devnet'\n          ? 'https://api.devnet.solana.com'\n          : 'https://api.testnet.solana.com'\n\n        const client = createCustomClient(rpcUrl)\n        try {\n          const lamports = 1_000_000_000n as unknown as Parameters<typeof client.rpc.requestAirdrop>[1]\n          const signature = await client.rpc.requestAirdrop(\n            address(walletAddress),\n            lamports\n          ).send()\n          \n          result = {\n            success: true,\n            signature,\n            amount: 1\n          }\n        } catch (error) {\n          result = {\n            success: false,\n            error: error instanceof Error ? error.message : 'Unknown error'\n          }\n        }\n      }\n      \n      if (result.success && result.signature) {\n        await faucetService.recordRequest(\n          walletAddress,\n          network,\n          source,\n          result.amount ?? 1,\n          result.signature\n        )\n        totalReceived += result.amount ?? 1\n        s.message(`Received ${result.amount} SOL from ${source}`)\n      } else {\n        errors.push(`${source}: ${result.error ?? 'Failed'}`)\n      }\n      \n    } catch (error) {\n      errors.push(`${source}: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n  \n  s.stop(totalReceived > 0 ? ` Received ${totalReceived} SOL` : ' Failed to get SOL')\n  \n  if (totalReceived > 0) {\n    // Wait for confirmations\n    console.log(chalk.gray('Waiting for transaction confirmations...'))\n    await new Promise(resolve => setTimeout(resolve, 3000))\n  }\n  \n  return {\n    success: totalReceived > 0,\n    amount: totalReceived,\n    errors\n  }\n}\n\n/**\n * Save wallet to file\n */\nexport async function saveWallet(\n  signer: KeyPairSigner,\n  customPath?: string\n): Promise<string> {\n  const fs = await import('fs/promises')\n  const path = await import('path')\n  \n  // Extract private key bytes\n  const privateKeyBytes = 'privateKey' in signer && signer.privateKey instanceof Uint8Array\n    ? signer.privateKey\n    : 'secretKey' in signer && signer.secretKey instanceof Uint8Array\n    ? signer.secretKey\n    : new Uint8Array(64) // Fallback - should not happen\n  \n  const keyArray = Array.from(privateKeyBytes)\n  const walletData = JSON.stringify(keyArray, null, 2)\n  \n  const walletPath = customPath ?? path.join(homedir(), '.ghostspeak', 'wallet.json')\n  const walletDir = path.dirname(walletPath)\n  \n  await fs.mkdir(walletDir, { recursive: true })\n  await fs.writeFile(walletPath, walletData, 'utf8')\n  \n  return walletPath\n}\n\n/**\n * Create a multisig wallet wrapper\n * NOTE: This is a placeholder implementation for the quickstart flow.\n * In production, this would use the actual GhostSpeak SDK to create a real multisig.\n */\nexport async function createMultisigWrapper(\n  client: MinimalClient,\n  signer: KeyPairSigner,\n  name: string,\n  _threshold = 1\n): Promise<{ address: string; signature: string }> {\n  try {\n    // Generate multisig ID\n    const multisigId = BigInt(Math.floor(Math.random() * 1000000))\n    \n    // Derive PDA\n    const { deriveMultisigPda } = await import('../utils/pda.js')\n    const multisigPda = await deriveMultisigPda(\n      address(client.config.programId),\n      signer.address,\n      multisigId\n    )\n    \n    // For now, return a mock signature since the actual SDK integration\n    // requires complex type conversions that are beyond the scope of quickstart\n    const signature = 'quickstart-multisig-' + multisigId.toString()\n    \n    console.log(chalk.gray(`\\n Note: Multisig creation is simulated in quickstart.`))\n    console.log(chalk.gray(`   To create a real multisig, use: ${chalk.white('ghost governance multisig create')}\\n`))\n    \n    return {\n      address: multisigPda,\n      signature\n    }\n  } catch (error) {\n    throw new Error(`Failed to create multisig: ${error instanceof Error ? error.message : 'Unknown error'}`)\n  }\n}\n\n/**\n * Show setup summary\n */\nexport function showSetupSummary(result: SetupResult): void {\n  console.log('\\n' + chalk.bold.green(' Setup Complete!'))\n  console.log(''.repeat(50))\n  \n  console.log('\\n' + chalk.bold('Wallet Information:'))\n  console.log(chalk.gray('  Address:  ') + chalk.white(result.wallet.address))\n  console.log(chalk.gray('  Balance:  ') + chalk.white(`${result.wallet.balance.toFixed(4)} SOL`))\n  console.log(chalk.gray('  Network:  ') + chalk.white(result.network))\n  console.log(chalk.gray('  Type:     ') + chalk.white(result.wallet.isNew ? 'New wallet' : 'Imported wallet'))\n  \n  if (result.multisigAddress) {\n    console.log('\\n' + chalk.bold('Multisig Wallet:'))\n    console.log(chalk.gray('  Address:  ') + chalk.white(result.multisigAddress))\n    console.log(chalk.gray('  Status:   ') + chalk.green(' Created'))\n  }\n  \n  console.log('\\n' + chalk.bold('Configuration:'))\n  console.log(chalk.gray('  Config:   ') + chalk.white(result.configPath))\n  console.log(chalk.gray('  Status:   ') + chalk.green(' Saved'))\n  \n  if (result.errors.length > 0) {\n    console.log('\\n' + chalk.yellow('  Some issues occurred:'))\n    result.errors.forEach(error => {\n      console.log(chalk.gray('   ') + chalk.yellow(error))\n    })\n  }\n  \n  console.log('\\n' + chalk.bold('Next Steps:'))\n  if (!result.agentCreated) {\n    console.log(chalk.gray('  1. Create your first agent:'))\n    console.log(chalk.cyan('     ghost agent register'))\n  }\n  console.log(chalk.gray('  2. Get devnet GHOST tokens:'))\n  console.log(chalk.cyan('     ghost airdrop'))\n  console.log(chalk.gray('  3. View your setup:'))\n  console.log(chalk.cyan('     ghost config show'))\n  \n  console.log('\\n' + chalk.green('Welcome to GhostSpeak! '))\n}\n\n/**\n * Validate network selection\n */\nexport function validateNetwork(network: string): 'devnet' | 'testnet' {\n  if (network !== 'devnet' && network !== 'testnet') {\n    throw new Error('Invalid network. Only devnet and testnet are supported for quickstart.')\n  }\n  return network as 'devnet' | 'testnet'\n}","/**\n * GhostSpeak CLI Quick Start Command\n * Provides streamlined setup flows for new and existing users\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport { \n  intro, \n  outro, \n  text, \n  select, \n  confirm, \n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { existsSync } from 'fs'\nimport { homedir } from 'os'\nimport {\n  showProgress,\n  generateNewWallet,\n  loadExistingWallet,\n  checkWalletBalance,\n  fundWallet,\n  createMultisigWrapper as _createMultisigWrapper,\n  showSetupSummary,\n  validateNetwork,\n  type SetupResult,\n  type WalletInfo\n} from '../utils/setup-helpers.js'\nimport { saveConfig, getConfigPath } from '../utils/config.js'\nimport { getExplorerUrl } from '../utils/client.js'\n\nexport const quickstartCommand = new Command('quickstart')\n  .description('Quick setup for new and existing users')\n\n// New user flow\nquickstartCommand\n  .command('new')\n  .description('Complete setup for new users (creates wallet)')\n  .option('-n, --network <network>', 'Network to use (devnet|testnet)', 'devnet')\n  .option('--skip-agent', 'Skip agent creation')\n  .option('--skip-multisig', 'Skip multisig wallet creation')\n  .action(async (options: { network?: string; skipAgent?: boolean; skipMultisig?: boolean }) => {\n    intro(chalk.cyan(' GhostSpeak Quick Start - New User Setup'))\n    \n    const progress = { step: 0, totalSteps: 7, currentTask: '' }\n    const errors: string[] = []\n    let wallet: WalletInfo | undefined\n    let multisigAddress: string | undefined\n    let agentCreated = false\n    \n    try {\n      // Step 1: Network selection\n      progress.step = 1\n      progress.currentTask = 'Selecting network'\n      showProgress(progress)\n      \n      const network = validateNetwork(options.network ?? 'devnet')\n      log.success(` Network: ${network}`)\n      \n      // Step 2: Generate wallet\n      progress.step = 2\n      progress.currentTask = 'Generating new wallet'\n      showProgress(progress)\n      \n      const s = spinner()\n      s.start('Generating secure wallet...')\n      \n      const walletResult = await generateNewWallet()\n      wallet = walletResult\n      \n      s.stop(' Wallet generated and saved')\n      log.info(` Wallet Address: ${chalk.white(wallet.address)}`)\n      log.info(` Saved to: ${chalk.gray('~/.ghostspeak/wallets/main.json')}`)\n      \n      // Show seed phrase\n      log.warn('')\n      log.warn(' IMPORTANT: Save your seed phrase!')\n      log.warn('This is the ONLY way to recover your wallet:')\n      log.warn('')\n      log.warn(chalk.yellow(walletResult.mnemonic))\n      log.warn('')\n      \n      // Step 3: Fund wallet\n      progress.step = 3\n      progress.currentTask = 'Funding wallet from faucets'\n      showProgress(progress)\n      \n      const fundingResult = await fundWallet(wallet.address, network)\n      if (fundingResult.success) {\n        wallet.balance = await checkWalletBalance(wallet.address, network)\n        log.success(` Wallet funded with ${fundingResult.amount} SOL`)\n      } else {\n        errors.push('Failed to get SOL from faucets - you may need to fund manually')\n        log.warn('  Could not automatically fund wallet')\n      }\n      \n      // Step 4: Save configuration\n      progress.step = 4\n      progress.currentTask = 'Saving CLI configuration'\n      showProgress(progress)\n      \n      saveConfig({\n        network: network as 'devnet' | 'testnet',\n        walletPath: '~/.ghostspeak/wallets/main.json',\n        rpcUrl: network === 'devnet' \n          ? 'https://api.devnet.solana.com'\n          : 'https://api.testnet.solana.com'\n      })\n      \n      log.success(' Configuration saved')\n      \n      // Step 5: Create multisig (optional)\n      if (!options.skipMultisig && wallet.balance > 0.01) {\n        progress.step = 5\n        progress.currentTask = 'Creating multisig wallet for enhanced security'\n        showProgress(progress)\n        \n        const createMultisig = await confirm({\n          message: 'Create a multisig wallet for enhanced security?',\n          initialValue: true\n        })\n        \n        if (!isCancel(createMultisig) && createMultisig) {\n          try {\n            const multisigName = await text({\n              message: 'Multisig wallet name:',\n              placeholder: 'My GhostSpeak Wallet',\n              defaultValue: 'Quick Start Wallet'\n            })\n            \n            if (!isCancel(multisigName)) {\n              s.start('Creating multisig wallet...')\n              \n              // Import SDK and create real multisig\n              const { initializeClient, toSDKSigner } = await import('../utils/client.js')\n              const { createSafeSDKClient } = await import('../utils/sdk-helpers.js')\n              const { address: _address } = await import('@solana/addresses')\n              \n              const { client: sdkClient } = await initializeClient(network)\n              const safeClient = createSafeSDKClient(sdkClient)\n              \n              const signature = await safeClient.governance.createMultisig(\n                toSDKSigner(wallet.signer),\n                {\n                  name: multisigName.toString(),\n                  signers: [wallet.signer.address],\n                  threshold: 1,\n                  multisigType: 'standard',\n                  multisigId: BigInt(Date.now())\n                }\n              )\n              \n              // Derive multisig address (this is a placeholder - need real PDA derivation)\n              multisigAddress = wallet.address // For now use wallet address\n              s.stop(' Multisig wallet created')\n              \n              log.info(` Multisig Address: ${chalk.white(multisigAddress)}`)\n              log.info(` Explorer: ${getExplorerUrl(signature ?? '', network)}`)\n            }\n          } catch (error) {\n            errors.push(`Multisig creation failed: ${error instanceof Error ? error.message : 'Unknown error'}`)\n            log.warn('  Could not create multisig wallet')\n          }\n        }\n      }\n      \n      // Step 6: Register first agent (optional)\n      if (!options.skipAgent && wallet.balance > 0.01) {\n        progress.step = 6\n        progress.currentTask = 'Optional: Register your first AI agent'\n        showProgress(progress)\n        \n        const registerAgent = await confirm({\n          message: 'Would you like to register your first AI agent now?'\n        })\n        \n        if (!isCancel(registerAgent) && registerAgent) {\n          log.info(chalk.yellow('\\n Launching agent registration...\\n'))\n          \n          // Execute agent register command\n          const { spawn } = await import('child_process')\n          const child = spawn(process.argv[0], [process.argv[1], 'agent', 'register'], {\n            stdio: 'inherit',\n            env: process.env\n          })\n          \n          await new Promise<void>((resolve) => {\n            child.on('close', (code) => {\n              if (code === 0) {\n                agentCreated = true\n                log.success(' Agent registration completed')\n              } else {\n                errors.push('Agent registration was cancelled or failed')\n              }\n              resolve()\n            })\n          })\n        }\n      }\n      \n      // Step 7: Setup complete\n      progress.step = 7\n      progress.currentTask = 'Setup complete!'\n      showProgress(progress)\n      \n      const result: SetupResult = {\n        success: true,\n        wallet: wallet!,\n        multisigAddress,\n        network,\n        configPath: getConfigPath(),\n        agentCreated,\n        errors\n      }\n      \n      showSetupSummary(result)\n      outro(chalk.green(' Quick start setup completed!'))\n      \n    } catch (error) {\n      cancel(chalk.red('Setup failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n      process.exit(1)\n    }\n  })\n\n// Existing wallet flow\nquickstartCommand\n  .command('existing')\n  .description('Setup for users with existing Solana wallets')\n  .option('-n, --network <network>', 'Network to use (devnet|testnet)', 'devnet')\n  .option('-w, --wallet <path>', 'Path to existing wallet file')\n  .option('--skip-multisig', 'Skip multisig wallet creation')\n  .action(async (options: { network?: string; wallet?: string; skipMultisig?: boolean }) => {\n    intro(chalk.cyan(' GhostSpeak Quick Start - Existing Wallet Setup'))\n    \n    const progress = { step: 0, totalSteps: 6, currentTask: '' }\n    const errors: string[] = []\n    let wallet: WalletInfo | undefined\n    let multisigAddress: string | undefined\n    \n    try {\n      // Step 1: Network selection\n      progress.step = 1\n      progress.currentTask = 'Selecting network'\n      showProgress(progress)\n      \n      const network = validateNetwork(options.network ?? 'devnet')\n      log.success(` Network: ${network}`)\n      \n      // Step 2: Import wallet\n      progress.step = 2\n      progress.currentTask = 'Importing existing wallet'\n      showProgress(progress)\n      \n      let walletPath = options.wallet\n      if (!walletPath) {\n        const pathInput = await text({\n          message: 'Path to your Solana wallet file:',\n          placeholder: '~/.config/solana/id.json',\n          validate: (value) => {\n            if (!value) return 'Wallet path is required'\n            const expandedPath = value.replace('~', homedir())\n            if (!existsSync(expandedPath)) {\n              return `Wallet file not found at: ${expandedPath}`\n            }\n            return undefined\n          }\n        })\n        \n        if (isCancel(pathInput)) {\n          cancel('Setup cancelled')\n          return\n        }\n        \n        walletPath = pathInput.toString()\n      }\n      \n      const s = spinner()\n      s.start('Loading wallet...')\n      \n      wallet = await loadExistingWallet(walletPath)\n      wallet.balance = await checkWalletBalance(wallet.address, network)\n      \n      s.stop(' Wallet imported successfully')\n      log.info(` Wallet Address: ${chalk.white(wallet.address)}`)\n      log.info(` Current Balance: ${chalk.white(`${wallet.balance.toFixed(4)} SOL`)}`)\n      \n      // Step 3: Check and fund if needed\n      if (wallet.balance < 0.1) {\n        progress.step = 3\n        progress.currentTask = 'Checking wallet balance'\n        showProgress(progress)\n        \n        log.warn('  Low balance detected')\n        \n        const requestFunding = await confirm({\n          message: 'Would you like to request testnet SOL from faucets?'\n        })\n        \n        if (!isCancel(requestFunding) && requestFunding) {\n          const fundingResult = await fundWallet(wallet.address, network, 2)\n          if (fundingResult.success) {\n            wallet.balance = await checkWalletBalance(wallet.address, network)\n            log.success(` Wallet funded with ${fundingResult.amount} SOL`)\n          } else {\n            errors.push('Failed to get SOL from faucets - you may need to fund manually')\n            log.warn('  Could not automatically fund wallet')\n          }\n        }\n      } else {\n        progress.step = 3\n        progress.currentTask = 'Wallet balance verified'\n        showProgress(progress)\n        log.success(' Wallet has sufficient balance')\n      }\n      \n      // Step 4: Save configuration\n      progress.step = 4\n      progress.currentTask = 'Saving CLI configuration'\n      showProgress(progress)\n      \n      const expandedWalletPath = walletPath.replace('~', homedir())\n      saveConfig({\n        network: network as 'devnet' | 'testnet',\n        walletPath: expandedWalletPath,\n        rpcUrl: network === 'devnet' \n          ? 'https://api.devnet.solana.com'\n          : 'https://api.testnet.solana.com'\n      })\n      \n      log.success(' Configuration saved')\n      \n      // Step 5: Create multisig wrapper (optional)\n      if (!options.skipMultisig && wallet.balance > 0.01) {\n        progress.step = 5\n        progress.currentTask = 'Optional: Create multisig wallet wrapper'\n        showProgress(progress)\n        \n        note(\n          'A multisig wallet adds an extra layer of security by requiring multiple signatures ' +\n          'for transactions. This is recommended for production use.\\n\\n' +\n          'You can still use your existing wallet directly if you prefer.',\n          'About Multisig Wallets'\n        )\n        \n        const createMultisig = await confirm({\n          message: 'Create a multisig wrapper for your wallet?'\n        })\n        \n        if (!isCancel(createMultisig) && createMultisig) {\n          try {\n            const multisigName = await text({\n              message: 'Multisig wallet name:',\n              placeholder: 'My Secure Wallet',\n              defaultValue: 'GhostSpeak Multisig'\n            })\n            \n            if (!isCancel(multisigName)) {\n              s.start('Creating multisig wrapper...')\n              \n              // Import SDK and create real multisig\n              const { initializeClient, toSDKSigner } = await import('../utils/client.js')\n              const { createSafeSDKClient } = await import('../utils/sdk-helpers.js')\n              const { address: _address } = await import('@solana/addresses')\n              \n              const { client: sdkClient } = await initializeClient(network)\n              const safeClient = createSafeSDKClient(sdkClient)\n              \n              const signature = await safeClient.governance.createMultisig(\n                toSDKSigner(wallet.signer),\n                {\n                  name: multisigName.toString(),\n                  signers: [wallet.signer.address],\n                  threshold: 1,\n                  multisigType: 'standard',\n                  multisigId: BigInt(Date.now())\n                }\n              )\n              \n              // Derive multisig address (this is a placeholder - need real PDA derivation)\n              multisigAddress = wallet.address // For now use wallet address\n              s.stop(' Multisig wallet created')\n              \n              log.info(` Multisig Address: ${chalk.white(multisigAddress)}`)\n              log.info(` Explorer: ${getExplorerUrl(signature ?? '', network)}`)\n            }\n          } catch (error) {\n            errors.push(`Multisig creation failed: ${error instanceof Error ? error.message : 'Unknown error'}`)\n            log.warn('  Could not create multisig wallet')\n          }\n        }\n      }\n      \n      // Step 6: Setup complete\n      progress.step = 6\n      progress.currentTask = 'Setup complete!'\n      showProgress(progress)\n      \n      const result: SetupResult = {\n        success: true,\n        wallet: wallet!,\n        multisigAddress,\n        network,\n        configPath: getConfigPath(),\n        agentCreated: false,\n        errors\n      }\n      \n      showSetupSummary(result)\n      outro(chalk.green(' Quick start setup completed!'))\n      \n    } catch (error) {\n      cancel(chalk.red('Setup failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n      process.exit(1)\n    }\n  })\n\n// Default action - show options\nquickstartCommand\n  .action(async () => {\n    intro(chalk.cyan(' GhostSpeak Quick Start'))\n    \n    const choice = await select({\n      message: 'How would you like to get started?',\n      options: [\n        {\n          value: 'new',\n          label: ' I\\'m new - create everything for me',\n          hint: 'Generate wallet, get SOL, full setup'\n        },\n        {\n          value: 'existing',\n          label: ' I have a Solana wallet',\n          hint: 'Import existing wallet and configure'\n        },\n        {\n          value: 'manual',\n          label: '  Manual setup',\n          hint: 'Step-by-step configuration'\n        }\n      ]\n    })\n    \n    if (isCancel(choice)) {\n      cancel('Quick start cancelled')\n      return\n    }\n    \n    if (choice === 'new') {\n      // Directly execute the new user flow\n      const newCommand = quickstartCommand.commands.find(cmd => cmd.name() === 'new')\n      if (newCommand) {\n        await newCommand.parseAsync(['node', 'quickstart'], { from: 'node' })\n      }\n    } else if (choice === 'existing') {\n      // Directly execute the existing user flow\n      const existingCommand = quickstartCommand.commands.find(cmd => cmd.name() === 'existing')\n      if (existingCommand) {\n        await existingCommand.parseAsync(['node', 'quickstart'], { from: 'node' })\n      }\n    } else {\n      // Manual setup - use existing config setup\n      const { spawn } = await import('child_process')\n      const child = spawn(process.argv[0], [process.argv[1], 'config', 'setup'], {\n        stdio: 'inherit',\n        env: process.env\n      })\n      \n      await new Promise<void>((resolve) => {\n        child.on('close', () => resolve())\n      })\n    }\n  })","/**\n * Wallet Command - Comprehensive wallet management for GhostSpeak CLI\n */\n\nimport { Command } from 'commander'\nimport { \n  intro, \n  outro, \n  text, \n  select, \n  confirm, \n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport chalk from 'chalk'\nimport { Table } from 'console-table-printer'\nimport { WalletService } from '../services/wallet-service.js'\nimport { getExplorerUrl } from '../utils/client.js'\nimport { saveConfig, loadConfig } from '../utils/config.js'\nimport { successBox } from '../utils/format-helpers.js'\nimport boxen from 'boxen'\n\n// Type definitions for link API responses\ninterface LinkInitResponse {\n  code: string\n  linkUrl: string\n  expiresIn: number\n}\n\ninterface LinkStatusResponse {\n  status: 'pending' | 'authorized' | 'rejected' | 'expired'\n  cliPublicKey: string\n  webWalletAddress?: string\n  authorizedAt?: number\n}\n\nexport const walletCommand = new Command('wallet')\n  .description('Manage GhostSpeak wallets')\n\n// List all wallets\nwalletCommand\n  .command('list')\n  .alias('ls')\n  .description('List all wallets')\n  .option('-b, --balance', 'Show balances (requires network calls)')\n  .action(async (options: { balance?: boolean }) => {\n    intro(chalk.cyan(' GhostSpeak Wallet Manager'))\n    \n    try {\n      const walletService = new WalletService()\n      const wallets = walletService.listWallets()\n      \n      if (wallets.length === 0) {\n        log.info('No wallets found. Create one with: ghost wallet create')\n        outro('No wallets available')\n        return\n      }\n      \n      const s = spinner()\n      \n      // Create table\n      const table = new Table({\n        title: 'Your Wallets',\n        columns: [\n          { name: 'name', title: 'Name', alignment: 'left' },\n          { name: 'address', title: 'Address', alignment: 'left' },\n          { name: 'network', title: 'Network', alignment: 'center' },\n          { name: 'status', title: 'Status', alignment: 'center' },\n          { name: 'balance', title: 'Balance', alignment: 'right' },\n          { name: 'created', title: 'Created', alignment: 'center' }\n        ]\n      })\n      \n      // Add wallet data\n      for (const wallet of wallets) {\n        let balance = '-'\n        \n        if (options.balance) {\n          s.start(`Checking balance for ${wallet.name}...`)\n          try {\n            const bal = await walletService.getBalance(wallet.address, wallet.network)\n            balance = `${bal.toFixed(4)} SOL`\n          } catch (error) {\n            balance = 'Error'\n          }\n        }\n        \n        table.addRow({\n          name: wallet.isActive ? chalk.green(` ${wallet.name}`) : `  ${wallet.name}`,\n          address: wallet.address.slice(0, 8) + '...' + wallet.address.slice(-8),\n          network: wallet.network,\n          status: wallet.isActive ? chalk.green('Active') : chalk.gray('Inactive'),\n          balance: options.balance ? balance : '-',\n          created: new Date(wallet.createdAt).toLocaleDateString()\n        })\n      }\n      \n      if (options.balance) {\n        s.stop('Balance check complete')\n      }\n      \n      console.log('')\n      table.printTable()\n      console.log('')\n      \n      log.info(chalk.gray('Tips:'))\n      log.info(chalk.gray('   Use \"ghost wallet use <name>\" to switch active wallet'))\n      log.info(chalk.gray('   Use \"ghost wallet show\" to see full wallet details'))\n      \n      outro('Wallet list complete')\n      \n    } catch (error) {\n      cancel(chalk.red('Failed to list wallets: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  })\n\n// Create new wallet\nwalletCommand\n  .command('create')\n  .alias('new')\n  .description('Create a new wallet')\n  .option('-n, --name <name>', 'Wallet name')\n  .option('--network <network>', 'Network (devnet|testnet|mainnet-beta)', 'devnet')\n  .option('--no-backup', 'Skip seed phrase backup confirmation')\n  .action(async (options: { name?: string; network?: string; backup?: boolean }) => {\n    intro(chalk.cyan(' Create New Wallet'))\n    \n    try {\n      const walletService = new WalletService()\n      \n      // Get wallet name\n      let walletName = options.name\n      if (!walletName) {\n        const nameInput = await text({\n          message: 'Wallet name:',\n          placeholder: 'main-wallet',\n          validate: (value) => {\n            if (!value || value.trim().length === 0) return 'Name is required'\n            if (!/^[a-zA-Z0-9-_]+$/.test(value)) return 'Use only letters, numbers, - and _'\n            return undefined\n          }\n        })\n        \n        if (isCancel(nameInput)) {\n          cancel('Wallet creation cancelled')\n          return\n        }\n        \n        walletName = nameInput.toString()\n      }\n      \n      // Validate network\n      const network = (options.network as 'devnet' | 'testnet' | 'mainnet-beta' | undefined) ?? 'devnet'\n      if (!['devnet', 'testnet', 'mainnet-beta'].includes(network)) {\n        throw new Error('Invalid network. Use devnet, testnet, or mainnet-beta')\n      }\n      \n      const s = spinner()\n      s.start('Generating secure wallet...')\n      \n      // Create wallet\n      const { wallet, mnemonic } = await walletService.createWallet(walletName, network)\n      \n      s.stop(' Wallet created successfully')\n      \n      // Display seed phrase prominently\n      console.log('')\n      console.log(boxen(\n        chalk.yellow(' SEED PHRASE - WRITE THIS DOWN!\\n\\n') +\n        chalk.white(mnemonic) + '\\n\\n' +\n        chalk.red('  This is the ONLY way to recover your wallet!\\n') +\n        chalk.red('Never share this with anyone!'),\n        {\n          padding: 1,\n          margin: 1,\n          borderStyle: 'double',\n          borderColor: 'yellow'\n        }\n      ))\n      \n      // Confirm backup\n      if (options.backup !== false) {\n        const confirmed = await confirm({\n          message: 'Have you written down your seed phrase?',\n          initialValue: false\n        })\n        \n        if (isCancel(confirmed) || !confirmed) {\n          // Still created, but warn user\n          log.warn('  Please save your seed phrase! Use \"ghost wallet backup\" to see it again.')\n        }\n      }\n      \n      // Display wallet info\n      console.log('')\n      note(\n        `Name:     ${wallet.metadata.name}\\n` +\n        `Address:  ${wallet.metadata.address}\\n` +\n        `Network:  ${wallet.metadata.network}\\n` +\n        `Status:   ${wallet.metadata.isActive ? 'Active' : 'Created'}`,\n        'Wallet Information'\n      )\n      \n      // Update config if this is the active wallet\n      if (wallet.metadata.isActive) {\n        const config = loadConfig()\n        config.walletPath = `~/.ghostspeak/wallets/${walletName}.json`\n        config.network = network as 'devnet' | 'testnet'\n        saveConfig(config)\n        log.success(' Set as active wallet')\n      }\n      \n      console.log('')\n      log.info('Next steps:')\n      log.info(`  1. Fund your wallet: ${chalk.cyan('ghost faucet')}`)\n      log.info(`  2. Check balance: ${chalk.cyan('ghost wallet balance')}`)\n      log.info(`  3. Create an agent: ${chalk.cyan('ghost agent register')}`)\n      \n      outro('Wallet created successfully')\n      \n    } catch (error) {\n      cancel(chalk.red('Failed to create wallet: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  })\n\n// Show wallet details\nwalletCommand\n  .command('show')\n  .alias('info')\n  .description('Show active wallet details')\n  .option('-n, --name <name>', 'Show specific wallet')\n  .action(async (options: { name?: string }) => {\n    intro(chalk.cyan(' Wallet Details'))\n    \n    try {\n      const walletService = new WalletService()\n      \n      let wallet\n      if (options.name) {\n        wallet = walletService.getWallet(options.name)\n        if (!wallet) {\n          throw new Error(`Wallet \"${options.name}\" not found`)\n        }\n      } else {\n        wallet = walletService.getActiveWallet()\n        if (!wallet) {\n          throw new Error('No active wallet. Create one with: ghost wallet create')\n        }\n      }\n      \n      const s = spinner()\n      s.start('Fetching wallet details...')\n      \n      // Get balance\n      const balance = await walletService.getBalance(\n        wallet.metadata.address, \n        wallet.metadata.network\n      )\n      \n      s.stop(' Wallet details loaded')\n      \n      console.log('')\n      console.log(boxen(\n        chalk.bold('Wallet Information\\n\\n') +\n        `${chalk.gray('Name:')}      ${wallet.metadata.name}\\n` +\n        `${chalk.gray('Address:')}   ${wallet.metadata.address}\\n` +\n        `${chalk.gray('Network:')}   ${wallet.metadata.network}\\n` +\n        `${chalk.gray('Balance:')}   ${balance.toFixed(9)} SOL\\n` +\n        `${chalk.gray('Status:')}    ${wallet.metadata.isActive ? chalk.green('Active') : 'Inactive'}\\n` +\n        `${chalk.gray('Created:')}   ${new Date(wallet.metadata.createdAt).toLocaleString()}\\n` +\n        `${chalk.gray('Last Used:')} ${new Date(wallet.metadata.lastUsed).toLocaleString()}`,\n        {\n          padding: 1,\n          borderStyle: 'round',\n          borderColor: 'cyan'\n        }\n      ))\n      \n      console.log('')\n      log.info(`Explorer: ${getExplorerUrl(wallet.metadata.address, wallet.metadata.network)}`)\n      \n      outro('Wallet details complete')\n      \n    } catch (error) {\n      cancel(chalk.red('Failed to show wallet: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  })\n\n// Switch active wallet\nwalletCommand\n  .command('use')\n  .alias('switch')\n  .description('Switch to a different wallet')\n  .argument('[name]', 'Wallet name to switch to')\n  .action(async (name?: string) => {\n    intro(chalk.cyan(' Switch Active Wallet'))\n    \n    try {\n      const walletService = new WalletService()\n      const wallets = walletService.listWallets()\n      \n      if (wallets.length === 0) {\n        log.error('No wallets found. Create one with: ghost wallet create')\n        outro('No wallets available')\n        return\n      }\n      \n      let selectedName = name\n      \n      // If no name provided, show selection\n      if (!selectedName) {\n        const choice = await select({\n          message: 'Select wallet to activate:',\n          options: wallets.map(w => ({\n            value: w.name,\n            label: w.name,\n            hint: `${w.address.slice(0, 8)}...${w.address.slice(-8)} (${w.network})`\n          }))\n        })\n        \n        if (isCancel(choice)) {\n          cancel('Wallet switch cancelled')\n          return\n        }\n        \n        selectedName = choice.toString()\n      }\n      \n      // Switch wallet\n      walletService.setActiveWallet(selectedName)\n      \n      // Update config\n      const config = loadConfig()\n      const wallet = walletService.getWallet(selectedName)\n      if (wallet) {\n        config.walletPath = `~/.ghostspeak/wallets/${selectedName}.json`\n        config.network = wallet.metadata.network as 'devnet' | 'testnet'\n        saveConfig(config)\n      }\n      \n      log.success(` Switched to wallet: ${selectedName}`)\n      \n      outro('Active wallet updated')\n      \n    } catch (error) {\n      cancel(chalk.red('Failed to switch wallet: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  })\n\n// Show balance\nwalletCommand\n  .command('balance')\n  .alias('bal')\n  .description('Check wallet balance')\n  .option('-n, --name <name>', 'Check specific wallet')\n  .option('-a, --all', 'Show all wallet balances')\n  .action(async (options: { name?: string; all?: boolean }) => {\n    intro(chalk.cyan(' Wallet Balance'))\n    \n    try {\n      const walletService = new WalletService()\n      \n      if (options.all) {\n        const wallets = walletService.listWallets()\n        if (wallets.length === 0) {\n          log.info('No wallets found')\n          outro('No wallets available')\n          return\n        }\n        \n        const s = spinner()\n        s.start('Checking balances...')\n        \n        const balances: Array<{ name: string; address: string; balance: number; network: string }> = []\n        \n        for (const wallet of wallets) {\n          try {\n            const balance = await walletService.getBalance(wallet.address, wallet.network)\n            balances.push({\n              name: wallet.name,\n              address: wallet.address,\n              balance,\n              network: wallet.network\n            })\n          } catch (error) {\n            balances.push({\n              name: wallet.name,\n              address: wallet.address,\n              balance: -1,\n              network: wallet.network\n            })\n          }\n        }\n        \n        s.stop(' Balance check complete')\n        \n        console.log('')\n        balances.forEach(b => {\n          const balanceStr = b.balance >= 0 ? `${b.balance.toFixed(9)} SOL` : 'Error'\n          console.log(\n            `${chalk.bold(b.name).padEnd(20)} ${balanceStr.padEnd(15)} ${chalk.gray(`(${b.network})`)}`\n          )\n        })\n        console.log('')\n        \n      } else {\n        let wallet\n        if (options.name) {\n          wallet = walletService.getWallet(options.name)\n          if (!wallet) {\n            throw new Error(`Wallet \"${options.name}\" not found`)\n          }\n        } else {\n          wallet = walletService.getActiveWallet()\n          if (!wallet) {\n            throw new Error('No active wallet')\n          }\n        }\n        \n        const s = spinner()\n        s.start('Checking balance...')\n        \n        const balance = await walletService.getBalance(\n          wallet.metadata.address,\n          wallet.metadata.network\n        )\n        \n        s.stop(' Balance retrieved')\n        \n        console.log('')\n        console.log(chalk.bold(`Wallet: ${wallet.metadata.name}`))\n        console.log(chalk.gray(`Address: ${wallet.metadata.address}`))\n        console.log(chalk.gray(`Network: ${wallet.metadata.network}`))\n        console.log('')\n        console.log(chalk.green(`Balance: ${balance.toFixed(9)} SOL`))\n        console.log('')\n      }\n      \n      outro('Balance check complete')\n      \n    } catch (error) {\n      cancel(chalk.red('Failed to check balance: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  })\n\n// Import wallet\nwalletCommand\n  .command('import')\n  .description('Import wallet from seed phrase or private key')\n  .option('-n, --name <name>', 'Wallet name')\n  .option('--network <network>', 'Network (devnet|testnet|mainnet-beta)', 'devnet')\n  .action(async (options: { name?: string; network?: string }) => {\n    intro(chalk.cyan(' Import Wallet'))\n    \n    try {\n      const walletService = new WalletService()\n      \n      // Get wallet name\n      let walletName = options.name\n      if (!walletName) {\n        const nameInput = await text({\n          message: 'Wallet name:',\n          placeholder: 'imported-wallet',\n          validate: (value) => {\n            if (!value || value.trim().length === 0) return 'Name is required'\n            if (!/^[a-zA-Z0-9-_]+$/.test(value)) return 'Use only letters, numbers, - and _'\n            return undefined\n          }\n        })\n        \n        if (isCancel(nameInput)) {\n          cancel('Import cancelled')\n          return\n        }\n        \n        walletName = nameInput.toString()\n      }\n      \n      // Get import method\n      const importMethod = await select({\n        message: 'Import from:',\n        options: [\n          { value: 'mnemonic', label: 'Seed phrase (12 or 24 words)' },\n          { value: 'privatekey', label: 'Private key (JSON array)' }\n        ]\n      })\n      \n      if (isCancel(importMethod)) {\n        cancel('Import cancelled')\n        return\n      }\n      \n      // Get secret\n      const secretInput = await text({\n        message: importMethod === 'mnemonic' ? 'Enter seed phrase:' : 'Enter private key:',\n        placeholder: importMethod === 'mnemonic' ? 'word1 word2 word3...' : '[1,2,3,...]'\n      })\n      \n      if (isCancel(secretInput)) {\n        cancel('Import cancelled')\n        return\n      }\n      \n      const network = (options.network as 'devnet' | 'testnet' | 'mainnet-beta' | undefined) ?? 'devnet'\n      \n      const s = spinner()\n      s.start('Importing wallet...')\n      \n      // Import wallet\n      const wallet = await walletService.importWallet(\n        walletName,\n        secretInput.toString().trim(),\n        network\n      )\n      \n      s.stop(' Wallet imported successfully')\n      \n      // Display wallet info\n      console.log('')\n      note(\n        `Name:     ${wallet.metadata.name}\\n` +\n        `Address:  ${wallet.metadata.address}\\n` +\n        `Network:  ${wallet.metadata.network}\\n` +\n        `Status:   ${wallet.metadata.isActive ? 'Active' : 'Imported'}`,\n        'Imported Wallet'\n      )\n      \n      // Update config if active\n      if (wallet.metadata.isActive) {\n        const config = loadConfig()\n        config.walletPath = `~/.ghostspeak/wallets/${walletName}.json`\n        config.network = network as 'devnet' | 'testnet'\n        saveConfig(config)\n        log.success(' Set as active wallet')\n      }\n      \n      outro('Wallet imported successfully')\n      \n    } catch (error) {\n      cancel(chalk.red('Failed to import wallet: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  })\n\n// Backup wallet (show seed phrase)\nwalletCommand\n  .command('backup')\n  .description('Show seed phrase for wallet backup')\n  .option('-n, --name <name>', 'Wallet to backup')\n  .action(async (_options: { name?: string }) => {\n    intro(chalk.cyan(' Wallet Backup'))\n    \n    log.warn('  This feature shows your seed phrase.')\n    log.warn('Make sure no one is looking at your screen!')\n    \n    const proceed = await confirm({\n      message: 'Continue and show seed phrase?',\n      initialValue: false\n    })\n    \n    if (isCancel(proceed) || !proceed) {\n      cancel('Backup cancelled')\n      return\n    }\n    \n    log.error(' Seed phrase recovery not yet implemented')\n    log.info('Seed phrases are only shown during wallet creation')\n    log.info('Keep your original backup safe!')\n    \n    outro('Backup information')\n  })\n\n// Rename wallet\nwalletCommand\n  .command('rename')\n  .description('Rename a wallet')\n  .argument('[old-name]', 'Current wallet name')\n  .argument('[new-name]', 'New wallet name')\n  .action(async (oldName?: string, newName?: string) => {\n    intro(chalk.cyan('  Rename Wallet'))\n    \n    try {\n      const walletService = new WalletService()\n      \n      if (!oldName) {\n        const wallets = walletService.listWallets()\n        if (wallets.length === 0) {\n          log.error('No wallets found')\n          outro('No wallets available')\n          return\n        }\n        \n        const choice = await select({\n          message: 'Select wallet to rename:',\n          options: wallets.map(w => ({\n            value: w.name,\n            label: w.name,\n            hint: `${w.address.slice(0, 8)}...${w.address.slice(-8)}`\n          }))\n        })\n        \n        if (isCancel(choice)) {\n          cancel('Rename cancelled')\n          return\n        }\n        \n        oldName = choice.toString()\n      }\n      \n      if (!newName) {\n        const nameInput = await text({\n          message: 'New name:',\n          placeholder: 'new-wallet-name',\n          validate: (value) => {\n            if (!value || value.trim().length === 0) return 'Name is required'\n            if (!/^[a-zA-Z0-9-_]+$/.test(value)) return 'Use only letters, numbers, - and _'\n            return undefined\n          }\n        })\n        \n        if (isCancel(nameInput)) {\n          cancel('Rename cancelled')\n          return\n        }\n        \n        newName = nameInput.toString()\n      }\n      \n      walletService.renameWallet(oldName, newName)\n      \n      log.success(` Renamed \"${oldName}\" to \"${newName}\"`)\n      \n      // Update config if this was the active wallet\n      const activeWallet = walletService.getActiveWallet()\n      if (activeWallet && activeWallet.metadata.name === newName) {\n        const config = loadConfig()\n        config.walletPath = `~/.ghostspeak/wallets/${newName}.json`\n        saveConfig(config)\n      }\n      \n      outro('Wallet renamed successfully')\n      \n    } catch (error) {\n      cancel(chalk.red('Failed to rename wallet: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  })\n\n// Link wallet with Web App\nwalletCommand\n  .command('link')\n  .description('Link your local CLI wallet with the GhostSpeak Web App')\n  .option('--api-url <url>', 'API base URL', 'http://localhost:3000')\n  .action(async (options: { apiUrl: string }) => {\n    intro(chalk.cyan(' Link with GhostSpeak Web App'))\n    \n    try {\n      const walletService = new WalletService()\n      const wallet = walletService.getActiveWallet()\n      \n      if (!wallet) {\n        throw new Error('No active wallet. Create one first with: ghost wallet create')\n      }\n      \n      const s = spinner()\n      s.start('Initiating link request...')\n      \n      // Step 1: Request a link code from the API\n      const initResponse = await fetch(`${options.apiUrl}/api/link`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          action: 'initiate',\n          cliPublicKey: wallet.metadata.address,\n        }),\n      })\n      \n      if (!initResponse.ok) {\n        const error = await initResponse.json().catch(() => ({ error: 'Unknown error' }))\n        throw new Error(error.error || 'Failed to initiate link')\n      }\n      \n      const { code, linkUrl, expiresIn } = await initResponse.json() as LinkInitResponse\n      \n      s.stop(' Link request created')\n      \n      // Step 2: Display instructions\n      log.info('')\n      log.info('To link your CLI wallet with your Web App account:')\n      log.info('')\n      log.info(`${chalk.bold('1.')} Open your browser and navigate to:`)\n      console.log(chalk.bold.cyan(`\\n   ${linkUrl}\\n`))\n      log.info(`${chalk.bold('2.')} Sign in with your Crossmint account`)\n      log.info(`${chalk.bold('3.')} Confirm the linking request`)\n      log.info('')\n      \n      note(\n        `${chalk.bold('Verification Code:')} ${chalk.yellow.bold(code)}\\n\\n` +\n        `This code expires in ${Math.floor(expiresIn / 60)} minutes.`,\n        'Authorization Required'\n      )\n      \n      // Step 3: Poll for authorization\n      s.start('Waiting for authorization in browser...')\n      \n      const pollInterval = 2000 // 2 seconds\n      const maxAttempts = Math.floor((expiresIn * 1000) / pollInterval)\n      let attempts = 0\n      let authorized = false\n      let linkDetails: LinkStatusResponse | null = null\n      \n      while (attempts < maxAttempts && !authorized) {\n        await new Promise(resolve => setTimeout(resolve, pollInterval))\n        \n        try {\n          const statusResponse = await fetch(`${options.apiUrl}/api/link?code=${code}`)\n          \n          if (statusResponse.ok) {\n            const status = await statusResponse.json() as LinkStatusResponse\n            \n            if (status.status === 'authorized') {\n              authorized = true\n              linkDetails = status\n            } else if (status.status === 'rejected') {\n              throw new Error('Link request was rejected')\n            } else if (status.status === 'expired') {\n              throw new Error('Link request expired')\n            }\n          } else if (statusResponse.status === 404 || statusResponse.status === 410) {\n            throw new Error('Link request not found or expired')\n          }\n        } catch (fetchError) {\n          // Continue polling on network errors\n          if (fetchError instanceof Error && \n              (fetchError.message.includes('rejected') || \n               fetchError.message.includes('expired') ||\n               fetchError.message.includes('not found'))) {\n            throw fetchError\n          }\n        }\n        \n        attempts++\n        \n        // Update spinner message with elapsed time\n        const elapsed = Math.floor((attempts * pollInterval) / 1000)\n        s.message(`Waiting for authorization... (${elapsed}s)`)\n      }\n      \n      if (!authorized) {\n        throw new Error('Authorization timeout. Please try again.')\n      }\n      \n      s.stop(' Wallet linked successfully!')\n      \n      successBox('Connection Established', [\n        `CLI Wallet: ${wallet.metadata.address.slice(0, 8)}...${wallet.metadata.address.slice(-8)}`,\n        `Linked to: ${linkDetails?.webWalletAddress?.slice(0, 8) || 'Crossmint'}...`,\n        '',\n        'Your CLI is now authorized as a delegated signer.',\n        'You can perform on-chain actions via your web identity.'\n      ])\n      \n      outro('Linking complete')\n      \n    } catch (error) {\n      if (error instanceof Error && error.message.includes('fetch')) {\n        cancel(chalk.red('Could not connect to web app. Is it running at the specified URL?'))\n      } else {\n        cancel(chalk.red('Linking failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n      }\n    }\n  })\n\n\n// Delete wallet\nwalletCommand\n  .command('delete')\n  .alias('remove')\n  .description('Delete a wallet')\n  .argument('[name]', 'Wallet name to delete')\n  .option('-f, --force', 'Skip confirmation')\n  .action(async (name?: string, options?: { force?: boolean }) => {\n    intro(chalk.cyan('  Delete Wallet'))\n    \n    try {\n      const walletService = new WalletService()\n      \n      if (!name) {\n        const wallets = walletService.listWallets()\n        if (wallets.length === 0) {\n          log.error('No wallets found')\n          outro('No wallets available')\n          return\n        }\n        \n        const choice = await select({\n          message: 'Select wallet to delete:',\n          options: wallets.map(w => ({\n            value: w.name,\n            label: w.name,\n            hint: w.isActive ? chalk.yellow('Active wallet') : ''\n          }))\n        })\n        \n        if (isCancel(choice)) {\n          cancel('Delete cancelled')\n          return\n        }\n        \n        name = choice.toString()\n      }\n      \n      // Get wallet details for confirmation\n      const wallet = walletService.getWallet(name)\n      if (!wallet) {\n        throw new Error(`Wallet \"${name}\" not found`)\n      }\n      \n      // Confirm deletion\n      if (!options?.force) {\n        log.warn(`  This will permanently delete wallet: ${name}`)\n        log.warn(`Address: ${wallet.metadata.address}`)\n        \n        const confirmed = await confirm({\n          message: 'Are you sure you want to delete this wallet?',\n          initialValue: false\n        })\n        \n        if (isCancel(confirmed) || !confirmed) {\n          cancel('Delete cancelled')\n          return\n        }\n      }\n      \n      walletService.deleteWallet(name)\n      \n      log.success(` Deleted wallet: ${name}`)\n      \n      outro('Wallet deleted')\n      \n    } catch (error) {\n      cancel(chalk.red('Failed to delete wallet: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  })\n\n// Default action - show active wallet\nwalletCommand\n  .action(async () => {\n    // Redirect to show command\n    await walletCommand.commands.find(cmd => cmd.name() === 'show')?.parseAsync(process.argv)\n  })","/**\n * Format helpers for better visual output\n * Provides consistent formatting across the CLI\n * \n * This module contains utilities for creating visually appealing and consistent\n * output in the command-line interface, including boxes, tables, status indicators,\n * and various formatting functions for addresses, amounts, and timestamps.\n * \n * @example\n * ```typescript\n * import { infoBox, formatSOL, progressBar } from './format-helpers.js'\n * \n * // Create an info box\n * console.log(infoBox('Status', 'Operation completed successfully'))\n * \n * // Format SOL amounts\n * console.log(formatSOL(1500000000n)) // \"1.500 SOL\"\n * \n * // Show progress\n * console.log(progressBar(75, 100)) // Progress bar at 75%\n * ```\n */\n\nimport chalk from 'chalk'\nimport Table from 'cli-table3'\nimport boxen from 'boxen'\nimport { shortenAddress, lamportsToSol, formatDate, formatRelativeTime } from './helpers.js'\n\n/**\n * Create a formatted info box with title and content\n * \n * @param title - The title to display at the top of the box\n * @param content - Content as string or array of stringhost (joined with newlines)\n * @param options - Customization options for the box appearance\n * @param options.borderColor - Color of the border (default: 'cyan')\n * @param options.padding - Internal padding in spaces (default: 1)\n * @param options.width - Fixed width of the box (optional)\n * @returns Formatted box string ready for console output\n * \n * @example\n * ```typescript\n * // Basic info box\n * console.log(infoBox('Status', 'All systems operational'))\n * \n * // Multi-line content\n * console.log(infoBox('Details', ['Line 1', 'Line 2']))\n * \n * // Custom styling\n * console.log(infoBox('Warning', 'Check this!', { borderColor: 'yellow', padding: 2 }))\n * ```\n */\nexport function infoBox(title: string, content: string | string[], options?: {\n  borderColor?: string\n  padding?: number\n  width?: number\n}): string {\n  const {\n    borderColor = 'cyan',\n    padding = 1,\n    width\n  } = options ?? {}\n  \n  const text = Array.isArray(content) ? content.join('\\n') : content\n  \n  return boxen(text, {\n    title,\n    borderColor,\n    borderStyle: 'round',\n    padding,\n    width,\n    titleAlignment: 'left'\n  })\n}\n\n/**\n * Create a success box\n */\nexport function successBox(message: string, details?: string[]): string {\n  let content = chalk.green(' ' + message)\n  if (details && details.length > 0) {\n    content += '\\n\\n' + details.map(d => chalk.gray(' ' + d)).join('\\n')\n  }\n  \n  return boxen(content, {\n    borderColor: 'green',\n    borderStyle: 'round',\n    padding: 1\n  })\n}\n\n/**\n * Create a warning box\n */\nexport function warningBox(message: string, actions?: string[]): string {\n  let content = chalk.yellow('  ' + message)\n  if (actions && actions.length > 0) {\n    content += '\\n\\n' + chalk.bold('Actions:') + '\\n' + \n      actions.map((a, i) => chalk.gray(`${i + 1}. ${a}`)).join('\\n')\n  }\n  \n  return boxen(content, {\n    borderColor: 'yellow',\n    borderStyle: 'round',\n    padding: 1\n  })\n}\n\n/**\n * Create a formatted table\n */\nexport function createTable(headers: string[], options?: {\n  colWidths?: number[]\n  wordWrap?: boolean\n}): Table.Table {\n  const tableOptions: Table.TableConstructorOptions = {\n    head: headers.map(h => chalk.bold(h)),\n    style: {\n      head: ['cyan']\n    }\n  }\n  \n  if (options?.colWidths) {\n    tableOptions.colWidths = options.colWidths\n  }\n  \n  if (options?.wordWrap) {\n    tableOptions.wordWrap = true\n  }\n  \n  return new Table(tableOptions)\n}\n\n/**\n * Format a status with icon\n */\nexport function formatStatus(status: string): string {\n  const statusMap: Record<string, { icon: string; color: 'green' | 'yellow' | 'red' | 'gray' | 'blue' | 'cyan' }> = {\n    'active': { icon: '', color: 'green' },\n    'pending': { icon: '', color: 'yellow' },\n    'completed': { icon: '', color: 'green' },\n    'failed': { icon: '', color: 'red' },\n    'cancelled': { icon: '', color: 'gray' },\n    'disputed': { icon: '', color: 'red' },\n    'open': { icon: '', color: 'blue' },\n    'inprogress': { icon: '', color: 'yellow' }, // Normalized key without underscores/dashes\n    'submitted': { icon: '', color: 'cyan' }\n  }\n  \n  const normalized = status.toLowerCase().replace(/[-_]/g, '')\n  const config = statusMap[normalized] ?? { icon: '', color: 'gray' }\n  \n  // Create a type-safe color mapping\n  const colorMap: Record<string, typeof chalk.green> = {\n    green: chalk.green,\n    yellow: chalk.yellow,\n    red: chalk.red,\n    gray: chalk.gray,\n    blue: chalk.blue,\n    cyan: chalk.cyan\n  }\n  \n  const colorFn = colorMap[config.color] ?? chalk.gray\n  return `${config.icon} ${colorFn(status)}`\n}\n\n/**\n * Format SOL amount with appropriate decimal precision\n * \n * Automatically adjusts decimal places based on the amount size:\n * - Zero amounts: \"0 SOL\"\n * - Very small amounts: \"< 0.0001 SOL\"\n * - Small amounts (< 1): 4 decimal places\n * - Medium amounts (< 100): 3 decimal places\n * - Large amounts: 2 decimal places\n * \n * @param lamports - Amount in lamports (1 SOL = 1,000,000,000 lamports) or pre-formatted string\n * @returns Formatted SOL amount string with appropriate decimals\n * \n * @example\n * ```typescript\n * formatSOL(0) // \"0 SOL\"\n * formatSOL(50000) // \"< 0.0001 SOL\"\n * formatSOL(500000000) // \"0.5000 SOL\"\n * formatSOL(1500000000n) // \"1.500 SOL\"\n * formatSOL(150000000000n) // \"150.00 SOL\"\n * ```\n */\nexport function formatSOL(lamports: bigint | number | string): string {\n  const sol = typeof lamports === 'string' ? lamports : lamportsToSol(BigInt(lamports))\n  const num = parseFloat(sol)\n  \n  if (num === 0) return '0 SOL'\n  if (num < 0.0001) return '< 0.0001 SOL'\n  if (num < 1) return `${num.toFixed(4)} SOL`\n  if (num < 100) return `${num.toFixed(3)} SOL`\n  return `${num.toFixed(2)} SOL`\n}\n\n/**\n * Format an address with copy hint\n */\nexport function formatAddress(address: string, options?: {\n  shorten?: boolean\n  copyHint?: boolean\n}): string {\n  const { shorten = true, copyHint = true } = options ?? {}\n  \n  const display = shorten ? shortenAddress(address, 6) : address\n  const formatted = chalk.cyan(display)\n  \n  if (copyHint) {\n    return `${formatted} ${chalk.gray('(click to copy)')}`\n  }\n  \n  return formatted\n}\n\n/**\n * Format a transaction signature\n */\nexport function formatSignature(signature: string): string {\n  return chalk.cyan(shortenAddress(signature, 8))\n}\n\n/**\n * Format a timestamp\n */\nexport function formatTimestamp(timestamp: number | bigint, relative = false): string {\n  const ts = Number(timestamp)\n  \n  if (relative) {\n    return chalk.gray(formatRelativeTime(ts))\n  }\n  \n  return chalk.gray(formatDate(ts))\n}\n\n/**\n * Create a progress bar\n */\nexport function progressBar(current: number, total: number, width = 30): string {\n  const percentage = Math.round((current / total) * 100)\n  const filled = Math.round((current / total) * width)\n  const empty = width - filled\n  \n  const bar = chalk.green(''.repeat(filled)) + chalk.gray(''.repeat(empty))\n  \n  return `${bar} ${percentage}%`\n}\n\n/**\n * Format a list with bullets\n */\nexport function bulletList(items: string[], options?: {\n  indent?: number\n  bullet?: string\n}): string {\n  const { indent = 2, bullet = '' } = options ?? {}\n  const spaces = ' '.repeat(indent)\n  \n  return items.map(item => `${spaces}${chalk.gray(bullet)} ${item}`).join('\\n')\n}\n\n/**\n * Create a summary card\n */\nexport function summaryCard(title: string, items: Array<{ label: string; value: string }>): string {\n  const maxLabelLength = Math.max(...items.map(i => i.label.length))\n  \n  const content = items.map(({ label, value }) => {\n    const paddedLabel = label.padEnd(maxLabelLength)\n    return `${chalk.gray(paddedLabel)} : ${chalk.white(value)}`\n  }).join('\\n')\n  \n  return infoBox(title, content)\n}\n\n/**\n * Format a QR code placeholder (actual QR generation would require additional library)\n */\nexport function formatQRPlaceholder(data: string, label?: string): string {\n  const placeholder = `\n\n    \n       \n    \n   \n   \n`\n  \n  if (label) {\n    return `${placeholder}\\n${chalk.gray(label)}`\n  }\n  \n  return placeholder\n}\n\n/**\n * Create a divider line\n */\nexport function divider(length = 50, char = ''): string {\n  return chalk.gray(char.repeat(length))\n}\n\n/**\n * Format key-value pairs\n */\nexport function keyValue(key: string, value: string, options?: {\n  keyColor?: string\n  valueColor?: string\n  separator?: string\n}): string {\n  const {\n    keyColor = 'gray',\n    valueColor = 'white',\n    separator = ':'\n  } = options ?? {}\n  \n  // Create a type-safe color mapping\n  const colorMap: Record<string, typeof chalk.green> = {\n    green: chalk.green,\n    yellow: chalk.yellow,\n    red: chalk.red,\n    gray: chalk.gray,\n    blue: chalk.blue,\n    cyan: chalk.cyan,\n    white: chalk.white,\n    black: chalk.black,\n    magenta: chalk.magenta\n  }\n  \n  const keyColorFn = colorMap[keyColor] ?? chalk.gray\n  const valueColorFn = colorMap[valueColor] ?? chalk.white\n  \n  return `${keyColorFn(key)}${separator} ${valueColorFn(value)}`\n}\n\n/**\n * Create a step indicator\n */\nexport function stepIndicator(current: number, total: number, label?: string): string {\n  const steps = Array.from({ length: total }, (_, i) => {\n    if (i < current - 1) return chalk.green('')\n    if (i === current - 1) return chalk.yellow('')\n    return chalk.gray('')\n  }).join(' ')\n  \n  const text = `Step ${current} of ${total}`\n  \n  if (label) {\n    return `${steps}  ${chalk.bold(text)} - ${label}`\n  }\n  \n  return `${steps}  ${chalk.bold(text)}`\n}","/**\n * Credentials management command\n * Syncs agent identity to EVM (Crossmint)\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport { \n  intro, \n  outro, \n  text, \n  spinner,\n  isCancel,\n  cancel,\n  select\n} from '@clack/prompts'\nimport { container, ServiceTokens } from '../core/Container.js'\nimport type { IWalletService } from '../types/services.js'\nimport { GhostSpeakClient, CredentialModule } from '@ghostspeak/sdk'\nimport type { Address } from '@solana/addresses'\n// Import legacy web3 for Keypair compatibility if needed, but SDK uses signers\nimport { createKeyPairSignerFromBytes } from '@solana/kit'\nimport { getAddressFromPublicKey } from '@solana/addresses'\n// Usage of bs58 for key decoding if needed\nimport bs58 from 'bs58'\n\nexport const credentialsCommand = new Command('credentials')\n  .description('Manage verifiable credentials and cross-chain sync')\n\ncredentialsCommand\n  .command('sync')\n  .description('Sync agent identity to EVM via Crossmint')\n  .option('--agent-id <id>', 'Agent ID to sync')\n  .option('--crossmint-key <key>', 'Crossmint API Key')\n  .option('--recipient <email>', 'Recipient email for EVM credential')\n  .option('--network <network>', 'Target network (base-sepolia, polygon-amoy)', 'base-sepolia')\n  .action(async (options) => {\n    intro(chalk.cyan(' Cross-Chain Credential Sync'))\n\n    try {\n      // 1. Get Wallet\n      const walletService = container.resolve<IWalletService>(ServiceTokens.WALLET_SERVICE)\n      const wallet = walletService.getActiveWalletInterface()\n      \n      if (!wallet) {\n        cancel(chalk.red('No active wallet found. Please select a wallet first.'))\n        return\n      }\n\n      // 2. Collect Inputs\n      const agentId = options.agentId || await text({\n        message: 'Enter Agent ID:',\n        validate: (val) => !val ? 'Agent ID is required' : undefined\n      })\n      if (isCancel(agentId)) return\n\n      const crossmintKey = options.crossmintKey || process.env.CROSSMINT_API_KEY || await text({\n        message: 'Enter Crossmint API Key:',\n        validate: (val) => !val ? 'API Key is required' : undefined\n      })\n      if (isCancel(crossmintKey)) return\n\n      const recipient = options.recipient || await text({\n        message: 'Enter Recipient Email (for EVM wallet lookup):',\n        validate: (val) => !val ? 'Email is required' : undefined\n      })\n      if (isCancel(recipient)) return\n\n      const s = spinner()\n      s.start('Initializing SDK...')\n\n      // 3. Initialize SDK\n      // Note: In a real CLI we might already have a shared client, but here we config for Crossmint\n      const client = new GhostSpeakClient({\n        // We can reuse existing config or defaults\n      })\n\n      // 4. Prepare Subject Data\n      const subjectData = CredentialModule.buildAgentIdentitySubject({\n        agentId: agentId as string,\n        owner: wallet.address as string,\n        name: `Agent ${agentId}`, // In real world fetch this from chain\n        capabilities: ['ghostspeak:agent'],\n        serviceEndpoint: 'https://ghostspeak.io/agents/' + agentId,\n        frameworkOrigin: 'ghostspeak-cli',\n        registeredAt: Math.floor(Date.now() / 1000),\n        verifiedAt: Math.floor(Date.now() / 1000)\n      })\n\n      // 5. Sign Data\n      s.message('Signing credential...')\n      \n      // We need to sign the HASH of the subject data + Credential ID\n      // Re-instantiate module locally to use helpers\n      const credModule = new CredentialModule(client.getProgramId())\n      const dataHash = credModule.hashSubjectData(subjectData as unknown as Record<string, unknown>)\n      \n      // In a real implementation we would sign the full credential structure hash\n      // For this demo/MVP we sign the subject data hash\n      const signature = await wallet.signMessage(dataHash)\n\n      // 6. Call Service\n      s.message('Syncing to Crossmint...')\n      \n      // Configure service\n      const service = client.credentials()\n      // We need to inject the key - cleaner way would be via client config but we can't easily update client config on the fly without private access\n      // So we instantiate Service directly OR we re-create client\n      \n      const syncClient = new GhostSpeakClient({\n        cluster: 'devnet', // Default\n        credentials: {\n          crossmintApiKey: crossmintKey as string,\n          crossmintChain: options.network,\n          templates: {\n             agentIdentity: 'default-identity-template-id' // Ideally fetched or prompted\n          }\n        }\n      })\n      \n      // Prompt for Template ID if we want to be precise, or use a default/placeholder\n      // For this \"intuitiveness\" pass, we assume the user might not know it.\n      // The Service requires it in config. \n      // If we don't have it, sync will fail or we need to Create it on the fly.\n      // CrossmintVCClient has createTemplate logic!\n      // But UnifiedCredentialService assumes it is passed.\n      \n      // Let's TRY to issue. If template missing, it might fail.\n      // BETTER: \"Productization\" -> CLI should probably check/create template automatically?\n      // For now, let's assume a hardcoded template ID or ask user.\n      // To keep it \"intuitive\", maybe we just use a default?\n      // I will add a prompt for Template ID if not provided, defaulting to \"placeholder\".\n      \n      // Re-init client with explicit config for this run\n      const finalClient = new GhostSpeakClient({\n         ...client['config'], // Hacky to access private, better to just clean init\n         credentials: {\n            crossmintApiKey: crossmintKey as string,\n            crossmintChain: options.network,\n            templates: {\n               agentIdentity: process.env.CROSSMINT_TEMPLATE_ID || '00000000-0000-0000-0000-000000000000'\n            }\n         }\n      })\n\n      const result = await finalClient.credentials().issueAgentIdentityCredential({\n        agentId: agentId as string,\n        owner: wallet.address as string,\n        name: `Agent ${agentId}`,\n        capabilities: ['ghostspeak:agent'],\n        serviceEndpoint: 'https://ghostspeak.io',\n        frameworkOrigin: 'cli',\n        registeredAt: Math.floor(Date.now() / 1000),\n        verifiedAt: Math.floor(Date.now() / 1000),\n        recipientEmail: recipient as string,\n        syncToCrossmint: true,\n        signature: signature\n      })\n\n      s.stop(' Sync Complete')\n\n      console.log(chalk.bold('\\n Credential Synced!'))\n      console.log(chalk.gray('Solana Credential ID: ') + result.solanaCredential.credentialId)\n      \n      if (result.crossmintSync?.status === 'synced') {\n        console.log(chalk.green(' Crossmint Sync: Success'))\n        console.log(chalk.gray('EVM Credential ID: ') + result.crossmintSync.credentialId)\n        console.log(chalk.gray('Chain: ') + result.crossmintSync.chain)\n      } else {\n        console.log(chalk.red(' Crossmint Sync: Failed'))\n        console.log(chalk.red(result.crossmintSync?.error))\n      }\n\n    } catch (error) {\n       cancel(chalk.red('Operation failed: ' + (error instanceof Error ? error.message : 'Unknown error')))\n    }\n  })\n","/**\n * Reputation management command\n * View, update, and track Ghost Score reputation\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl } from '../utils/client.js'\nimport { handleError } from '../utils/error-handler.js'\nimport { createSafeSDKClient } from '../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { Address } from '@solana/addresses'\n\n// Type definitions\ninterface GetOptions {\n  agent?: string\n  json?: boolean\n  detailed?: boolean\n}\n\ninterface UpdateOptions {\n  agent?: string\n  score?: string\n}\n\ninterface HistoryOptions {\n  agent?: string\n  limit?: string\n  json?: boolean\n}\n\nexport const reputationCommand = new Command('reputation')\n  .description('Manage Ghost Score reputation')\n\n// Get reputation subcommand\nreputationCommand\n  .command('get')\n  .description('Get Ghost Score for an agent')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('--json', 'Output as JSON')\n  .option('--detailed', 'Show detailed breakdown')\n  .action(async (options: GetOptions) => {\n    intro(chalk.cyan(' Get Ghost Score'))\n\n    try {\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Operation cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      const s = spinner()\n      s.start('Fetching Ghost Score from blockchain...')\n\n      const { client } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      const agentAddr = address(agentAddress)\n      const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n      if (!agentData) {\n        s.stop(' Agent not found')\n        outro(chalk.red(`No agent found at address: ${agentAddress}`))\n        return\n      }\n\n      s.stop(' Ghost Score loaded')\n\n      // Calculate Ghost Score metrics\n      const reputationScore = Number(agentData.reputationScore || 0)\n      const ghostScore = Math.min(1000, Math.round(reputationScore / 100))\n      const totalJobs = Number(agentData.totalJobsCompleted || 0)\n      const totalJobsFailed = Number(agentData.totalJobsFailed || 0)\n      const totalJobsAll = totalJobs + totalJobsFailed\n      const successRate = totalJobsAll > 0 ? Math.round((totalJobs / totalJobsAll) * 100) : 0\n\n      // Determine tier\n      const tier = ghostScore >= 900 ? 'PLATINUM' :\n                   ghostScore >= 750 ? 'GOLD' :\n                   ghostScore >= 500 ? 'SILVER' :\n                   ghostScore >= 200 ? 'BRONZE' : 'NEWCOMER'\n\n      const tierColor = tier === 'PLATINUM' ? chalk.gray :\n                       tier === 'GOLD' ? chalk.yellow :\n                       tier === 'SILVER' ? chalk.white :\n                       tier === 'BRONZE' ? chalk.red : chalk.blue\n\n      // Calculate detailed breakdown (if requested)\n      let breakdown: any = null\n      if (options.detailed) {\n        // Success rate component (40%)\n        const successComponent = Math.round(successRate * 0.4)\n\n        // Service quality component (30%) - estimated from ghost score\n        const serviceQuality = Math.min(100, Math.round((ghostScore / 10) * 1.2))\n        const serviceComponent = Math.round(serviceQuality * 0.3)\n\n        // Response time component (20%) - placeholder\n        const responseTime = 95 // Would come from actual metrics\n        const responseComponent = Math.round(responseTime * 0.2)\n\n        // Volume consistency component (10%)\n        const volumeConsistency = Math.min(100, Math.round((totalJobs / 100) * 100))\n        const volumeComponent = Math.round(volumeConsistency * 0.1)\n\n        breakdown = {\n          successRate: { value: successRate, weight: 40, contribution: successComponent },\n          serviceQuality: { value: serviceQuality, weight: 30, contribution: serviceComponent },\n          responseTime: { value: responseTime, weight: 20, contribution: responseComponent },\n          volumeConsistency: { value: volumeConsistency, weight: 10, contribution: volumeComponent },\n        }\n      }\n\n      // JSON output\n      if (options.json) {\n        console.log(JSON.stringify({\n          address: agentAddr.toString(),\n          agentName: agentData.name,\n          ghostScore,\n          tier,\n          reputationScore,\n          totalJobsCompleted: totalJobs,\n          totalJobsFailed,\n          successRate,\n          breakdown\n        }, null, 2))\n        return\n      }\n\n      // Display Ghost Score\n      if (options.detailed) {\n        // Build tier benefits string\n        let tierBenefits = ''\n        if (tier === 'PLATINUM') {\n          tierBenefits = `${chalk.gray(' Unlimited job value')}\\n${chalk.gray(' 0% escrow deposit')}\\n${chalk.gray(' Instant payment release')}\\n${chalk.gray(' Elite verified badge')}`\n        } else if (tier === 'GOLD') {\n          tierBenefits = `${chalk.gray(' Jobs up to $10,000')}\\n${chalk.gray(' 0% escrow deposit')}\\n${chalk.gray(' Gold verified badge')}\\n${chalk.gray(' Premium marketplace access')}`\n        } else if (tier === 'SILVER') {\n          tierBenefits = `${chalk.gray(' Jobs up to $1,000')}\\n${chalk.gray(' 15% escrow deposit')}\\n${chalk.gray(' Priority listing')}\\n${chalk.gray(' Featured agent badge')}`\n        } else if (tier === 'BRONZE') {\n          tierBenefits = `${chalk.gray(' Jobs up to $100')}\\n${chalk.gray(' 25% escrow deposit')}\\n${chalk.gray(' Standard listing')}\\n${chalk.gray(' Bronze badge')}`\n        } else if (tier === 'NEWCOMER') {\n          tierBenefits = `${chalk.gray(' Jobs up to $100')}\\n${chalk.gray(' 25% escrow deposit')}\\n${chalk.gray(' Building initial reputation')}\\n${chalk.gray(' Newcomer badge')}`\n        }\n\n        outro(\n          `${chalk.bold.cyan(`${agentData.name || 'Agent'}'s Ghost Score`)}\\n\\n` +\n          `${chalk.bold('Overall Score:')}\\n` +\n          `${chalk.gray('Ghost Score:')} ${tierColor(`${ghostScore}/1000`)} (${tierColor.bold(tier)})\\n` +\n          `${chalk.gray('Reputation Score:')} ${reputationScore} basis points\\n\\n` +\n          `${chalk.bold('Score Breakdown:')}\\n` +\n          `${chalk.gray('Success Rate (40%):')} ${breakdown.successRate.value}%  ${breakdown.successRate.contribution} points\\n` +\n          `${chalk.gray('Service Quality (30%):')} ${breakdown.serviceQuality.value}%  ${breakdown.serviceQuality.contribution} points\\n` +\n          `${chalk.gray('Response Time (20%):')} ${breakdown.responseTime.value}%  ${breakdown.responseTime.contribution} points\\n` +\n          `${chalk.gray('Volume (10%):')} ${breakdown.volumeConsistency.value}%  ${breakdown.volumeConsistency.contribution} points\\n\\n` +\n          `${chalk.bold('Job Statistics:')}\\n` +\n          `${chalk.gray('Completed:')} ${totalJobs}\\n` +\n          `${chalk.gray('Failed:')} ${totalJobsFailed}\\n` +\n          `${chalk.gray('Success Rate:')} ${successRate}%\\n\\n` +\n          `${chalk.bold('Tier Benefits:')}\\n` +\n          tierBenefits\n        )\n      } else {\n        outro(\n          `${chalk.bold.cyan(`${agentData.name || 'Agent'}'s Ghost Score`)}\\n\\n` +\n          `${chalk.gray('Ghost Score:')} ${tierColor(`${ghostScore}/1000`)} (${tierColor.bold(tier)})\\n` +\n          `${chalk.gray('Jobs Completed:')} ${totalJobs}\\n` +\n          `${chalk.gray('Success Rate:')} ${successRate}%\\n\\n` +\n          `${chalk.yellow(' Tip: Use')} ${chalk.cyan('--detailed')} ${chalk.yellow('for full breakdown')}`\n        )\n      }\n\n    } catch (error) {\n      log.error(`Failed to get Ghost Score: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Update reputation subcommand (for testing/development)\nreputationCommand\n  .command('update')\n  .description('Update reputation score (development only)')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('-s, --score <score>', 'New reputation score (basis points)')\n  .action(async (options: UpdateOptions) => {\n    intro(chalk.yellow('  Update Reputation (Dev Only)'))\n\n    log.warn(\n      chalk.yellow('  WARNING: ') +\n      'This command is for development/testing only.\\n' +\n      'In production, Ghost Score is updated automatically based on job performance.'\n    )\n\n    try {\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Update cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      // Get new score\n      let newScore = options.score\n      if (!newScore) {\n        const scoreInput = await text({\n          message: 'New reputation score (0-100000 basis points):',\n          placeholder: '50000 (500 Ghost Score)',\n          validate: (value) => {\n            if (!value) return 'Score is required'\n            const score = parseInt(value)\n            if (isNaN(score) || score < 0 || score > 100000) {\n              return 'Score must be between 0 and 100000'\n            }\n          }\n        })\n\n        if (isCancel(scoreInput)) {\n          cancel('Update cancelled')\n          return\n        }\n\n        newScore = scoreInput.toString()\n      }\n\n      const scoreBps = parseInt(newScore)\n      const ghostScore = Math.min(1000, Math.round(scoreBps / 100))\n\n      const confirmUpdate = await confirm({\n        message: `Set Ghost Score to ${ghostScore}/1000 (${scoreBps} bps)?`\n      })\n\n      if (isCancel(confirmUpdate) || !confirmUpdate) {\n        cancel('Update cancelled')\n        return\n      }\n\n      log.warn('Reputation update functionality not yet implemented in SDK.')\n      log.info('In production, Ghost Score updates automatically based on job completion and ratings.')\n\n      outro(\n        `${chalk.yellow('Update Pending')}\\n\\n` +\n        'Reputation updates will be automatic once the platform is live.\\n\\n' +\n        'To influence your Ghost Score:\\n' +\n        ` Complete jobs successfully\\n` +\n        ` Maintain high service quality\\n` +\n        ` Respond quickly to requests\\n` +\n        ` Build consistent volume`\n      )\n\n    } catch (error) {\n      log.error(`Failed to update reputation: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// History subcommand\nreputationCommand\n  .command('history')\n  .description('View reputation history for an agent')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('-l, --limit <limit>', 'Maximum number of entries to display', '10')\n  .option('--json', 'Output as JSON')\n  .action(async (options: HistoryOptions) => {\n    intro(chalk.blue(' Reputation History'))\n\n    try {\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Operation cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      const s = spinner()\n      s.start('Fetching reputation history...')\n\n      const { client } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      const agentAddr = address(agentAddress)\n\n      // Note: SDK might not have a reputation history method yet\n      // This is a placeholder showing what would be displayed\n\n      s.stop('  Reputation history API not yet available')\n\n      log.warn('Reputation history tracking is not yet implemented in the SDK.')\n      log.info('This feature will track:')\n      log.info(' Ghost Score changes over time')\n      log.info(' Job completions and ratings')\n      log.info(' Tier upgrades/downgrades')\n      log.info(' Reputation milestones')\n\n      outro(\n        `${chalk.yellow('History Coming Soon')}\\n\\n` +\n        'In the meantime, you can:\\n' +\n        ` Check current score: ${chalk.cyan('ghost reputation get --agent ' + agentAddr.toString().slice(0, 8) + '...')}\\n` +\n        ` View agent details: ${chalk.cyan('ghost agent get --agent ' + agentAddr.toString().slice(0, 8) + '...')}`\n      )\n\n    } catch (error) {\n      log.error(`Failed to get reputation history: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Default action - show available commands\nreputationCommand\n  .action(async () => {\n    intro(chalk.blue(' GhostSpeak Reputation Management'))\n\n    log.info(`\\n${chalk.bold('Available Commands:')}\\n`)\n    log.info(`${chalk.cyan('ghost reputation get')} - Get Ghost Score for an agent`)\n    log.info(`${chalk.cyan('ghost reputation update')} - Update reputation (dev only)`)\n    log.info(`${chalk.cyan('ghost reputation history')} - View reputation history`)\n\n    outro('Use --help with any command for more details')\n  })\n","/**\n * GHOST Token Staking command\n * Stake/unstake GHOST tokens, claim rewards, check balances\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl, toSDKSigner } from '../utils/client.js'\nimport { handleError } from '../utils/error-handler.js'\nimport { createSafeSDKClient } from '../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { Address } from '@solana/addresses'\n\n// Type definitions\ninterface StakeOptions {\n  agent?: string\n  amount?: string\n}\n\ninterface UnstakeOptions {\n  agent?: string\n  amount?: string\n}\n\ninterface RewardsOptions {\n  agent?: string\n  claim?: boolean\n  json?: boolean\n}\n\ninterface BalanceOptions {\n  agent?: string\n  json?: boolean\n}\n\n// Tier thresholds (in GHOST tokens)\nconst TIER_THRESHOLDS = {\n  1: 1000,\n  2: 5000,\n  3: 10000,\n  4: 25000,\n  5: 50000\n}\n\nfunction calculateStakingTier(amountStaked: number): number {\n  if (amountStaked >= TIER_THRESHOLDS[5]) return 5\n  if (amountStaked >= TIER_THRESHOLDS[4]) return 4\n  if (amountStaked >= TIER_THRESHOLDS[3]) return 3\n  if (amountStaked >= TIER_THRESHOLDS[2]) return 2\n  if (amountStaked >= TIER_THRESHOLDS[1]) return 1\n  return 0\n}\n\nfunction getTierBenefits(tier: number): string[] {\n  const benefits: { [key: number]: string[] } = {\n    0: ['No benefits', 'Stake 1,000 GHOST to unlock Tier 1'],\n    1: ['5% reputation boost', '10% APY', 'Basic governance voting'],\n    2: ['10% reputation boost', '15% APY', 'Enhanced governance voting', 'Priority support'],\n    3: ['15% reputation boost', '20% APY', 'Full governance rights', 'Premium support', 'Early feature access'],\n    4: ['20% reputation boost', '25% APY', 'Weighted governance voting', 'Dedicated support', 'Beta features'],\n    5: ['25% reputation boost', '30% APY', 'Maximum governance power', 'VIP support', 'Revenue sharing', 'Advisory board consideration']\n  }\n  return benefits[tier] || benefits[0]\n}\n\nexport const stakingCommand = new Command('staking')\n  .description('Manage GHOST token staking')\n\n// Stake subcommand\nstakingCommand\n  .command('stake')\n  .description('Stake GHOST tokens for an agent')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('--amount <amount>', 'Amount of GHOST to stake')\n  .action(async (options: StakeOptions) => {\n    intro(chalk.cyan(' Stake GHOST Tokens'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address to stake for:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Staking cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      const agentAddr = address(agentAddress)\n\n      // Verify agent exists\n      s.start('Verifying agent...')\n      const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n      if (!agentData) {\n        s.stop(' Agent not found')\n        outro(chalk.red(`No agent found at address: ${agentAddress}`))\n        return\n      }\n\n      s.stop(' Agent verified')\n\n      // Get staking amount\n      let amount = options.amount\n      if (!amount) {\n        const amountInput = await text({\n          message: 'Amount of GHOST to stake:',\n          placeholder: '1000',\n          validate: (value) => {\n            if (!value) return 'Amount is required'\n            const amt = parseFloat(value)\n            if (isNaN(amt) || amt <= 0) {\n              return 'Amount must be a positive number'\n            }\n            if (amt < 100) {\n              return 'Minimum stake is 100 GHOST'\n            }\n          }\n        })\n\n        if (isCancel(amountInput)) {\n          cancel('Staking cancelled')\n          return\n        }\n\n        amount = amountInput.toString()\n      }\n\n      const stakeAmount = parseFloat(amount)\n      const currentTier = calculateStakingTier(stakeAmount)\n      const nextTierThreshold = TIER_THRESHOLDS[currentTier + 1 as keyof typeof TIER_THRESHOLDS]\n\n      // Show staking preview\n      note(\n        `${chalk.bold('Staking Details:')}\\n` +\n        `${chalk.gray('Agent:')} ${agentData.name}\\n` +\n        `${chalk.gray('Amount:')} ${stakeAmount.toLocaleString()} GHOST\\n` +\n        `${chalk.gray('Tier After Stake:')} ${currentTier}/5\\n` +\n        `${nextTierThreshold ? chalk.gray(`Next Tier: `) + (nextTierThreshold - stakeAmount).toLocaleString() + ` GHOST more\\n` : ''}` +\n        `${chalk.bold('\\nBenefits:')}\\n` +\n        getTierBenefits(currentTier).map(b => `${chalk.gray('')} ${b}`).join('\\n'),\n        'Staking Preview'\n      )\n\n      const confirmStake = await confirm({\n        message: `Stake ${stakeAmount.toLocaleString()} GHOST?`\n      })\n\n      if (isCancel(confirmStake) || !confirmStake) {\n        cancel('Staking cancelled')\n        return\n      }\n\n      s.start('Staking GHOST tokens on blockchain...')\n\n      try {\n        // Convert GHOST to lamports (assuming 9 decimals like SOL)\n        const lamports = BigInt(Math.round(stakeAmount * 1_000_000_000))\n\n        // Note: SDK method signature might vary - adjust as needed\n        log.warn('Staking functionality integration pending. SDK staking module ready.')\n\n        // Placeholder for actual staking call\n        // const signature = await safeClient.staking.stake(toSDKSigner(wallet), {\n        //   agentAddress: agentAddr,\n        //   amount: lamports\n        // })\n\n        s.stop('  Staking method not yet connected to CLI')\n\n        outro(\n          `${chalk.yellow('Staking Pending')}\\n\\n` +\n          `Your stake of ${stakeAmount.toLocaleString()} GHOST for ${agentData.name} will be processed.\\n\\n` +\n          `${chalk.bold('Expected Benefits:')}\\n` +\n          `${chalk.gray('')} Tier ${currentTier}/5 staking tier\\n` +\n          `${chalk.gray('')} ${getTierBenefits(currentTier)[0]}\\n` +\n          `${chalk.gray('')} ${getTierBenefits(currentTier)[1]}\\n\\n` +\n          `${chalk.gray('Note: Staking CLI integration coming soon.')}\\n` +\n          `${chalk.gray('Web dashboard already supports staking: ')}${chalk.cyan('https://ghostspeak.io/dashboard/staking')}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to stake tokens')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to stake: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Unstake subcommand\nstakingCommand\n  .command('unstake')\n  .description('Unstake GHOST tokens')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('--amount <amount>', 'Amount of GHOST to unstake')\n  .action(async (options: UnstakeOptions) => {\n    intro(chalk.yellow(' Unstake GHOST Tokens'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address to unstake from:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Unstaking cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      const agentAddr = address(agentAddress)\n\n      // Note: Would fetch current staking account here\n      log.warn('Unstaking functionality pending SDK integration.')\n\n      // Get unstaking amount\n      let amount = options.amount\n      if (!amount) {\n        const amountInput = await text({\n          message: 'Amount of GHOST to unstake:',\n          placeholder: '500',\n          validate: (value) => {\n            if (!value) return 'Amount is required'\n            const amt = parseFloat(value)\n            if (isNaN(amt) || amt <= 0) {\n              return 'Amount must be a positive number'\n            }\n          }\n        })\n\n        if (isCancel(amountInput)) {\n          cancel('Unstaking cancelled')\n          return\n        }\n\n        amount = amountInput.toString()\n      }\n\n      const unstakeAmount = parseFloat(amount)\n\n      // Show unstaking warning\n      note(\n        `${chalk.bold('  Unstaking Warning:')}\\n` +\n        `${chalk.gray('Amount:')} ${unstakeAmount.toLocaleString()} GHOST\\n` +\n        `${chalk.gray('Cooldown Period:')} 7 days\\n` +\n        `${chalk.gray('Impact:')} Reduced reputation boost\\n` +\n        `${chalk.gray('Impact:')} Lower APY on remaining stake\\n\\n` +\n        `${chalk.yellow('Benefits will be reduced immediately, but tokens unlock after 7 days.')}`,\n        'Unstaking Impact'\n      )\n\n      const confirmUnstake = await confirm({\n        message: `Unstake ${unstakeAmount.toLocaleString()} GHOST?`\n      })\n\n      if (isCancel(confirmUnstake) || !confirmUnstake) {\n        cancel('Unstaking cancelled')\n        return\n      }\n\n      s.start('Unstaking GHOST tokens...')\n\n      try {\n        log.warn('Unstaking method not yet connected to CLI.')\n\n        s.stop('  Unstaking pending SDK integration')\n\n        outro(\n          `${chalk.yellow('Unstaking Pending')}\\n\\n` +\n          `Your request to unstake ${unstakeAmount.toLocaleString()} GHOST will be processed.\\n\\n` +\n          `${chalk.gray('Cooldown: 7 days')}\\n` +\n          `${chalk.gray('Web dashboard: ')}${chalk.cyan('https://ghostspeak.io/dashboard/staking')}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to unstake tokens')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to unstake: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Rewards subcommand\nstakingCommand\n  .command('rewards')\n  .description('View or claim staking rewards')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('--claim', 'Claim rewards instead of just viewing')\n  .option('--json', 'Output as JSON')\n  .action(async (options: RewardsOptions) => {\n    intro(options.claim ? chalk.green(' Claim Staking Rewards') : chalk.blue(' View Staking Rewards'))\n\n    try {\n      const s = spinner()\n      s.start('Fetching staking rewards...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress && options.claim) {\n        const addressInput = await text({\n          message: 'Agent address:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Operation cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      // Note: Would fetch staking account and calculate rewards here\n      log.warn('Rewards calculation not yet integrated with SDK.')\n\n      s.stop('  Rewards API pending')\n\n      // Mock rewards data for demonstration\n      const mockRewards = {\n        pendingRewards: 125.50,\n        claimedRewards: 450.25,\n        estimatedAPY: 20,\n        lastClaimed: new Date().toISOString(),\n      }\n\n      if (options.json) {\n        console.log(JSON.stringify(mockRewards, null, 2))\n        return\n      }\n\n      outro(\n        `${chalk.bold.cyan('Staking Rewards')}\\n\\n` +\n        `${chalk.gray('Pending Rewards:')} ${mockRewards.pendingRewards.toLocaleString()} GHOST\\n` +\n        `${chalk.gray('Claimed Rewards:')} ${mockRewards.claimedRewards.toLocaleString()} GHOST\\n` +\n        `${chalk.gray('Current APY:')} ${mockRewards.estimatedAPY}%\\n` +\n        `${chalk.gray('Last Claimed:')} ${new Date(mockRewards.lastClaimed).toLocaleDateString()}\\n\\n` +\n        `${chalk.yellow(' Tip: Use')} ${chalk.cyan('--claim')} ${chalk.yellow('to claim rewards')}\\n` +\n        `${chalk.gray('Web dashboard: ')}${chalk.cyan('https://ghostspeak.io/dashboard/staking')}`\n      )\n\n    } catch (error) {\n      log.error(`Failed to get rewards: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Balance subcommand\nstakingCommand\n  .command('balance')\n  .description('Check GHOST token balance and staking status')\n  .option('-a, --agent <address>', 'Agent address (optional)')\n  .option('--json', 'Output as JSON')\n  .action(async (options: BalanceOptions) => {\n    intro(chalk.blue(' GHOST Token Balance'))\n\n    try {\n      const s = spinner()\n      s.start('Fetching balances...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop('  Balance API pending integration')\n\n      // Mock balance data\n      const mockBalance = {\n        walletBalance: 5000,\n        stakedBalance: 10000,\n        pendingRewards: 125.50,\n        totalValue: 15125.50,\n      }\n\n      if (options.json) {\n        console.log(JSON.stringify(mockBalance, null, 2))\n        return\n      }\n\n      outro(\n        `${chalk.bold.cyan('GHOST Token Balance')}\\n\\n` +\n        `${chalk.gray('Wallet:')} ${mockBalance.walletBalance.toLocaleString()} GHOST\\n` +\n        `${chalk.gray('Staked:')} ${mockBalance.stakedBalance.toLocaleString()} GHOST\\n` +\n        `${chalk.gray('Pending Rewards:')} ${mockBalance.pendingRewards.toLocaleString()} GHOST\\n` +\n        `${chalk.gray('Total Value:')} ${mockBalance.totalValue.toLocaleString()} GHOST\\n\\n` +\n        `${chalk.bold('Staking Status:')}\\n` +\n        `${chalk.gray('Tier:')} ${calculateStakingTier(mockBalance.stakedBalance)}/5\\n` +\n        `${chalk.gray('Reputation Boost:')} ${calculateStakingTier(mockBalance.stakedBalance) * 5}%\\n` +\n        `${chalk.gray('APY:')} ${10 + calculateStakingTier(mockBalance.stakedBalance) * 5}%\\n\\n` +\n        `${chalk.yellow(' Commands:')}\\n` +\n        `${chalk.cyan('ghost staking stake')} - Stake more GHOST\\n` +\n        `${chalk.cyan('ghost staking rewards --claim')} - Claim pending rewards`\n      )\n\n    } catch (error) {\n      log.error(`Failed to get balance: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Default action - show available commands\nstakingCommand\n  .action(async () => {\n    intro(chalk.blue(' GhostSpeak GHOST Token Staking'))\n\n    log.info(`\\n${chalk.bold('Available Commands:')}\\n`)\n    log.info(`${chalk.cyan('ghost staking stake')} - Stake GHOST tokens for reputation boost`)\n    log.info(`${chalk.cyan('ghost staking unstake')} - Unstake GHOST tokens (7-day cooldown)`)\n    log.info(`${chalk.cyan('ghost staking rewards')} - View or claim staking rewards`)\n    log.info(`${chalk.cyan('ghost staking balance')} - Check GHOST balance and staking status`)\n\n    note(\n      `${chalk.bold('Staking Tiers:')}\\n` +\n      `${chalk.gray('Tier 1:')} 1,000 GHOST (5% boost, 10% APY)\\n` +\n      `${chalk.gray('Tier 2:')} 5,000 GHOST (10% boost, 15% APY)\\n` +\n      `${chalk.gray('Tier 3:')} 10,000 GHOST (15% boost, 20% APY)\\n` +\n      `${chalk.gray('Tier 4:')} 25,000 GHOST (20% boost, 25% APY)\\n` +\n      `${chalk.gray('Tier 5:')} 50,000+ GHOST (25% boost, 30% APY)`,\n      'Tier System'\n    )\n\n    outro('Use --help with any command for more details')\n  })\n","/**\n * Privacy management command\n * Configure Ghost Score visibility and privacy settings\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl, toSDKSigner } from '../utils/client.js'\nimport { handleError } from '../utils/error-handler.js'\nimport { createSafeSDKClient } from '../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { Address } from '@solana/addresses'\n\n// Type definitions\ninterface SetOptions {\n  agent?: string\n  mode?: string\n  'score-visible'?: boolean | string\n  'tier-visible'?: boolean | string\n}\n\ninterface GetOptions {\n  agent?: string\n  json?: boolean\n}\n\ninterface PresetsOptions {\n  agent?: string\n  preset?: string\n}\n\n// Privacy mode descriptions\nconst PRIVACY_MODES = {\n  public: {\n    name: 'Public',\n    description: 'All reputation data visible to everyone',\n    scoreVisible: true,\n    tierVisible: true,\n    metricsVisible: true,\n    emoji: ''\n  },\n  selective: {\n    name: 'Selective',\n    description: 'Show tier only, hide exact score',\n    scoreVisible: false,\n    tierVisible: true,\n    metricsVisible: false,\n    emoji: ''\n  },\n  private: {\n    name: 'Private',\n    description: 'Hide score and tier, show only verified status',\n    scoreVisible: false,\n    tierVisible: false,\n    metricsVisible: false,\n    emoji: ''\n  },\n  anonymous: {\n    name: 'Anonymous',\n    description: 'Hide all reputation data',\n    scoreVisible: false,\n    tierVisible: false,\n    metricsVisible: false,\n    emoji: ''\n  }\n}\n\nexport const privacyCommand = new Command('privacy')\n  .description('Manage Ghost Score privacy settings')\n\n// Set privacy subcommand\nprivacyCommand\n  .command('set')\n  .description('Configure privacy settings for an agent')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('-m, --mode <mode>', 'Privacy mode (public, selective, private, anonymous)')\n  .option('--score-visible <boolean>', 'Make exact score visible (true/false)')\n  .option('--tier-visible <boolean>', 'Make tier visible (true/false)')\n  .action(async (options: SetOptions) => {\n    intro(chalk.cyan(' Configure Privacy Settings'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Privacy configuration cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      const agentAddr = address(agentAddress)\n\n      // Verify agent exists\n      s.start('Verifying agent...')\n      const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n      if (!agentData) {\n        s.stop(' Agent not found')\n        outro(chalk.red(`No agent found at address: ${agentAddress}`))\n        return\n      }\n\n      s.stop(' Agent verified')\n\n      // Get privacy mode\n      let mode = options.mode\n      if (!mode) {\n        const modeChoice = await select({\n          message: 'Select privacy mode:',\n          options: [\n            {\n              value: 'public',\n              label: `${PRIVACY_MODES.public.emoji} ${PRIVACY_MODES.public.name}`,\n              hint: PRIVACY_MODES.public.description\n            },\n            {\n              value: 'selective',\n              label: `${PRIVACY_MODES.selective.emoji} ${PRIVACY_MODES.selective.name}`,\n              hint: PRIVACY_MODES.selective.description\n            },\n            {\n              value: 'private',\n              label: `${PRIVACY_MODES.private.emoji} ${PRIVACY_MODES.private.name}`,\n              hint: PRIVACY_MODES.private.description\n            },\n            {\n              value: 'anonymous',\n              label: `${PRIVACY_MODES.anonymous.emoji} ${PRIVACY_MODES.anonymous.name}`,\n              hint: PRIVACY_MODES.anonymous.description\n            }\n          ]\n        })\n\n        if (isCancel(modeChoice)) {\n          cancel('Privacy configuration cancelled')\n          return\n        }\n\n        mode = modeChoice.toString()\n      }\n\n      const selectedMode = PRIVACY_MODES[mode as keyof typeof PRIVACY_MODES]\n\n      if (!selectedMode) {\n        log.error('Invalid privacy mode. Choose: public, selective, private, or anonymous')\n        return\n      }\n\n      // Custom visibility overrides (if provided)\n      const scoreVisible = options['score-visible'] !== undefined\n        ? options['score-visible'] === true || options['score-visible'] === 'true'\n        : selectedMode.scoreVisible\n\n      const tierVisible = options['tier-visible'] !== undefined\n        ? options['tier-visible'] === true || options['tier-visible'] === 'true'\n        : selectedMode.tierVisible\n\n      // Show privacy preview\n      note(\n        `${chalk.bold('Privacy Settings:')}\\n` +\n        `${chalk.gray('Agent:')} ${agentData.name}\\n` +\n        `${chalk.gray('Mode:')} ${selectedMode.emoji} ${selectedMode.name}\\n` +\n        `${chalk.gray('Description:')} ${selectedMode.description}\\n\\n` +\n        `${chalk.bold('Visibility:')}\\n` +\n        `${chalk.gray('Exact Score:')} ${scoreVisible ? chalk.green('Visible') : chalk.red('Hidden')}\\n` +\n        `${chalk.gray('Tier Badge:')} ${tierVisible ? chalk.green('Visible') : chalk.red('Hidden')}\\n` +\n        `${chalk.gray('Metrics:')} ${selectedMode.metricsVisible ? chalk.green('Visible') : chalk.red('Hidden')}`,\n        'Privacy Preview'\n      )\n\n      const confirmSet = await confirm({\n        message: `Apply ${selectedMode.name} privacy mode?`\n      })\n\n      if (isCancel(confirmSet) || !confirmSet) {\n        cancel('Privacy configuration cancelled')\n        return\n      }\n\n      s.start('Updating privacy settings on blockchain...')\n\n      try {\n        // Note: SDK privacy module integration pending\n        log.warn('Privacy settings update pending SDK integration.')\n\n        s.stop('  Privacy settings update method pending')\n\n        outro(\n          `${chalk.yellow('Privacy Update Pending')}\\n\\n` +\n          `Your privacy settings for ${agentData.name} will be updated to:\\n` +\n          `${chalk.gray('Mode:')} ${selectedMode.emoji} ${selectedMode.name}\\n` +\n          `${chalk.gray('Score Visible:')} ${scoreVisible ? 'Yes' : 'No'}\\n` +\n          `${chalk.gray('Tier Visible:')} ${tierVisible ? 'Yes' : 'No'}\\n\\n` +\n          `${chalk.gray('Note: Privacy CLI integration coming soon.')}\\n` +\n          `${chalk.gray('Web dashboard: ')}${chalk.cyan('https://ghostspeak.io/dashboard/privacy')}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to update privacy settings')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to set privacy: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Get privacy subcommand\nprivacyCommand\n  .command('get')\n  .description('View current privacy settings for an agent')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('--json', 'Output as JSON')\n  .action(async (options: GetOptions) => {\n    intro(chalk.blue(' View Privacy Settings'))\n\n    try {\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Operation cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      const s = spinner()\n      s.start('Fetching privacy settings...')\n\n      const { client } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      const agentAddr = address(agentAddress)\n      const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n      if (!agentData) {\n        s.stop(' Agent not found')\n        outro(chalk.red(`No agent found at address: ${agentAddress}`))\n        return\n      }\n\n      s.stop('  Privacy settings API pending')\n\n      // Mock privacy data for demonstration\n      const mockSettings = {\n        mode: 'selective',\n        scoreVisible: false,\n        tierVisible: true,\n        metricsVisible: false\n      }\n\n      const currentMode = PRIVACY_MODES[mockSettings.mode as keyof typeof PRIVACY_MODES]\n\n      if (options.json) {\n        console.log(JSON.stringify({\n          agent: agentAddr.toString(),\n          agentName: agentData.name,\n          ...mockSettings\n        }, null, 2))\n        return\n      }\n\n      outro(\n        `${chalk.bold.cyan(`Privacy Settings for ${agentData.name}`)}\\n\\n` +\n        `${chalk.bold('Current Mode:')}\\n` +\n        `${chalk.gray('Mode:')} ${currentMode.emoji} ${currentMode.name}\\n` +\n        `${chalk.gray('Description:')} ${currentMode.description}\\n\\n` +\n        `${chalk.bold('Visibility Settings:')}\\n` +\n        `${chalk.gray('Exact Score:')} ${mockSettings.scoreVisible ? chalk.green('Visible ') : chalk.red('Hidden ')}\\n` +\n        `${chalk.gray('Tier Badge:')} ${mockSettings.tierVisible ? chalk.green('Visible ') : chalk.red('Hidden ')}\\n` +\n        `${chalk.gray('Detailed Metrics:')} ${mockSettings.metricsVisible ? chalk.green('Visible ') : chalk.red('Hidden ')}\\n\\n` +\n        `${chalk.yellow(' Commands:')}\\n` +\n        `${chalk.cyan('ghost privacy set --agent ' + agentAddr.toString().slice(0, 8) + '...')} - Change privacy mode\\n` +\n        `${chalk.cyan('ghost privacy presets --agent ' + agentAddr.toString().slice(0, 8) + '...')} - Use quick presets`\n      )\n\n    } catch (error) {\n      log.error(`Failed to get privacy settings: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Presets subcommand\nprivacyCommand\n  .command('presets')\n  .description('Apply privacy presets quickly')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('-p, --preset <preset>', 'Preset name (public, selective, private, anonymous)')\n  .action(async (options: PresetsOptions) => {\n    intro(chalk.cyan(' Apply Privacy Preset'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Preset application cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      const agentAddr = address(agentAddress)\n\n      // Verify agent\n      s.start('Verifying agent...')\n      const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n      if (!agentData) {\n        s.stop(' Agent not found')\n        outro(chalk.red(`No agent found at address: ${agentAddress}`))\n        return\n      }\n\n      s.stop(' Agent verified')\n\n      // Get preset\n      let preset = options.preset\n      if (!preset) {\n        const presetChoice = await select({\n          message: 'Select privacy preset:',\n          options: Object.entries(PRIVACY_MODES).map(([key, value]) => ({\n            value: key,\n            label: `${value.emoji} ${value.name}`,\n            hint: value.description\n          }))\n        })\n\n        if (isCancel(presetChoice)) {\n          cancel('Preset application cancelled')\n          return\n        }\n\n        preset = presetChoice.toString()\n      }\n\n      const selectedPreset = PRIVACY_MODES[preset as keyof typeof PRIVACY_MODES]\n\n      if (!selectedPreset) {\n        log.error('Invalid preset. Choose: public, selective, private, or anonymous')\n        return\n      }\n\n      // Show preset details\n      let recommendedFor = ''\n      if (preset === 'public') {\n        recommendedFor = `${chalk.gray('')} Maximum transparency\\n${chalk.gray('')} Building trust quickly\\n${chalk.gray('')} Top-tier agents`\n      } else if (preset === 'selective') {\n        recommendedFor = `${chalk.gray('')} Balanced privacy\\n${chalk.gray('')} Most common choice\\n${chalk.gray('')} Show credibility without details`\n      } else if (preset === 'private') {\n        recommendedFor = `${chalk.gray('')} Enhanced privacy\\n${chalk.gray('')} Verified status only\\n${chalk.gray('')} Sensitive use cases`\n      } else if (preset === 'anonymous') {\n        recommendedFor = `${chalk.gray('')} Maximum privacy\\n${chalk.gray('')} Complete anonymity\\n${chalk.gray('')} High-security requirements`\n      }\n\n      note(\n        `${chalk.bold('Preset Details:')}\\n` +\n        `${chalk.gray('Name:')} ${selectedPreset.emoji} ${selectedPreset.name}\\n` +\n        `${chalk.gray('Description:')} ${selectedPreset.description}\\n\\n` +\n        `${chalk.bold('This preset will:')}\\n` +\n        `${chalk.gray('')} ${selectedPreset.scoreVisible ? 'Show' : 'Hide'} exact Ghost Score\\n` +\n        `${chalk.gray('')} ${selectedPreset.tierVisible ? 'Show' : 'Hide'} tier badge\\n` +\n        `${chalk.gray('')} ${selectedPreset.metricsVisible ? 'Show' : 'Hide'} detailed metrics\\n\\n` +\n        `${chalk.bold('Recommended for:')}\\n` +\n        recommendedFor,\n        `${selectedPreset.emoji} ${selectedPreset.name} Preset`\n      )\n\n      const confirmPreset = await confirm({\n        message: `Apply ${selectedPreset.name} preset?`\n      })\n\n      if (isCancel(confirmPreset) || !confirmPreset) {\n        cancel('Preset application cancelled')\n        return\n      }\n\n      s.start('Applying privacy preset...')\n\n      try {\n        log.warn('Privacy preset application pending SDK integration.')\n\n        s.stop('  Preset application method pending')\n\n        outro(\n          `${chalk.yellow('Preset Application Pending')}\\n\\n` +\n          `The ${selectedPreset.emoji} ${selectedPreset.name} preset will be applied to ${agentData.name}.\\n\\n` +\n          `${chalk.gray('Web dashboard: ')}${chalk.cyan('https://ghostspeak.io/dashboard/privacy')}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to apply preset')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to apply preset: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Default action - show available commands\nprivacyCommand\n  .action(async () => {\n    intro(chalk.blue(' GhostSpeak Privacy Management'))\n\n    log.info(`\\n${chalk.bold('Available Commands:')}\\n`)\n    log.info(`${chalk.cyan('ghost privacy set')} - Configure custom privacy settings`)\n    log.info(`${chalk.cyan('ghost privacy get')} - View current privacy settings`)\n    log.info(`${chalk.cyan('ghost privacy presets')} - Apply quick privacy presets`)\n\n    note(\n      `${chalk.bold('Privacy Modes:')}\\n` +\n      `${PRIVACY_MODES.public.emoji} ${chalk.bold('Public')} - All data visible (maximum transparency)\\n` +\n      `${PRIVACY_MODES.selective.emoji} ${chalk.bold('Selective')} - Tier visible, score hidden (balanced)\\n` +\n      `${PRIVACY_MODES.private.emoji} ${chalk.bold('Private')} - Verified status only (enhanced privacy)\\n` +\n      `${PRIVACY_MODES.anonymous.emoji} ${chalk.bold('Anonymous')} - All data hidden (maximum privacy)`,\n      'Privacy Modes'\n    )\n\n    outro('Use --help with any command for more details')\n  })\n","/**\n * DID (Decentralized Identifier) management command\n * Create, update, resolve, and manage W3C-compliant DIDs\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl, toSDKSigner } from '../utils/client.js'\nimport { handleError } from '../utils/error-handler.js'\nimport { createSafeSDKClient } from '../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { Address } from '@solana/addresses'\n\n// Type definitions\ninterface CreateOptions {\n  agent?: string\n  'service-endpoint'?: string\n  'verification-method'?: string\n}\n\ninterface UpdateOptions {\n  did?: string\n  action?: string\n  'service-endpoint'?: string\n  'service-type'?: string\n  'verification-method'?: string\n}\n\ninterface ResolveOptions {\n  did?: string\n  json?: boolean\n}\n\ninterface DeactivateOptions {\n  did?: string\n}\n\n// DID verification method types\nconst VERIFICATION_METHOD_TYPES = {\n  ed25519: {\n    name: 'Ed25519VerificationKey2020',\n    description: 'Default Solana keypair signature verification',\n    icon: ''\n  },\n  secp256k1: {\n    name: 'EcdsaSecp256k1VerificationKey2019',\n    description: 'Ethereum-compatible signature verification',\n    icon: ''\n  },\n  rsa: {\n    name: 'RsaVerificationKey2018',\n    description: 'RSA signature verification',\n    icon: ''\n  }\n}\n\n// DID service types\nconst SERVICE_TYPES = {\n  messaging: {\n    name: 'MessagingService',\n    description: 'Decentralized messaging endpoint',\n    icon: ''\n  },\n  credential: {\n    name: 'CredentialRegistryService',\n    description: 'Verifiable credential issuance',\n    icon: ''\n  },\n  hub: {\n    name: 'IdentityHub',\n    description: 'Decentralized identity storage',\n    icon: ''\n  },\n  agent: {\n    name: 'AgentService',\n    description: 'AI agent interaction endpoint',\n    icon: ''\n  }\n}\n\nexport const didCommand = new Command('did')\n  .description('Manage W3C Decentralized Identifiers (DIDs)')\n\n// Create DID subcommand\ndidCommand\n  .command('create')\n  .description('Create a new DID document for an agent')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('--service-endpoint <url>', 'Add service endpoint URL')\n  .option('--verification-method <type>', 'Verification method type (ed25519, secp256k1, rsa)')\n  .action(async (options: CreateOptions) => {\n    intro(chalk.cyan(' Create DID Document'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('DID creation cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      const agentAddr = address(agentAddress)\n\n      // Verify agent exists\n      s.start('Verifying agent...')\n      const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n      if (!agentData) {\n        s.stop(' Agent not found')\n        outro(chalk.red(`No agent found at address: ${agentAddress}`))\n        return\n      }\n\n      s.stop(' Agent verified')\n\n      // Get verification method\n      let verificationMethod = options['verification-method']\n      if (!verificationMethod) {\n        const vmChoice = await select({\n          message: 'Select verification method:',\n          options: Object.entries(VERIFICATION_METHOD_TYPES).map(([key, value]) => ({\n            value: key,\n            label: `${value.icon} ${value.name}`,\n            hint: value.description\n          }))\n        })\n\n        if (isCancel(vmChoice)) {\n          cancel('DID creation cancelled')\n          return\n        }\n\n        verificationMethod = vmChoice.toString()\n      }\n\n      const selectedVM = VERIFICATION_METHOD_TYPES[verificationMethod as keyof typeof VERIFICATION_METHOD_TYPES]\n\n      if (!selectedVM) {\n        log.error('Invalid verification method. Choose: ed25519, secp256k1, or rsa')\n        return\n      }\n\n      // Optional: Add service endpoint\n      let serviceEndpoint = options['service-endpoint']\n      if (!serviceEndpoint) {\n        const addService = await confirm({\n          message: 'Add a service endpoint to the DID document?'\n        })\n\n        if (isCancel(addService)) {\n          cancel('DID creation cancelled')\n          return\n        }\n\n        if (addService) {\n          const endpointInput = await text({\n            message: 'Service endpoint URL:',\n            placeholder: 'https://api.example.com/agent',\n            validate: (value) => {\n              if (!value) return 'Service endpoint is required'\n              try {\n                new URL(value)\n                return\n              } catch {\n                return 'Please enter a valid URL'\n              }\n            }\n          })\n\n          if (isCancel(endpointInput)) {\n            cancel('DID creation cancelled')\n            return\n          }\n\n          serviceEndpoint = endpointInput.toString()\n        }\n      }\n\n      // Generate DID identifier (did:ghostspeak:devnet:address)\n      const didIdentifier = `did:ghostspeak:devnet:${agentAddr.toString()}`\n\n      // Show preview\n      note(\n        `${chalk.bold('DID Document Preview:')}\\\\n` +\n        `${chalk.gray('DID:')} ${didIdentifier}\\\\n` +\n        `${chalk.gray('Agent:')} ${agentData.name}\\\\n` +\n        `${chalk.gray('Verification Method:')} ${selectedVM.icon} ${selectedVM.name}\\\\n` +\n        `${serviceEndpoint ? `${chalk.gray('Service Endpoint:')} ${serviceEndpoint}\\\\n` : ''}` +\n        `\\\\n${chalk.bold('Document Structure:')}\\\\n` +\n        `${chalk.gray(' @context:')} https://www.w3.org/ns/did/v1\\\\n` +\n        `${chalk.gray(' id:')} ${didIdentifier}\\\\n` +\n        `${chalk.gray(' verificationMethod:')} 1 method\\\\n` +\n        `${serviceEndpoint ? `${chalk.gray(' service:')} 1 endpoint` : `${chalk.gray(' service:')} None`}`,\n        'DID Preview'\n      )\n\n      const confirmCreate = await confirm({\n        message: `Create DID document for ${agentData.name}?`\n      })\n\n      if (isCancel(confirmCreate) || !confirmCreate) {\n        cancel('DID creation cancelled')\n        return\n      }\n\n      s.start('Creating DID document on blockchain...')\n\n      try {\n        // Note: SDK DID module integration pending\n        log.warn('DID document creation pending SDK integration.')\n\n        s.stop('  DID creation method pending')\n\n        outro(\n          `${chalk.yellow('DID Creation Pending')}\\\\n\\\\n` +\n          `Your DID document will be created with:\\\\n` +\n          `${chalk.gray('DID:')} ${chalk.cyan(didIdentifier)}\\\\n` +\n          `${chalk.gray('Agent:')} ${agentData.name}\\\\n` +\n          `${chalk.gray('Verification Method:')} ${selectedVM.name}\\\\n` +\n          `${serviceEndpoint ? `${chalk.gray('Service Endpoint:')} ${serviceEndpoint}\\\\n` : ''}\\\\n` +\n          `${chalk.gray('Note: DID CLI integration coming soon.')}\\\\n` +\n          `${chalk.gray('Web dashboard: ')}${chalk.cyan('https://ghostspeak.io/dashboard')}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to create DID document')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to create DID: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Update DID subcommand\ndidCommand\n  .command('update')\n  .description('Update an existing DID document')\n  .option('-d, --did <did>', 'DID identifier (did:ghostspeak:devnet:address)')\n  .option('-a, --action <action>', 'Update action (add-service, remove-service, add-vm, remove-vm)')\n  .option('--service-endpoint <url>', 'Service endpoint URL (for add-service)')\n  .option('--service-type <type>', 'Service type (messaging, credential, hub, agent)')\n  .option('--verification-method <type>', 'Verification method type (for add-vm)')\n  .action(async (options: UpdateOptions) => {\n    intro(chalk.blue('  Update DID Document'))\n\n    try {\n      const s = spinner()\n\n      // Get DID identifier\n      let didIdentifier = options.did\n      if (!didIdentifier) {\n        const didInput = await text({\n          message: 'DID identifier:',\n          placeholder: 'did:ghostspeak:devnet:...',\n          validate: (value) => {\n            if (!value) return 'DID identifier is required'\n            if (!value.startsWith('did:ghostspeak:')) {\n              return 'DID must start with \"did:ghostspeak:\"'\n            }\n          }\n        })\n\n        if (isCancel(didInput)) {\n          cancel('Update cancelled')\n          return\n        }\n\n        didIdentifier = didInput.toString().trim()\n      }\n\n      // Extract agent address from DID\n      const didParts = didIdentifier.split(':')\n      if (didParts.length < 4) {\n        log.error('Invalid DID format. Expected: did:ghostspeak:network:address')\n        return\n      }\n\n      const agentAddress = didParts[3]\n\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Verify agent/DID exists\n      s.start('Verifying DID document...')\n\n      const agentAddr = address(agentAddress)\n      const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n      if (!agentData) {\n        s.stop(' Agent not found')\n        outro(chalk.red(`No agent found for DID: ${didIdentifier}`))\n        return\n      }\n\n      s.stop(' DID document found')\n\n      // Get update action\n      let updateAction = options.action\n      if (!updateAction) {\n        const actionChoice = await select({\n          message: 'Select update action:',\n          options: [\n            {\n              value: 'add-service',\n              label: ' Add Service',\n              hint: 'Add a new service endpoint to the DID document'\n            },\n            {\n              value: 'remove-service',\n              label: ' Remove Service',\n              hint: 'Remove an existing service endpoint'\n            },\n            {\n              value: 'add-vm',\n              label: ' Add Verification Method',\n              hint: 'Add a new verification method'\n            },\n            {\n              value: 'remove-vm',\n              label: '  Remove Verification Method',\n              hint: 'Remove an existing verification method'\n            }\n          ]\n        })\n\n        if (isCancel(actionChoice)) {\n          cancel('Update cancelled')\n          return\n        }\n\n        updateAction = actionChoice.toString()\n      }\n\n      // Handle specific update actions\n      let updateDetails = ''\n\n      if (updateAction === 'add-service') {\n        let serviceEndpoint = options['service-endpoint']\n        if (!serviceEndpoint) {\n          const endpointInput = await text({\n            message: 'Service endpoint URL:',\n            placeholder: 'https://api.example.com/agent',\n            validate: (value) => {\n              if (!value) return 'Service endpoint is required'\n              try {\n                new URL(value)\n                return\n              } catch {\n                return 'Please enter a valid URL'\n              }\n            }\n          })\n\n          if (isCancel(endpointInput)) {\n            cancel('Update cancelled')\n            return\n          }\n\n          serviceEndpoint = endpointInput.toString()\n        }\n\n        let serviceType = options['service-type']\n        if (!serviceType) {\n          const typeChoice = await select({\n            message: 'Select service type:',\n            options: Object.entries(SERVICE_TYPES).map(([key, value]) => ({\n              value: key,\n              label: `${value.icon} ${value.name}`,\n              hint: value.description\n            }))\n          })\n\n          if (isCancel(typeChoice)) {\n            cancel('Update cancelled')\n            return\n          }\n\n          serviceType = typeChoice.toString()\n        }\n\n        const selectedServiceType = SERVICE_TYPES[serviceType as keyof typeof SERVICE_TYPES]\n        updateDetails = `Add ${selectedServiceType.name} at ${serviceEndpoint}`\n\n      } else if (updateAction === 'add-vm') {\n        let verificationMethod = options['verification-method']\n        if (!verificationMethod) {\n          const vmChoice = await select({\n            message: 'Select verification method:',\n            options: Object.entries(VERIFICATION_METHOD_TYPES).map(([key, value]) => ({\n              value: key,\n              label: `${value.icon} ${value.name}`,\n              hint: value.description\n            }))\n          })\n\n          if (isCancel(vmChoice)) {\n            cancel('Update cancelled')\n            return\n          }\n\n          verificationMethod = vmChoice.toString()\n        }\n\n        const selectedVM = VERIFICATION_METHOD_TYPES[verificationMethod as keyof typeof VERIFICATION_METHOD_TYPES]\n        updateDetails = `Add ${selectedVM.name} verification method`\n      }\n\n      // Show update preview\n      note(\n        `${chalk.bold('DID Update Preview:')}\\\\n` +\n        `${chalk.gray('DID:')} ${didIdentifier}\\\\n` +\n        `${chalk.gray('Agent:')} ${agentData.name}\\\\n` +\n        `${chalk.gray('Action:')} ${updateAction}\\\\n` +\n        `${updateDetails ? `${chalk.gray('Details:')} ${updateDetails}` : ''}`,\n        'Update Preview'\n      )\n\n      const confirmUpdate = await confirm({\n        message: `Apply this update to the DID document?`\n      })\n\n      if (isCancel(confirmUpdate) || !confirmUpdate) {\n        cancel('Update cancelled')\n        return\n      }\n\n      s.start('Updating DID document on blockchain...')\n\n      try {\n        log.warn('DID document update pending SDK integration.')\n\n        s.stop('  DID update method pending')\n\n        outro(\n          `${chalk.yellow('DID Update Pending')}\\\\n\\\\n` +\n          `Your DID document will be updated:\\\\n` +\n          `${chalk.gray('DID:')} ${didIdentifier}\\\\n` +\n          `${chalk.gray('Action:')} ${updateAction}\\\\n` +\n          `${updateDetails ? `${chalk.gray('Details:')} ${updateDetails}\\\\n` : ''}\\\\n` +\n          `${chalk.gray('Note: DID CLI integration coming soon.')}\\\\n` +\n          `${chalk.gray('Web dashboard: ')}${chalk.cyan('https://ghostspeak.io/dashboard')}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to update DID document')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to update DID: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Resolve DID subcommand\ndidCommand\n  .command('resolve')\n  .description('Resolve a DID to its document')\n  .option('-d, --did <did>', 'DID identifier (did:ghostspeak:devnet:address)')\n  .option('--json', 'Output as JSON')\n  .action(async (options: ResolveOptions) => {\n    intro(chalk.green(' Resolve DID Document'))\n\n    try {\n      // Get DID identifier\n      let didIdentifier = options.did\n      if (!didIdentifier) {\n        const didInput = await text({\n          message: 'DID identifier:',\n          placeholder: 'did:ghostspeak:devnet:...',\n          validate: (value) => {\n            if (!value) return 'DID identifier is required'\n            if (!value.startsWith('did:ghostspeak:')) {\n              return 'DID must start with \"did:ghostspeak:\"'\n            }\n          }\n        })\n\n        if (isCancel(didInput)) {\n          cancel('Resolution cancelled')\n          return\n        }\n\n        didIdentifier = didInput.toString().trim()\n      }\n\n      // Extract agent address from DID\n      const didParts = didIdentifier.split(':')\n      if (didParts.length < 4) {\n        log.error('Invalid DID format. Expected: did:ghostspeak:network:address')\n        return\n      }\n\n      const network = didParts[2]\n      const agentAddress = didParts[3]\n\n      const s = spinner()\n      s.start('Resolving DID document...')\n\n      const { client } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      const agentAddr = address(agentAddress)\n      const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n      if (!agentData) {\n        s.stop(' DID not found')\n        outro(chalk.red(`No DID document found: ${didIdentifier}`))\n        return\n      }\n\n      s.stop(' DID document resolved')\n\n      // Mock DID document for demonstration\n      const mockDocument = {\n        '@context': [\n          'https://www.w3.org/ns/did/v1',\n          'https://w3id.org/security/suites/ed25519-2020/v1'\n        ],\n        id: didIdentifier,\n        controller: didIdentifier,\n        verificationMethod: [\n          {\n            id: `${didIdentifier}#keys-1`,\n            type: 'Ed25519VerificationKey2020',\n            controller: didIdentifier,\n            publicKeyMultibase: agentAddr.toString()\n          }\n        ],\n        authentication: [`${didIdentifier}#keys-1`],\n        assertionMethod: [`${didIdentifier}#keys-1`],\n        service: [\n          {\n            id: `${didIdentifier}#agent-service`,\n            type: 'AgentService',\n            serviceEndpoint: `https://api.ghostspeak.io/agents/${agentAddr.toString()}`\n          }\n        ],\n        metadata: {\n          agentName: agentData.name,\n          created: new Date().toISOString(),\n          updated: new Date().toISOString()\n        }\n      }\n\n      // JSON output\n      if (options.json) {\n        console.log(JSON.stringify(mockDocument, null, 2))\n        return\n      }\n\n      // Display DID document\n      outro(\n        `${chalk.bold.green('DID Document Resolved')}\\\\n\\\\n` +\n        `${chalk.bold('Identifier:')}\\\\n` +\n        `${chalk.gray('DID:')} ${chalk.cyan(didIdentifier)}\\\\n` +\n        `${chalk.gray('Agent:')} ${agentData.name}\\\\n` +\n        `${chalk.gray('Network:')} ${network}\\\\n\\\\n` +\n        `${chalk.bold('Verification Methods:')}\\\\n` +\n        `${chalk.gray(' Type:')} Ed25519VerificationKey2020\\\\n` +\n        `${chalk.gray(' ID:')} ${didIdentifier}#keys-1\\\\n\\\\n` +\n        `${chalk.bold('Services:')}\\\\n` +\n        `${chalk.gray(' Type:')} AgentService\\\\n` +\n        `${chalk.gray(' Endpoint:')} https://api.ghostspeak.io/agents/${agentAddr.toString().slice(0, 8)}...\\\\n\\\\n` +\n        `${chalk.bold('Authentication:')}\\\\n` +\n        `${chalk.gray(' Methods:')} 1 verification method\\\\n` +\n        `${chalk.gray(' Assertion:')} 1 verification method\\\\n\\\\n` +\n        `${chalk.yellow(' Tip: Use')} ${chalk.cyan('--json')} ${chalk.yellow('for full document')}`\n      )\n\n    } catch (error) {\n      log.error(`Failed to resolve DID: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Deactivate DID subcommand\ndidCommand\n  .command('deactivate')\n  .description('Deactivate a DID document (irreversible)')\n  .option('-d, --did <did>', 'DID identifier (did:ghostspeak:devnet:address)')\n  .action(async (options: DeactivateOptions) => {\n    intro(chalk.red('  Deactivate DID Document'))\n\n    log.warn(\n      chalk.red('  WARNING: ') +\n      'DID deactivation is IRREVERSIBLE.\\\\n' +\n      'Once deactivated, this DID cannot be reactivated or used for authentication.'\n    )\n\n    try {\n      // Get DID identifier\n      let didIdentifier = options.did\n      if (!didIdentifier) {\n        const didInput = await text({\n          message: 'DID identifier:',\n          placeholder: 'did:ghostspeak:devnet:...',\n          validate: (value) => {\n            if (!value) return 'DID identifier is required'\n            if (!value.startsWith('did:ghostspeak:')) {\n              return 'DID must start with \"did:ghostspeak:\"'\n            }\n          }\n        })\n\n        if (isCancel(didInput)) {\n          cancel('Deactivation cancelled')\n          return\n        }\n\n        didIdentifier = didInput.toString().trim()\n      }\n\n      // Extract agent address from DID\n      const didParts = didIdentifier.split(':')\n      if (didParts.length < 4) {\n        log.error('Invalid DID format. Expected: did:ghostspeak:network:address')\n        return\n      }\n\n      const agentAddress = didParts[3]\n\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Verify DID exists\n      s.start('Verifying DID document...')\n\n      const agentAddr = address(agentAddress)\n      const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n      if (!agentData) {\n        s.stop(' DID not found')\n        outro(chalk.red(`No DID document found: ${didIdentifier}`))\n        return\n      }\n\n      s.stop(' DID document found')\n\n      // Show deactivation warning\n      note(\n        `${chalk.bold.red('  IRREVERSIBLE ACTION')}\\\\n\\\\n` +\n        `${chalk.bold('DID to Deactivate:')}\\\\n` +\n        `${chalk.gray('DID:')} ${didIdentifier}\\\\n` +\n        `${chalk.gray('Agent:')} ${agentData.name}\\\\n\\\\n` +\n        `${chalk.bold('Consequences:')}\\\\n` +\n        `${chalk.red(' DID cannot be reactivated')}\\\\n` +\n        `${chalk.red(' All authentication will fail')}\\\\n` +\n        `${chalk.red(' Verifiable credentials may be invalidated')}\\\\n` +\n        `${chalk.red(' Services will become unreachable')}`,\n        'Deactivation Warning'\n      )\n\n      const confirmDeactivate = await confirm({\n        message: `${chalk.red('Are you ABSOLUTELY SURE you want to deactivate this DID?')}`\n      })\n\n      if (isCancel(confirmDeactivate) || !confirmDeactivate) {\n        cancel('Deactivation cancelled')\n        return\n      }\n\n      // Double confirmation\n      const doubleConfirm = await confirm({\n        message: `${chalk.red('This is IRREVERSIBLE. Proceed with deactivation?')}`\n      })\n\n      if (isCancel(doubleConfirm) || !doubleConfirm) {\n        cancel('Deactivation cancelled')\n        return\n      }\n\n      s.start('Deactivating DID document on blockchain...')\n\n      try {\n        log.warn('DID deactivation pending SDK integration.')\n\n        s.stop('  DID deactivation method pending')\n\n        outro(\n          `${chalk.yellow('DID Deactivation Pending')}\\\\n\\\\n` +\n          `Your DID will be deactivated:\\\\n` +\n          `${chalk.gray('DID:')} ${didIdentifier}\\\\n` +\n          `${chalk.gray('Agent:')} ${agentData.name}\\\\n\\\\n` +\n          `${chalk.red('  This action is IRREVERSIBLE')}\\\\n\\\\n` +\n          `${chalk.gray('Note: DID CLI integration coming soon.')}\\\\n` +\n          `${chalk.gray('Web dashboard: ')}${chalk.cyan('https://ghostspeak.io/dashboard')}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to deactivate DID document')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to deactivate DID: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Default action - show available commands\ndidCommand\n  .action(async () => {\n    intro(chalk.blue(' GhostSpeak DID Management'))\n\n    log.info(`\\\\n${chalk.bold('Available Commands:')}\\\\n`)\n    log.info(`${chalk.cyan('ghost did create')} - Create a new W3C DID document`)\n    log.info(`${chalk.cyan('ghost did update')} - Update an existing DID document`)\n    log.info(`${chalk.cyan('ghost did resolve')} - Resolve a DID to its document`)\n    log.info(`${chalk.cyan('ghost did deactivate')} - Deactivate a DID (irreversible)`)\n\n    note(\n      `${chalk.bold('What is a DID?')}\\\\n` +\n      `A Decentralized Identifier (DID) is a W3C standard for verifiable,\\\\n` +\n      `self-sovereign digital identities. DIDs enable:\\\\n\\\\n` +\n      `${chalk.gray(' Verifiable credentials issuance and verification')}\\\\n` +\n      `${chalk.gray(' Cross-chain identity portability')}\\\\n` +\n      `${chalk.gray(' Decentralized authentication')}\\\\n` +\n      `${chalk.gray(' Privacy-preserving identity proofs')}\\\\n\\\\n` +\n      `${chalk.bold('DID Format:')}\\\\n` +\n      `${chalk.cyan('did:ghostspeak:network:address')}\\\\n\\\\n` +\n      `${chalk.bold('Learn more:')}\\\\n` +\n      `${chalk.cyan('https://www.w3.org/TR/did-core/')}`,\n      'About DIDs'\n    )\n\n    outro('Use --help with any command for more details')\n  })\n","/**\n * Escrow management command\n * Create, manage, and resolve escrow accounts for x402 marketplace\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl, toSDKSigner } from '../utils/client.js'\nimport { handleError } from '../utils/error-handler.js'\nimport { createSafeSDKClient } from '../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { Address } from '@solana/addresses'\n\n// Type definitions\ninterface CreateOptions {\n  job?: string\n  amount?: string\n  recipient?: string\n  deadline?: string\n}\n\ninterface ApproveOptions {\n  escrow?: string\n  rating?: string\n}\n\ninterface DisputeOptions {\n  escrow?: string\n  reason?: string\n  evidence?: string\n}\n\ninterface ListOptions {\n  agent?: string\n  status?: string\n  json?: boolean\n}\n\ninterface GetOptions {\n  escrow?: string\n  json?: boolean\n}\n\n// Escrow status types\nconst ESCROW_STATUSES = {\n  pending: {\n    name: 'Pending',\n    description: 'Awaiting job completion',\n    color: chalk.yellow,\n    icon: ''\n  },\n  completed: {\n    name: 'Completed',\n    description: 'Job completed, funds released',\n    color: chalk.green,\n    icon: ''\n  },\n  disputed: {\n    name: 'Disputed',\n    description: 'Under dispute resolution',\n    color: chalk.red,\n    icon: ''\n  },\n  cancelled: {\n    name: 'Cancelled',\n    description: 'Escrow cancelled, funds refunded',\n    color: chalk.gray,\n    icon: ''\n  }\n}\n\n// Dispute reasons\nconst DISPUTE_REASONS = {\n  incomplete: {\n    name: 'Incomplete Work',\n    description: 'Agent did not complete the agreed work',\n    icon: ''\n  },\n  quality: {\n    name: 'Quality Issues',\n    description: 'Work quality does not meet standards',\n    icon: ''\n  },\n  deadline: {\n    name: 'Missed Deadline',\n    description: 'Agent missed the agreed deadline',\n    icon: ''\n  },\n  miscommunication: {\n    name: 'Miscommunication',\n    description: 'Disagreement on job requirements',\n    icon: ''\n  },\n  other: {\n    name: 'Other',\n    description: 'Other dispute reason (provide details)',\n    icon: ''\n  }\n}\n\nexport const escrowCommand = new Command('escrow')\n  .description('Manage escrow accounts for x402 marketplace jobs')\n\n// Create escrow subcommand\nescrowCommand\n  .command('create')\n  .description('Create a new escrow account for a job')\n  .option('-j, --job <id>', 'Job ID or description')\n  .option('-a, --amount <amount>', 'Escrow amount in GHOST tokens')\n  .option('-r, --recipient <address>', 'Agent address (recipient)')\n  .option('-d, --deadline <days>', 'Job deadline in days')\n  .action(async (options: CreateOptions) => {\n    intro(chalk.cyan(' Create Escrow'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get job description\n      let jobDescription = options.job\n      if (!jobDescription) {\n        const jobInput = await text({\n          message: 'Job description:',\n          placeholder: 'Sentiment analysis API integration',\n          validate: (value) => {\n            if (!value) return 'Job description is required'\n            if (value.length < 10) return 'Please provide a more detailed description'\n          }\n        })\n\n        if (isCancel(jobInput)) {\n          cancel('Escrow creation cancelled')\n          return\n        }\n\n        jobDescription = jobInput.toString()\n      }\n\n      // Get recipient agent address\n      let recipientAddress = options.recipient\n      if (!recipientAddress) {\n        const recipientInput = await text({\n          message: 'Agent address (recipient):',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(recipientInput)) {\n          cancel('Escrow creation cancelled')\n          return\n        }\n\n        recipientAddress = recipientInput.toString().trim()\n      }\n\n      const recipientAddr = address(recipientAddress)\n\n      // Verify agent exists\n      s.start('Verifying agent...')\n      const agentData = await safeClient.agent.getAgentAccount(recipientAddr)\n\n      if (!agentData) {\n        s.stop(' Agent not found')\n        outro(chalk.red(`No agent found at address: ${recipientAddress}`))\n        return\n      }\n\n      s.stop(` Agent verified: ${agentData.name}`)\n\n      // Get escrow amount\n      let escrowAmount = options.amount\n      if (!escrowAmount) {\n        const amountInput = await text({\n          message: 'Escrow amount (GHOST tokens):',\n          placeholder: '100',\n          validate: (value) => {\n            if (!value) return 'Amount is required'\n            const amount = parseFloat(value)\n            if (isNaN(amount) || amount <= 0) {\n              return 'Amount must be greater than 0'\n            }\n          }\n        })\n\n        if (isCancel(amountInput)) {\n          cancel('Escrow creation cancelled')\n          return\n        }\n\n        escrowAmount = amountInput.toString()\n      }\n\n      const amount = parseFloat(escrowAmount)\n\n      // Get deadline\n      let deadlineDays = options.deadline\n      if (!deadlineDays) {\n        const deadlineInput = await text({\n          message: 'Job deadline (days):',\n          placeholder: '7',\n          validate: (value) => {\n            if (!value) return 'Deadline is required'\n            const days = parseInt(value)\n            if (isNaN(days) || days <= 0) {\n              return 'Deadline must be greater than 0'\n            }\n          }\n        })\n\n        if (isCancel(deadlineInput)) {\n          cancel('Escrow creation cancelled')\n          return\n        }\n\n        deadlineDays = deadlineInput.toString()\n      }\n\n      const deadline = parseInt(deadlineDays)\n      const deadlineDate = new Date()\n      deadlineDate.setDate(deadlineDate.getDate() + deadline)\n\n      // Calculate Ghost Score tier-based deposit requirement\n      const reputationScore = Number(agentData.reputationScore || 0)\n      const ghostScore = Math.min(1000, Math.round(reputationScore / 100))\n\n      const tier = ghostScore >= 900 ? 'PLATINUM' :\n                   ghostScore >= 750 ? 'GOLD' :\n                   ghostScore >= 500 ? 'SILVER' :\n                   ghostScore >= 200 ? 'BRONZE' : 'NEWCOMER'\n\n      const depositPercentage =\n        tier === 'PLATINUM' || tier === 'GOLD' ? 0 :\n        tier === 'SILVER' ? 15 :\n        25\n\n      const depositRequired = (amount * depositPercentage) / 100\n      const totalLocked = amount\n\n      // Show escrow preview\n      note(\n        `${chalk.bold('Escrow Details:')}\\\\n` +\n        `${chalk.gray('Job:')} ${jobDescription}\\\\n` +\n        `${chalk.gray('Agent:')} ${agentData.name}\\\\n` +\n        `${chalk.gray('Ghost Score:')} ${ghostScore}/1000 (${tier})\\\\n\\\\n` +\n        `${chalk.bold('Payment Terms:')}\\\\n` +\n        `${chalk.gray('Job Value:')} ${amount} GHOST\\\\n` +\n        `${chalk.gray('Agent Deposit:')} ${depositRequired} GHOST (${depositPercentage}%)\\\\n` +\n        `${chalk.gray('Total Locked:')} ${totalLocked} GHOST\\\\n` +\n        `${chalk.gray('Deadline:')} ${deadline} days (${deadlineDate.toLocaleDateString()})\\\\n\\\\n` +\n        `${chalk.bold('Escrow Protections:')}\\\\n` +\n        `${chalk.gray(' Funds held in on-chain escrow')}\\\\n` +\n        `${chalk.gray(' Automatic release on approval')}\\\\n` +\n        `${chalk.gray(' Dispute resolution available')}\\\\n` +\n        `${chalk.gray(' Refund if cancelled')}`,\n        'Escrow Preview'\n      )\n\n      const confirmCreate = await confirm({\n        message: `Create escrow with ${agentData.name}?`\n      })\n\n      if (isCancel(confirmCreate) || !confirmCreate) {\n        cancel('Escrow creation cancelled')\n        return\n      }\n\n      s.start('Creating escrow on blockchain...')\n\n      try {\n        // Note: SDK escrow module integration pending\n        log.warn('Escrow creation pending SDK integration.')\n\n        s.stop('  Escrow creation method pending')\n\n        outro(\n          `${chalk.yellow('Escrow Creation Pending')}\\\\n\\\\n` +\n          `Your escrow will be created with:\\\\n` +\n          `${chalk.gray('Job:')} ${jobDescription}\\\\n` +\n          `${chalk.gray('Agent:')} ${agentData.name}\\\\n` +\n          `${chalk.gray('Amount:')} ${amount} GHOST\\\\n` +\n          `${chalk.gray('Deadline:')} ${deadlineDate.toLocaleDateString()}\\\\n\\\\n` +\n          `${chalk.gray('Note: Escrow CLI integration coming soon.')}\\\\n` +\n          `${chalk.gray('Web dashboard: ')}${chalk.cyan('https://ghostspeak.io/dashboard/marketplace')}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to create escrow')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to create escrow: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Approve escrow subcommand\nescrowCommand\n  .command('approve')\n  .description('Approve job completion and release escrow funds')\n  .option('-e, --escrow <address>', 'Escrow account address')\n  .option('-r, --rating <rating>', 'Agent rating (1-5 stars)')\n  .action(async (options: ApproveOptions) => {\n    intro(chalk.green(' Approve Escrow'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get escrow address\n      let escrowAddress = options.escrow\n      if (!escrowAddress) {\n        const escrowInput = await text({\n          message: 'Escrow account address:',\n          validate: (value) => {\n            if (!value) return 'Escrow address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(escrowInput)) {\n          cancel('Approval cancelled')\n          return\n        }\n\n        escrowAddress = escrowInput.toString().trim()\n      }\n\n      const escrowAddr = address(escrowAddress)\n\n      // Note: In real implementation, fetch escrow account data\n      s.start('Fetching escrow details...')\n\n      // Mock escrow data for demonstration\n      const mockEscrow = {\n        job: 'Sentiment analysis API integration',\n        agent: 'SentimentBot',\n        amount: 100,\n        status: 'pending',\n        deadline: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000)\n      }\n\n      s.stop(' Escrow loaded')\n\n      // Get rating\n      let rating = options.rating\n      if (!rating) {\n        const ratingChoice = await select({\n          message: 'Rate the agent performance:',\n          options: [\n            { value: '5', label: ' Exceptional (5 stars)' },\n            { value: '4', label: ' Great (4 stars)' },\n            { value: '3', label: ' Good (3 stars)' },\n            { value: '2', label: ' Fair (2 stars)' },\n            { value: '1', label: ' Poor (1 star)' }\n          ]\n        })\n\n        if (isCancel(ratingChoice)) {\n          cancel('Approval cancelled')\n          return\n        }\n\n        rating = ratingChoice.toString()\n      }\n\n      const numRating = parseInt(rating)\n\n      // Show approval preview\n      note(\n        `${chalk.bold('Approval Summary:')}\\\\n` +\n        `${chalk.gray('Escrow:')} ${escrowAddress.slice(0, 8)}...\\\\n` +\n        `${chalk.gray('Job:')} ${mockEscrow.job}\\\\n` +\n        `${chalk.gray('Agent:')} ${mockEscrow.agent}\\\\n` +\n        `${chalk.gray('Amount:')} ${mockEscrow.amount} GHOST\\\\n` +\n        `${chalk.gray('Your Rating:')} ${''.repeat(numRating)}\\\\n\\\\n` +\n        `${chalk.bold('Actions:')}\\\\n` +\n        `${chalk.gray(' Release')} ${mockEscrow.amount} GHOST ${chalk.gray('to agent')}\\\\n` +\n        `${chalk.gray(' Update agent Ghost Score based on rating')}\\\\n` +\n        `${chalk.gray(' Mark escrow as completed')}`,\n        'Approval Preview'\n      )\n\n      const confirmApprove = await confirm({\n        message: `Release ${mockEscrow.amount} GHOST to ${mockEscrow.agent}?`\n      })\n\n      if (isCancel(confirmApprove) || !confirmApprove) {\n        cancel('Approval cancelled')\n        return\n      }\n\n      s.start('Processing approval on blockchain...')\n\n      try {\n        log.warn('Escrow approval pending SDK integration.')\n\n        s.stop('  Escrow approval method pending')\n\n        outro(\n          `${chalk.yellow('Escrow Approval Pending')}\\\\n\\\\n` +\n          `Your approval will:\\\\n` +\n          `${chalk.gray(' Release')} ${mockEscrow.amount} GHOST ${chalk.gray('to agent')}\\\\n` +\n          `${chalk.gray(' Apply rating:')} ${''.repeat(numRating)}\\\\n` +\n          `${chalk.gray(' Update Ghost Score')}\\\\n\\\\n` +\n          `${chalk.gray('Note: Escrow CLI integration coming soon.')}\\\\n` +\n          `${chalk.gray('Web dashboard: ')}${chalk.cyan('https://ghostspeak.io/dashboard/marketplace')}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to approve escrow')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to approve escrow: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Dispute escrow subcommand\nescrowCommand\n  .command('dispute')\n  .description('Dispute an escrow and trigger resolution process')\n  .option('-e, --escrow <address>', 'Escrow account address')\n  .option('-r, --reason <reason>', 'Dispute reason (incomplete, quality, deadline, miscommunication, other)')\n  .option('--evidence <url>', 'URL to evidence (screenshots, logs, etc.)')\n  .action(async (options: DisputeOptions) => {\n    intro(chalk.red('  Dispute Escrow'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get escrow address\n      let escrowAddress = options.escrow\n      if (!escrowAddress) {\n        const escrowInput = await text({\n          message: 'Escrow account address:',\n          validate: (value) => {\n            if (!value) return 'Escrow address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(escrowInput)) {\n          cancel('Dispute cancelled')\n          return\n        }\n\n        escrowAddress = escrowInput.toString().trim()\n      }\n\n      const escrowAddr = address(escrowAddress)\n\n      // Fetch escrow details\n      s.start('Fetching escrow details...')\n\n      // Mock escrow data\n      const mockEscrow = {\n        job: 'Sentiment analysis API integration',\n        agent: 'SentimentBot',\n        agentAddress: 'Sent1ment...xyz',\n        amount: 100,\n        status: 'pending',\n        deadline: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000) // 1 day overdue\n      }\n\n      s.stop(' Escrow loaded')\n\n      // Get dispute reason\n      let disputeReason = options.reason\n      if (!disputeReason) {\n        const reasonChoice = await select({\n          message: 'Select dispute reason:',\n          options: Object.entries(DISPUTE_REASONS).map(([key, value]) => ({\n            value: key,\n            label: `${value.icon} ${value.name}`,\n            hint: value.description\n          }))\n        })\n\n        if (isCancel(reasonChoice)) {\n          cancel('Dispute cancelled')\n          return\n        }\n\n        disputeReason = reasonChoice.toString()\n      }\n\n      const selectedReason = DISPUTE_REASONS[disputeReason as keyof typeof DISPUTE_REASONS]\n\n      if (!selectedReason) {\n        log.error('Invalid dispute reason')\n        return\n      }\n\n      // Get evidence URL (optional)\n      let evidenceUrl = options.evidence\n      if (!evidenceUrl) {\n        const addEvidence = await confirm({\n          message: 'Do you have evidence to submit (screenshots, logs, etc.)?'\n        })\n\n        if (isCancel(addEvidence)) {\n          cancel('Dispute cancelled')\n          return\n        }\n\n        if (addEvidence) {\n          const evidenceInput = await text({\n            message: 'Evidence URL (file upload, screenshot link):',\n            placeholder: 'https://example.com/evidence.png',\n            validate: (value) => {\n              if (!value) return\n              try {\n                new URL(value)\n                return\n              } catch {\n                return 'Please enter a valid URL'\n              }\n            }\n          })\n\n          if (isCancel(evidenceInput)) {\n            cancel('Dispute cancelled')\n            return\n          }\n\n          if (evidenceInput) {\n            evidenceUrl = evidenceInput.toString()\n          }\n        }\n      }\n\n      // Show dispute preview\n      note(\n        `${chalk.bold.red('  Dispute Details')}\\\\n\\\\n` +\n        `${chalk.bold('Escrow Information:')}\\\\n` +\n        `${chalk.gray('Escrow:')} ${escrowAddress.slice(0, 8)}...\\\\n` +\n        `${chalk.gray('Job:')} ${mockEscrow.job}\\\\n` +\n        `${chalk.gray('Agent:')} ${mockEscrow.agent}\\\\n` +\n        `${chalk.gray('Amount:')} ${mockEscrow.amount} GHOST\\\\n` +\n        `${chalk.gray('Deadline:')} ${mockEscrow.deadline.toLocaleDateString()} ${chalk.red('(overdue)')}\\\\n\\\\n` +\n        `${chalk.bold('Dispute Reason:')}\\\\n` +\n        `${chalk.gray('Type:')} ${selectedReason.icon} ${selectedReason.name}\\\\n` +\n        `${chalk.gray('Description:')} ${selectedReason.description}\\\\n` +\n        `${evidenceUrl ? `${chalk.gray('Evidence:')} ${evidenceUrl}\\\\n` : ''}\\\\n` +\n        `${chalk.bold('Resolution Process:')}\\\\n` +\n        `${chalk.gray('1. Dispute submitted on-chain')}\\\\n` +\n        `${chalk.gray('2. Agent has 48 hours to respond')}\\\\n` +\n        `${chalk.gray('3. Community arbitration if unresolved')}\\\\n` +\n        `${chalk.gray('4. Funds distributed based on outcome')}`,\n        'Dispute Preview'\n      )\n\n      const confirmDispute = await confirm({\n        message: `${chalk.red('Submit dispute for')} ${mockEscrow.job}?`\n      })\n\n      if (isCancel(confirmDispute) || !confirmDispute) {\n        cancel('Dispute cancelled')\n        return\n      }\n\n      s.start('Submitting dispute on blockchain...')\n\n      try {\n        log.warn('Escrow dispute pending SDK integration.')\n\n        s.stop('  Escrow dispute method pending')\n\n        outro(\n          `${chalk.yellow('Dispute Submission Pending')}\\\\n\\\\n` +\n          `Your dispute will be submitted:\\\\n` +\n          `${chalk.gray('Reason:')} ${selectedReason.name}\\\\n` +\n          `${evidenceUrl ? `${chalk.gray('Evidence:')} ${evidenceUrl}\\\\n` : ''}` +\n          `${chalk.gray('Amount at stake:')} ${mockEscrow.amount} GHOST\\\\n\\\\n` +\n          `${chalk.bold('Next Steps:')}\\\\n` +\n          `${chalk.gray(' Agent notified of dispute')}\\\\n` +\n          `${chalk.gray(' 48-hour response window')}\\\\n` +\n          `${chalk.gray(' Community arbitration if needed')}\\\\n\\\\n` +\n          `${chalk.gray('Note: Escrow CLI integration coming soon.')}\\\\n` +\n          `${chalk.gray('Web dashboard: ')}${chalk.cyan('https://ghostspeak.io/dashboard/marketplace')}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to submit dispute')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to dispute escrow: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// List escrows subcommand\nescrowCommand\n  .command('list')\n  .description('List escrow accounts for an agent')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('-s, --status <status>', 'Filter by status (pending, completed, disputed, cancelled)')\n  .option('--json', 'Output as JSON')\n  .action(async (options: ListOptions) => {\n    intro(chalk.blue(' List Escrows'))\n\n    try {\n      const s = spinner()\n\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address (leave empty for all):',\n          validate: (value) => {\n            if (!value) return // Allow empty\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Operation cancelled')\n          return\n        }\n\n        agentAddress = addressInput ? addressInput.toString().trim() : undefined\n      }\n\n      s.start('Fetching escrows...')\n\n      const { client } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      // Mock escrow data\n      const mockEscrows = [\n        {\n          address: 'Esc1row...abc',\n          job: 'Sentiment analysis API',\n          agent: 'SentimentBot',\n          amount: 100,\n          status: 'pending',\n          deadline: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000)\n        },\n        {\n          address: 'Esc1row...def',\n          job: 'NFT metadata parser',\n          agent: 'MetadataAgent',\n          amount: 250,\n          status: 'completed',\n          deadline: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000)\n        },\n        {\n          address: 'Esc1row...ghi',\n          job: 'Token swap integration',\n          agent: 'SwapBot',\n          amount: 500,\n          status: 'disputed',\n          deadline: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000)\n        }\n      ]\n\n      // Filter by status if provided\n      const filteredEscrows = options.status\n        ? mockEscrows.filter(e => e.status === options.status)\n        : mockEscrows\n\n      s.stop(` Found ${filteredEscrows.length} escrow(s)`)\n\n      // JSON output\n      if (options.json) {\n        console.log(JSON.stringify(filteredEscrows, null, 2))\n        return\n      }\n\n      // Display escrows\n      let output = `${chalk.bold.blue('Escrow Accounts')}\\\\n\\\\n`\n\n      filteredEscrows.forEach((escrow, index) => {\n        const statusInfo = ESCROW_STATUSES[escrow.status as keyof typeof ESCROW_STATUSES]\n        const isOverdue = escrow.status === 'pending' && escrow.deadline < new Date()\n\n        output += `${chalk.bold(`${index + 1}. ${escrow.job}`)}\\\\n`\n        output += `${chalk.gray('Address:')} ${escrow.address}\\\\n`\n        output += `${chalk.gray('Agent:')} ${escrow.agent}\\\\n`\n        output += `${chalk.gray('Amount:')} ${escrow.amount} GHOST\\\\n`\n        output += `${chalk.gray('Status:')} ${statusInfo.icon} ${statusInfo.color(statusInfo.name)}\\\\n`\n        output += `${chalk.gray('Deadline:')} ${escrow.deadline.toLocaleDateString()}`\n\n        if (isOverdue) {\n          output += ` ${chalk.red('(OVERDUE)')}`\n        }\n\n        output += '\\\\n\\\\n'\n      })\n\n      output += `${chalk.bold('Summary:')}\\\\n`\n      output += `${chalk.gray('Total:')} ${filteredEscrows.length} escrow(s)\\\\n`\n      output += `${chalk.gray('Total Locked:')} ${filteredEscrows.reduce((sum, e) => sum + e.amount, 0)} GHOST\\\\n\\\\n`\n      output += `${chalk.yellow(' Commands:')}\\\\n`\n      output += `${chalk.cyan('ghost escrow get --escrow <address>')} - View escrow details\\\\n`\n      output += `${chalk.cyan('ghost escrow approve --escrow <address>')} - Approve and release funds\\\\n`\n      output += `${chalk.cyan('ghost escrow dispute --escrow <address>')} - Dispute an escrow`\n\n      outro(output)\n\n    } catch (error) {\n      log.error(`Failed to list escrows: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Get escrow details subcommand\nescrowCommand\n  .command('get')\n  .description('Get detailed information about an escrow')\n  .option('-e, --escrow <address>', 'Escrow account address')\n  .option('--json', 'Output as JSON')\n  .action(async (options: GetOptions) => {\n    intro(chalk.blue(' Get Escrow Details'))\n\n    try {\n      // Get escrow address\n      let escrowAddress = options.escrow\n      if (!escrowAddress) {\n        const escrowInput = await text({\n          message: 'Escrow account address:',\n          validate: (value) => {\n            if (!value) return 'Escrow address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(escrowInput)) {\n          cancel('Operation cancelled')\n          return\n        }\n\n        escrowAddress = escrowInput.toString().trim()\n      }\n\n      const s = spinner()\n      s.start('Fetching escrow details...')\n\n      const { client } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      // Mock escrow data\n      const mockEscrow = {\n        address: escrowAddress,\n        job: 'Sentiment analysis API integration',\n        jobDescription: 'Integrate sentiment analysis API with error handling and rate limiting',\n        creator: 'Creator...abc',\n        agent: 'SentimentBot',\n        agentAddress: 'Sent1ment...xyz',\n        amount: 100,\n        deposit: 25,\n        status: 'pending',\n        created: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),\n        deadline: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000),\n        milestones: [\n          { name: 'API integration', status: 'completed', paid: 30 },\n          { name: 'Error handling', status: 'completed', paid: 30 },\n          { name: 'Rate limiting', status: 'in-progress', paid: 0 },\n          { name: 'Testing & docs', status: 'pending', paid: 0 }\n        ]\n      }\n\n      s.stop(' Escrow loaded')\n\n      const statusInfo = ESCROW_STATUSES[mockEscrow.status as keyof typeof ESCROW_STATUSES]\n\n      // JSON output\n      if (options.json) {\n        console.log(JSON.stringify(mockEscrow, null, 2))\n        return\n      }\n\n      // Display escrow details\n      outro(\n        `${chalk.bold.cyan(mockEscrow.job)}\\\\n\\\\n` +\n        `${chalk.bold('Basic Information:')}\\\\n` +\n        `${chalk.gray('Address:')} ${mockEscrow.address}\\\\n` +\n        `${chalk.gray('Status:')} ${statusInfo.icon} ${statusInfo.color(statusInfo.name)}\\\\n` +\n        `${chalk.gray('Created:')} ${mockEscrow.created.toLocaleDateString()}\\\\n` +\n        `${chalk.gray('Deadline:')} ${mockEscrow.deadline.toLocaleDateString()}\\\\n\\\\n` +\n        `${chalk.bold('Parties:')}\\\\n` +\n        `${chalk.gray('Creator:')} ${mockEscrow.creator}\\\\n` +\n        `${chalk.gray('Agent:')} ${mockEscrow.agent} (${mockEscrow.agentAddress})\\\\n\\\\n` +\n        `${chalk.bold('Payment:')}\\\\n` +\n        `${chalk.gray('Total Value:')} ${mockEscrow.amount} GHOST\\\\n` +\n        `${chalk.gray('Agent Deposit:')} ${mockEscrow.deposit} GHOST\\\\n` +\n        `${chalk.gray('Total Locked:')} ${mockEscrow.amount + mockEscrow.deposit} GHOST\\\\n\\\\n` +\n        `${chalk.bold('Milestones:')}\\\\n` +\n        mockEscrow.milestones.map((m, i) =>\n          `${chalk.gray(`${i + 1}.`)} ${m.name} - ${m.status === 'completed' ? chalk.green(' Completed') : m.status === 'in-progress' ? chalk.yellow(' In Progress') : chalk.gray(' Pending')} (${m.paid} GHOST paid)`\n        ).join('\\\\n') + '\\\\n\\\\n' +\n        `${chalk.bold('Description:')}\\\\n` +\n        `${mockEscrow.jobDescription}\\\\n\\\\n` +\n        `${chalk.yellow(' Next Steps:')}\\\\n` +\n        `${chalk.cyan('ghost escrow approve --escrow ' + escrowAddress.slice(0, 12) + '...')} - Approve completion\\\\n` +\n        `${chalk.cyan('ghost escrow dispute --escrow ' + escrowAddress.slice(0, 12) + '...')} - Raise dispute`\n      )\n\n    } catch (error) {\n      log.error(`Failed to get escrow details: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Default action - show available commands\nescrowCommand\n  .action(async () => {\n    intro(chalk.blue(' GhostSpeak Escrow Management'))\n\n    log.info(`\\\\n${chalk.bold('Available Commands:')}\\\\n`)\n    log.info(`${chalk.cyan('ghost escrow create')} - Create a new escrow for a job`)\n    log.info(`${chalk.cyan('ghost escrow approve')} - Approve and release escrow funds`)\n    log.info(`${chalk.cyan('ghost escrow dispute')} - Dispute an escrow and trigger resolution`)\n    log.info(`${chalk.cyan('ghost escrow list')} - List escrow accounts`)\n    log.info(`${chalk.cyan('ghost escrow get')} - Get detailed escrow information`)\n\n    note(\n      `${chalk.bold('How Escrow Works:')}\\\\n\\\\n` +\n      `${chalk.bold('1. Creation')}\\\\n` +\n      `${chalk.gray(' Job creator deposits payment in GHOST tokens')}\\\\n` +\n      `${chalk.gray(' Agent may deposit based on Ghost Score tier')}\\\\n` +\n      `${chalk.gray(' Funds locked in on-chain escrow account')}\\\\n\\\\n` +\n      `${chalk.bold('2. Completion')}\\\\n` +\n      `${chalk.gray(' Agent completes work within deadline')}\\\\n` +\n      `${chalk.gray(' Creator approves and rates agent')}\\\\n` +\n      `${chalk.gray(' Funds released automatically')}\\\\n` +\n      `${chalk.gray(' Ghost Score updated based on rating')}\\\\n\\\\n` +\n      `${chalk.bold('3. Disputes')}\\\\n` +\n      `${chalk.gray(' Either party can raise a dispute')}\\\\n` +\n      `${chalk.gray(' Evidence submitted on-chain')}\\\\n` +\n      `${chalk.gray(' Community arbitration if needed')}\\\\n` +\n      `${chalk.gray(' Funds distributed based on outcome')}\\\\n\\\\n` +\n      `${chalk.bold('Deposit Requirements by Tier:')}\\\\n` +\n      `${chalk.gray(' PLATINUM/GOLD: 0% deposit')}\\\\n` +\n      `${chalk.gray(' SILVER: 15% deposit')}\\\\n` +\n      `${chalk.gray(' BRONZE/NEWCOMER: 25% deposit')}`,\n      'Escrow Guide'\n    )\n\n    outro('Use --help with any command for more details')\n  })\n","/**\n * Base Layout Component for Ink CLI\n * Provides consistent header, footer, and content areas\n */\n\nimport React, { type ReactNode } from 'react'\nimport { Box, Text } from 'ink'\nimport Gradient from 'ink-gradient'\nimport BigText from 'ink-big-text'\n\ninterface LayoutProps {\n  children: ReactNode\n  title?: string\n  showHeader?: boolean\n  showFooter?: boolean\n}\n\nexport const Layout: React.FC<LayoutProps> = ({\n  children,\n  title,\n  showHeader = true,\n  showFooter = true,\n}) => {\n  return (\n    <Box flexDirection=\"column\" padding={1}>\n      {showHeader && (\n        <Box flexDirection=\"column\" marginBottom={1}>\n          <Gradient name=\"rainbow\">\n            <BigText text=\"GHOST\" font=\"tiny\" />\n          </Gradient>\n          <Text dimColor>AI Agent Commerce Protocol</Text>\n          {title && (\n            <Box marginTop={1}>\n              <Text bold color=\"cyan\">\n                {title}\n              </Text>\n            </Box>\n          )}\n          <Box marginY={1}>\n            <Text dimColor>{''.repeat(60)}</Text>\n          </Box>\n        </Box>\n      )}\n\n      <Box flexDirection=\"column\">{children}</Box>\n\n      {showFooter && (\n        <Box marginTop={1} flexDirection=\"column\">\n          <Box>\n            <Text dimColor>{''.repeat(60)}</Text>\n          </Box>\n          <Box marginTop={1}>\n            <Text dimColor>\n              Press <Text color=\"yellow\">Ctrl+C</Text> to exit\n            </Text>\n          </Box>\n        </Box>\n      )}\n    </Box>\n  )\n}\n","/**\n * Info Row Component\n * Displays labeled information in a consistent format\n */\n\nimport React from 'react'\nimport { Box, Text } from 'ink'\n\nexport interface InfoRowProps {\n  label: string\n  value: string | number\n  color?: string\n  dimLabel?: boolean\n}\n\nexport const InfoRow: React.FC<InfoRowProps> = ({\n  label,\n  value,\n  color = 'white',\n  dimLabel = true,\n}) => {\n  return (\n    <Box>\n      <Box width={25}>\n        <Text dimColor={dimLabel}>{label}:</Text>\n      </Box>\n      <Text color={color}>{value}</Text>\n    </Box>\n  )\n}\n","/**\n * Status Badge Component\n * Visual status indicator with icon and color\n */\n\nimport React from 'react'\nimport { Box, Text } from 'ink'\n\nexport type StatusType = 'success' | 'error' | 'warning' | 'info' | 'pending'\n\nexport interface StatusBadgeProps {\n  status: StatusType\n  text: string\n}\n\nconst statusConfig = {\n  success: { icon: '', color: 'green' as const },\n  error: { icon: '', color: 'red' as const },\n  warning: { icon: ' ', color: 'yellow' as const },\n  info: { icon: ' ', color: 'blue' as const },\n  pending: { icon: '', color: 'gray' as const },\n}\n\nexport const StatusBadge: React.FC<StatusBadgeProps> = ({ status, text }) => {\n  const config = statusConfig[status]\n\n  return (\n    <Box>\n      <Text>{config.icon} </Text>\n      <Text color={config.color}>{text}</Text>\n    </Box>\n  )\n}\n","/**\n * Badge Component\n * Tier badges for Ghost Score and custom badges\n */\n\nimport React from 'react'\nimport { Box, Text } from 'ink'\n\nexport type TierType = 'platinum' | 'gold' | 'silver' | 'bronze' | 'newcomer'\nexport type BadgeVariant = 'tier' | 'custom'\n\nexport interface BadgeProps {\n  /**\n   * Variant of badge\n   * @default 'tier'\n   */\n  variant?: BadgeVariant\n  /**\n   * Tier type (for tier variant)\n   */\n  tier?: TierType\n  /**\n   * Custom text (for custom variant)\n   */\n  text?: string\n  /**\n   * Custom color (for custom variant)\n   */\n  color?: 'cyan' | 'green' | 'yellow' | 'red' | 'magenta' | 'blue' | 'white' | 'gray'\n  /**\n   * Optional icon/emoji\n   */\n  icon?: string\n  /**\n   * Show as bold text\n   * @default false\n   */\n  bold?: boolean\n}\n\nconst tierConfig = {\n  platinum: { text: 'PLATINUM', color: 'cyan' as const, icon: '' },\n  gold: { text: 'GOLD', color: 'yellow' as const, icon: '' },\n  silver: { text: 'SILVER', color: 'white' as const, icon: '' },\n  bronze: { text: 'BRONZE', color: 'red' as const, icon: '' },\n  newcomer: { text: 'NEWCOMER', color: 'gray' as const, icon: '' },\n}\n\nexport const Badge: React.FC<BadgeProps> = ({\n  variant = 'tier',\n  tier = 'newcomer',\n  text,\n  color,\n  icon,\n  bold = false,\n}) => {\n  let displayText: string\n  let displayColor: string\n  let displayIcon: string | undefined\n\n  if (variant === 'tier' && tier) {\n    const config = tierConfig[tier]\n    displayText = config.text\n    displayColor = config.color\n    displayIcon = icon ?? config.icon\n  } else {\n    displayText = text || 'BADGE'\n    displayColor = color || 'cyan'\n    displayIcon = icon\n  }\n\n  return (\n    <Box>\n      {displayIcon && (\n        <Text>\n          {displayIcon}\n          {' '}\n        </Text>\n      )}\n      <Text color={displayColor} bold={bold}>\n        [{displayText}]\n      </Text>\n    </Box>\n  )\n}\n","/**\n * Card Component\n * Info card with border, header, and footer support\n */\n\nimport React, { type ReactNode } from 'react'\nimport { Box, Text } from 'ink'\n\nexport interface CardProps {\n  /**\n   * Card content\n   */\n  children: ReactNode\n  /**\n   * Optional title for header\n   */\n  title?: string\n  /**\n   * Optional footer content\n   */\n  footer?: ReactNode\n  /**\n   * Border color\n   * @default 'greenBright' (brand color)\n   */\n  borderColor?: 'greenBright' | 'cyan' | 'green' | 'yellow' | 'red' | 'magenta' | 'blue' | 'white' | 'gray'\n  /**\n   * Border style\n   * @default 'single'\n   */\n  borderStyle?: 'single' | 'double' | 'round' | 'bold'\n  /**\n   * Padding inside the card\n   * @default 1\n   */\n  padding?: number\n  /**\n   * Width of the card\n   */\n  width?: number\n  /**\n   * Show border\n   * @default true\n   */\n  showBorder?: boolean\n}\n\nexport const Card: React.FC<CardProps> = ({\n  children,\n  title,\n  footer,\n  borderColor = 'greenBright',\n  borderStyle = 'single',\n  padding = 1,\n  width,\n  showBorder = true,\n}) => {\n  return (\n    <Box\n      flexDirection=\"column\"\n      borderStyle={showBorder ? borderStyle : undefined}\n      borderColor={showBorder ? borderColor : undefined}\n      padding={padding}\n      width={width}\n    >\n      {title && (\n        <Box marginBottom={1} flexDirection=\"column\">\n          <Text bold color={borderColor}>\n            {title}\n          </Text>\n          <Box marginTop={1}>\n            <Text dimColor>{''.repeat(width ? width - padding * 2 - 2 : 50)}</Text>\n          </Box>\n        </Box>\n      )}\n\n      <Box flexDirection=\"column\">{children}</Box>\n\n      {footer && (\n        <Box marginTop={1} flexDirection=\"column\">\n          <Box marginBottom={1}>\n            <Text dimColor>{''.repeat(width ? width - padding * 2 - 2 : 50)}</Text>\n          </Box>\n          {footer}\n        </Box>\n      )}\n    </Box>\n  )\n}\n","/**\n * Alert Component\n * Styled alert messages for info, success, warning, and error states\n */\n\nimport React from 'react'\nimport { Box, Text } from 'ink'\n\nexport type AlertType = 'info' | 'success' | 'warning' | 'error'\n\nexport interface AlertProps {\n  /**\n   * Alert type/severity\n   * @default 'info'\n   */\n  type?: AlertType\n  /**\n   * Alert message\n   */\n  message: string\n  /**\n   * Optional title\n   */\n  title?: string\n  /**\n   * Show icon\n   * @default true\n   */\n  showIcon?: boolean\n  /**\n   * Show border\n   * @default true\n   */\n  showBorder?: boolean\n  /**\n   * Dismissible (shows dismiss hint)\n   * @default false\n   */\n  dismissible?: boolean\n  /**\n   * On dismiss callback\n   */\n  onDismiss?: () => void\n}\n\nconst alertConfig = {\n  info: {\n    icon: ' ',\n    color: 'blue' as const,\n    borderColor: 'blue' as const,\n    prefix: 'INFO',\n  },\n  success: {\n    icon: '',\n    color: 'green' as const,\n    borderColor: 'green' as const,\n    prefix: 'SUCCESS',\n  },\n  warning: {\n    icon: ' ',\n    color: 'yellow' as const,\n    borderColor: 'yellow' as const,\n    prefix: 'WARNING',\n  },\n  error: {\n    icon: '',\n    color: 'red' as const,\n    borderColor: 'red' as const,\n    prefix: 'ERROR',\n  },\n}\n\nexport const Alert: React.FC<AlertProps> = ({\n  type = 'info',\n  message,\n  title,\n  showIcon = true,\n  showBorder = true,\n  dismissible = false,\n  onDismiss,\n}) => {\n  const config = alertConfig[type]\n\n  return (\n    <Box\n      flexDirection=\"column\"\n      borderStyle={showBorder ? 'round' : undefined}\n      borderColor={showBorder ? config.borderColor : undefined}\n      padding={1}\n    >\n      {/* Title or prefix */}\n      <Box marginBottom={title || showIcon ? 1 : 0}>\n        {showIcon && <Text>{config.icon} </Text>}\n        <Text bold color={config.color}>\n          {title || config.prefix}\n        </Text>\n      </Box>\n\n      {/* Message */}\n      <Box flexDirection=\"column\">\n        <Text>{message}</Text>\n      </Box>\n\n      {/* Dismissible hint */}\n      {dismissible && (\n        <Box marginTop={1}>\n          <Text dimColor>\n            Press <Text color=\"yellow\">Esc</Text> to dismiss\n          </Text>\n        </Box>\n      )}\n    </Box>\n  )\n}\n","/**\n * Enhanced Spinner Component\n * Multi-state loading spinner with icons and labels\n */\n\nimport React from 'react'\nimport { Box, Text } from 'ink'\nimport InkSpinner from 'ink-spinner'\n\nexport type SpinnerState = 'loading' | 'success' | 'error' | 'warning'\nexport type SpinnerType = 'dots' | 'line' | 'arc' | 'bouncingBar'\n\nexport interface SpinnerProps {\n  /**\n   * Current state of the spinner\n   * @default 'loading'\n   */\n  state?: SpinnerState\n  /**\n   * Type of spinner animation\n   * @default 'dots'\n   */\n  type?: SpinnerType\n  /**\n   * Label text to display next to spinner\n   */\n  label?: string\n  /**\n   * Custom color (overrides state color)\n   */\n  color?: 'cyan' | 'green' | 'yellow' | 'red' | 'magenta' | 'blue' | 'white' | 'gray'\n}\n\nconst stateConfig = {\n  loading: { icon: null, color: 'cyan' as const, spinning: true },\n  success: { icon: '', color: 'green' as const, spinning: false },\n  error: { icon: '', color: 'red' as const, spinning: false },\n  warning: { icon: ' ', color: 'yellow' as const, spinning: false },\n}\n\nexport const Spinner: React.FC<SpinnerProps> = ({\n  state = 'loading',\n  type = 'dots',\n  label,\n  color,\n}) => {\n  const config = stateConfig[state]\n  const finalColor = color || config.color\n\n  return (\n    <Box>\n      {config.spinning ? (\n        <Text color={finalColor}>\n          <InkSpinner type={type} />\n        </Text>\n      ) : (\n        <Text>{config.icon}</Text>\n      )}\n      {label && (\n        <Box marginLeft={1}>\n          <Text color={finalColor}>{label}</Text>\n        </Box>\n      )}\n    </Box>\n  )\n}\n","/**\n * Master Analytics Dashboard (Ink UI)\n * Comprehensive overview of all GhostSpeak metrics\n */\n\nimport React, { useState, useEffect } from 'react'\nimport { Box, Text, useApp, useInput } from 'ink'\nimport Gradient from 'ink-gradient'\nimport { Layout } from '../components/Layout.js'\nimport { InfoRow } from '../components/InfoRow.js'\nimport { StatusBadge } from '../components/StatusBadge.js'\nimport { Badge, type TierType } from '../components/Badge.js'\nimport { Card } from '../components/Card.js'\nimport { Alert } from '../components/Alert.js'\nimport { Spinner } from '../components/Spinner.js'\nimport { Table } from '../components/Table.js'\nimport { initializeClient } from '../../utils/client.js'\nimport { createSafeSDKClient } from '../../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { Address } from '@solana/addresses'\nimport { Reputation } from './Reputation.js'\nimport { Staking } from './Staking.js'\n\nexport interface DashboardProps {\n  agent?: string\n  autoRefresh?: boolean\n}\n\ntype DashboardStage = 'loading' | 'ready' | 'error'\ntype SubView = 'dashboard' | 'reputation' | 'staking' | 'privacy' | 'did' | 'escrow'\n\ninterface AgentOverview {\n  address: string\n  name: string\n  ghostScore: number\n  tier: TierType\n  jobsCompleted: number\n  successRate: number\n}\n\ninterface StakingOverview {\n  totalStaked: number\n  tier: number\n  apy: number\n  pendingRewards: number\n}\n\ninterface EscrowOverview {\n  activeCount: number\n  totalLocked: number\n  urgentAlerts: number\n}\n\ninterface PrivacyStatus {\n  mode: 'public' | 'private' | 'selective'\n  visibleFields: string[]\n}\n\ninterface RecentActivity {\n  timestamp: number\n  type: string\n  description: string\n  status: 'success' | 'pending' | 'failed'\n}\n\ninterface DashboardData {\n  agent: AgentOverview\n  staking: StakingOverview\n  escrow: EscrowOverview\n  privacy: PrivacyStatus\n  recentActivity: RecentActivity[]\n}\n\nexport const Dashboard: React.FC<DashboardProps> = ({ agent, autoRefresh = true }) => {\n  const { exit } = useApp()\n  const [stage, setStage] = useState<DashboardStage>('loading')\n  const [currentView, setCurrentView] = useState<SubView>('dashboard')\n  const [data, setData] = useState<DashboardData | null>(null)\n  const [error, setError] = useState<string>('')\n  const [lastUpdate, setLastUpdate] = useState<Date>(new Date())\n  const [network] = useState<string>('devnet')\n\n  // Keyboard shortcuts\n  useInput((input, key) => {\n    if (input === 'q' || (key.ctrl && input === 'c') || key.escape) {\n      exit()\n    }\n\n    if (stage === 'ready' && currentView === 'dashboard') {\n      if (input === 'r') {\n        setCurrentView('reputation')\n      } else if (input === 's') {\n        setCurrentView('staking')\n      } else if (input === 'p') {\n        setCurrentView('privacy')\n      } else if (input === 'd') {\n        setCurrentView('did')\n      } else if (input === 'e') {\n        setCurrentView('escrow')\n      } else if (input === 'f') {\n        refreshData()\n      }\n    }\n\n    // Back to dashboard from sub-views\n    if (currentView !== 'dashboard' && input === 'b') {\n      setCurrentView('dashboard')\n    }\n  })\n\n  // Auto-refresh every 30 seconds\n  useEffect(() => {\n    if (autoRefresh && currentView === 'dashboard') {\n      const interval = setInterval(() => {\n        refreshData(true) // silent refresh\n      }, 30000)\n\n      return () => clearInterval(interval)\n    }\n  }, [autoRefresh, currentView])\n\n  // Initial data load\n  useEffect(() => {\n    loadDashboardData()\n  }, [])\n\n  const loadDashboardData = async () => {\n    try {\n      setStage('loading')\n\n      const { client } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      // Get agent data\n      let agentOverview: AgentOverview\n      if (agent) {\n        const agentAddr = address(agent)\n        const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n        if (!agentData) {\n          setError('Agent not found')\n          setStage('error')\n          return\n        }\n\n        const reputationScore = Number(agentData.reputationScore || 0)\n        const ghostScore = Math.min(1000, Math.round(reputationScore / 100))\n        const totalJobs = Number(agentData.totalJobsCompleted || 0)\n        const totalJobsFailed = Number(agentData.totalJobsFailed || 0)\n        const totalJobsAll = totalJobs + totalJobsFailed\n        const successRate = totalJobsAll > 0 ? Math.round((totalJobs / totalJobsAll) * 100) : 0\n\n        const tier: TierType =\n          ghostScore >= 900 ? 'platinum' :\n          ghostScore >= 750 ? 'gold' :\n          ghostScore >= 500 ? 'silver' :\n          ghostScore >= 200 ? 'bronze' : 'newcomer'\n\n        agentOverview = {\n          address: agentAddr,\n          name: agentData.name || 'Agent',\n          ghostScore,\n          tier,\n          jobsCompleted: totalJobs,\n          successRate,\n        }\n      } else {\n        // Mock agent data if no agent specified\n        agentOverview = {\n          address: 'Not Connected',\n          name: 'Guest',\n          ghostScore: 0,\n          tier: 'newcomer',\n          jobsCompleted: 0,\n          successRate: 0,\n        }\n      }\n\n      // Mock staking data (TODO: integrate with actual SDK when available)\n      const stakingOverview: StakingOverview = {\n        totalStaked: 5000,\n        tier: 2,\n        apy: 15,\n        pendingRewards: 42.5,\n      }\n\n      // Mock escrow data (TODO: integrate with actual SDK when available)\n      const escrowOverview: EscrowOverview = {\n        activeCount: 3,\n        totalLocked: 500,\n        urgentAlerts: 1,\n      }\n\n      // Mock privacy status\n      const privacyStatus: PrivacyStatus = {\n        mode: 'private',\n        visibleFields: ['name', 'ghostScore'],\n      }\n\n      // Mock recent activity\n      const recentActivity: RecentActivity[] = [\n        {\n          timestamp: Date.now() - 120000,\n          type: 'Escrow',\n          description: 'Escrow created for 100 GHOST',\n          status: 'success',\n        },\n        {\n          timestamp: Date.now() - 3600000,\n          type: 'Rewards',\n          description: 'Claimed 10 GHOST rewards',\n          status: 'success',\n        },\n        {\n          timestamp: Date.now() - 7200000,\n          type: 'Job',\n          description: 'Completed job #42',\n          status: 'success',\n        },\n        {\n          timestamp: Date.now() - 10800000,\n          type: 'Stake',\n          description: 'Staked 1000 GHOST tokens',\n          status: 'success',\n        },\n        {\n          timestamp: Date.now() - 14400000,\n          type: 'Profile',\n          description: 'Updated privacy settings',\n          status: 'success',\n        },\n      ]\n\n      setData({\n        agent: agentOverview,\n        staking: stakingOverview,\n        escrow: escrowOverview,\n        privacy: privacyStatus,\n        recentActivity,\n      })\n\n      setStage('ready')\n      setLastUpdate(new Date())\n    } catch (err: any) {\n      setError(err.message || 'Failed to load dashboard data')\n      setStage('error')\n    }\n  }\n\n  const refreshData = async (silent = false) => {\n    if (!silent) {\n      setStage('loading')\n    }\n\n    try {\n      await loadDashboardData()\n    } catch (err: any) {\n      setError(err.message || 'Failed to refresh data')\n      setStage('error')\n    }\n  }\n\n  const formatTimeAgo = (timestamp: number): string => {\n    const seconds = Math.floor((Date.now() - timestamp) / 1000)\n    if (seconds < 60) return `${seconds}s ago`\n    const minutes = Math.floor(seconds / 60)\n    if (minutes < 60) return `${minutes}m ago`\n    const hours = Math.floor(minutes / 60)\n    if (hours < 24) return `${hours}h ago`\n    const days = Math.floor(hours / 24)\n    return `${days}d ago`\n  }\n\n  const getTierBadgeType = (tier: number): TierType => {\n    if (tier === 5) return 'platinum'\n    if (tier === 4) return 'gold'\n    if (tier >= 2) return 'silver'\n    if (tier === 1) return 'bronze'\n    return 'newcomer'\n  }\n\n  const getPrivacyIcon = (mode: string): string => {\n    if (mode === 'private') return ''\n    if (mode === 'selective') return ''\n    return ''\n  }\n\n  const getStatusColor = (status: string): 'green' | 'yellow' | 'red' => {\n    if (status === 'success') return 'green'\n    if (status === 'pending') return 'yellow'\n    return 'red'\n  }\n\n  const renderHeader = () => {\n    if (!data) return null\n\n    return (\n      <Card borderColor=\"greenBright\">\n        <Box flexDirection=\"column\">\n          <Box justifyContent=\"space-between\">\n            <Box>\n              <Text bold color=\"greenBright\">GHOST</Text>\n            </Box>\n            <Box gap={2}>\n              <Box>\n                <Text dimColor>Network: </Text>\n                <StatusBadge status=\"success\" text={network.toUpperCase()} />\n              </Box>\n              <Box>\n                <Text dimColor>Wallet: </Text>\n                <Text>{data.agent.address.toString().slice(0, 8)}...</Text>\n              </Box>\n            </Box>\n          </Box>\n          <Box marginTop={1}>\n            <Text dimColor>Last updated: {lastUpdate.toLocaleTimeString()}</Text>\n          </Box>\n        </Box>\n      </Card>\n    )\n  }\n\n  const renderAgentOverview = () => {\n    if (!data) return null\n\n    const tierColor =\n      data.agent.tier === 'platinum' ? 'cyan' :\n      data.agent.tier === 'gold' ? 'yellow' :\n      data.agent.tier === 'silver' ? 'white' :\n      data.agent.tier === 'bronze' ? 'red' : 'gray'\n\n    return (\n      <Card title=\"Agent Overview\" borderColor={tierColor}>\n        <Box flexDirection=\"column\">\n          <InfoRow label=\"Name\" value={data.agent.name} color=\"cyan\" />\n          <Box marginTop={1}>\n            <Box width={25}>\n              <Text dimColor>Ghost Score:</Text>\n            </Box>\n            <Text bold color={tierColor}>\n              {data.agent.ghostScore}/1000\n            </Text>\n            <Box marginLeft={2}>\n              <Badge variant=\"tier\" tier={data.agent.tier} />\n            </Box>\n          </Box>\n          <InfoRow label=\"Jobs Completed\" value={data.agent.jobsCompleted.toString()} color=\"green\" />\n          <InfoRow label=\"Success Rate\" value={`${data.agent.successRate}%`} color={data.agent.successRate >= 80 ? 'green' : 'yellow'} />\n        </Box>\n      </Card>\n    )\n  }\n\n  const renderStakingOverview = () => {\n    if (!data) return null\n\n    return (\n      <Card title=\"Staking\" borderColor=\"green\">\n        <Box flexDirection=\"column\">\n          <Box>\n            <Box width={25}>\n              <Text dimColor>Staked:</Text>\n            </Box>\n            <Text bold color=\"green\">\n              {data.staking.totalStaked.toLocaleString()} GHOST\n            </Text>\n          </Box>\n          <Box marginTop={1}>\n            <Box width={25}>\n              <Text dimColor>Tier:</Text>\n            </Box>\n            <Badge variant=\"tier\" tier={getTierBadgeType(data.staking.tier)} />\n          </Box>\n          <InfoRow label=\"APY\" value={`${data.staking.apy}%`} color=\"yellow\" />\n          <InfoRow label=\"Pending Rewards\" value={`${data.staking.pendingRewards} GHOST`} color=\"cyan\" />\n        </Box>\n      </Card>\n    )\n  }\n\n  const renderEscrowOverview = () => {\n    if (!data) return null\n\n    return (\n      <Card title=\"Active Escrows\" borderColor=\"magenta\">\n        <Box flexDirection=\"column\">\n          <InfoRow label=\"Active\" value={data.escrow.activeCount.toString()} color=\"cyan\" />\n          <InfoRow label=\"Total Locked\" value={`${data.escrow.totalLocked} GHOST`} color=\"yellow\" />\n          <Box marginTop={1}>\n            <Box width={25}>\n              <Text dimColor>Urgent Alerts:</Text>\n            </Box>\n            {data.escrow.urgentAlerts > 0 ? (\n              <Text bold color=\"red\">\n                {data.escrow.urgentAlerts} \n              </Text>\n            ) : (\n              <Text color=\"green\">None</Text>\n            )}\n          </Box>\n        </Box>\n      </Card>\n    )\n  }\n\n  const renderPrivacyStatus = () => {\n    if (!data) return null\n\n    return (\n      <Card title=\"Privacy\" borderColor=\"blue\">\n        <Box flexDirection=\"column\">\n          <Box>\n            <Box width={25}>\n              <Text dimColor>Mode:</Text>\n            </Box>\n            <Text>{getPrivacyIcon(data.privacy.mode)} </Text>\n            <Text bold color={data.privacy.mode === 'private' ? 'green' : 'yellow'}>\n              {data.privacy.mode.toUpperCase()}\n            </Text>\n          </Box>\n          <Box marginTop={1}>\n            <Text dimColor>Visible: {data.privacy.visibleFields.join(', ')}</Text>\n          </Box>\n        </Box>\n      </Card>\n    )\n  }\n\n  const renderRecentActivity = () => {\n    if (!data) return null\n\n    return (\n      <Card title=\"Recent Activity\" borderColor=\"yellow\">\n        <Box flexDirection=\"column\">\n          {data.recentActivity.slice(0, 5).map((activity, idx) => (\n            <Box key={idx} marginTop={idx > 0 ? 1 : 0}>\n              <Box width={12}>\n                <Text dimColor>{formatTimeAgo(activity.timestamp)}</Text>\n              </Box>\n              <Box width={10}>\n                <Text color={getStatusColor(activity.status)}>[{activity.type}]</Text>\n              </Box>\n              <Text>{activity.description}</Text>\n            </Box>\n          ))}\n        </Box>\n      </Card>\n    )\n  }\n\n  const renderQuickActions = () => {\n    return (\n      <Card title=\"Quick Actions\" borderColor=\"gray\">\n        <Box flexDirection=\"column\">\n          <Text>\n            <Text color=\"yellow\">[R]</Text> <Text dimColor>Reputation Dashboard</Text>\n          </Text>\n          <Text>\n            <Text color=\"green\">[S]</Text> <Text dimColor>Staking Dashboard</Text>\n          </Text>\n          <Text>\n            <Text color=\"blue\">[P]</Text> <Text dimColor>Privacy Settings</Text>\n          </Text>\n          <Text>\n            <Text color=\"magenta\">[D]</Text> <Text dimColor>DID Manager</Text>\n          </Text>\n          <Text>\n            <Text color=\"cyan\">[E]</Text> <Text dimColor>Escrow Monitor</Text>\n          </Text>\n          <Text>\n            <Text color=\"white\">[F]</Text> <Text dimColor>Refresh Data</Text>\n          </Text>\n          <Text>\n            <Text color=\"red\">[Q]</Text> <Text dimColor>Quit</Text>\n          </Text>\n        </Box>\n      </Card>\n    )\n  }\n\n  const renderDashboardContent = () => {\n    if (stage === 'loading') {\n      return (\n        <Box flexDirection=\"column\" gap={1}>\n          <Spinner state=\"loading\" label=\"Loading dashboard data...\" />\n        </Box>\n      )\n    }\n\n    if (stage === 'error') {\n      return (\n        <Box flexDirection=\"column\" gap={1}>\n          <Alert\n            type=\"error\"\n            title=\"Failed to Load Dashboard\"\n            message={error}\n            showBorder\n          />\n          <Box marginTop={1}>\n            <Text dimColor>\n              Press <Text color=\"yellow\">f</Text> to retry or{' '}\n              <Text color=\"yellow\">q</Text> to quit\n            </Text>\n          </Box>\n        </Box>\n      )\n    }\n\n    if (!data) return null\n\n    return (\n      <Box flexDirection=\"column\">\n        {renderHeader()}\n\n        {/* Grid layout - Top row */}\n        <Box marginTop={1} gap={1}>\n          <Box flexDirection=\"column\" flexGrow={1}>\n            {renderAgentOverview()}\n          </Box>\n          <Box flexDirection=\"column\" flexGrow={1}>\n            {renderStakingOverview()}\n          </Box>\n        </Box>\n\n        {/* Grid layout - Middle row */}\n        <Box marginTop={1} gap={1}>\n          <Box flexDirection=\"column\" flexGrow={1}>\n            {renderEscrowOverview()}\n          </Box>\n          <Box flexDirection=\"column\" flexGrow={1}>\n            {renderPrivacyStatus()}\n          </Box>\n        </Box>\n\n        {/* Recent activity - Full width */}\n        <Box marginTop={1}>\n          {renderRecentActivity()}\n        </Box>\n\n        {/* Quick actions - Full width */}\n        <Box marginTop={1}>\n          {renderQuickActions()}\n        </Box>\n\n        {/* Info footer */}\n        <Box marginTop={1}>\n          <Alert\n            type=\"info\"\n            message=\"Use keyboard shortcuts to navigate to detailed dashboards\"\n            showBorder={false}\n          />\n        </Box>\n      </Box>\n    )\n  }\n\n  // Render sub-views\n  if (currentView === 'reputation' && agent) {\n    return <Reputation agent={agent} detailed={true} />\n  }\n\n  if (currentView === 'staking') {\n    return <Staking agent={agent} autoRefresh={autoRefresh} />\n  }\n\n  if (currentView === 'privacy') {\n    return (\n      <Layout title=\" Privacy Settings\" showFooter={false}>\n        <Box flexDirection=\"column\">\n          <Alert\n            type=\"info\"\n            title=\"Privacy Settings\"\n            message=\"Privacy management coming soon. Use 'ghost privacy' command for basic settings.\"\n          />\n          <Box marginTop={1}>\n            <Text dimColor>\n              Press <Text color=\"yellow\">b</Text> to return to dashboard\n            </Text>\n          </Box>\n        </Box>\n      </Layout>\n    )\n  }\n\n  if (currentView === 'did') {\n    return (\n      <Layout title=\" DID Manager\" showFooter={false}>\n        <Box flexDirection=\"column\">\n          <Alert\n            type=\"info\"\n            title=\"DID Manager\"\n            message=\"Decentralized identifier management coming soon. Use 'ghost did' command for basic operations.\"\n          />\n          <Box marginTop={1}>\n            <Text dimColor>\n              Press <Text color=\"yellow\">b</Text> to return to dashboard\n            </Text>\n          </Box>\n        </Box>\n      </Layout>\n    )\n  }\n\n  if (currentView === 'escrow') {\n    return (\n      <Layout title=\" Escrow Monitor\" showFooter={false}>\n        <Box flexDirection=\"column\">\n          <Alert\n            type=\"info\"\n            title=\"Escrow Monitor\"\n            message=\"Escrow monitoring dashboard coming soon. Use 'ghost escrow' command for basic operations.\"\n          />\n          <Box marginTop={1}>\n            <Text dimColor>\n              Press <Text color=\"yellow\">b</Text> to return to dashboard\n            </Text>\n          </Box>\n        </Box>\n      </Layout>\n    )\n  }\n\n  // Main dashboard view\n  return (\n    <Layout title=\" Analytics Dashboard\" showFooter={false}>\n      {renderDashboardContent()}\n    </Layout>\n  )\n}\n",null,"import process from 'node:process';\n\nexport default function isUnicodeSupported() {\n\tconst {env} = process;\n\tconst {TERM, TERM_PROGRAM} = env;\n\n\tif (process.platform !== 'win32') {\n\t\treturn TERM !== 'linux'; // Linux console (kernel)\n\t}\n\n\treturn Boolean(env.WT_SESSION) // Windows Terminal\n\t\t|| Boolean(env.TERMINUS_SUBLIME) // Terminus (<0.2.27)\n\t\t|| env.ConEmuTask === '{cmd::Cmder}' // ConEmu and cmder\n\t\t|| TERM_PROGRAM === 'Terminus-Sublime'\n\t\t|| TERM_PROGRAM === 'vscode'\n\t\t|| TERM === 'xterm-256color'\n\t\t|| TERM === 'alacritty'\n\t\t|| TERM === 'rxvt-unicode'\n\t\t|| TERM === 'rxvt-unicode-256color'\n\t\t|| env.TERMINAL_EMULATOR === 'JetBrains-JediTerm';\n}\n","import isUnicodeSupported from 'is-unicode-supported';\n\nconst common = {\n\tcircleQuestionMark: '(?)',\n\tquestionMarkPrefix: '(?)',\n\tsquare: '',\n\tsquareDarkShade: '',\n\tsquareMediumShade: '',\n\tsquareLightShade: '',\n\tsquareTop: '',\n\tsquareBottom: '',\n\tsquareLeft: '',\n\tsquareRight: '',\n\tsquareCenter: '',\n\tbullet: '',\n\tdot: '',\n\tellipsis: '',\n\tpointerSmall: '',\n\ttriangleUp: '',\n\ttriangleUpSmall: '',\n\ttriangleDown: '',\n\ttriangleDownSmall: '',\n\ttriangleLeftSmall: '',\n\ttriangleRightSmall: '',\n\thome: '',\n\theart: '',\n\tmusicNote: '',\n\tmusicNoteBeamed: '',\n\tarrowUp: '',\n\tarrowDown: '',\n\tarrowLeft: '',\n\tarrowRight: '',\n\tarrowLeftRight: '',\n\tarrowUpDown: '',\n\talmostEqual: '',\n\tnotEqual: '',\n\tlessOrEqual: '',\n\tgreaterOrEqual: '',\n\tidentical: '',\n\tinfinity: '',\n\tsubscriptZero: '',\n\tsubscriptOne: '',\n\tsubscriptTwo: '',\n\tsubscriptThree: '',\n\tsubscriptFour: '',\n\tsubscriptFive: '',\n\tsubscriptSix: '',\n\tsubscriptSeven: '',\n\tsubscriptEight: '',\n\tsubscriptNine: '',\n\toneHalf: '',\n\toneThird: '',\n\toneQuarter: '',\n\toneFifth: '',\n\toneSixth: '',\n\toneEighth: '',\n\ttwoThirds: '',\n\ttwoFifths: '',\n\tthreeQuarters: '',\n\tthreeFifths: '',\n\tthreeEighths: '',\n\tfourFifths: '',\n\tfiveSixths: '',\n\tfiveEighths: '',\n\tsevenEighths: '',\n\tline: '',\n\tlineBold: '',\n\tlineDouble: '',\n\tlineDashed0: '',\n\tlineDashed1: '',\n\tlineDashed2: '',\n\tlineDashed3: '',\n\tlineDashed4: '',\n\tlineDashed5: '',\n\tlineDashed6: '',\n\tlineDashed7: '',\n\tlineDashed8: '',\n\tlineDashed9: '',\n\tlineDashed10: '',\n\tlineDashed11: '',\n\tlineDashed12: '',\n\tlineDashed13: '',\n\tlineDashed14: '',\n\tlineDashed15: '',\n\tlineVertical: '',\n\tlineVerticalBold: '',\n\tlineVerticalDouble: '',\n\tlineVerticalDashed0: '',\n\tlineVerticalDashed1: '',\n\tlineVerticalDashed2: '',\n\tlineVerticalDashed3: '',\n\tlineVerticalDashed4: '',\n\tlineVerticalDashed5: '',\n\tlineVerticalDashed6: '',\n\tlineVerticalDashed7: '',\n\tlineVerticalDashed8: '',\n\tlineVerticalDashed9: '',\n\tlineVerticalDashed10: '',\n\tlineVerticalDashed11: '',\n\tlineDownLeft: '',\n\tlineDownLeftArc: '',\n\tlineDownBoldLeftBold: '',\n\tlineDownBoldLeft: '',\n\tlineDownLeftBold: '',\n\tlineDownDoubleLeftDouble: '',\n\tlineDownDoubleLeft: '',\n\tlineDownLeftDouble: '',\n\tlineDownRight: '',\n\tlineDownRightArc: '',\n\tlineDownBoldRightBold: '',\n\tlineDownBoldRight: '',\n\tlineDownRightBold: '',\n\tlineDownDoubleRightDouble: '',\n\tlineDownDoubleRight: '',\n\tlineDownRightDouble: '',\n\tlineUpLeft: '',\n\tlineUpLeftArc: '',\n\tlineUpBoldLeftBold: '',\n\tlineUpBoldLeft: '',\n\tlineUpLeftBold: '',\n\tlineUpDoubleLeftDouble: '',\n\tlineUpDoubleLeft: '',\n\tlineUpLeftDouble: '',\n\tlineUpRight: '',\n\tlineUpRightArc: '',\n\tlineUpBoldRightBold: '',\n\tlineUpBoldRight: '',\n\tlineUpRightBold: '',\n\tlineUpDoubleRightDouble: '',\n\tlineUpDoubleRight: '',\n\tlineUpRightDouble: '',\n\tlineUpDownLeft: '',\n\tlineUpBoldDownBoldLeftBold: '',\n\tlineUpBoldDownBoldLeft: '',\n\tlineUpDownLeftBold: '',\n\tlineUpBoldDownLeftBold: '',\n\tlineUpDownBoldLeftBold: '',\n\tlineUpDownBoldLeft: '',\n\tlineUpBoldDownLeft: '',\n\tlineUpDoubleDownDoubleLeftDouble: '',\n\tlineUpDoubleDownDoubleLeft: '',\n\tlineUpDownLeftDouble: '',\n\tlineUpDownRight: '',\n\tlineUpBoldDownBoldRightBold: '',\n\tlineUpBoldDownBoldRight: '',\n\tlineUpDownRightBold: '',\n\tlineUpBoldDownRightBold: '',\n\tlineUpDownBoldRightBold: '',\n\tlineUpDownBoldRight: '',\n\tlineUpBoldDownRight: '',\n\tlineUpDoubleDownDoubleRightDouble: '',\n\tlineUpDoubleDownDoubleRight: '',\n\tlineUpDownRightDouble: '',\n\tlineDownLeftRight: '',\n\tlineDownBoldLeftBoldRightBold: '',\n\tlineDownLeftBoldRightBold: '',\n\tlineDownBoldLeftRight: '',\n\tlineDownBoldLeftBoldRight: '',\n\tlineDownBoldLeftRightBold: '',\n\tlineDownLeftRightBold: '',\n\tlineDownLeftBoldRight: '',\n\tlineDownDoubleLeftDoubleRightDouble: '',\n\tlineDownDoubleLeftRight: '',\n\tlineDownLeftDoubleRightDouble: '',\n\tlineUpLeftRight: '',\n\tlineUpBoldLeftBoldRightBold: '',\n\tlineUpLeftBoldRightBold: '',\n\tlineUpBoldLeftRight: '',\n\tlineUpBoldLeftBoldRight: '',\n\tlineUpBoldLeftRightBold: '',\n\tlineUpLeftRightBold: '',\n\tlineUpLeftBoldRight: '',\n\tlineUpDoubleLeftDoubleRightDouble: '',\n\tlineUpDoubleLeftRight: '',\n\tlineUpLeftDoubleRightDouble: '',\n\tlineUpDownLeftRight: '',\n\tlineUpBoldDownBoldLeftBoldRightBold: '',\n\tlineUpDownBoldLeftBoldRightBold: '',\n\tlineUpBoldDownLeftBoldRightBold: '',\n\tlineUpBoldDownBoldLeftRightBold: '',\n\tlineUpBoldDownBoldLeftBoldRight: '',\n\tlineUpBoldDownLeftRight: '',\n\tlineUpDownBoldLeftRight: '',\n\tlineUpDownLeftBoldRight: '',\n\tlineUpDownLeftRightBold: '',\n\tlineUpBoldDownBoldLeftRight: '',\n\tlineUpDownLeftBoldRightBold: '',\n\tlineUpBoldDownLeftBoldRight: '',\n\tlineUpBoldDownLeftRightBold: '',\n\tlineUpDownBoldLeftBoldRight: '',\n\tlineUpDownBoldLeftRightBold: '',\n\tlineUpDoubleDownDoubleLeftDoubleRightDouble: '',\n\tlineUpDoubleDownDoubleLeftRight: '',\n\tlineUpDownLeftDoubleRightDouble: '',\n\tlineCross: '',\n\tlineBackslash: '',\n\tlineSlash: '',\n};\n\nconst specialMainSymbols = {\n\ttick: '',\n\tinfo: '',\n\twarning: '',\n\tcross: '',\n\tsquareSmall: '',\n\tsquareSmallFilled: '',\n\tcircle: '',\n\tcircleFilled: '',\n\tcircleDotted: '',\n\tcircleDouble: '',\n\tcircleCircle: '',\n\tcircleCross: '',\n\tcirclePipe: '',\n\tradioOn: '',\n\tradioOff: '',\n\tcheckboxOn: '',\n\tcheckboxOff: '',\n\tcheckboxCircleOn: '',\n\tcheckboxCircleOff: '',\n\tpointer: '',\n\ttriangleUpOutline: '',\n\ttriangleLeft: '',\n\ttriangleRight: '',\n\tlozenge: '',\n\tlozengeOutline: '',\n\thamburger: '',\n\tsmiley: '',\n\tmustache: '',\n\tstar: '',\n\tplay: '',\n\tnodejs: '',\n\toneSeventh: '',\n\toneNinth: '',\n\toneTenth: '',\n};\n\nconst specialFallbackSymbols = {\n\ttick: '',\n\tinfo: 'i',\n\twarning: '',\n\tcross: '',\n\tsquareSmall: '',\n\tsquareSmallFilled: '',\n\tcircle: '( )',\n\tcircleFilled: '(*)',\n\tcircleDotted: '( )',\n\tcircleDouble: '( )',\n\tcircleCircle: '()',\n\tcircleCross: '()',\n\tcirclePipe: '()',\n\tradioOn: '(*)',\n\tradioOff: '( )',\n\tcheckboxOn: '[]',\n\tcheckboxOff: '[ ]',\n\tcheckboxCircleOn: '()',\n\tcheckboxCircleOff: '( )',\n\tpointer: '>',\n\ttriangleUpOutline: '',\n\ttriangleLeft: '',\n\ttriangleRight: '',\n\tlozenge: '',\n\tlozengeOutline: '',\n\thamburger: '',\n\tsmiley: '',\n\tmustache: '',\n\tstar: '',\n\tplay: '',\n\tnodejs: '',\n\toneSeventh: '1/7',\n\toneNinth: '1/9',\n\toneTenth: '1/10',\n};\n\nexport const mainSymbols = {...common, ...specialMainSymbols};\nexport const fallbackSymbols = {...common, ...specialFallbackSymbols};\n\nconst shouldUseMain = isUnicodeSupported();\nconst figures = shouldUseMain ? mainSymbols : fallbackSymbols;\nexport default figures;\n\nconst replacements = Object.entries(specialMainSymbols);\n\n// On terminals which do not support Unicode symbols, substitute them to other symbols\nexport const replaceSymbols = (string, {useFallback = !shouldUseMain} = {}) => {\n\tif (useFallback) {\n\t\tfor (const [key, mainSymbol] of replacements) {\n\t\t\tstring = string.replaceAll(mainSymbol, fallbackSymbols[key]);\n\t\t}\n\t}\n\n\treturn string;\n};\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n * Progress Bar Component\n * Beautiful progress bar with percentage and custom styling\n */\n\nimport React from 'react'\nimport { Box, Text } from 'ink'\nimport { ProgressBar as InkProgressBar } from '@inkjs/ui'\n\nexport interface ProgressBarProps {\n  /**\n   * Current progress value (0-100)\n   */\n  value: number\n  /**\n   * Label to display above the progress bar\n   */\n  label?: string\n  /**\n   * Show percentage text\n   * @default true\n   */\n  showPercentage?: boolean\n  /**\n   * Color of the progress bar\n   * @default 'cyan'\n   */\n  color?: 'cyan' | 'green' | 'yellow' | 'red' | 'magenta' | 'blue'\n  /**\n   * Width of the progress bar in characters\n   * @default 40\n   */\n  width?: number\n}\n\nexport const ProgressBar: React.FC<ProgressBarProps> = ({\n  value,\n  label,\n  showPercentage = true,\n  color = 'cyan',\n  width = 40,\n}) => {\n  // Clamp value between 0 and 100\n  const clampedValue = Math.max(0, Math.min(100, value))\n\n  return (\n    <Box flexDirection=\"column\">\n      {label && (\n        <Box marginBottom={1}>\n          <Text bold>{label}</Text>\n        </Box>\n      )}\n      <Box>\n        <InkProgressBar value={clampedValue} />\n        {showPercentage && (\n          <Box marginLeft={2}>\n            <Text color={color} bold>\n              {clampedValue.toFixed(0)}%\n            </Text>\n          </Box>\n        )}\n      </Box>\n    </Box>\n  )\n}\n","/**\n * Chart Component\n * ASCII bar and line charts for analytics\n */\n\nimport React from 'react'\nimport { Box, Text } from 'ink'\n\nexport type ChartType = 'bar' | 'line'\n\nexport interface ChartDataPoint {\n  label: string\n  value: number\n  color?: 'cyan' | 'green' | 'yellow' | 'red' | 'magenta' | 'blue' | 'white' | 'gray'\n}\n\nexport interface ChartProps {\n  /**\n   * Chart type\n   * @default 'bar'\n   */\n  type?: ChartType\n  /**\n   * Data points to display\n   */\n  data: ChartDataPoint[]\n  /**\n   * Maximum height of bars (in characters)\n   * @default 10\n   */\n  maxHeight?: number\n  /**\n   * Width of each bar (in characters)\n   * @default 3\n   */\n  barWidth?: number\n  /**\n   * Show grid lines\n   * @default false\n   */\n  showGrid?: boolean\n  /**\n   * Show values on bars\n   * @default true\n   */\n  showValues?: boolean\n  /**\n   * Chart title\n   */\n  title?: string\n  /**\n   * Default bar color\n   * @default 'cyan'\n   */\n  defaultColor?: 'cyan' | 'green' | 'yellow' | 'red' | 'magenta' | 'blue' | 'white' | 'gray'\n}\n\nexport const Chart: React.FC<ChartProps> = ({\n  type = 'bar',\n  data,\n  maxHeight = 10,\n  barWidth = 3,\n  showGrid = false,\n  showValues = true,\n  title,\n  defaultColor = 'cyan',\n}) => {\n  if (data.length === 0) {\n    return (\n      <Box>\n        <Text dimColor>No data to display</Text>\n      </Box>\n    )\n  }\n\n  // Find max value for scaling\n  const maxValue = Math.max(...data.map(d => d.value), 1)\n\n  // Calculate bar heights\n  const bars = data.map(point => {\n    const height = Math.max(1, Math.round((point.value / maxValue) * maxHeight))\n    const color = point.color || defaultColor\n    return { ...point, height, color }\n  })\n\n  if (type === 'bar') {\n    return (\n      <Box flexDirection=\"column\">\n        {title && (\n          <Box marginBottom={1}>\n            <Text bold>{title}</Text>\n          </Box>\n        )}\n\n        {/* Chart area */}\n        <Box flexDirection=\"column\">\n          {/* Render bars from top to bottom */}\n          {Array.from({ length: maxHeight }).map((_, rowIndex) => {\n            const row = maxHeight - rowIndex - 1\n            return (\n              <Box key={rowIndex}>\n                {showGrid && (\n                  <Box width={3}>\n                    <Text dimColor>{row === 0 ? '  0' : '   '}</Text>\n                  </Box>\n                )}\n                {bars.map((bar, barIndex) => (\n                  <Box key={barIndex} width={barWidth + 1}>\n                    <Text color={bar.height > row ? bar.color : undefined}>\n                      {bar.height > row ? ''.repeat(barWidth) : ' '.repeat(barWidth)}\n                    </Text>\n                  </Box>\n                ))}\n              </Box>\n            )\n          })}\n\n          {/* Bottom line */}\n          <Box>\n            {showGrid && <Box width={3}><Text dimColor>   </Text></Box>}\n            {bars.map((_, index) => (\n              <Text key={index} dimColor>\n                {''.repeat(barWidth)}{' '}\n              </Text>\n            ))}\n          </Box>\n\n          {/* Labels */}\n          <Box>\n            {showGrid && <Box width={3}><Text> </Text></Box>}\n            {bars.map((bar, index) => (\n              <Box key={index} width={barWidth + 1}>\n                <Text>{bar.label.slice(0, barWidth)}</Text>\n              </Box>\n            ))}\n          </Box>\n\n          {/* Values */}\n          {showValues && (\n            <Box marginTop={1}>\n              {showGrid && <Box width={3}><Text> </Text></Box>}\n              {bars.map((bar, index) => (\n                <Box key={index} width={barWidth + 1}>\n                  <Text dimColor>{bar.value}</Text>\n                </Box>\n              ))}\n            </Box>\n          )}\n        </Box>\n      </Box>\n    )\n  }\n\n  // Line chart (simple ASCII representation)\n  return (\n    <Box flexDirection=\"column\">\n      {title && (\n        <Box marginBottom={1}>\n          <Text bold>{title}</Text>\n        </Box>\n      )}\n\n      {data.map((point, index) => {\n        const barLength = Math.max(1, Math.round((point.value / maxValue) * 40))\n        return (\n          <Box key={index} marginBottom={1}>\n            <Box width={15}>\n              <Text>{point.label}: </Text>\n            </Box>\n            <Text color={point.color || defaultColor}>\n              {''.repeat(barLength)}\n            </Text>\n            {showValues && (\n              <Box marginLeft={1}>\n                <Text dimColor>({point.value})</Text>\n              </Box>\n            )}\n          </Box>\n        )\n      })}\n    </Box>\n  )\n}\n","/**\n * Interactive Reputation Dashboard (Ink UI)\n * Beautiful animated interface for viewing Ghost Score and reputation metrics\n */\n\nimport React, { useState, useEffect } from 'react'\nimport { Box, Text, useApp, useInput } from 'ink'\nimport Gradient from 'ink-gradient'\nimport BigText from 'ink-big-text'\nimport { Layout } from '../components/Layout.js'\nimport { InfoRow } from '../components/InfoRow.js'\nimport { StatusBadge } from '../components/StatusBadge.js'\nimport { ProgressBar } from '../components/ProgressBar.js'\nimport { Badge, type TierType } from '../components/Badge.js'\nimport { Card } from '../components/Card.js'\nimport { Chart, type ChartDataPoint } from '../components/Chart.js'\nimport { Spinner } from '../components/Spinner.js'\nimport { Alert } from '../components/Alert.js'\nimport { Table } from '../components/Table.js'\nimport { initializeClient } from '../../utils/client.js'\nimport { createSafeSDKClient } from '../../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { Address } from '@solana/addresses'\n\ninterface ReputationProps {\n  agent: string\n  detailed?: boolean\n}\n\ntype Stage = 'loading' | 'loaded' | 'error'\ntype ViewMode = 'overview' | 'detailed'\n\ninterface ReputationData {\n  address: string\n  agentName: string\n  ghostScore: number\n  tier: TierType\n  tierColor: 'cyan' | 'yellow' | 'white' | 'red' | 'gray'\n  reputationScore: number\n  totalJobs: number\n  totalJobsFailed: number\n  successRate: number\n  breakdown: {\n    successRate: { value: number; weight: number; contribution: number }\n    serviceQuality: { value: number; weight: number; contribution: number }\n    responseTime: { value: number; weight: number; contribution: number }\n    volumeConsistency: { value: number; weight: number; contribution: number }\n  }\n}\n\nexport const Reputation: React.FC<ReputationProps> = ({ agent, detailed = false }) => {\n  const { exit } = useApp()\n  const [stage, setStage] = useState<Stage>('loading')\n  const [viewMode, setViewMode] = useState<ViewMode>(detailed ? 'detailed' : 'overview')\n  const [data, setData] = useState<ReputationData | null>(null)\n  const [error, setError] = useState<string>('')\n  const [animatedScore, setAnimatedScore] = useState<number>(0)\n  const [lastUpdated, setLastUpdated] = useState<number>(Date.now())\n  const [refreshing, setRefreshing] = useState(false)\n\n  // Keyboard shortcuts\n  useInput((input, key) => {\n    if (input === 'q' || (key.ctrl && input === 'c')) {\n      exit()\n    } else if (input === 'r') {\n      // Refresh\n      refreshData()\n    } else if (input === 'd') {\n      // Toggle detailed view\n      setViewMode(viewMode === 'overview' ? 'detailed' : 'overview')\n    }\n  })\n\n  useEffect(() => {\n    loadReputationData()\n  }, [])\n\n  // Auto-refresh every 30 seconds\n  useEffect(() => {\n    const interval = setInterval(() => {\n      refreshData()\n    }, 30000)\n\n    return () => clearInterval(interval)\n  }, [])\n\n  // Animate score counter\n  useEffect(() => {\n    if (data && animatedScore < data.ghostScore) {\n      const increment = Math.ceil(data.ghostScore / 50)\n      const timer = setTimeout(() => {\n        setAnimatedScore(Math.min(animatedScore + increment, data.ghostScore))\n      }, 20)\n      return () => clearTimeout(timer)\n    }\n  }, [animatedScore, data])\n\n  const loadReputationData = async () => {\n    try {\n      setAnimatedScore(0)\n      const { client } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      const agentAddr = address(agent)\n      const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n      if (!agentData) {\n        setError('Agent not found')\n        setStage('error')\n        return\n      }\n\n      // Calculate Ghost Score metrics\n      const reputationScore = Number(agentData.reputationScore || 0)\n      const ghostScore = Math.min(1000, Math.round(reputationScore / 100))\n      const totalJobs = Number(agentData.totalJobsCompleted || 0)\n      const totalJobsFailed = Number(agentData.totalJobsFailed || 0)\n      const totalJobsAll = totalJobs + totalJobsFailed\n      const successRate = totalJobsAll > 0 ? Math.round((totalJobs / totalJobsAll) * 100) : 0\n\n      // Determine tier\n      const tier: TierType =\n        ghostScore >= 900 ? 'platinum' :\n        ghostScore >= 750 ? 'gold' :\n        ghostScore >= 500 ? 'silver' :\n        ghostScore >= 200 ? 'bronze' : 'newcomer'\n\n      const tierColor: 'cyan' | 'yellow' | 'white' | 'red' | 'gray' =\n        tier === 'platinum' ? 'cyan' :\n        tier === 'gold' ? 'yellow' :\n        tier === 'silver' ? 'white' :\n        tier === 'bronze' ? 'red' : 'gray'\n\n      // Calculate detailed breakdown\n      const successComponent = Math.round(successRate * 0.4)\n      const serviceQuality = Math.min(100, Math.round((ghostScore / 10) * 1.2))\n      const serviceComponent = Math.round(serviceQuality * 0.3)\n      const responseTime = 95 // Would come from actual metrics\n      const responseComponent = Math.round(responseTime * 0.2)\n      const volumeConsistency = Math.min(100, Math.round((totalJobs / 100) * 100))\n      const volumeComponent = Math.round(volumeConsistency * 0.1)\n\n      const breakdown = {\n        successRate: { value: successRate, weight: 40, contribution: successComponent },\n        serviceQuality: { value: serviceQuality, weight: 30, contribution: serviceComponent },\n        responseTime: { value: responseTime, weight: 20, contribution: responseComponent },\n        volumeConsistency: { value: volumeConsistency, weight: 10, contribution: volumeComponent },\n      }\n\n      setData({\n        address: agentAddr,\n        agentName: agentData.name || 'Agent',\n        ghostScore,\n        tier,\n        tierColor,\n        reputationScore,\n        totalJobs,\n        totalJobsFailed,\n        successRate,\n        breakdown,\n      })\n\n      setStage('loaded')\n      setLastUpdated(Date.now())\n    } catch (err: any) {\n      setError(err.message || 'Unknown error')\n      setStage('error')\n    }\n  }\n\n  const refreshData = async () => {\n    setRefreshing(true)\n    await loadReputationData()\n    setRefreshing(false)\n  }\n\n  const getTierBenefits = (tier: TierType): string[] => {\n    switch (tier) {\n      case 'platinum':\n        return [\n          'Unlimited job value',\n          '0% escrow deposit',\n          'Instant payment release',\n          'Elite verified badge',\n        ]\n      case 'gold':\n        return ['Jobs up to $10,000', '0% escrow deposit', 'Gold verified badge', 'Premium access']\n      case 'silver':\n        return ['Jobs up to $1,000', '15% escrow deposit', 'Priority listing', 'Featured badge']\n      case 'bronze':\n        return ['Jobs up to $100', '25% escrow deposit', 'Standard listing', 'Bronze badge']\n      default:\n        return ['Jobs up to $100', '25% escrow deposit', 'Building reputation', 'Newcomer badge']\n    }\n  }\n\n  const getNextTier = (ghostScore: number, tier: TierType): { tier: string; threshold: number; progress: number } | null => {\n    if (tier === 'platinum') return null\n\n    const thresholds = { newcomer: 200, bronze: 500, silver: 750, gold: 900 }\n    const current = tier === 'newcomer' ? 0 : thresholds[tier]\n    const next =\n      tier === 'newcomer' ? 200 :\n      tier === 'bronze' ? 500 :\n      tier === 'silver' ? 750 : 900\n\n    const nextTierName =\n      tier === 'newcomer' ? 'BRONZE' :\n      tier === 'bronze' ? 'SILVER' :\n      tier === 'silver' ? 'GOLD' : 'PLATINUM'\n\n    const progress = Math.round(((ghostScore - current) / (next - current)) * 100)\n\n    return { tier: nextTierName, threshold: next, progress: Math.min(100, Math.max(0, progress)) }\n  }\n\n  const getSecondsAgo = (): number => {\n    return Math.floor((Date.now() - lastUpdated) / 1000)\n  }\n\n  const renderStage = () => {\n    switch (stage) {\n      case 'loading':\n        return (\n          <Box flexDirection=\"column\" gap={1}>\n            <Spinner state=\"loading\" label=\"Loading Ghost Score from blockchain...\" />\n          </Box>\n        )\n\n      case 'error':\n        return (\n          <Box flexDirection=\"column\" gap={1}>\n            <Alert\n              type=\"error\"\n              title=\"Failed to Load Reputation\"\n              message={error}\n              showBorder\n            />\n            <Box marginTop={1}>\n              <Text dimColor>\n                Press <Text color=\"yellow\">r</Text> to retry or{' '}\n                <Text color=\"yellow\">q</Text> to quit\n              </Text>\n            </Box>\n          </Box>\n        )\n\n      case 'loaded':\n        if (!data) return null\n\n        const nextTier = getNextTier(data.ghostScore, data.tier)\n\n        return (\n          <Box flexDirection=\"column\">\n            {/* Header Card with Agent Info */}\n            <Card borderColor=\"gray\">\n              <Box flexDirection=\"column\">\n                <Box>\n                  <Text dimColor>Agent: </Text>\n                  <Text color=\"greenBright\" bold>{data.agentName}</Text>\n                </Box>\n                <Box>\n                  <Text dimColor>Address: </Text>\n                  <Text>{data.address.toString().slice(0, 20)}...{data.address.toString().slice(-8)}</Text>\n                </Box>\n                <Box>\n                  <Text dimColor>Updated: </Text>\n                  <Text>{getSecondsAgo()}s ago</Text>\n                  {refreshing && (\n                    <Box marginLeft={2}>\n                      <Spinner state=\"loading\" label=\"\" />\n                    </Box>\n                  )}\n                </Box>\n              </Box>\n            </Card>\n\n            {/* Ghost Score Display */}\n            <Box marginTop={1}>\n              <Card borderColor={data.tierColor}>\n                <Box flexDirection=\"column\" alignItems=\"center\">\n                  <Text bold color=\"greenBright\">\n                    <BigText text={animatedScore.toString()} font=\"tiny\" />\n                  </Text>\n                  <Box marginTop={-1} marginBottom={1}>\n                    <Text dimColor>out of 1000</Text>\n                  </Box>\n                  <Badge variant=\"tier\" tier={data.tier} bold />\n                </Box>\n              </Card>\n            </Box>\n\n            {/* Progress to next tier */}\n            {nextTier && (\n              <Box marginTop={1}>\n                <Card title={`Progress to ${nextTier.tier}`} borderColor=\"yellow\">\n                  <ProgressBar\n                    value={nextTier.progress}\n                    color=\"yellow\"\n                    showPercentage\n                  />\n                </Card>\n              </Box>\n            )}\n\n            {/* Overview mode */}\n            {viewMode === 'overview' && (\n              <Box flexDirection=\"column\" marginTop={1}>\n                <Card title=\"Quick Stats\" borderColor=\"blue\">\n                  <Box flexDirection=\"column\">\n                    <InfoRow\n                      label=\"Reputation Score\"\n                      value={`${data.reputationScore.toLocaleString()} bps`}\n                    />\n                    <InfoRow\n                      label=\"Jobs Completed\"\n                      value={data.totalJobs.toLocaleString()}\n                      color=\"green\"\n                    />\n                    <InfoRow\n                      label=\"Jobs Failed\"\n                      value={data.totalJobsFailed.toLocaleString()}\n                      color=\"red\"\n                    />\n                    <InfoRow\n                      label=\"Success Rate\"\n                      value={`${data.successRate}%`}\n                      color={data.successRate >= 80 ? 'green' : 'yellow'}\n                    />\n                  </Box>\n                </Card>\n\n                <Box marginTop={1}>\n                  <Text dimColor>\n                    Press <Text color=\"yellow\">d</Text> for detailed breakdown\n                  </Text>\n                </Box>\n              </Box>\n            )}\n\n            {/* Detailed mode */}\n            {viewMode === 'detailed' && (\n              <Box flexDirection=\"column\" marginTop={1}>\n                {/* Score Breakdown Chart */}\n                <Card title=\"Score Breakdown\" borderColor=\"magenta\">\n                  <Box flexDirection=\"column\">\n                    <Chart\n                      type=\"bar\"\n                      data={[\n                        {\n                          label: 'Succ',\n                          value: data.breakdown.successRate.contribution,\n                          color: 'green'\n                        },\n                        {\n                          label: 'Qual',\n                          value: data.breakdown.serviceQuality.contribution,\n                          color: 'cyan'\n                        },\n                        {\n                          label: 'Time',\n                          value: data.breakdown.responseTime.contribution,\n                          color: 'yellow'\n                        },\n                        {\n                          label: 'Vol',\n                          value: data.breakdown.volumeConsistency.contribution,\n                          color: 'magenta'\n                        },\n                      ]}\n                      maxHeight={8}\n                      barWidth={5}\n                      showValues\n                      defaultColor=\"cyan\"\n                    />\n                    <Box marginTop={1} flexDirection=\"column\">\n                      <Box>\n                        <Text dimColor>Success Rate ({data.breakdown.successRate.weight}%): </Text>\n                        <Text>{data.breakdown.successRate.value}%  {data.breakdown.successRate.contribution}pts</Text>\n                      </Box>\n                      <Box>\n                        <Text dimColor>Service Quality ({data.breakdown.serviceQuality.weight}%): </Text>\n                        <Text>{data.breakdown.serviceQuality.value}%  {data.breakdown.serviceQuality.contribution}pts</Text>\n                      </Box>\n                      <Box>\n                        <Text dimColor>Response Time ({data.breakdown.responseTime.weight}%): </Text>\n                        <Text>{data.breakdown.responseTime.value}%  {data.breakdown.responseTime.contribution}pts</Text>\n                      </Box>\n                      <Box>\n                        <Text dimColor>Volume ({data.breakdown.volumeConsistency.weight}%): </Text>\n                        <Text>{data.breakdown.volumeConsistency.value}%  {data.breakdown.volumeConsistency.contribution}pts</Text>\n                      </Box>\n                    </Box>\n                  </Box>\n                </Card>\n\n                {/* Job Statistics */}\n                <Box marginTop={1}>\n                  <Card title=\"Job Statistics\" borderColor=\"blue\">\n                    <Box flexDirection=\"column\">\n                      <InfoRow\n                        label=\"Completed\"\n                        value={data.totalJobs.toLocaleString()}\n                        color=\"green\"\n                      />\n                      <InfoRow\n                        label=\"Failed\"\n                        value={data.totalJobsFailed.toLocaleString()}\n                        color=\"red\"\n                      />\n                      <InfoRow\n                        label=\"Success Rate\"\n                        value={`${data.successRate}%`}\n                        color={data.successRate >= 80 ? 'green' : 'yellow'}\n                      />\n                      <InfoRow\n                        label=\"Average Rating\"\n                        value=\"4.8/5.0\"\n                        color=\"yellow\"\n                      />\n                    </Box>\n                  </Card>\n                </Box>\n\n                {/* Tier Benefits */}\n                <Box marginTop={1}>\n                  <Card title={`${data.tier.toUpperCase()} Tier Benefits`} borderColor={data.tierColor}>\n                    <Box flexDirection=\"column\">\n                      {getTierBenefits(data.tier).map((benefit, idx) => (\n                        <Box key={idx}>\n                          <Text color=\"green\"> </Text>\n                          <Text dimColor>{benefit}</Text>\n                        </Box>\n                      ))}\n                    </Box>\n                  </Card>\n                </Box>\n\n                <Box marginTop={1}>\n                  <Text dimColor>\n                    Press <Text color=\"yellow\">d</Text> for overview\n                  </Text>\n                </Box>\n              </Box>\n            )}\n\n            {/* Keyboard shortcuts */}\n            <Box marginTop={2} flexDirection=\"column\">\n              <Text dimColor>{''.repeat(60)}</Text>\n              <Box marginTop={1}>\n                <Text dimColor>\n                  <Text color=\"yellow\">r</Text>: Refresh\n                </Text>\n                <Box marginLeft={3}>\n                  <Text dimColor>\n                    <Text color=\"yellow\">d</Text>: Toggle detailed view\n                  </Text>\n                </Box>\n                <Box marginLeft={3}>\n                  <Text dimColor>\n                    <Text color=\"yellow\">q</Text>: Quit\n                  </Text>\n                </Box>\n              </Box>\n            </Box>\n          </Box>\n        )\n    }\n  }\n\n  return (\n    <Layout\n      title={` Ghost Score Dashboard - ${agent.slice(0, 8)}...`}\n      showFooter={false}\n    >\n      {renderStage()}\n    </Layout>\n  )\n}\n","/**\n * Interactive Staking Dashboard (Ink UI)\n * Beautiful real-time interface for GHOST token staking\n */\n\nimport React, { useState, useEffect } from 'react'\nimport { Box, Text, useApp, useInput } from 'ink'\nimport Spinner from 'ink-spinner'\nimport Gradient from 'ink-gradient'\nimport { Layout } from '../components/Layout.js'\nimport { InfoRow } from '../components/InfoRow.js'\nimport { StatusBadge } from '../components/StatusBadge.js'\nimport { ProgressBar } from '../components/ProgressBar.js'\nimport { Card } from '../components/Card.js'\nimport { Badge } from '../components/Badge.js'\nimport { Chart } from '../components/Chart.js'\nimport { Alert } from '../components/Alert.js'\nimport { createCustomClient } from '../../core/solana-client.js'\nimport { address } from '@solana/addresses'\nimport { createKeyPairSignerFromBytes } from '@solana/signers'\nimport { createSafeSDKClient } from '../../utils/sdk-helpers.js'\nimport { GhostSpeakClient } from '@ghostspeak/sdk'\nimport { readFileSync } from 'fs'\n\n// Tier thresholds and benefits\nconst TIER_THRESHOLDS = {\n  1: 1000,    // 1K GHOST\n  2: 5000,    // 5K GHOST\n  3: 10000,   // 10K GHOST\n  4: 25000,   // 25K GHOST\n  5: 50000    // 50K GHOST\n}\n\nconst TIER_APY = {\n  1: 10,  // 10% APY\n  2: 15,  // 15% APY\n  3: 20,  // 20% APY\n  4: 25,  // 25% APY\n  5: 30   // 30% APY\n}\n\nconst TIER_BOOST = {\n  1: 5,   // 5% Ghost Score boost\n  2: 10,  // 10% Ghost Score boost\n  3: 15,  // 15% Ghost Score boost\n  4: 20,  // 20% Ghost Score boost\n  5: 25   // 25% Ghost Score boost\n}\n\nexport interface StakingProps {\n  agent?: string  // Agent address\n  autoRefresh?: boolean\n}\n\ntype StakingStage = 'loading' | 'ready' | 'staking' | 'unstaking' | 'claiming' | 'error' | 'simulate' | 'unstake_info'\n\ninterface StakingData {\n  totalStaked: number\n  currentTier: number\n  accruedRewards: number\n  stakingDuration: number // in days\n  unlockDate: number\n  canClaim: boolean\n  canUnstake: boolean\n}\n\nexport const Staking: React.FC<StakingProps> = ({ agent, autoRefresh = true }) => {\n  const { exit } = useApp()\n  const [stage, setStage] = useState<StakingStage>('loading')\n  const [stakingData, setStakingData] = useState<StakingData>({\n    totalStaked: 0,\n    currentTier: 0,\n    accruedRewards: 0,\n    stakingDuration: 0,\n    unlockDate: Date.now(),\n    canClaim: false,\n    canUnstake: false\n  })\n  const [error, setError] = useState<string>('')\n  const [lastUpdate, setLastUpdate] = useState<Date>(new Date())\n  const [helpVisible, setHelpVisible] = useState(false)\n  const [agentName, setAgentName] = useState<string>('Unknown Agent')\n  const [simulateAmount, setSimulateAmount] = useState<number>(1000)\n\n  // Keyboard shortcuts\n  useInput((input, key) => {\n    if (input === 'q' || (key.ctrl && input === 'c') || key.escape) {\n      exit()\n    }\n\n    if (stage === 'ready') {\n      if (input === 'r') {\n        refreshData()\n      } else if (input === 'c' && stakingData.canClaim) {\n        claimRewards()\n      } else if (input === 's') {\n        setStage('simulate')\n      } else if (input === 'u' && stakingData.totalStaked > 0) {\n        setStage('unstake_info')\n      } else if (input === 'h' || input === '?') {\n        setHelpVisible(!helpVisible)\n      }\n    }\n\n    if (stage === 'simulate' || stage === 'unstake_info') {\n      if (input === 'b') {\n        setStage('ready')\n      }\n    }\n\n    // Simulate amount adjustment (only in simulate mode)\n    if (stage === 'simulate') {\n      if (key.upArrow) {\n        setSimulateAmount(prev => prev + 1000)\n      } else if (key.downArrow) {\n        setSimulateAmount(prev => Math.max(0, prev - 1000))\n      } else if (key.rightArrow) {\n        setSimulateAmount(prev => prev + 100)\n      } else if (key.leftArrow) {\n        setSimulateAmount(prev => Math.max(0, prev - 100))\n      }\n    }\n  })\n\n  // Auto-refresh every 5 seconds\n  useEffect(() => {\n    if (autoRefresh) {\n      const interval = setInterval(() => {\n        refreshData(true) // silent refresh\n      }, 5000)\n\n      return () => clearInterval(interval)\n    }\n  }, [autoRefresh])\n\n  // Initial data load\n  useEffect(() => {\n    loadStakingData()\n  }, [])\n\n  const loadStakingData = async () => {\n    try {\n      setStage('loading')\n\n      // Load wallet\n      const walletPath = process.env.HOME + '/.config/solana/id.json'\n      const secretKeyBytes = new Uint8Array(JSON.parse(readFileSync(walletPath, 'utf-8')))\n      const wallet = await createKeyPairSignerFromBytes(secretKeyBytes)\n\n      // Connect to Solana using Gill\n      const solanaClient = createCustomClient('https://api.devnet.solana.com')\n      const client = new GhostSpeakClient({\n        rpcEndpoint: 'https://api.devnet.solana.com'\n      })\n      const safeClient = createSafeSDKClient(client)\n\n      // Get agent data if provided\n      if (agent) {\n        try {\n          const agentAddr = address(agent)\n          const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n          if (agentData?.name) {\n            setAgentName(agentData.name)\n          }\n        } catch (err) {\n          console.warn('Could not load agent data')\n        }\n      }\n\n      // Load staking data using SDK\n      // Note: Staking queries not yet fully implemented in SDK\n      // Returns default/empty data for now - users should use CLI commands\n      const stakingDataResult: StakingData = {\n        totalStaked: 0,\n        currentTier: 0,\n        accruedRewards: 0,\n        stakingDuration: 0,\n        unlockDate: Date.now(),\n        canClaim: false,\n        canUnstake: false\n      }\n\n      setStakingData(stakingDataResult)\n      setStage('ready')\n      setLastUpdate(new Date())\n\n    } catch (err: any) {\n      setError(err.message || 'Failed to load staking data')\n      setStage('error')\n    }\n  }\n\n  const refreshData = async (silent = false) => {\n    if (!silent) {\n      setStage('loading')\n    }\n\n    try {\n      // Reload staking data from SDK\n      await loadStakingData()\n\n      setLastUpdate(new Date())\n      if (!silent) {\n        setStage('ready')\n      }\n    } catch (err: any) {\n      setError(err.message || 'Failed to refresh data')\n      setStage('error')\n    }\n  }\n\n  const claimRewards = async () => {\n    setStage('claiming')\n    try {\n      // TODO: Implement actual claim logic with SDK\n      setError('Claim functionality not yet implemented. Use CLI commands.')\n      setStage('error')\n    } catch (err: any) {\n      setError(err.message || 'Failed to claim rewards')\n      setStage('error')\n    }\n  }\n\n  const stakeTokens = async () => {\n    setStage('staking')\n    try {\n      // TODO: Implement actual staking logic with SDK\n      setError('Staking functionality not yet implemented. Use CLI commands.')\n      setStage('error')\n    } catch (err: any) {\n      setError(err.message || 'Failed to stake tokens')\n      setStage('error')\n    }\n  }\n\n  const unstakeTokens = async () => {\n    setStage('unstaking')\n    try {\n      // TODO: Implement actual unstaking logic with SDK\n      setError('Unstaking functionality not yet implemented. Use CLI commands.')\n      setStage('error')\n    } catch (err: any) {\n      setError(err.message || 'Failed to unstake tokens')\n      setStage('error')\n    }\n  }\n\n  const calculateTier = (amount: number): number => {\n    if (amount >= TIER_THRESHOLDS[5]) return 5\n    if (amount >= TIER_THRESHOLDS[4]) return 4\n    if (amount >= TIER_THRESHOLDS[3]) return 3\n    if (amount >= TIER_THRESHOLDS[2]) return 2\n    if (amount >= TIER_THRESHOLDS[1]) return 1\n    return 0\n  }\n\n  const getNextTierInfo = () => {\n    const nextTier = Math.min(stakingData.currentTier + 1, 5)\n    const nextThreshold = TIER_THRESHOLDS[nextTier as keyof typeof TIER_THRESHOLDS]\n    const remaining = nextThreshold - stakingData.totalStaked\n    const progress = (stakingData.totalStaked / nextThreshold) * 100\n\n    return { nextTier, nextThreshold, remaining, progress }\n  }\n\n  const getTierColor = (tier: number): 'cyan' | 'green' | 'yellow' | 'magenta' => {\n    if (tier >= 5) return 'magenta'\n    if (tier >= 4) return 'yellow'\n    if (tier >= 3) return 'green'\n    return 'cyan'\n  }\n\n  const getTierBadgeType = (tier: number): 'platinum' | 'gold' | 'silver' | 'bronze' | 'newcomer' => {\n    if (tier === 5) return 'platinum'\n    if (tier === 4) return 'gold'\n    if (tier >= 2) return 'silver'\n    if (tier === 1) return 'bronze'\n    return 'newcomer'\n  }\n\n  const calculateDailyRewards = (amount: number, apy: number): number => {\n    return (amount * (apy / 100)) / 365\n  }\n\n  const calculateMonthlyRewards = (amount: number, apy: number): number => {\n    return (amount * (apy / 100)) / 12\n  }\n\n  const calculateYearlyRewards = (amount: number, apy: number): number => {\n    return amount * (apy / 100)\n  }\n\n\n  const renderStakingOverview = () => {\n    const { nextTier, remaining, progress } = getNextTierInfo()\n    const currentAPY = TIER_APY[stakingData.currentTier as keyof typeof TIER_APY] || 0\n    const currentBoost = TIER_BOOST[stakingData.currentTier as keyof typeof TIER_BOOST] || 0\n    const tierColor = getTierColor(stakingData.currentTier)\n\n    return (\n      <Box flexDirection=\"column\" gap={1}>\n        {/* Current Stake Overview */}\n        <Card title=\"Current Stake\" borderColor={tierColor}>\n          <Box flexDirection=\"column\">\n            <Box alignItems=\"center\" gap={2}>\n              <Text bold color={tierColor}>\n                {stakingData.totalStaked.toLocaleString()} GHOST\n              </Text>\n              <Badge variant=\"tier\" tier={getTierBadgeType(stakingData.currentTier)} />\n            </Box>\n            <Box marginTop={1}>\n              <InfoRow\n                label=\"Staking Duration\"\n                value={`${stakingData.stakingDuration} days`}\n              />\n            </Box>\n          </Box>\n        </Card>\n\n        {/* Progress to Next Tier */}\n        {stakingData.currentTier < 5 && (\n          <Box flexDirection=\"column\" marginTop={1}>\n            <ProgressBar\n              value={progress}\n              label={`Progress to Tier ${nextTier}`}\n              color={getTierColor(nextTier)}\n              showPercentage={true}\n            />\n            <Box marginTop={1}>\n              <Text dimColor>\n                {remaining.toLocaleString()} GHOST more to reach Tier {nextTier}\n              </Text>\n            </Box>\n          </Box>\n        )}\n\n        {stakingData.currentTier === 5 && (\n          <Box marginTop={1}>\n            <Text bold color=\"greenBright\">Maximum Tier Reached!</Text>\n          </Box>\n        )}\n\n        {/* Current Benefits */}\n        <Card title=\"Current Benefits\" borderColor=\"green\">\n          <Box flexDirection=\"column\">\n            <InfoRow label=\"APY\" value={`${currentAPY}%`} color=\"green\" />\n            <InfoRow label=\"Ghost Score Boost\" value={`+${currentBoost}%`} color=\"green\" />\n          </Box>\n        </Card>\n      </Box>\n    )\n  }\n\n  const renderRewards = () => {\n    const currentAPY = TIER_APY[stakingData.currentTier as keyof typeof TIER_APY] || 0\n    const dailyRewards = calculateDailyRewards(stakingData.totalStaked, currentAPY)\n    const monthlyRewards = calculateMonthlyRewards(stakingData.totalStaked, currentAPY)\n\n    return (\n      <Card title=\"Rewards\" borderColor=\"yellow\">\n        <Box flexDirection=\"column\">\n          <InfoRow\n            label=\"Pending Rewards\"\n            value={`${stakingData.accruedRewards.toFixed(2)} GHOST`}\n            color=\"green\"\n          />\n          <InfoRow\n            label=\"Estimated Daily\"\n            value={`~${dailyRewards.toFixed(2)} GHOST`}\n            color=\"cyan\"\n          />\n          <InfoRow\n            label=\"Estimated Monthly\"\n            value={`~${monthlyRewards.toFixed(2)} GHOST`}\n            color=\"cyan\"\n          />\n          <Box marginTop={1}>\n            <Box width={25}>\n              <Text dimColor>Claim Status:</Text>\n            </Box>\n            {stakingData.canClaim ? (\n              <Text color=\"green\">Available (Press C)</Text>\n            ) : (\n              <Text dimColor>No rewards yet</Text>\n            )}\n          </Box>\n        </Box>\n      </Card>\n    )\n  }\n\n  const renderAPYChart = () => {\n    const chartData = [\n      { label: 'T1', value: 10, color: 'red' as const },\n      { label: 'T2', value: 15, color: 'white' as const },\n      { label: 'T3', value: 20, color: 'green' as const },\n      { label: 'T4', value: 25, color: 'yellow' as const },\n      { label: 'T5', value: 30, color: 'cyan' as const },\n    ]\n\n    return (\n      <Card title=\"APY by Tier\" borderColor=\"magenta\">\n        <Chart\n          type=\"bar\"\n          data={chartData}\n          maxHeight={8}\n          barWidth={5}\n        />\n      </Card>\n    )\n  }\n\n  const renderSimulator = () => {\n    const projectedTier = calculateTier(simulateAmount)\n    const projectedAPY = TIER_APY[projectedTier as keyof typeof TIER_APY] || 0\n    const projectedBoost = TIER_BOOST[projectedTier as keyof typeof TIER_BOOST] || 0\n    const projectedMonthly = calculateMonthlyRewards(simulateAmount, projectedAPY)\n    const projectedYearly = calculateYearlyRewards(simulateAmount, projectedAPY)\n\n    return (\n      <Box flexDirection=\"column\" gap={1}>\n        <Card title=\"APY Calculator\" borderColor=\"magenta\">\n          <Box flexDirection=\"column\" gap={1}>\n            <Box flexDirection=\"column\">\n              <Text bold>Stake Amount:</Text>\n              <Box marginTop={1} alignItems=\"center\" gap={2}>\n                <Text color=\"cyan\" bold>{simulateAmount.toLocaleString()} GHOST</Text>\n                <Badge variant=\"tier\" tier={getTierBadgeType(projectedTier)} />\n              </Box>\n              <Box marginTop={1}>\n                <Text dimColor>Use arrow keys:   (100)   (1000)</Text>\n              </Box>\n            </Box>\n\n            <Box marginTop={1} flexDirection=\"column\">\n              <Text bold>Projected Benefits:</Text>\n              <InfoRow label=\"Tier\" value={`${projectedTier}/5`} color={getTierColor(projectedTier)} />\n              <InfoRow label=\"Ghost Score Boost\" value={`+${projectedBoost}%`} color=\"green\" />\n              <InfoRow label=\"APY\" value={`${projectedAPY}%`} color=\"yellow\" />\n            </Box>\n\n            <Box marginTop={1} flexDirection=\"column\">\n              <Text bold>Estimated Earnings:</Text>\n              <InfoRow label=\"Monthly\" value={`~${projectedMonthly.toFixed(2)} GHOST`} color=\"cyan\" />\n              <InfoRow label=\"Yearly\" value={`~${projectedYearly.toFixed(2)} GHOST`} color=\"green\" />\n            </Box>\n          </Box>\n        </Card>\n\n        <Box marginTop={1}>\n          <Text dimColor>Press </Text>\n          <Text color=\"yellow\">b</Text>\n          <Text dimColor> to return to dashboard</Text>\n        </Box>\n      </Box>\n    )\n  }\n\n  const renderUnstakeInfo = () => {\n    const unlockDays = Math.ceil((stakingData.unlockDate - Date.now()) / (1000 * 60 * 60 * 24))\n\n    return (\n      <Box flexDirection=\"column\" gap={1}>\n        <Alert\n          type=\"warning\"\n          title=\"Unstaking Information\"\n          message=\"Unstaking has a 7-day cooldown period. Your benefits will be reduced immediately upon unstaking.\"\n        />\n\n        <Card title=\"Unstaking Impact\" borderColor=\"yellow\">\n          <Box flexDirection=\"column\">\n            <InfoRow label=\"Current Stake\" value={`${stakingData.totalStaked.toLocaleString()} GHOST`} />\n            <InfoRow label=\"Cooldown Period\" value=\"7 days\" color=\"yellow\" />\n            <InfoRow label=\"Benefits Lost\" value=\"Immediate upon unstaking\" color=\"red\" />\n            <InfoRow label=\"Tokens Available\" value=\"After cooldown period\" color=\"yellow\" />\n          </Box>\n        </Card>\n\n        {!stakingData.canUnstake && unlockDays > 0 && (\n          <Card title=\"Active Lock Period\" borderColor=\"red\">\n            <Box flexDirection=\"column\">\n              <InfoRow label=\"Unlock Date\" value={new Date(stakingData.unlockDate).toLocaleDateString()} color=\"red\" />\n              <InfoRow label=\"Days Remaining\" value={`${unlockDays} days`} color=\"yellow\" />\n              <Box marginTop={1}>\n                <Text dimColor>Your tokens will be available for unstaking after the lock period.</Text>\n              </Box>\n            </Box>\n          </Card>\n        )}\n\n        <Box marginTop={1}>\n          <Text dimColor>Press </Text>\n          <Text color=\"yellow\">b</Text>\n          <Text dimColor> to return to dashboard</Text>\n        </Box>\n      </Box>\n    )\n  }\n\n  const renderTiersTable = () => {\n    return (\n      <Box flexDirection=\"column\" marginTop={1}>\n        <Text bold color=\"magenta\"> Staking Tiers</Text>\n        <Box marginTop={1} flexDirection=\"column\">\n          {/* Header */}\n          <Box>\n            <Box width={10}>\n              <Text bold dimColor>Tier</Text>\n            </Box>\n            <Box width={18}>\n              <Text bold dimColor>Requirement</Text>\n            </Box>\n            <Box width={10}>\n              <Text bold dimColor>APY</Text>\n            </Box>\n            <Box width={12}>\n              <Text bold dimColor>Boost</Text>\n            </Box>\n          </Box>\n\n          {/* Tier Rows */}\n          {[1, 2, 3, 4, 5].map(tier => {\n            const threshold = TIER_THRESHOLDS[tier as keyof typeof TIER_THRESHOLDS]\n            const apy = TIER_APY[tier as keyof typeof TIER_APY]\n            const boost = TIER_BOOST[tier as keyof typeof TIER_BOOST]\n            const isCurrent = tier === stakingData.currentTier\n            const color = getTierColor(tier)\n\n            return (\n              <Box key={tier} marginTop={1}>\n                <Box width={10}>\n                  <Text bold color={isCurrent ? color : undefined}>\n                    {isCurrent ? ' ' : '  '}Tier {tier}\n                  </Text>\n                </Box>\n                <Box width={18}>\n                  <Text color={isCurrent ? color : undefined}>\n                    {threshold.toLocaleString()} GHOST\n                  </Text>\n                </Box>\n                <Box width={10}>\n                  <Text color={isCurrent ? 'green' : undefined}>{apy}%</Text>\n                </Box>\n                <Box width={12}>\n                  <Text color={isCurrent ? 'green' : undefined}>+{boost}%</Text>\n                </Box>\n              </Box>\n            )\n          })}\n        </Box>\n      </Box>\n    )\n  }\n\n  const renderActions = () => {\n    const unlockDays = Math.ceil((stakingData.unlockDate - Date.now()) / (1000 * 60 * 60 * 24))\n\n    return (\n      <Card title=\"Keyboard Controls\" borderColor=\"blue\">\n        <Box flexDirection=\"column\">\n          <Text>\n            <Text color=\"yellow\">[Q]</Text> <Text dimColor>or </Text>\n            <Text color=\"yellow\">Esc</Text> <Text dimColor>- Exit</Text>\n          </Text>\n          <Text>\n            <Text color=\"cyan\">[R]</Text> <Text dimColor>- Refresh balances</Text>\n          </Text>\n          <Text>\n            <Text color=\"magenta\">[S]</Text> <Text dimColor>- APY Calculator (simulate stake)</Text>\n          </Text>\n          {stakingData.totalStaked > 0 && (\n            <Text>\n              <Text color=\"yellow\">[U]</Text> <Text dimColor>- Show unstake info</Text>\n            </Text>\n          )}\n          <Text>\n            <Text color={stakingData.canClaim ? 'green' : 'gray'}>\n              [C]\n            </Text>\n            <Text dimColor> - Claim rewards</Text>\n            {stakingData.canClaim && (\n              <Text color=\"green\"> (Available)</Text>\n            )}\n          </Text>\n          <Text>\n            <Text color=\"yellow\">[H]</Text> <Text dimColor>- Toggle help</Text>\n          </Text>\n        </Box>\n      </Card>\n    )\n  }\n\n  const renderHelp = () => {\n    return (\n      <Box flexDirection=\"column\" marginTop={1} borderStyle=\"round\" borderColor=\"yellow\" padding={1}>\n        <Text bold color=\"yellow\"> Help & Information</Text>\n        <Box marginTop={1} flexDirection=\"column\">\n          <Text dimColor> Stake GHOST tokens to earn rewards and boost your Ghost Score</Text>\n          <Text dimColor> Higher tiers unlock better APY rates and Ghost Score boosts</Text>\n          <Text dimColor> Tokens are locked for the staking duration</Text>\n          <Text dimColor> Rewards accrue automatically and can be claimed anytime</Text>\n          <Text dimColor> Your Ghost Score boost applies to all credentials and activities</Text>\n          <Box marginTop={1}>\n            <Text dimColor>Data refreshes automatically every 5 seconds</Text>\n          </Box>\n        </Box>\n      </Box>\n    )\n  }\n\n  const renderContent = () => {\n    if (stage === 'loading') {\n      return (\n        <Box flexDirection=\"column\" gap={1}>\n          <Box>\n            <Spinner type=\"dots\" />\n            <Text> Loading staking data...</Text>\n          </Box>\n        </Box>\n      )\n    }\n\n    if (stage === 'error') {\n      return (\n        <Box flexDirection=\"column\" gap={1}>\n          <StatusBadge status=\"error\" text=\"Error loading staking data\" />\n          <Text color=\"red\">{error}</Text>\n          <Box marginTop={1}>\n            <Text dimColor>Press </Text>\n            <Text color=\"cyan\">R</Text>\n            <Text dimColor> to retry or </Text>\n            <Text color=\"red\">Q</Text>\n            <Text dimColor> to quit</Text>\n          </Box>\n        </Box>\n      )\n    }\n\n    if (stage === 'claiming') {\n      return (\n        <Box flexDirection=\"column\" gap={1}>\n          <Box>\n            <Spinner type=\"dots\" />\n            <Text> Claiming rewards...</Text>\n          </Box>\n        </Box>\n      )\n    }\n\n    if (stage === 'staking') {\n      return (\n        <Box flexDirection=\"column\" gap={1}>\n          <Box>\n            <Spinner type=\"dots\" />\n            <Text> Staking tokens...</Text>\n          </Box>\n        </Box>\n      )\n    }\n\n    if (stage === 'unstaking') {\n      return (\n        <Box flexDirection=\"column\" gap={1}>\n          <Box>\n            <Spinner type=\"dots\" />\n            <Text> Unstaking tokens...</Text>\n          </Box>\n        </Box>\n      )\n    }\n\n    if (stage === 'simulate') {\n      return renderSimulator()\n    }\n\n    if (stage === 'unstake_info') {\n      return renderUnstakeInfo()\n    }\n\n    // Ready state - show full dashboard\n    return (\n      <Box flexDirection=\"column\">\n        {/* Agent info if provided */}\n        {agent && (\n          <Box marginBottom={1}>\n            <Text dimColor>Agent: </Text>\n            <Text bold color=\"cyan\">{agentName}</Text>\n          </Box>\n        )}\n\n        {/* Last updated timestamp */}\n        <Box marginBottom={1}>\n          <Text dimColor>\n            Last updated: {lastUpdate.toLocaleTimeString()}\n            {autoRefresh && <Text color=\"green\">  Auto-refresh enabled</Text>}\n          </Text>\n        </Box>\n\n        {/* Main dashboard grid */}\n        <Box flexDirection=\"column\" gap={1}>\n          {renderStakingOverview()}\n\n          <Box gap={1}>\n            {renderRewards()}\n          </Box>\n\n          {renderTiersTable()}\n          {renderAPYChart()}\n          {renderActions()}\n          {helpVisible && renderHelp()}\n        </Box>\n\n        {/* Footer info */}\n        <Box marginTop={1}>\n          <Alert\n            type=\"info\"\n            message=\"Staking CLI integration coming soon. Use web dashboard for full functionality.\"\n            showBorder={false}\n          />\n        </Box>\n\n        <Box marginTop={1}>\n          <Text bold color=\"greenBright\">Stake GHOST - Earn Rewards - Boost Your Score</Text>\n        </Box>\n      </Box>\n    )\n  }\n\n  return (\n    <Layout title=\" GHOST Staking Dashboard\" showFooter={false}>\n      {renderContent()}\n    </Layout>\n  )\n}\n","/**\n * Dashboard command\n * Master analytics dashboard with overview of all metrics\n */\n\nimport { Command } from 'commander'\nimport React from 'react'\nimport { render } from 'ink'\nimport { Dashboard } from '../ui/commands/Dashboard.js'\n\nexport const dashboardCommand = new Command('dashboard')\n  .description(' Analytics dashboard with overview of all metrics')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('--no-auto-refresh', 'Disable auto-refresh')\n  .action(async (options) => {\n    const { waitUntilExit } = render(\n      React.createElement(Dashboard, {\n        agent: options.agent,\n        autoRefresh: options.autoRefresh\n      })\n    )\n    await waitUntilExit()\n  })\n","/**\n * Ghost Claiming Commands\n * Claim external AI agents (type 10) from x402 facilitators as Ghosts\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl, toSDKSigner } from '../utils/client.js'\nimport { handleError } from '../utils/error-handler.js'\nimport { createSafeSDKClient } from '../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { Address } from '@solana/addresses'\n\n// Type definitions\ninterface ClaimOptions {\n  'external-id'?: string\n  platform?: string\n  signature?: string\n  json?: boolean\n}\n\ninterface LinkOptions {\n  ghost?: string\n  'external-id'?: string\n  platform?: string\n  signature?: string\n}\n\ninterface ListOptions {\n  owner?: string\n  json?: boolean\n}\n\nexport const ghostCommand = new Command('ghost')\n  .description('Claim and manage external AI agents (Ghosts)')\n\n// Claim subcommand\nghostCommand\n  .command('claim')\n  .description('Claim an external AI agent as a Ghost using SAS attestation')\n  .option('-e, --external-id <id>', 'External agent ID (e.g., PayAI agent ID, ElizaOS character ID)')\n  .option('-p, --platform <platform>', 'Platform name (payai, elizaos, etc.)')\n  .option('-s, --signature <signature>', 'SAS attestation signature (hex)')\n  .option('--json', 'Output as JSON')\n  .action(async (options: ClaimOptions) => {\n    intro(chalk.cyan(' Claim External Agent as Ghost'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get external ID\n      let externalId = options['external-id']\n      if (!externalId) {\n        const idInput = await text({\n          message: 'External agent ID:',\n          placeholder: 'agent-123',\n          validate: (value) => {\n            if (!value) return 'External ID is required'\n            if (value.length < 3) return 'ID must be at least 3 characters'\n            return\n          }\n        })\n\n        if (isCancel(idInput)) {\n          cancel('Claim cancelled')\n          return\n        }\n\n        externalId = idInput.toString().trim()\n      }\n\n      // Get platform\n      let platform = options.platform\n      if (!platform) {\n        const platformInput = await select({\n          message: 'Select platform:',\n          options: [\n            { value: 'payai', label: 'PayAI - x402 payment network' },\n            { value: 'elizaos', label: 'ElizaOS - AI agent framework' },\n            { value: 'other', label: 'Other platform' }\n          ]\n        })\n\n        if (isCancel(platformInput)) {\n          cancel('Claim cancelled')\n          return\n        }\n\n        platform = platformInput.toString()\n      }\n\n      // Get SAS attestation signature\n      let attestationSignature = options.signature\n      if (!attestationSignature) {\n        note(\n          `${chalk.bold('SAS Attestation Required')}\\n\\n` +\n          `To claim this agent, you need a Solana Attestation Service (SAS) signature.\\n\\n` +\n          `${chalk.yellow('How to get attestation:')}\\n` +\n          `1. Go to the platform (${platform})\\n` +\n          `2. Generate an ownership proof for agent: ${externalId}\\n` +\n          `3. Copy the attestation signature (hex format)\\n\\n` +\n          `${chalk.gray('Example: 0x1234567890abcdef...')}`,\n          'Attestation Signature'\n        )\n\n        const sigInput = await text({\n          message: 'SAS attestation signature:',\n          placeholder: '0x...',\n          validate: (value) => {\n            if (!value) return 'Signature is required'\n            if (!value.startsWith('0x')) return 'Signature must start with 0x'\n            if (value.length < 10) return 'Invalid signature format'\n            return\n          }\n        })\n\n        if (isCancel(sigInput)) {\n          cancel('Claim cancelled')\n          return\n        }\n\n        attestationSignature = sigInput.toString().trim()\n      }\n\n      // Show claim preview\n      note(\n        `${chalk.bold('Claim Details:')}\\n` +\n        `${chalk.gray('External ID:')} ${externalId}\\n` +\n        `${chalk.gray('Platform:')} ${platform}\\n` +\n        `${chalk.gray('Attestation:')} ${attestationSignature.slice(0, 10)}...${attestationSignature.slice(-8)}\\n` +\n        `${chalk.gray('Owner:')} ${wallet.address}\\n\\n` +\n        `${chalk.yellow('This will create a Ghost account that you control.')}\\n` +\n        `${chalk.gray('The external agent will be linked on-chain.')}`,\n        'Claim Preview'\n      )\n\n      const confirmClaim = await confirm({\n        message: 'Claim this agent as a Ghost?'\n      })\n\n      if (isCancel(confirmClaim) || !confirmClaim) {\n        cancel('Claim cancelled')\n        return\n      }\n\n      s.start('Claiming agent on blockchain...')\n\n      try {\n        // Convert attestation signature to bytes\n        const signatureBytes = Buffer.from(attestationSignature.slice(2), 'hex')\n\n        // Claim ghost using SDK\n        const result = await safeClient.ghosts.claimGhost(\n          toSDKSigner(wallet),\n          {\n            externalId,\n            platform,\n            attestationSignature: new Uint8Array(signatureBytes)\n          }\n        )\n\n        s.stop(' Ghost claimed successfully')\n\n        const explorerUrl = getExplorerUrl(result.signature, 'devnet')\n\n        if (options.json) {\n          console.log(JSON.stringify({\n            success: true,\n            ghostAddress: result.ghostAddress,\n            signature: result.signature,\n            externalId,\n            platform,\n            explorerUrl\n          }, null, 2))\n          return\n        }\n\n        outro(\n          `${chalk.green(' Ghost Claimed Successfully!')}\\n\\n` +\n          `${chalk.bold('Ghost Details:')}\\n` +\n          `${chalk.gray('Ghost Address:')} ${chalk.cyan(result.ghostAddress)}\\n` +\n          `${chalk.gray('External ID:')} ${externalId}\\n` +\n          `${chalk.gray('Platform:')} ${platform}\\n` +\n          `${chalk.gray('Transaction:')} ${result.signature}\\n\\n` +\n          `${chalk.bold('Next Steps:')}\\n` +\n          `${chalk.gray('')} Link additional external IDs: ${chalk.cyan(`ghost ghost link`)}\\n` +\n          `${chalk.gray('')} View your Ghosts: ${chalk.cyan(`ghost ghost list`)}\\n` +\n          `${chalk.gray('')} Build Ghost Score reputation\\n\\n` +\n          `${chalk.gray('Explorer:')} ${chalk.cyan(explorerUrl)}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to claim ghost')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to claim: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Link subcommand\nghostCommand\n  .command('link')\n  .description('Link an additional external ID to an existing Ghost')\n  .option('-g, --ghost <address>', 'Ghost address')\n  .option('-e, --external-id <id>', 'External agent ID to link')\n  .option('-p, --platform <platform>', 'Platform name')\n  .option('-s, --signature <signature>', 'SAS attestation signature')\n  .action(async (options: LinkOptions) => {\n    intro(chalk.blue(' Link External ID to Ghost'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get ghost address\n      let ghostAddress = options.ghost\n      if (!ghostAddress) {\n        const addressInput = await text({\n          message: 'Ghost address:',\n          validate: (value) => {\n            if (!value) return 'Ghost address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Please enter a valid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Link cancelled')\n          return\n        }\n\n        ghostAddress = addressInput.toString().trim()\n      }\n\n      const ghostAddr = address(ghostAddress)\n\n      // Verify ghost exists\n      s.start('Verifying Ghost...')\n      const ghostData = await safeClient.ghosts.getGhost(ghostAddr)\n\n      if (!ghostData) {\n        s.stop(' Ghost not found')\n        outro(chalk.red(`No Ghost found at address: ${ghostAddress}`))\n        return\n      }\n\n      s.stop(' Ghost verified')\n\n      // Get external ID\n      let externalId = options['external-id']\n      if (!externalId) {\n        const idInput = await text({\n          message: 'External agent ID to link:',\n          placeholder: 'agent-456',\n          validate: (value) => {\n            if (!value) return 'External ID is required'\n            if (value.length < 3) return 'ID must be at least 3 characters'\n            return\n          }\n        })\n\n        if (isCancel(idInput)) {\n          cancel('Link cancelled')\n          return\n        }\n\n        externalId = idInput.toString().trim()\n      }\n\n      // Get platform\n      let platform = options.platform\n      if (!platform) {\n        const platformInput = await select({\n          message: 'Select platform:',\n          options: [\n            { value: 'payai', label: 'PayAI' },\n            { value: 'elizaos', label: 'ElizaOS' },\n            { value: 'other', label: 'Other' }\n          ]\n        })\n\n        if (isCancel(platformInput)) {\n          cancel('Link cancelled')\n          return\n        }\n\n        platform = platformInput.toString()\n      }\n\n      // Get attestation signature\n      let attestationSignature = options.signature\n      if (!attestationSignature) {\n        const sigInput = await text({\n          message: 'SAS attestation signature:',\n          placeholder: '0x...',\n          validate: (value) => {\n            if (!value) return 'Signature is required'\n            if (!value.startsWith('0x')) return 'Signature must start with 0x'\n            return\n          }\n        })\n\n        if (isCancel(sigInput)) {\n          cancel('Link cancelled')\n          return\n        }\n\n        attestationSignature = sigInput.toString().trim()\n      }\n\n      // Confirm link\n      const confirmLink = await confirm({\n        message: `Link external ID \"${externalId}\" to this Ghost?`\n      })\n\n      if (isCancel(confirmLink) || !confirmLink) {\n        cancel('Link cancelled')\n        return\n      }\n\n      s.start('Linking external ID on blockchain...')\n\n      try {\n        const signatureBytes = Buffer.from(attestationSignature.slice(2), 'hex')\n\n        const signature = await safeClient.ghosts.linkExternalId(\n          toSDKSigner(wallet),\n          {\n            ghostAddress: ghostAddr,\n            externalId,\n            platform,\n            attestationSignature: new Uint8Array(signatureBytes)\n          }\n        )\n\n        s.stop(' External ID linked successfully')\n\n        const explorerUrl = getExplorerUrl(signature, 'devnet')\n\n        outro(\n          `${chalk.green(' External ID Linked!')}\\n\\n` +\n          `${chalk.gray('Ghost Address:')} ${ghostAddress}\\n` +\n          `${chalk.gray('External ID:')} ${externalId}\\n` +\n          `${chalk.gray('Platform:')} ${platform}\\n` +\n          `${chalk.gray('Transaction:')} ${signature}\\n\\n` +\n          `${chalk.gray('Explorer:')} ${chalk.cyan(explorerUrl)}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to link external ID')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to link: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// List subcommand\nghostCommand\n  .command('list')\n  .description('List Ghosts (claimed external agents)')\n  .option('-o, --owner <address>', 'Filter by owner address')\n  .option('--json', 'Output as JSON')\n  .action(async (options: ListOptions) => {\n    intro(chalk.magenta(' List Ghosts'))\n\n    try {\n      const s = spinner()\n      s.start('Fetching Ghosts...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      const ownerAddr = options.owner ? address(options.owner) : wallet.address\n\n      // Fetch ghosts\n      const ghosts = await safeClient.ghosts.getGhostsByOwner(ownerAddr)\n\n      s.stop(` Found ${ghosts.length} Ghost(s)`)\n\n      if (ghosts.length === 0) {\n        outro(\n          `${chalk.yellow('No Ghosts found')}\\n\\n` +\n          `${chalk.gray('Claim an external agent:')}\\n` +\n          `${chalk.cyan('ghost ghost claim')}`\n        )\n        return\n      }\n\n      if (options.json) {\n        console.log(JSON.stringify(ghosts, null, 2))\n        return\n      }\n\n      // Display ghosts\n      for (let i = 0; i < ghosts.length; i++) {\n        const ghost = ghosts[i]\n        console.log(`\\n${chalk.bold.cyan(`Ghost ${i + 1}:`)}`)\n        console.log(`${chalk.gray('Address:')} ${ghost.address}`)\n        console.log(`${chalk.gray('Status:')} ${ghost.data.status}`)\n        console.log(`${chalk.gray('Ghost Score:')} ${Number(ghost.data.ghostScore) / 100}`)\n        console.log(`${chalk.gray('Created:')} ${new Date(Number(ghost.data.createdAt) * 1000).toLocaleDateString()}`)\n\n        if (ghost.data.linkedIds && ghost.data.linkedIds.length > 0) {\n          console.log(`${chalk.gray('Linked IDs:')}`)\n          ghost.data.linkedIds.forEach((id: { platform: string; externalId: string }) => {\n            console.log(`  ${chalk.gray('')} ${id.platform}: ${id.externalId}`)\n          })\n        }\n      }\n\n      outro(\n        `\\n${chalk.gray('Commands:')}\\n` +\n        `${chalk.cyan('ghost ghost claim')} - Claim a new Ghost\\n` +\n        `${chalk.cyan('ghost ghost link')} - Link external IDs`\n      )\n\n    } catch (error) {\n      log.error(`Failed to list ghosts: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Default action\nghostCommand\n  .action(async () => {\n    intro(chalk.magenta(' GhostSpeak Ghost Management'))\n\n    log.info(`\\n${chalk.bold('Available Commands:')}\\n`)\n    log.info(`${chalk.cyan('ghost ghost claim')} - Claim an external AI agent as a Ghost`)\n    log.info(`${chalk.cyan('ghost ghost link')} - Link additional external IDs to a Ghost`)\n    log.info(`${chalk.cyan('ghost ghost list')} - List your Ghosts`)\n\n    note(\n      `${chalk.bold('What are Ghosts?')}\\n\\n` +\n      `Ghosts are external AI agents (type 10) that exist on x402 facilitators\\n` +\n      `or other platforms. You can claim ownership using Solana Attestation\\n` +\n      `Service (SAS) and build reputation on-chain.\\n\\n` +\n      `${chalk.yellow('Supported Platforms:')}\\n` +\n      `${chalk.gray('')} PayAI - x402 payment network\\n` +\n      `${chalk.gray('')} ElizaOS - AI agent framework\\n` +\n      `${chalk.gray('')} Custom platforms with SAS integration`,\n      'About Ghosts'\n    )\n\n    outro('Use --help with any command for more details')\n  })\n","/**\n * Simplified Ghost Claiming Command\n *\n * Automated flow for claiming discovered Ghosts with SAS attestation\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { address, type Address } from '@solana/addresses'\nimport { createKeyPairSignerFromBytes, type TransactionSigner } from '@solana/signers'\nimport { getAddressEncoder, getUtf8Encoder, getProgramDerivedAddress } from '@solana/kit'\nimport { initializeClient, getExplorerUrl } from '../utils/client.js'\nimport { handleError } from '../utils/error-handler.js'\nimport { getConvexClient, queryDiscoveredAgents, markGhostClaimed, getGhostScore } from '../utils/convex-client.js'\nimport { loadSASConfig, createGhostOwnershipAttestation } from '../utils/sas-helpers.js'\nimport fs from 'fs'\nimport path from 'path'\n\n// SAS Program constants\nconst SAS_PROGRAM_ID = address('22zoJMtdu4tQc2PzL74ZUT7FrwgB1Udec8DdW4yw4BdG')\nconst ATTESTATION_SEED = 'attestation'\n\n/**\n * Derive SAS attestation PDA\n */\nasync function deriveAttestationPda(\n  credentialAddress: Address,\n  schemaAddress: Address,\n  nonce: Address\n): Promise<{ pda: Address; bump: number }> {\n  const [pda, bump] = await getProgramDerivedAddress({\n    programAddress: SAS_PROGRAM_ID,\n    seeds: [\n      getUtf8Encoder().encode(ATTESTATION_SEED),\n      getAddressEncoder().encode(credentialAddress),\n      getAddressEncoder().encode(schemaAddress),\n      getAddressEncoder().encode(nonce)\n    ]\n  })\n\n  return { pda, bump }\n}\n\n/**\n * Serialize attestation data (simple format: just the x402 payment address)\n */\nfunction serializeAttestationData(x402PaymentAddress: Address): Uint8Array {\n  // For Ghost ownership, we just need to prove we control the address\n  // Data = 32 bytes of the x402 payment address\n  const addressBytes = getAddressEncoder().encode(x402PaymentAddress)\n  // Convert ReadonlyUint8Array to Uint8Array\n  return new Uint8Array(addressBytes)\n}\n\nexport const ghostClaimCommand = new Command('claim-ghost')\n  .description(' Simplified Ghost claiming - Auto-create attestation and claim in one step')\n  .option('--list', 'List all discovered Ghosts available to claim')\n  .option('--ghost-address <address>', 'Specific Ghost address to claim')\n  .action(async (options) => {\n    intro(chalk.cyan(' Claim a Discovered Ghost'))\n\n    try {\n      // Check for CONVEX_URL\n      const convexUrl = process.env.CONVEX_URL || process.env.NEXT_PUBLIC_CONVEX_URL\n      if (!convexUrl) {\n        log.error('CONVEX_URL environment variable not set')\n        log.info('\\n Set CONVEX_URL in your .env file or export it:')\n        log.info(chalk.cyan('export CONVEX_URL=<your-convex-url>'))\n        log.info(chalk.gray('\\nFor devnet testing, ask your team for the dev deployment URL'))\n        outro(chalk.red('Configuration required'))\n        return\n      }\n\n      const s = spinner()\n\n      // List discovered agents if requested\n      if (options.list) {\n        s.start('Fetching discovered Ghosts from Convex...')\n\n        const discoveredAgents = await queryDiscoveredAgents({ limit: 100 })\n\n        s.stop(` Found ${discoveredAgents.length} discovered Ghosts`)\n\n        if (discoveredAgents.length === 0) {\n          outro(chalk.yellow('No discovered Ghosts found'))\n          return\n        }\n\n        console.log('\\n' + chalk.bold('Discovered Ghosts (Unclaimed):'))\n        console.log(''.repeat(80))\n\n        discoveredAgents.slice(0, 20).forEach((agent, i) => {\n          console.log(chalk.cyan(`\\n${i + 1}. ${agent.ghostAddress}`))\n          console.log(chalk.gray(`   First seen: ${new Date(agent.firstSeenTimestamp).toLocaleDateString()}`))\n          console.log(chalk.gray(`   Discovery: ${agent.discoverySource}`))\n          console.log(chalk.gray(`   Facilitator: ${agent.facilitatorAddress || 'N/A'}`))\n          console.log(chalk.gray(`   Status: ${agent.status}`))\n        })\n\n        if (discoveredAgents.length > 20) {\n          console.log(chalk.gray(`\\n... and ${discoveredAgents.length - 20} more`))\n        }\n\n        outro(\n          `\\n${chalk.bold('To claim a Ghost:')}\\n` +\n          `${chalk.cyan('ghost claim-ghost --ghost-address <address>')}\\n\\n` +\n          `${chalk.gray('Note: Currently requires manual SAS attestation setup')}\\n` +\n          `${chalk.gray('Full automation coming soon!')}`\n        )\n        return\n      }\n\n      // Get Ghost address to claim\n      let ghostAddress = options.ghostAddress\n      if (!ghostAddress) {\n        s.start('Fetching available Ghosts...')\n\n        const discoveredAgents = await queryDiscoveredAgents({\n          status: 'discovered',\n          limit: 10\n        })\n\n        s.stop(` Found ${discoveredAgents.length} unclaimed Ghosts`)\n\n        if (discoveredAgents.length === 0) {\n          outro(chalk.yellow('No unclaimed Ghosts found'))\n          return\n        }\n\n        const ghostSelection = await select({\n          message: 'Select a Ghost to claim:',\n          options: discoveredAgents.map((agent, i) => ({\n            value: agent.ghostAddress,\n            label: `${i + 1}. ${agent.ghostAddress.slice(0, 8)}... (${agent.discoverySource})`\n          }))\n        })\n\n        if (isCancel(ghostSelection)) {\n          cancel('Claim cancelled')\n          return\n        }\n\n        ghostAddress = ghostSelection.toString()\n      }\n\n      // Validate address\n      let ghostAddr: Address\n      try {\n        ghostAddr = address(ghostAddress)\n      } catch (error) {\n        log.error(chalk.red(' Invalid Ghost address format'))\n        log.info(chalk.gray(`Provided: ${ghostAddress}`))\n        log.info(chalk.yellow('\\\\nExpected format: Base58-encoded Solana address (32 bytes)'))\n        log.info(chalk.gray('Example: 8YiPAVcbGNBQC4UpQNKZ3RxEJ8MsZQvdMfBEHWyBBGPq'))\n        outro(chalk.red('Invalid address'))\n        return\n      }\n\n      // NOW IMPLEMENT THE ACTUAL CLAIMING FLOW!\n      console.log(`\\n${chalk.bold('Ghost Address:')} ${ghostAddr}`)\n\n      // Initialize client and wallet\n      s.start('Initializing Solana client...')\n      const { client, rpc } = await initializeClient()\n      s.stop(' Client initialized')\n\n      // Load user's wallet (claimer)\n      s.start('Loading wallet...')\n      const walletPath = process.env.SOLANA_WALLET || path.join(process.env.HOME || '', '.config/solana/id.json')\n\n      if (!fs.existsSync(walletPath)) {\n        s.stop(chalk.red(' Wallet not found'))\n        log.error(`Expected: ${walletPath}`)\n        log.info(chalk.yellow('Set SOLANA_WALLET environment variable or create wallet with:'))\n        log.info(chalk.gray('solana-keygen new'))\n        outro(chalk.red('Wallet required'))\n        return\n      }\n\n      const secretKeyBytes = new Uint8Array(JSON.parse(fs.readFileSync(walletPath, 'utf-8')))\n      const claimer = await createKeyPairSignerFromBytes(secretKeyBytes)\n      s.stop(` Wallet loaded: ${claimer.address}`)\n\n      // Load SAS configuration\n      s.start('Loading SAS configuration...')\n      let sasConfig\n      try {\n        sasConfig = await loadSASConfig()\n        s.stop(' SAS config loaded')\n      } catch (error) {\n        s.stop(chalk.red(' SAS config not found'))\n        log.error(error instanceof Error ? error.message : 'Unknown error')\n        outro(chalk.red('Setup required'))\n        return\n      }\n\n      // Fetch Ghost details from Convex to get full agent data\n      s.start('Fetching Ghost details...')\n      const discoveredAgents = await queryDiscoveredAgents({ limit: 100 })\n      const ghostData = discoveredAgents.find((a) => a.ghostAddress === ghostAddr)\n\n      if (!ghostData) {\n        s.stop(chalk.red(' Ghost not found in discovery database'))\n        log.error(chalk.red(`Ghost ${ghostAddr} has not been indexed yet`))\n        log.info(chalk.yellow('\\\\n Possible reasons:'))\n        log.info(chalk.gray('  1. Ghost has not made any x402 payments yet'))\n        log.info(chalk.gray('  2. Indexer has not discovered this Ghost'))\n        log.info(chalk.gray('  3. Address is incorrect or typo'))\n        log.info(chalk.cyan('\\\\n  To see all discovered Ghosts:'))\n        log.info(chalk.gray('  ghost claim-ghost --list'))\n        outro(chalk.red('Ghost not found'))\n        return\n      }\n\n      // Check if Ghost is already claimed\n      if (ghostData.status === 'claimed') {\n        s.stop(chalk.yellow('  Ghost already claimed'))\n        log.warn(chalk.yellow(`This Ghost was claimed by ${ghostData.claimedBy || 'another user'}`))\n        if (ghostData.claimedAt) {\n          log.info(chalk.gray(`Claimed on: ${new Date(ghostData.claimedAt).toLocaleString()}`))\n        }\n        log.info(chalk.cyan('\\\\n  To find unclaimed Ghosts:'))\n        log.info(chalk.gray('  ghost claim-ghost --list'))\n        outro(chalk.yellow('Ghost unavailable'))\n        return\n      }\n\n      s.stop(' Ghost details loaded')\n\n      // Display Ghost info and confirm\n      console.log(`\\n${chalk.bold('Ghost Details:')}`)\n      console.log(chalk.gray(`  First seen: ${new Date(ghostData.firstSeenTimestamp).toLocaleDateString()}`))\n      console.log(chalk.gray(`  Discovery: ${ghostData.discoverySource}`))\n      console.log(chalk.gray(`  Facilitator: ${ghostData.facilitatorAddress || 'N/A'}`))\n      console.log(chalk.gray(`  Current status: ${ghostData.status}`))\n\n      const confirmClaim = await confirm({\n        message: `Claim this Ghost to ${claimer.address.slice(0, 8)}...?`,\n      })\n\n      if (isCancel(confirmClaim) || !confirmClaim) {\n        cancel('Claim cancelled')\n        return\n      }\n\n      // Create attestation data\n      const network = 'devnet'\n      const agentData = {\n        agent: ghostAddr,\n        did: `did:sol:${network}:${ghostAddr}`,\n        name: `Ghost Agent ${ghostAddr.slice(0, 8)}`,\n        capabilities: 'x402-payments,autonomous-agent',\n        x402Enabled: true,\n        x402ServiceEndpoint: ghostData.facilitatorAddress || '',\n        owner: claimer.address,\n        registeredAt: Math.floor(Date.now() / 1000),\n        issuedAt: Math.floor(Date.now() / 1000),\n      }\n\n      // Create attestation\n      s.start('Creating SAS attestation...')\n      let attestationResult\n      try {\n        attestationResult = await createGhostOwnershipAttestation({\n          sasConfig,\n          payer: claimer,\n          ghostPaymentAddress: ghostAddr,\n          agentData,\n          expiryDays: 365,\n        })\n        s.stop(` Attestation prepared`)\n        log.info(chalk.gray(`  Attestation PDA: ${attestationResult.attestationPda}`))\n      } catch (error) {\n        s.stop(chalk.red(' Failed to create attestation'))\n        log.error(chalk.red(error instanceof Error ? error.message : 'Unknown error'))\n        log.info(chalk.yellow('\\\\n Common causes:'))\n        log.info(chalk.gray('  1. SAS configuration is invalid or expired'))\n        log.info(chalk.gray('  2. Schema mismatch between configured and on-chain'))\n        log.info(chalk.gray('  3. Insufficient permissions for authorized signer'))\n        log.info(chalk.cyan('\\\\n  To fix:'))\n        log.info(chalk.gray('  Re-run SAS setup: bun apps/web/scripts/setup-sas.ts'))\n        outro(chalk.red('Attestation creation failed'))\n        return\n      }\n\n      // Send attestation instruction first using SDK transaction builder\n      s.start('Creating attestation on-chain...')\n      try {\n        const { GhostSpeakClient } = await import('@ghostspeak/sdk')\n        const {\n          createTransactionMessage,\n          setTransactionMessageFeePayerSigner,\n          setTransactionMessageLifetimeUsingBlockhash,\n          appendTransactionMessageInstruction,\n          pipe,\n          signTransactionMessageWithSigners,\n          sendAndConfirmTransactionFactory\n        } = await import('@solana/kit')\n\n        const ghostClient = new GhostSpeakClient({\n          rpc: rpc as any,\n          cluster: 'devnet',\n        })\n\n        // Get latest blockhash\n        const { value: latestBlockhash } = await rpc.getLatestBlockhash().send()\n\n        // Build attestation transaction\n        const attestationTxMessage = await pipe(\n          createTransactionMessage({ version: 0 }),\n          (tx) => setTransactionMessageFeePayerSigner(claimer, tx),\n          (tx) => setTransactionMessageLifetimeUsingBlockhash(latestBlockhash, tx),\n          (tx) => appendTransactionMessageInstruction(attestationResult.instruction, tx)\n        )\n\n        // Sign with both claimer and authorized signer\n        const signedAttestationTx = await signTransactionMessageWithSigners(attestationTxMessage)\n\n        // Send and confirm\n        const sendAndConfirmTransaction = sendAndConfirmTransactionFactory({\n          rpc: rpc as any,\n          rpcSubscriptions: undefined as any\n        })\n\n        const attestationTxSignature = await sendAndConfirmTransaction(signedAttestationTx, {\n          commitment: 'confirmed'\n        })\n\n        s.stop(` Attestation created: ${attestationTxSignature.slice(0, 12)}...`)\n        log.info(chalk.gray(`  View: ${getExplorerUrl(attestationTxSignature, 'devnet')}`))\n      } catch (error) {\n        s.stop(chalk.red(' Attestation transaction failed'))\n        log.error(chalk.red(error instanceof Error ? error.message : 'Unknown error'))\n        log.info(chalk.yellow('\\\\n Common causes:'))\n        log.info(chalk.gray('  1. Insufficient SOL for transaction fees'))\n        log.info(chalk.gray('  2. Attestation already exists for this Ghost'))\n        log.info(chalk.gray('  3. Network congestion or RPC timeout'))\n        log.info(chalk.gray('  4. Invalid or expired blockhash'))\n        log.info(chalk.cyan('\\\\n  To fix:'))\n        log.info(chalk.gray('  1. Check wallet balance: solana balance'))\n        log.info(chalk.gray('  2. Request devnet SOL: solana airdrop 2'))\n        log.info(chalk.gray('  3. Try again with a different RPC endpoint'))\n        outro(chalk.red('Attestation creation failed'))\n        return\n      }\n\n      // Now claim the Ghost using the SDK\n      s.start('Claiming Ghost with SDK...')\n\n      try {\n        // Import and initialize GhostModule\n        const { GhostSpeakClient } = await import('@ghostspeak/sdk')\n        const ghostClient = new GhostSpeakClient({\n          rpc: rpc as any,\n          cluster: 'devnet',\n        })\n\n        // Claim the Ghost\n        const claimSignature = await ghostClient.ghosts.claim(claimer, {\n          agentAddress: ghostAddr,\n          x402PaymentAddress: ghostAddr, // Ghost address IS the x402 payment address\n          sasCredential: sasConfig.credentialPda,\n          sasSchema: sasConfig.agentIdentitySchema,\n          network: 'devnet',\n          ipfsMetadataUri: undefined,\n          githubUsername: undefined,\n          twitterHandle: undefined,\n        })\n\n        s.stop(` Ghost claimed!`)\n\n        // Update Convex to mark Ghost as claimed\n        s.start('Updating Convex database...')\n        try {\n          await markGhostClaimed(ghostAddr, claimer.address, claimSignature)\n          s.stop(' Convex database updated')\n        } catch (error) {\n          s.stop(chalk.yellow('  Convex update failed'))\n          log.warn(chalk.gray(`Ghost claimed on-chain but Convex sync failed: ${error instanceof Error ? error.message : 'Unknown error'}`))\n        }\n\n        // Fetch Ghost Score\n        let ghostScore: any\n        s.start('Fetching Ghost Score...')\n        try {\n          ghostScore = await getGhostScore(ghostAddr)\n          s.stop(' Ghost Score retrieved')\n        } catch (error) {\n          s.stop(chalk.yellow('  Ghost Score unavailable'))\n          log.warn(chalk.gray(`Could not fetch Ghost Score: ${error instanceof Error ? error.message : 'Unknown error'}`))\n        }\n\n        // Success output!\n        console.log(chalk.green('\\n Ghost Successfully Claimed!'))\n        console.log(chalk.gray(''.repeat(80)))\n        console.log(chalk.bold('Transaction Details:'))\n        console.log(chalk.gray(`  Claim TX: ${claimSignature}`))\n        console.log(chalk.gray(`  Explorer: ${getExplorerUrl(claimSignature, 'devnet')}`))\n        console.log('')\n        console.log(chalk.bold('Ghost Details:'))\n        console.log(chalk.gray(`  Ghost Address: ${ghostAddr}`))\n        console.log(chalk.gray(`  Owner: ${claimer.address}`))\n        console.log(chalk.gray(`  DID: did:sol:devnet:${ghostAddr}`))\n        console.log(chalk.gray(`  Status: Claimed `))\n\n        // Display Ghost Score if available\n        if (ghostScore) {\n          console.log('')\n          console.log(chalk.bold('Ghost Score:'))\n          console.log(chalk.gray(`  Score: ${ghostScore.score || 0}/1000`))\n          console.log(chalk.gray(`  Tier: ${ghostScore.tier || 'Unranked'}`))\n          if (ghostScore.breakdown) {\n            console.log(chalk.gray(`  Components:`))\n            if (ghostScore.breakdown.credentials) console.log(chalk.gray(`    - Credentials: ${ghostScore.breakdown.credentials}`))\n            if (ghostScore.breakdown.transactions) console.log(chalk.gray(`    - Transactions: ${ghostScore.breakdown.transactions}`))\n            if (ghostScore.breakdown.reputation) console.log(chalk.gray(`    - Reputation: ${ghostScore.breakdown.reputation}`))\n          }\n        }\n\n        console.log('')\n        console.log(chalk.bold('Next Steps:'))\n        console.log(chalk.gray('  1. View your Ghost Score: ghost score show'))\n        console.log(chalk.gray('  2. Link platform identities: ghost credentials link'))\n        console.log(chalk.gray('  3. Build reputation across platforms'))\n\n        outro(chalk.green(' Claim complete! Your Ghost Score is now building.'))\n\n      } catch (error) {\n        s.stop(chalk.red(' Claim transaction failed'))\n        log.error(chalk.red(error instanceof Error ? error.message : 'Unknown error'))\n\n        // Provide helpful context based on error type\n        const errorMsg = error instanceof Error ? error.message.toLowerCase() : ''\n\n        if (errorMsg.includes('insufficient') || errorMsg.includes('balance')) {\n          log.info(chalk.yellow('\\\\n Insufficient funds'))\n          log.info(chalk.gray('  Check wallet balance: solana balance'))\n          log.info(chalk.gray('  Request devnet SOL: solana airdrop 2'))\n        } else if (errorMsg.includes('already') || errorMsg.includes('exists')) {\n          log.info(chalk.yellow('\\\\n Ghost may already be claimed'))\n          log.info(chalk.gray('  Check on-chain status with: ghost agent status <address>'))\n        } else if (errorMsg.includes('attestation') || errorMsg.includes('invalid')) {\n          log.info(chalk.yellow('\\\\n SAS attestation issue'))\n          log.info(chalk.gray('  Verify attestation was created successfully'))\n          log.info(chalk.gray('  Re-run SAS setup if needed: bun packages/web/scripts/setup-sas.ts'))\n        } else if (errorMsg.includes('timeout') || errorMsg.includes('network')) {\n          log.info(chalk.yellow('\\\\n Network or RPC issue'))\n          log.info(chalk.gray('  Try again with a different RPC endpoint'))\n          log.info(chalk.gray('  Set SOLANA_RPC_URL environment variable'))\n        } else {\n          log.info(chalk.yellow('\\\\n Troubleshooting:'))\n          log.info(chalk.gray('  1. Verify SAS attestation was created'))\n          log.info(chalk.gray('  2. Check wallet has sufficient SOL'))\n          log.info(chalk.gray('  3. Ensure Ghost is not already claimed'))\n          log.info(chalk.gray('  4. Try again in a few moments'))\n        }\n\n        handleError(error, { operation: 'claim Ghost' })\n        outro(chalk.red('Claim failed'))\n        return\n      }\n\n    } catch (error) {\n      log.error(`Failed to process claim: ${error instanceof Error ? error.message : 'Unknown error'}`)\n      outro(chalk.red('Operation failed'))\n    }\n  })\n","/**\n * SAS (Solana Attestation Service) helper utilities for CLI\n *\n * Provides functions for creating attestations to prove Ghost ownership\n */\n\nimport {\n  deriveAttestationPda,\n  getCreateAttestationInstruction,\n  serializeAttestationData,\n  type SchemaLayout,\n} from 'sas-lib'\nimport { address, type Address } from '@solana/addresses'\nimport { createKeyPairSignerFromBytes, type TransactionSigner } from '@solana/signers'\nimport { getAddressEncoder } from '@solana/kit'\nimport { existsSync } from 'fs'\nimport { readFileSync } from 'fs'\nimport { join } from 'path'\nimport { homedir } from 'os'\n\n/**\n * SAS Configuration from environment or config files\n */\nexport interface SASConfig {\n  credentialPda: Address\n  agentIdentitySchema: Address\n  authority: Address\n  authorizedSigner: TransactionSigner\n}\n\n/**\n * Load SAS configuration from environment or config files\n */\nexport async function loadSASConfig(): Promise<SASConfig> {\n  // Try loading from monorepo config first\n  const monorepoConfigPath = join(process.cwd(), '../../packages/web/sas-config.json')\n  const monorepoKeypairsPath = join(process.cwd(), '../../packages/web/sas-keypairs.json')\n\n  // Fallback to local config\n  const localConfigPath = join(homedir(), '.ghostspeak', 'sas-config.json')\n  const localKeypairsPath = join(homedir(), '.ghostspeak', 'sas-keypairs.json')\n\n  let configPath = existsSync(monorepoConfigPath) ? monorepoConfigPath : localConfigPath\n  let keypairsPath = existsSync(monorepoKeypairsPath) ? monorepoKeypairsPath : localKeypairsPath\n\n  if (!existsSync(configPath)) {\n    throw new Error(\n      'SAS configuration not found. Please run the SAS setup script:\\n' +\n      'bun packages/web/scripts/setup-sas.ts'\n    )\n  }\n\n  if (!existsSync(keypairsPath)) {\n    throw new Error(\n      'SAS keypairs not found. Please run the SAS setup script:\\n' +\n      'bun packages/web/scripts/setup-sas.ts'\n    )\n  }\n\n  // Load config\n  const config = JSON.parse(readFileSync(configPath, 'utf-8'))\n  const keypairs = JSON.parse(readFileSync(keypairsPath, 'utf-8'))\n\n  // Reconstruct authorized signer from keypair bytes\n  const authorizedSignerBytes = new Uint8Array(keypairs.authorizedSigner1)\n  const authorizedSigner = await createKeyPairSignerFromBytes(authorizedSignerBytes)\n\n  return {\n    credentialPda: address(config.credentialPda),\n    agentIdentitySchema: address(config.schemas.AGENT_IDENTITY),\n    authority: address(config.authority),\n    authorizedSigner,\n  }\n}\n\n/**\n * Create an attestation proving ownership of an x402 payment address\n *\n * For Ghost claiming, we create an AGENT_IDENTITY attestation where:\n * - nonce = x402_payment_address (the Ghost's payment address)\n * - data = serialized agent identity data\n */\nexport async function createGhostOwnershipAttestation(params: {\n  sasConfig: SASConfig\n  payer: TransactionSigner\n  ghostPaymentAddress: Address\n  agentData: {\n    agent: string\n    did: string\n    name: string\n    capabilities: string\n    x402Enabled: boolean\n    x402ServiceEndpoint: string\n    owner: string\n    registeredAt: number\n    issuedAt: number\n  }\n  expiryDays?: number\n}) {\n  const { sasConfig, payer, ghostPaymentAddress, agentData, expiryDays = 365 } = params\n\n  // Derive attestation PDA using Ghost's payment address as nonce\n  const [attestationPda] = await deriveAttestationPda({\n    credential: sasConfig.credentialPda,\n    schema: sasConfig.agentIdentitySchema,\n    nonce: ghostPaymentAddress,\n  })\n\n  // Calculate expiry timestamp\n  const expiryTimestamp = Math.floor(Date.now() / 1000) + expiryDays * 24 * 60 * 60\n\n  // Create schema layout for AGENT_IDENTITY\n  // Layout matches packages/web/lib/sas/config.ts AGENT_IDENTITY schema\n  const schemaLayout: SchemaLayout = {\n    layout: new Uint8Array([\n      0, // Pubkey (agent)\n      4, // String (did)\n      4, // String (name)\n      4, // String (capabilities)\n      1, // Bool (x402Enabled)\n      4, // String (x402ServiceEndpoint)\n      0, // Pubkey (owner)\n      7, // i64 (registeredAt)\n      7, // i64 (issuedAt)\n    ]),\n    fieldNames: [\n      'agent',\n      'did',\n      'name',\n      'capabilities',\n      'x402Enabled',\n      'x402ServiceEndpoint',\n      'owner',\n      'registeredAt',\n      'issuedAt',\n    ],\n  }\n\n  // Serialize attestation data\n  const serializedData = serializeAttestationData(schemaLayout, agentData)\n\n  // Create attestation instruction\n  const instruction = await getCreateAttestationInstruction({\n    payer,\n    authority: sasConfig.authorizedSigner,\n    credential: sasConfig.credentialPda,\n    schema: sasConfig.agentIdentitySchema,\n    attestation: attestationPda,\n    nonce: ghostPaymentAddress,\n    expiry: expiryTimestamp,\n    data: serializedData,\n  })\n\n  return {\n    instruction,\n    attestationPda,\n    expiryTimestamp,\n  }\n}\n\n/**\n * Derive the attestation PDA for a Ghost\n * This matches the derivation in the on-chain program\n */\nexport async function deriveGhostAttestationPda(\n  credentialPda: Address,\n  schemaPda: Address,\n  ghostPaymentAddress: Address\n): Promise<Address> {\n  const [attestationPda] = await deriveAttestationPda({\n    credential: credentialPda,\n    schema: schemaPda,\n    nonce: ghostPaymentAddress,\n  })\n\n  return attestationPda\n}\n","/**\n * Multisig Commands\n * Create and manage multisignature wallets for shared agent control\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl, toSDKSigner } from '../utils/client.js'\nimport { handleError } from '../utils/error-handler.js'\nimport { createSafeSDKClient } from '../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { Address } from '@solana/addresses'\n\n// Type definitions\ninterface CreateOptions {\n  threshold?: string\n  signers?: string\n  json?: boolean\n}\n\ninterface ProposeOptions {\n  multisig?: string\n  title?: string\n  description?: string\n}\n\ninterface ApproveOptions {\n  proposal?: string\n  multisig?: string\n}\n\ninterface ExecuteOptions {\n  proposal?: string\n  multisig?: string\n}\n\ninterface ListOptions {\n  owner?: string\n  json?: boolean\n}\n\nexport const multisigCommand = new Command('multisig')\n  .description('Manage multisignature wallets for shared agent control')\n\n// Create subcommand\nmultisigCommand\n  .command('create')\n  .description('Create a new multisig wallet')\n  .option('-t, --threshold <number>', 'Number of signatures required')\n  .option('-s, --signers <addresses>', 'Comma-separated list of signer addresses')\n  .option('--json', 'Output as JSON')\n  .action(async (options: CreateOptions) => {\n    intro(chalk.cyan(' Create Multisig Wallet'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get signers\n      let signerAddresses: Address[] = []\n      if (options.signers) {\n        signerAddresses = options.signers.split(',').map(s => address(s.trim()))\n      } else {\n        const signersInput = await text({\n          message: 'Signer addresses (comma-separated):',\n          placeholder: 'addr1, addr2, addr3',\n          validate: (value) => {\n            if (!value) return 'At least one signer address is required'\n            const addrs = value.split(',').map(s => s.trim())\n            if (addrs.length < 2) return 'Multisig requires at least 2 signers'\n            try {\n              addrs.forEach(a => address(a))\n              return\n            } catch {\n              return 'Invalid address format'\n            }\n          }\n        })\n\n        if (isCancel(signersInput)) {\n          cancel('Creation cancelled')\n          return\n        }\n\n        signerAddresses = signersInput.toString().split(',').map(s => address(s.trim()))\n      }\n\n      // Add current wallet as a signer if not already included\n      if (!signerAddresses.some(s => s === wallet.address)) {\n        signerAddresses.push(wallet.address)\n      }\n\n      // Get threshold\n      let threshold = options.threshold ? parseInt(options.threshold) : 0\n      if (!threshold) {\n        const thresholdInput = await text({\n          message: `Approval threshold (1-${signerAddresses.length}):`,\n          placeholder: '2',\n          initialValue: Math.ceil(signerAddresses.length / 2).toString(),\n          validate: (value) => {\n            if (!value) return 'Threshold is required'\n            const t = parseInt(value)\n            if (isNaN(t) || t < 1 || t > signerAddresses.length) {\n              return `Threshold must be between 1 and ${signerAddresses.length}`\n            }\n            return\n          }\n        })\n\n        if (isCancel(thresholdInput)) {\n          cancel('Creation cancelled')\n          return\n        }\n\n        threshold = parseInt(thresholdInput.toString())\n      }\n\n      // Show multisig preview\n      note(\n        `${chalk.bold('Multisig Configuration:')}\\n` +\n        `${chalk.gray('Total Signers:')} ${signerAddresses.length}\\n` +\n        `${chalk.gray('Approval Threshold:')} ${threshold}/${signerAddresses.length}\\n\\n` +\n        `${chalk.bold('Signers:')}\\n` +\n        signerAddresses.map((s, i) =>\n          `${chalk.gray(`${i + 1}.`)} ${s}${s === wallet.address ? chalk.yellow(' (you)') : ''}`\n        ).join('\\n') + '\\n\\n' +\n        `${chalk.yellow('This multisig will require ' + threshold + ' signature(s) to execute transactions.')}`,\n        'Multisig Preview'\n      )\n\n      const confirmCreate = await confirm({\n        message: 'Create this multisig wallet?'\n      })\n\n      if (isCancel(confirmCreate) || !confirmCreate) {\n        cancel('Creation cancelled')\n        return\n      }\n\n      s.start('Creating multisig on blockchain...')\n\n      try {\n        // Generate unique multisig ID\n        const multisigId = BigInt(Date.now())\n\n        const signature = await safeClient.multisigModule.createMultisig({\n          owner: toSDKSigner(wallet),\n          multisigId,\n          threshold,\n          signers: signerAddresses\n        })\n\n        s.stop(' Multisig created successfully')\n\n        // Derive multisig PDA\n        const { deriveMultisigPda } = await import('@ghostspeak/sdk')\n        const [multisigAddress] = await deriveMultisigPda({\n          programAddress: safeClient.programId,\n          creator: wallet.address,\n          multisigId\n        })\n\n        const explorerUrl = getExplorerUrl(signature, 'devnet')\n\n        if (options.json) {\n          console.log(JSON.stringify({\n            success: true,\n            multisigAddress,\n            multisigId: multisigId.toString(),\n            threshold,\n            signers: signerAddresses,\n            signature,\n            explorerUrl\n          }, null, 2))\n          return\n        }\n\n        outro(\n          `${chalk.green(' Multisig Created Successfully!')}\\n\\n` +\n          `${chalk.bold('Multisig Details:')}\\n` +\n          `${chalk.gray('Address:')} ${chalk.cyan(multisigAddress)}\\n` +\n          `${chalk.gray('ID:')} ${multisigId}\\n` +\n          `${chalk.gray('Threshold:')} ${threshold}/${signerAddresses.length}\\n` +\n          `${chalk.gray('Transaction:')} ${signature}\\n\\n` +\n          `${chalk.bold('Next Steps:')}\\n` +\n          `${chalk.gray('')} Create proposals: ${chalk.cyan(`ghost multisig propose`)}\\n` +\n          `${chalk.gray('')} List multisigs: ${chalk.cyan(`ghost multisig list`)}\\n\\n` +\n          `${chalk.gray('Explorer:')} ${chalk.cyan(explorerUrl)}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to create multisig')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to create multisig: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Propose subcommand\nmultisigCommand\n  .command('propose')\n  .description('Create a proposal for multisig approval')\n  .option('-m, --multisig <address>', 'Multisig address')\n  .option('-t, --title <title>', 'Proposal title')\n  .option('-d, --description <desc>', 'Proposal description')\n  .action(async (options: ProposeOptions) => {\n    intro(chalk.blue(' Create Multisig Proposal'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get multisig address\n      let multisigAddress = options.multisig\n      if (!multisigAddress) {\n        const addressInput = await text({\n          message: 'Multisig address:',\n          validate: (value) => {\n            if (!value) return 'Multisig address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Invalid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Proposal cancelled')\n          return\n        }\n\n        multisigAddress = addressInput.toString().trim()\n      }\n\n      const multisigAddr = address(multisigAddress)\n\n      // Verify multisig exists\n      s.start('Verifying multisig...')\n      const multisigData = await safeClient.multisigModule.getMultisig(multisigAddr)\n\n      if (!multisigData) {\n        s.stop(' Multisig not found')\n        outro(chalk.red(`No multisig found at: ${multisigAddress}`))\n        return\n      }\n\n      s.stop(' Multisig verified')\n\n      // Get title\n      let title = options.title\n      if (!title) {\n        const titleInput = await text({\n          message: 'Proposal title:',\n          placeholder: 'Transfer 100 SOL to treasury',\n          validate: (value) => {\n            if (!value) return 'Title is required'\n            if (value.length < 5) return 'Title must be at least 5 characters'\n            return\n          }\n        })\n\n        if (isCancel(titleInput)) {\n          cancel('Proposal cancelled')\n          return\n        }\n\n        title = titleInput.toString().trim()\n      }\n\n      // Get description\n      let description = options.description\n      if (!description) {\n        const descInput = await text({\n          message: 'Proposal description:',\n          placeholder: 'Monthly treasury allocation for development',\n          validate: (value) => {\n            if (!value) return 'Description is required'\n            return\n          }\n        })\n\n        if (isCancel(descInput)) {\n          cancel('Proposal cancelled')\n          return\n        }\n\n        description = descInput.toString().trim()\n      }\n\n      // Show proposal preview\n      note(\n        `${chalk.bold('Proposal Details:')}\\n` +\n        `${chalk.gray('Multisig:')} ${multisigAddress}\\n` +\n        `${chalk.gray('Title:')} ${title}\\n` +\n        `${chalk.gray('Description:')} ${description}\\n` +\n        `${chalk.gray('Threshold:')} ${multisigData.threshold}/${multisigData.signers.length}\\n\\n` +\n        `${chalk.yellow('This proposal will require ' + multisigData.threshold + ' approval(s).')}`,\n        'Proposal Preview'\n      )\n\n      const confirmPropose = await confirm({\n        message: 'Create this proposal?'\n      })\n\n      if (isCancel(confirmPropose) || !confirmPropose) {\n        cancel('Proposal cancelled')\n        return\n      }\n\n      s.start('Creating proposal on blockchain...')\n\n      try {\n        const proposalId = BigInt(Date.now())\n        const { ProposalType } = await import('@ghostspeak/sdk')\n\n        const signature = await safeClient.multisigModule.createProposal({\n          multisigAddress: multisigAddr,\n          title,\n          description,\n          proposalType: ProposalType.Custom,\n          executionParams: {\n            instructions: [],\n            executionDelay: 0n,\n            executionConditions: [],\n            cancellable: true,\n            autoExecute: false,\n            executionAuthority: wallet.address\n          },\n          proposalId,\n          proposer: toSDKSigner(wallet)\n        })\n\n        s.stop(' Proposal created successfully')\n\n        const explorerUrl = getExplorerUrl(signature, 'devnet')\n\n        outro(\n          `${chalk.green(' Proposal Created!')}\\n\\n` +\n          `${chalk.gray('Proposal ID:')} ${proposalId}\\n` +\n          `${chalk.gray('Title:')} ${title}\\n` +\n          `${chalk.gray('Status:')} Pending approval\\n` +\n          `${chalk.gray('Required Approvals:')} ${multisigData.threshold}\\n` +\n          `${chalk.gray('Transaction:')} ${signature}\\n\\n` +\n          `${chalk.bold('Next Steps:')}\\n` +\n          `${chalk.gray('')} Other signers approve: ${chalk.cyan(`ghost multisig approve`)}\\n` +\n          `${chalk.gray('')} Execute when approved: ${chalk.cyan(`ghost multisig execute`)}\\n\\n` +\n          `${chalk.gray('Explorer:')} ${chalk.cyan(explorerUrl)}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to create proposal')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to propose: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Approve subcommand\nmultisigCommand\n  .command('approve')\n  .description('Approve a multisig proposal')\n  .option('-p, --proposal <address>', 'Proposal address')\n  .option('-m, --multisig <address>', 'Multisig address')\n  .action(async (options: ApproveOptions) => {\n    intro(chalk.green(' Approve Multisig Proposal'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get proposal address\n      let proposalAddress = options.proposal\n      if (!proposalAddress) {\n        const addressInput = await text({\n          message: 'Proposal address:',\n          validate: (value) => {\n            if (!value) return 'Proposal address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Invalid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Approval cancelled')\n          return\n        }\n\n        proposalAddress = addressInput.toString().trim()\n      }\n\n      const proposalAddr = address(proposalAddress)\n\n      // Fetch proposal details\n      s.start('Fetching proposal...')\n      const proposalData = await safeClient.governanceModule.getProposal(proposalAddr)\n\n      if (!proposalData) {\n        s.stop(' Proposal not found')\n        outro(chalk.red(`No proposal found at: ${proposalAddress}`))\n        return\n      }\n\n      s.stop(' Proposal loaded')\n\n      // Show proposal details\n      note(\n        `${chalk.bold('Proposal Details:')}\\n` +\n        `${chalk.gray('Title:')} ${proposalData.title}\\n` +\n        `${chalk.gray('Description:')} ${proposalData.description}\\n` +\n        `${chalk.gray('Current Approvals:')} ${proposalData.votesFor}/${proposalData.threshold}\\n` +\n        `${chalk.gray('Status:')} ${proposalData.status}`,\n        'Proposal Info'\n      )\n\n      const confirmApprove = await confirm({\n        message: 'Approve this proposal?'\n      })\n\n      if (isCancel(confirmApprove) || !confirmApprove) {\n        cancel('Approval cancelled')\n        return\n      }\n\n      s.start('Approving proposal on blockchain...')\n\n      try {\n        log.warn('Multisig approval method pending protocol_config integration')\n\n        s.stop('  Approval API pending')\n\n        outro(\n          `${chalk.yellow('Approval Pending')}\\n\\n` +\n          `Your approval for proposal ${proposalAddress} will be recorded.\\n\\n` +\n          `${chalk.gray('Note: Use protocol_config voting instructions for multisig approvals.')}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to approve proposal')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to approve: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Execute subcommand\nmultisigCommand\n  .command('execute')\n  .description('Execute an approved multisig proposal')\n  .option('-p, --proposal <address>', 'Proposal address')\n  .option('-m, --multisig <address>', 'Multisig address')\n  .action(async (options: ExecuteOptions) => {\n    intro(chalk.magenta(' Execute Multisig Proposal'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get proposal address\n      let proposalAddress = options.proposal\n      if (!proposalAddress) {\n        const addressInput = await text({\n          message: 'Proposal address:',\n          validate: (value) => {\n            if (!value) return 'Proposal address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Invalid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Execution cancelled')\n          return\n        }\n\n        proposalAddress = addressInput.toString().trim()\n      }\n\n      const proposalAddr = address(proposalAddress)\n\n      // Fetch proposal\n      s.start('Verifying proposal...')\n      const proposalData = await safeClient.governanceModule.getProposal(proposalAddr)\n\n      if (!proposalData) {\n        s.stop(' Proposal not found')\n        outro(chalk.red(`No proposal found at: ${proposalAddress}`))\n        return\n      }\n\n      if (proposalData.votesFor < proposalData.threshold) {\n        s.stop(' Proposal not approved')\n        outro(\n          chalk.red('Proposal does not have enough approvals') + '\\n\\n' +\n          `${chalk.gray('Current:')} ${proposalData.votesFor}/${proposalData.threshold}\\n` +\n          `${chalk.gray('Required:')} ${proposalData.threshold - proposalData.votesFor} more approval(s)`\n        )\n        return\n      }\n\n      s.stop(' Proposal ready for execution')\n\n      // Confirm execution\n      const confirmExecute = await confirm({\n        message: 'Execute this proposal?'\n      })\n\n      if (isCancel(confirmExecute) || !confirmExecute) {\n        cancel('Execution cancelled')\n        return\n      }\n\n      s.start('Executing proposal on blockchain...')\n\n      try {\n        const multisigAddr = options.multisig ? address(options.multisig) : proposalData.proposer\n\n        const signature = await safeClient.multisigModule.executeProposal({\n          proposalAddress: proposalAddr,\n          executor: toSDKSigner(wallet),\n          targetProgram: safeClient.programId\n        })\n\n        s.stop(' Proposal executed successfully')\n\n        const explorerUrl = getExplorerUrl(signature, 'devnet')\n\n        outro(\n          `${chalk.green(' Proposal Executed!')}\\n\\n` +\n          `${chalk.gray('Proposal:')} ${proposalAddress}\\n` +\n          `${chalk.gray('Transaction:')} ${signature}\\n\\n` +\n          `${chalk.gray('Explorer:')} ${chalk.cyan(explorerUrl)}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to execute proposal')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to execute: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// List subcommand\nmultisigCommand\n  .command('list')\n  .description('List multisigs you are a signer for')\n  .option('-o, --owner <address>', 'Filter by creator address')\n  .option('--json', 'Output as JSON')\n  .action(async (options: ListOptions) => {\n    intro(chalk.blue(' List Multisigs'))\n\n    try {\n      const s = spinner()\n      s.start('Fetching multisigs...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      const ownerAddr = options.owner ? address(options.owner) : wallet.address\n\n      // Fetch multisigs\n      const multisigs = await safeClient.multisigModule.getMultisigsByCreator(ownerAddr)\n\n      s.stop(` Found ${multisigs.length} multisig(s)`)\n\n      if (multisigs.length === 0) {\n        outro(\n          `${chalk.yellow('No multisigs found')}\\n\\n` +\n          `${chalk.gray('Create a multisig:')}\\n` +\n          `${chalk.cyan('ghost multisig create')}`\n        )\n        return\n      }\n\n      if (options.json) {\n        console.log(JSON.stringify(multisigs, null, 2))\n        return\n      }\n\n      // Display multisigs\n      for (let i = 0; i < multisigs.length; i++) {\n        const multisig = multisigs[i]\n        console.log(`\\n${chalk.bold.cyan(`Multisig ${i + 1}:`)}`)\n        console.log(`${chalk.gray('Address:')} ${multisig.address}`)\n        console.log(`${chalk.gray('Threshold:')} ${multisig.data.threshold}/${multisig.data.signers.length}`)\n        console.log(`${chalk.gray('Signers:')}`)\n        multisig.data.signers.forEach((signer: Address, idx: number) => {\n          console.log(`  ${chalk.gray(`${idx + 1}.`)} ${signer}`)\n        })\n      }\n\n      outro(\n        `\\n${chalk.gray('Commands:')}\\n` +\n        `${chalk.cyan('ghost multisig propose')} - Create a proposal\\n` +\n        `${chalk.cyan('ghost multisig approve')} - Approve a proposal\\n` +\n        `${chalk.cyan('ghost multisig execute')} - Execute an approved proposal`\n      )\n\n    } catch (error) {\n      log.error(`Failed to list multisigs: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Default action\nmultisigCommand\n  .action(async () => {\n    intro(chalk.blue(' GhostSpeak Multisig Management'))\n\n    log.info(`\\n${chalk.bold('Available Commands:')}\\n`)\n    log.info(`${chalk.cyan('ghost multisig create')} - Create a new multisig wallet`)\n    log.info(`${chalk.cyan('ghost multisig propose')} - Create a proposal for approval`)\n    log.info(`${chalk.cyan('ghost multisig approve')} - Approve a proposal`)\n    log.info(`${chalk.cyan('ghost multisig execute')} - Execute an approved proposal`)\n    log.info(`${chalk.cyan('ghost multisig list')} - List your multisigs`)\n\n    note(\n      `${chalk.bold('What are Multisigs?')}\\n\\n` +\n      `Multisig wallets require multiple signatures to execute transactions,\\n` +\n      `providing shared control and enhanced security for agent management.\\n\\n` +\n      `${chalk.yellow('Use Cases:')}\\n` +\n      `${chalk.gray('')} Shared agent ownership between team members\\n` +\n      `${chalk.gray('')} DAO treasury management\\n` +\n      `${chalk.gray('')} Enhanced security for high-value agents\\n` +\n      `${chalk.gray('')} Trustless escrow and governance`,\n      'About Multisig'\n    )\n\n    outro('Use --help with any command for more details')\n  })\n","/**\n * Authorization Commands\n * Manage pre-authorizations for reputation updates and agent operations\n */\n\nimport { Command } from 'commander'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  isCancel,\n  cancel,\n  log,\n  note\n} from '@clack/prompts'\nimport { initializeClient, getExplorerUrl, toSDKSigner } from '../utils/client.js'\nimport { handleError } from '../utils/error-handler.js'\nimport { createSafeSDKClient } from '../utils/sdk-helpers.js'\nimport { address } from '@solana/addresses'\nimport type { Address } from '@solana/addresses'\n\n// Type definitions\ninterface CreateOptions {\n  agent?: string\n  source?: string\n  limit?: string\n  duration?: string\n  json?: boolean\n}\n\ninterface RevokeOptions {\n  authorization?: string\n  agent?: string\n}\n\ninterface ListOptions {\n  agent?: string\n  json?: boolean\n}\n\ninterface VerifyOptions {\n  authorization?: string\n  json?: boolean\n}\n\nexport const authorizationCommand = new Command('authorization')\n  .alias('auth')\n  .description('Manage pre-authorizations for trustless reputation updates')\n\n// Create subcommand\nauthorizationCommand\n  .command('create')\n  .description('Create a pre-authorization for a facilitator or service')\n  .option('-a, --agent <address>', 'Agent address to authorize')\n  .option('-s, --source <address>', 'Authorized source address (facilitator, service, etc.)')\n  .option('-l, --limit <number>', 'Maximum number of updates allowed')\n  .option('-d, --duration <days>', 'Authorization duration in days')\n  .option('--json', 'Output as JSON')\n  .action(async (options: CreateOptions) => {\n    intro(chalk.cyan(' Create Pre-Authorization'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address to authorize:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Invalid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Authorization cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      const agentAddr = address(agentAddress)\n\n      // Verify agent exists\n      s.start('Verifying agent...')\n      const agentData = await safeClient.agent.getAgentAccount(agentAddr)\n\n      if (!agentData) {\n        s.stop(' Agent not found')\n        outro(chalk.red(`No agent found at: ${agentAddress}`))\n        return\n      }\n\n      s.stop(' Agent verified')\n\n      // Get authorized source\n      let authorizedSource = options.source\n      if (!authorizedSource) {\n        const sourceTypeInput = await select({\n          message: 'Authorization type:',\n          options: [\n            { value: 'facilitator', label: 'x402 Facilitator - For payment-based reputation' },\n            { value: 'service', label: 'Service Provider - For service quality ratings' },\n            { value: 'oracle', label: 'Oracle - For external data feeds' },\n            { value: 'custom', label: 'Custom Address' }\n          ]\n        })\n\n        if (isCancel(sourceTypeInput)) {\n          cancel('Authorization cancelled')\n          return\n        }\n\n        const sourceType = sourceTypeInput.toString()\n\n        if (sourceType === 'custom' || sourceType === 'facilitator' || sourceType === 'service' || sourceType === 'oracle') {\n          const sourceInput = await text({\n            message: 'Authorized source address:',\n            placeholder: sourceType === 'facilitator' ? 'x402 facilitator pubkey' : 'Service pubkey',\n            validate: (value) => {\n              if (!value) return 'Source address is required'\n              try {\n                address(value.trim())\n                return\n              } catch {\n                return 'Invalid Solana address'\n              }\n            }\n          })\n\n          if (isCancel(sourceInput)) {\n            cancel('Authorization cancelled')\n            return\n          }\n\n          authorizedSource = sourceInput.toString().trim()\n        }\n      }\n\n      if (!authorizedSource) {\n        cancel('Authorized source is required')\n        return\n      }\n\n      const sourceAddr = address(authorizedSource)\n\n      // Get update limit\n      let indexLimit = options.limit ? parseInt(options.limit) : 0\n      if (!indexLimit) {\n        const limitInput = await text({\n          message: 'Maximum number of updates allowed:',\n          placeholder: '100',\n          initialValue: '100',\n          validate: (value) => {\n            if (!value) return 'Limit is required'\n            const limit = parseInt(value)\n            if (isNaN(limit) || limit < 1) return 'Limit must be at least 1'\n            if (limit > 10000) return 'Limit cannot exceed 10,000'\n            return\n          }\n        })\n\n        if (isCancel(limitInput)) {\n          cancel('Authorization cancelled')\n          return\n        }\n\n        indexLimit = parseInt(limitInput.toString())\n      }\n\n      // Get duration\n      let durationDays = options.duration ? parseInt(options.duration) : 0\n      if (!durationDays) {\n        const durationInput = await text({\n          message: 'Authorization duration (days):',\n          placeholder: '30',\n          initialValue: '30',\n          validate: (value) => {\n            if (!value) return 'Duration is required'\n            const days = parseInt(value)\n            if (isNaN(days) || days < 1) return 'Duration must be at least 1 day'\n            if (days > 365) return 'Duration cannot exceed 365 days'\n            return\n          }\n        })\n\n        if (isCancel(durationInput)) {\n          cancel('Authorization cancelled')\n          return\n        }\n\n        durationDays = parseInt(durationInput.toString())\n      }\n\n      // Calculate expiration timestamp\n      const expiresAt = BigInt(Math.floor(Date.now() / 1000) + (durationDays * 24 * 60 * 60))\n\n      // Show authorization preview\n      note(\n        `${chalk.bold('Authorization Details:')}\\n` +\n        `${chalk.gray('Agent:')} ${agentData.name}\\n` +\n        `${chalk.gray('Agent Address:')} ${agentAddress}\\n` +\n        `${chalk.gray('Authorized Source:')} ${authorizedSource}\\n` +\n        `${chalk.gray('Update Limit:')} ${indexLimit} updates\\n` +\n        `${chalk.gray('Duration:')} ${durationDays} days\\n` +\n        `${chalk.gray('Expires:')} ${new Date(Number(expiresAt) * 1000).toLocaleDateString()}\\n\\n` +\n        `${chalk.yellow('  This allows the source to update reputation up to ' + indexLimit + ' times.')}\\n` +\n        `${chalk.gray('You can revoke this authorization at any time.')}`,\n        'Authorization Preview'\n      )\n\n      const confirmCreate = await confirm({\n        message: 'Create this authorization?'\n      })\n\n      if (isCancel(confirmCreate) || !confirmCreate) {\n        cancel('Authorization cancelled')\n        return\n      }\n\n      s.start('Creating authorization on blockchain...')\n\n      try {\n        const signature = await safeClient.authorization.createAuthorization({\n          signer: toSDKSigner(wallet),\n          agentAddress: agentAddr,\n          authorizedSource: sourceAddr,\n          indexLimit: BigInt(indexLimit),\n          expiresAt,\n          network: 'devnet'\n        })\n\n        s.stop(' Authorization created successfully')\n\n        // Authorization address derived from transaction\n        // Note: deriveAgentReputationAuthPda removed - use findProgramDerivedAddress if needed\n        const authAddress = `${agentAddr.slice(0, 8)}...${sourceAddr.slice(-8)}`\n\n        const explorerUrl = getExplorerUrl(signature, 'devnet')\n\n        if (options.json) {\n          console.log(JSON.stringify({\n            success: true,\n            authorizationAddress: authAddress,\n            agentAddress,\n            authorizedSource,\n            indexLimit,\n            expiresAt: expiresAt.toString(),\n            signature,\n            explorerUrl\n          }, null, 2))\n          return\n        }\n\n        outro(\n          `${chalk.green(' Authorization Created!')}\\n\\n` +\n          `${chalk.bold('Authorization Details:')}\\n` +\n          `${chalk.gray('Auth Address:')} ${chalk.cyan(authAddress)}\\n` +\n          `${chalk.gray('Agent:')} ${agentData.name}\\n` +\n          `${chalk.gray('Source:')} ${authorizedSource}\\n` +\n          `${chalk.gray('Limit:')} ${indexLimit} updates\\n` +\n          `${chalk.gray('Expires:')} ${new Date(Number(expiresAt) * 1000).toLocaleDateString()}\\n` +\n          `${chalk.gray('Transaction:')} ${signature}\\n\\n` +\n          `${chalk.bold('Next Steps:')}\\n` +\n          `${chalk.gray('')} Monitor usage: ${chalk.cyan(`ghost auth list`)}\\n` +\n          `${chalk.gray('')} Revoke if needed: ${chalk.cyan(`ghost auth revoke`)}\\n\\n` +\n          `${chalk.gray('Explorer:')} ${chalk.cyan(explorerUrl)}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to create authorization')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to create authorization: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Revoke subcommand\nauthorizationCommand\n  .command('revoke')\n  .description('Revoke an existing authorization')\n  .option('-a, --authorization <address>', 'Authorization address to revoke')\n  .option('--agent <address>', 'Agent address (if auth address unknown)')\n  .action(async (options: RevokeOptions) => {\n    intro(chalk.red(' Revoke Authorization'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get authorization address\n      let authAddress = options.authorization\n      if (!authAddress) {\n        const addressInput = await text({\n          message: 'Authorization address:',\n          validate: (value) => {\n            if (!value) return 'Authorization address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Invalid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Revoke cancelled')\n          return\n        }\n\n        authAddress = addressInput.toString().trim()\n      }\n\n      const authAddr = address(authAddress)\n\n      // Fetch authorization\n      s.start('Fetching authorization...')\n      const authData = await safeClient.authorization.getAuthorization(authAddr)\n\n      if (!authData) {\n        s.stop(' Authorization not found')\n        outro(chalk.red(`No authorization found at: ${authAddress}`))\n        return\n      }\n\n      s.stop(' Authorization loaded')\n\n      // Show authorization details\n      note(\n        `${chalk.bold('Authorization to Revoke:')}\\n` +\n        `${chalk.gray('Agent:')} ${authData.agent}\\n` +\n        `${chalk.gray('Source:')} ${authData.authorizedSource}\\n` +\n        `${chalk.gray('Used:')} ${authData.currentIndex}/${authData.indexLimit}\\n` +\n        `${chalk.gray('Expires:')} ${new Date(Number(authData.expiresAt) * 1000).toLocaleDateString()}\\n\\n` +\n        `${chalk.red('  Revoking will prevent all future updates from this source.')}`,\n        'Revoke Confirmation'\n      )\n\n      const confirmRevoke = await confirm({\n        message: 'Revoke this authorization?'\n      })\n\n      if (isCancel(confirmRevoke) || !confirmRevoke) {\n        cancel('Revoke cancelled')\n        return\n      }\n\n      s.start('Revoking authorization on blockchain...')\n\n      try {\n        const signature = await safeClient.authorization.revokeAuthorization({\n          signer: toSDKSigner(wallet),\n          agentAddress: address(authData.agent),\n          authorizedSource: address(authData.authorizedSource)\n        })\n\n        s.stop(' Authorization revoked successfully')\n\n        const explorerUrl = getExplorerUrl(signature, 'devnet')\n\n        outro(\n          `${chalk.green(' Authorization Revoked!')}\\n\\n` +\n          `${chalk.gray('Authorization:')} ${authAddress}\\n` +\n          `${chalk.gray('Transaction:')} ${signature}\\n\\n` +\n          `${chalk.gray('Explorer:')} ${chalk.cyan(explorerUrl)}`\n        )\n\n      } catch (error) {\n        s.stop(' Failed to revoke authorization')\n        handleError(error)\n      }\n\n    } catch (error) {\n      log.error(`Failed to revoke: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// List subcommand\nauthorizationCommand\n  .command('list')\n  .description('List authorizations for an agent')\n  .option('-a, --agent <address>', 'Agent address')\n  .option('--json', 'Output as JSON')\n  .action(async (options: ListOptions) => {\n    intro(chalk.blue(' List Authorizations'))\n\n    try {\n      const s = spinner()\n      s.start('Fetching authorizations...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      // Get agent address\n      let agentAddress = options.agent\n      if (!agentAddress) {\n        const addressInput = await text({\n          message: 'Agent address:',\n          validate: (value) => {\n            if (!value) return 'Agent address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Invalid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Operation cancelled')\n          return\n        }\n\n        agentAddress = addressInput.toString().trim()\n      }\n\n      const agentAddr = address(agentAddress)\n\n      // Fetch authorizations\n      const authorizations = await safeClient.authorization.getAuthorizationsByAgent(agentAddr)\n\n      s.stop(` Found ${authorizations.length} authorization(s)`)\n\n      if (authorizations.length === 0) {\n        outro(\n          `${chalk.yellow('No authorizations found')}\\n\\n` +\n          `${chalk.gray('Create an authorization:')}\\n` +\n          `${chalk.cyan('ghost auth create')}`\n        )\n        return\n      }\n\n      if (options.json) {\n        console.log(JSON.stringify(authorizations, null, 2))\n        return\n      }\n\n      // Display authorizations\n      for (let i = 0; i < authorizations.length; i++) {\n        const auth = authorizations[i]\n        const now = Math.floor(Date.now() / 1000)\n        const isExpired = Number(auth.data.expiresAt) < now\n        const isExhausted = auth.data.currentIndex >= auth.data.indexLimit\n\n        console.log(`\\n${chalk.bold.cyan(`Authorization ${i + 1}:`)}`)\n        console.log(`${chalk.gray('Address:')} ${auth.address}`)\n        console.log(`${chalk.gray('Source:')} ${auth.data.authorizedSource}`)\n        console.log(`${chalk.gray('Usage:')} ${auth.data.currentIndex}/${auth.data.indexLimit}`)\n        console.log(`${chalk.gray('Expires:')} ${new Date(Number(auth.data.expiresAt) * 1000).toLocaleDateString()}`)\n\n        let status = chalk.green('Active')\n        if (isExpired) status = chalk.red('Expired')\n        if (isExhausted) status = chalk.yellow('Exhausted')\n        if (auth.data.revoked) status = chalk.red('Revoked')\n\n        console.log(`${chalk.gray('Status:')} ${status}`)\n      }\n\n      outro(\n        `\\n${chalk.gray('Commands:')}\\n` +\n        `${chalk.cyan('ghost auth create')} - Create new authorization\\n` +\n        `${chalk.cyan('ghost auth revoke')} - Revoke an authorization\\n` +\n        `${chalk.cyan('ghost auth verify')} - Verify authorization status`\n      )\n\n    } catch (error) {\n      log.error(`Failed to list authorizations: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Verify subcommand\nauthorizationCommand\n  .command('verify')\n  .description('Verify an authorization is valid')\n  .option('-a, --authorization <address>', 'Authorization address')\n  .option('--json', 'Output as JSON')\n  .action(async (options: VerifyOptions) => {\n    intro(chalk.green(' Verify Authorization'))\n\n    try {\n      const s = spinner()\n      s.start('Connecting to network...')\n\n      const { client, wallet } = await initializeClient('devnet')\n      const safeClient = createSafeSDKClient(client)\n\n      s.stop(' Connected to devnet')\n\n      // Get authorization address\n      let authAddress = options.authorization\n      if (!authAddress) {\n        const addressInput = await text({\n          message: 'Authorization address:',\n          validate: (value) => {\n            if (!value) return 'Authorization address is required'\n            try {\n              address(value.trim())\n              return\n            } catch {\n              return 'Invalid Solana address'\n            }\n          }\n        })\n\n        if (isCancel(addressInput)) {\n          cancel('Verification cancelled')\n          return\n        }\n\n        authAddress = addressInput.toString().trim()\n      }\n\n      const authAddr = address(authAddress)\n\n      // Fetch and verify authorization\n      s.start('Verifying authorization...')\n      const authData = await safeClient.authorization.getAuthorization(authAddr)\n\n      if (!authData) {\n        s.stop(' Authorization not found')\n        outro(chalk.red(`No authorization found at: ${authAddress}`))\n        return\n      }\n\n      // Check validity\n      const now = Math.floor(Date.now() / 1000)\n      const isExpired = Number(authData.expiresAt) < now\n      const isExhausted = authData.currentIndex >= authData.indexLimit\n      const isRevoked = authData.revoked\n      const isValid = !isExpired && !isExhausted && !isRevoked\n\n      s.stop(isValid ? ' Authorization is valid' : ' Authorization is invalid')\n\n      if (options.json) {\n        console.log(JSON.stringify({\n          valid: isValid,\n          expired: isExpired,\n          exhausted: isExhausted,\n          revoked: isRevoked,\n          currentIndex: authData.currentIndex.toString(),\n          indexLimit: authData.indexLimit.toString(),\n          expiresAt: authData.expiresAt.toString(),\n          ...authData\n        }, null, 2))\n        return\n      }\n\n      const statusColor = isValid ? chalk.green : chalk.red\n      const statusText = isValid ? 'VALID' : 'INVALID'\n\n      outro(\n        `${statusColor(`Authorization Status: ${statusText}`)}\\n\\n` +\n        `${chalk.bold('Details:')}\\n` +\n        `${chalk.gray('Address:')} ${authAddress}\\n` +\n        `${chalk.gray('Agent:')} ${authData.agent}\\n` +\n        `${chalk.gray('Source:')} ${authData.authorizedSource}\\n` +\n        `${chalk.gray('Usage:')} ${authData.currentIndex}/${authData.indexLimit}\\n` +\n        `${chalk.gray('Expires:')} ${new Date(Number(authData.expiresAt) * 1000).toLocaleString()}\\n\\n` +\n        `${chalk.bold('Validation:')}\\n` +\n        `${chalk.gray('')} Expired: ${isExpired ? chalk.red('Yes') : chalk.green('No')}\\n` +\n        `${chalk.gray('')} Exhausted: ${isExhausted ? chalk.red('Yes') : chalk.green('No')}\\n` +\n        `${chalk.gray('')} Revoked: ${isRevoked ? chalk.red('Yes') : chalk.green('No')}\\n` +\n        `${chalk.gray('')} Valid: ${isValid ? chalk.green('Yes') : chalk.red('No')}`\n      )\n\n    } catch (error) {\n      log.error(`Failed to verify: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  })\n\n// Default action\nauthorizationCommand\n  .action(async () => {\n    intro(chalk.blue(' GhostSpeak Authorization Management'))\n\n    log.info(`\\n${chalk.bold('Available Commands:')}\\n`)\n    log.info(`${chalk.cyan('ghost auth create')} - Create a pre-authorization`)\n    log.info(`${chalk.cyan('ghost auth revoke')} - Revoke an authorization`)\n    log.info(`${chalk.cyan('ghost auth list')} - List authorizations for an agent`)\n    log.info(`${chalk.cyan('ghost auth verify')} - Verify authorization validity`)\n\n    note(\n      `${chalk.bold('What are Pre-Authorizations?')}\\n\\n` +\n      `Pre-authorizations allow you to grant limited, trustless permission\\n` +\n      `for facilitators or services to update your agent's reputation.\\n\\n` +\n      `${chalk.yellow('Key Features:')}\\n` +\n      `${chalk.gray('')} Time-limited permissions (set expiration)\\n` +\n      `${chalk.gray('')} Update limits (prevent abuse)\\n` +\n      `${chalk.gray('')} Instant revocation (cancel anytime)\\n` +\n      `${chalk.gray('')} On-chain verification (trustless)\\n\\n` +\n      `${chalk.yellow('Use Cases:')}\\n` +\n      `${chalk.gray('')} x402 facilitators updating payment reputation\\n` +\n      `${chalk.gray('')} Service providers recording quality ratings\\n` +\n      `${chalk.gray('')} Oracles feeding external reputation data`,\n      'About Authorizations'\n    )\n\n    outro('Use --help with any command for more details')\n  })\n","import chalk from 'chalk'\nimport { exec } from 'child_process'\nimport { promisify } from 'util'\nimport { readFileSync, writeFileSync, existsSync, mkdirSync } from 'fs'\nimport { join } from 'path'\nimport { homedir } from 'os'\n\nconst execAsync = promisify(exec)\n\ninterface UpdateCheckCache {\n  lastCheck: number\n  latestVersion: string\n  currentVersion: string\n}\n\nconst CACHE_FILE = join(homedir(), '.ghostspeak', 'update-check.json')\nconst CHECK_INTERVAL = 24 * 60 * 60 * 1000 // 24 hours\n\nexport async function checkForUpdates(currentVersion: string): Promise<void> {\n  try {\n    // Check if we should skip update check\n    if (process.env.GHOSTSPEAK_SKIP_UPDATE_CHECK === '1') {\n      return\n    }\n\n    // Check cache to avoid too frequent checks\n    if (existsSync(CACHE_FILE)) {\n      try {\n        const cache = JSON.parse(readFileSync(CACHE_FILE, 'utf-8')) as UpdateCheckCache\n        const timeSinceLastCheck = Date.now() - cache.lastCheck\n        \n        if (timeSinceLastCheck < CHECK_INTERVAL) {\n          // Use cached result if recent\n          if (cache.latestVersion && cache.latestVersion !== currentVersion && compareVersions(cache.latestVersion, currentVersion) > 0) {\n            showUpdateNotification(currentVersion, cache.latestVersion)\n          }\n          return\n        }\n      } catch (error) {\n        // Ignore cache errors\n      }\n    }\n\n    // Check latest version in background\n    execAsync('npm view @ghostspeak/cli version')\n      .then(({ stdout }) => {\n        const latestVersion = stdout.trim()\n        \n        // Update cache\n        const cache: UpdateCheckCache = {\n          lastCheck: Date.now(),\n          latestVersion,\n          currentVersion\n        }\n        \n        // Ensure directory exists\n        const cacheDir = join(homedir(), '.ghostspeak')\n        if (!existsSync(cacheDir)) {\n          mkdirSync(cacheDir, { recursive: true })\n        }\n        \n        writeFileSync(CACHE_FILE, JSON.stringify(cache, null, 2))\n        \n        // Show notification if update available\n        if (latestVersion !== currentVersion && compareVersions(latestVersion, currentVersion) > 0) {\n          showUpdateNotification(currentVersion, latestVersion)\n        }\n      })\n      .catch(() => {\n        // Silently ignore errors\n      })\n  } catch (error) {\n    // Silently ignore all errors\n  }\n}\n\nfunction showUpdateNotification(currentVersion: string, latestVersion: string): void {\n  console.log('')\n  console.log(chalk.yellow(''))\n  console.log(chalk.yellow('') + chalk.bold('   Update Available!                               ') + chalk.yellow(''))\n  console.log(chalk.yellow('') + chalk.gray(`  Current: v${currentVersion}`) + ' '.repeat(41 - currentVersion.length) + chalk.yellow(''))\n  console.log(chalk.yellow('') + chalk.green(`  Latest:  v${latestVersion}`) + ' '.repeat(41 - latestVersion.length) + chalk.yellow(''))\n  console.log(chalk.yellow('') + ' '.repeat(53) + chalk.yellow(''))\n  console.log(chalk.yellow('') + chalk.cyan('  Run ') + chalk.bold.cyan('ghost update') + chalk.cyan(' to update automatically') + ' '.repeat(14) + chalk.yellow(''))\n  console.log(chalk.yellow(''))\n  console.log('')\n}\n\nfunction compareVersions(v1: string, v2: string): number {\n  const parts1 = v1.split('.').map(Number)\n  const parts2 = v2.split('.').map(Number)\n  \n  for (let i = 0; i < Math.max(parts1.length, parts2.length); i++) {\n    const part1 = parts1[i] || 0\n    const part2 = parts2[i] || 0\n    \n    if (part1 > part2) return 1\n    if (part1 < part2) return -1\n  }\n  \n  return 0\n}","/**\n * Interactive Menu System - Regenerated for Current Architecture\n * Only includes features that actually exist in the codebase\n */\n\nimport { select, intro, outro, confirm, cancel, isCancel, log, spinner } from '@clack/prompts'\nimport chalk from 'chalk'\nimport type { Command } from 'commander'\nimport { readFileSync, writeFileSync, existsSync, mkdirSync } from 'fs'\nimport { join } from 'path'\nimport { homedir } from 'os'\nimport { initializeClient } from './client.js'\nimport { getSolanaClient, createCustomClient } from '../core/solana-client.js'\nimport { address } from '@solana/addresses'\nimport { container, ServiceTokens } from '../core/Container.js'\nimport { type IAgentService } from '../types/services.js'\n\ninterface MenuOption {\n  value: string\n  label: string\n  hint?: string\n}\n\ninterface CategoryOption extends MenuOption {\n  icon: string\n  description: string\n}\n\ninterface CommandOption extends MenuOption {\n  command: string\n  args?: string[]\n}\n\nconst RECENT_COMMANDS_FILE = join(homedir(), '.ghostspeak', 'recent-commands.json')\nconst MAX_RECENT_COMMANDS = 5\n\nexport class InteractiveMenu {\n  private program: Command\n\n  constructor(program: Command) {\n    this.program = program\n  }\n\n  async showMainMenu(): Promise<void> {\n    intro(chalk.cyan(' Welcome to GhostSpeak Interactive Mode'))\n\n    // Check if first run\n    const configPath = join(homedir(), '.ghostspeak', 'config.json')\n    const isFirstRun = !existsSync(configPath)\n\n    // Interactive menu loop\n    for (;;) {\n      const categories: CategoryOption[] = [\n        {\n          value: 'quickstart',\n          label: 'Quick Start',\n          icon: '',\n          description: 'Get started with GhostSpeak - setup and first steps',\n          hint: isFirstRun ? ' Start here!' : 'Guided setup'\n        },\n        {\n          value: 'agents',\n          label: 'AI Agents',\n          icon: '',\n          description: 'Register and manage your AI agents',\n          hint: 'Create, list, update agents'\n        },\n        {\n          value: 'ghosts',\n          label: 'Ghost Agents',\n          icon: '',\n          description: 'Claim external AI agents and build identity',\n          hint: 'x402, Twitter, GitHub agents'\n        },\n        {\n          value: 'reputation',\n          label: 'Reputation & Staking',\n          icon: '',\n          description: 'Ghost Score, GHOST staking, and privacy',\n          hint: 'Build trustworthiness'\n        },\n        {\n          value: 'multisig',\n          label: 'Multisig Wallets',\n          icon: '',\n          description: 'Shared control wallets with threshold approvals',\n          hint: 'Secure agent management'\n        },\n        {\n          value: 'authorization',\n          label: 'Pre-Authorizations',\n          icon: '',\n          description: 'Trustless reputation update permissions',\n          hint: 'Limit access, grant trust'\n        },\n        {\n          value: 'did',\n          label: 'Decentralized Identity',\n          icon: '',\n          description: 'Create and manage DID documents',\n          hint: 'Verifiable identities'\n        },\n        {\n          value: 'credentials',\n          label: 'Credentials',\n          icon: '',\n          description: 'Verifiable credentials management',\n          hint: 'Issue, verify, sync'\n        },\n        {\n          value: 'escrow',\n          label: 'Escrow',\n          icon: '',\n          description: 'x402 marketplace escrow transactions',\n          hint: 'Secure payments'\n        },\n        {\n          value: 'wallet',\n          label: 'Wallet',\n          icon: '',\n          description: 'Manage wallets and check balances',\n          hint: 'Wallet operations'\n        },\n        {\n          value: 'governance',\n          label: 'Governance',\n          icon: '',\n          description: 'Protocol governance and voting',\n          hint: 'DAO operations'\n        },\n        {\n          value: 'development',\n          label: 'Development',\n          icon: '',\n          description: 'Airdrops, faucets, and dev tools',\n          hint: 'Developer resources'\n        },\n        {\n          value: 'dashboards',\n          label: 'Interactive Dashboards',\n          icon: '',\n          description: 'Beautiful real-time monitoring interfaces',\n          hint: 'Visual monitoring'\n        },\n        {\n          value: 'recent',\n          label: 'Recent Commands',\n          icon: '',\n          description: 'Quickly access your recently used commands',\n          hint: this.getRecentCommandsHint()\n        },\n        {\n          value: 'help',\n          label: 'Help & Support',\n          icon: '',\n          description: 'Documentation, examples, and troubleshooting',\n          hint: 'Get assistance'\n        },\n        {\n          value: 'exit',\n          label: 'Exit',\n          icon: '',\n          description: 'Exit interactive mode',\n          hint: 'Return to terminal'\n        }\n      ]\n\n      const choice = await select({\n        message: 'What would you like to do?',\n        options: categories.map(cat => ({\n          value: cat.value,\n          label: `${cat.icon} ${cat.label}`,\n          hint: cat.hint\n        }))\n      })\n\n      if (isCancel(choice)) {\n        cancel('Interactive mode cancelled')\n        process.exit(0)\n      }\n\n      switch (choice) {\n        case 'quickstart':\n          await this.showQuickStartMenu()\n          break\n        case 'agents':\n          await this.showAgentMenu()\n          break\n        case 'ghosts':\n          await this.showGhostMenu()\n          break\n        case 'reputation':\n          await this.showReputationMenu()\n          break\n        case 'multisig':\n          await this.showMultisigMenu()\n          break\n        case 'authorization':\n          await this.showAuthorizationMenu()\n          break\n        case 'did':\n          await this.showDIDMenu()\n          break\n        case 'credentials':\n          await this.showCredentialsMenu()\n          break\n        case 'escrow':\n          await this.showEscrowMenu()\n          break\n        case 'wallet':\n          await this.showWalletMenu()\n          break\n        case 'governance':\n          await this.showGovernanceMenu()\n          break\n        case 'dashboards':\n          await this.showDashboardsMenu()\n          break\n        case 'development':\n          await this.showDevelopmentMenu()\n          break\n        case 'recent':\n          await this.showRecentCommands()\n          break\n        case 'help':\n          await this.showHelp()\n          break\n        case 'exit':\n          outro(chalk.green('Thanks for using GhostSpeak! '))\n          process.exit(0)\n      }\n    }\n  }\n\n  private async showQuickStartMenu(): Promise<void> {\n    const options: CommandOption[] = [\n      { value: 'one-click', label: ' One-Click Setup', command: 'quickstart new', hint: ' Complete automatic setup' },\n      { value: 'import', label: ' Import Existing Wallet', command: 'quickstart existing', hint: 'Use your Solana wallet' },\n      { value: 'guided', label: ' Guided Setup Wizard', command: 'quickstart', hint: 'Step-by-step assistance' },\n      { value: 'status', label: ' Check Setup Status', command: '', hint: 'See what\\'s configured' },\n      { value: 'back', label: ' Back to Main Menu', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' Quick Start - Get up and running with GhostSpeak'),\n      options: options.map(opt => ({\n        value: opt.value,\n        label: opt.label,\n        hint: opt.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    if (choice === 'status') {\n      await this.showSetupStatus()\n      return\n    }\n\n    const selected = options.find(opt => opt.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showSetupStatus(): Promise<void> {\n    const s = spinner()\n    s.start('Checking your setup status...')\n\n    const status = {\n      config: existsSync(join(homedir(), '.ghostspeak', 'config.json')),\n      wallet: false,\n      balance: '0 SOL',\n      agents: 0\n    }\n\n    try {\n      const { wallet } = await initializeClient()\n      status.wallet = true\n\n      const { loadConfig } = await import('./config.js')\n      const cfg = loadConfig()\n      const rpcUrl = cfg.rpcUrl ?? 'https://api.devnet.solana.com'\n      // Use Gill's createCustomClient instead of createSolanaRpc\n      const client = createCustomClient(rpcUrl)\n      const { value: balance } = await client.rpc.getBalance(address(wallet.address)).send()\n      status.balance = `${(Number(balance) / 1e9).toFixed(4)} SOL`\n\n      try {\n        const agentService = container.resolve<IAgentService>(ServiceTokens.AGENT_SERVICE)\n        const agents = await agentService.list({ owner: address(wallet.address) })\n        status.agents = agents.length\n      } catch {\n        status.agents = 0\n      }\n    } catch {\n      // Wallet not configured\n    }\n\n    s.stop('Setup status:')\n\n    console.log('\\n' + chalk.bold(' GhostSpeak Setup Status:\\n'))\n    console.log(`  Configuration: ${status.config ? chalk.green(' Configured') : chalk.red(' Not configured')}`)\n    console.log(`  Wallet:        ${status.wallet ? chalk.green(' Created') : chalk.red(' Not created')}`)\n    console.log(`  Balance:       ${status.balance}`)\n    console.log(`  Agents:        ${status.agents} registered`)\n    console.log('')\n\n    if (!status.config || !status.wallet) {\n      console.log(chalk.yellow(' Run \"One-Click Setup\" to complete your configuration!\\n'))\n    } else if (parseFloat(status.balance) === 0) {\n      console.log(chalk.yellow(' Use the faucet or airdrop command to get test tokens!\\n'))\n    } else {\n      console.log(chalk.green(' You\\'re all set! Register your first agent.\\n'))\n    }\n\n    await confirm({ message: 'Press enter to continue...', initialValue: true })\n  }\n\n  private async showAgentMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'register', label: ' Register New Agent', command: 'agent register', hint: 'Create your AI agent' },\n      { value: 'list', label: ' List My Agents', command: 'agent list', hint: 'View all your agents' },\n      { value: 'status', label: ' Agent Status', command: 'agent status', hint: 'Check agent health' },\n      { value: 'update', label: ' Update Agent', command: 'agent update', hint: 'Modify agent details' },\n      { value: 'analytics', label: ' Agent Analytics', command: 'agent analytics', hint: 'Performance metrics' },\n      { value: 'search', label: ' Search Agents', command: 'agent search', hint: 'Find agents by capability' },\n      { value: 'credentials', label: ' Manage Credentials', command: 'agent credentials', hint: 'View and backup' },\n      { value: 'back', label: ' Back', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' AI Agent Management:'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showGhostMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'dashboard', label: ' Ghost Dashboard', command: 'ghost-ui', hint: 'Interactive monitoring' },\n      { value: 'claim', label: ' Claim Ghost Agent', command: 'ghost claim', hint: 'Claim external AI agent' },\n      { value: 'link', label: ' Link External ID', command: 'ghost link', hint: 'Link Twitter, GitHub, etc.' },\n      { value: 'list', label: ' List My Ghosts', command: 'ghost list', hint: 'View claimed agents' },\n      { value: 'back', label: ' Back', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' Ghost Agent Management:'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showReputationMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'reputation-ui', label: ' Reputation Dashboard', command: 'reputation-ui', hint: 'Ghost Score monitoring' },\n      { value: 'staking-ui', label: ' Staking Dashboard', command: 'staking-ui', hint: 'GHOST token staking' },\n      { value: 'check', label: ' Check Ghost Score', command: 'reputation check', hint: 'View current score' },\n      { value: 'stake', label: ' Stake GHOST', command: 'staking stake', hint: 'Stake tokens for tier' },\n      { value: 'privacy', label: ' Privacy Settings', command: 'privacy', hint: 'Control visibility' },\n      { value: 'back', label: ' Back', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' Reputation & Staking:'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showMultisigMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'dashboard', label: ' Multisig Dashboard', command: 'multisig-ui', hint: 'Interactive monitoring' },\n      { value: 'create', label: ' Create Multisig', command: 'multisig create', hint: 'New shared wallet' },\n      { value: 'propose', label: ' Create Proposal', command: 'multisig propose', hint: 'Propose action' },\n      { value: 'approve', label: ' Approve Proposal', command: 'multisig approve', hint: 'Sign proposal' },\n      { value: 'execute', label: ' Execute Proposal', command: 'multisig execute', hint: 'Run approved action' },\n      { value: 'list', label: ' List Multisigs', command: 'multisig list', hint: 'View your multisigs' },\n      { value: 'back', label: ' Back', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' Multisig Wallet Management:'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showAuthorizationMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'dashboard', label: ' Authorization Dashboard', command: 'auth-ui', hint: 'Interactive monitoring' },\n      { value: 'create', label: ' Create Authorization', command: 'auth create', hint: 'Grant limited access' },\n      { value: 'revoke', label: ' Revoke Authorization', command: 'auth revoke', hint: 'Cancel permission' },\n      { value: 'verify', label: ' Verify Authorization', command: 'auth verify', hint: 'Check validity' },\n      { value: 'list', label: ' List Authorizations', command: 'auth list', hint: 'View permissions' },\n      { value: 'back', label: ' Back', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' Pre-Authorization Management:'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showDIDMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'dashboard', label: ' DID Dashboard', command: 'did-ui', hint: 'Interactive DID manager' },\n      { value: 'create', label: ' Create DID', command: 'did create', hint: 'New decentralized identifier' },\n      { value: 'update', label: ' Update DID', command: 'did update', hint: 'Modify DID document' },\n      { value: 'resolve', label: ' Resolve DID', command: 'did resolve', hint: 'Look up DID document' },\n      { value: 'deactivate', label: ' Deactivate DID', command: 'did deactivate', hint: 'Revoke identifier' },\n      { value: 'back', label: ' Back', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' Decentralized Identity (DID):'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showCredentialsMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'sync', label: ' Sync Credentials', command: 'credentials sync', hint: 'Sync verifiable credentials' },\n      { value: 'back', label: ' Back', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' Verifiable Credentials:'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showEscrowMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'dashboard', label: ' Escrow Dashboard', command: 'escrow-ui', hint: 'Interactive escrow monitor' },\n      { value: 'create', label: ' Create Escrow', command: 'escrow create', hint: 'New secure transaction' },\n      { value: 'approve', label: ' Approve Escrow', command: 'escrow approve', hint: 'Confirm completion' },\n      { value: 'dispute', label: ' File Dispute', command: 'escrow dispute', hint: 'Contest transaction' },\n      { value: 'list', label: ' List Escrows', command: 'escrow list', hint: 'View all escrows' },\n      { value: 'get', label: ' Get Escrow Details', command: 'escrow get', hint: 'View specific escrow' },\n      { value: 'back', label: ' Back', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' Escrow Management:'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showDashboardsMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'main', label: ' Main Dashboard', command: 'dashboard', hint: 'Overview of all metrics' },\n      { value: 'reputation', label: ' Reputation Dashboard', command: 'reputation-ui', hint: 'Ghost Score tracking' },\n      { value: 'staking', label: ' Staking Dashboard', command: 'staking-ui', hint: 'GHOST token staking' },\n      { value: 'ghost', label: ' Ghost Dashboard', command: 'ghost-ui', hint: 'Claimed agents' },\n      { value: 'multisig', label: ' Multisig Dashboard', command: 'multisig-ui', hint: 'Shared wallets' },\n      { value: 'auth', label: ' Authorization Dashboard', command: 'auth-ui', hint: 'Pre-authorizations' },\n      { value: 'did', label: ' DID Dashboard', command: 'did-ui', hint: 'Decentralized identity' },\n      { value: 'escrow', label: ' Escrow Dashboard', command: 'escrow-ui', hint: 'Transaction monitoring' },\n      { value: 'privacy', label: ' Privacy Dashboard', command: 'privacy-ui', hint: 'Privacy settings' },\n      { value: 'airdrop', label: ' Airdrop Dashboard', command: 'airdrop-ui', hint: 'GHOST token claims' },\n      { value: 'back', label: ' Back', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' Interactive Dashboards:'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showWalletMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'list', label: ' List Wallets', command: 'wallet list', hint: 'View all your wallets' },\n      { value: 'create', label: ' Create Wallet', command: 'wallet create', hint: 'Create a new wallet' },\n      { value: 'import', label: ' Import Wallet', command: 'wallet import', hint: 'Import from seed phrase' },\n      { value: 'balance', label: ' Check Balance', command: 'wallet balance', hint: 'View wallet balance' },\n      { value: 'use', label: ' Switch Wallet', command: 'wallet use', hint: 'Change active wallet' },\n      { value: 'back', label: ' Back', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' Wallet Manager:'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showGovernanceMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'proposal-create', label: ' Create Proposal', command: 'governance proposal create', hint: 'DAO governance proposal' },\n      { value: 'proposal-list', label: ' View Proposals', command: 'governance proposal list', hint: 'Active proposals' },\n      { value: 'vote', label: ' Vote on Proposal', command: 'governance vote', hint: 'Cast your vote' },\n      { value: 'rbac-grant', label: ' Grant Role', command: 'governance rbac grant', hint: 'Grant permissions' },\n      { value: 'rbac-revoke', label: ' Revoke Role', command: 'governance rbac revoke', hint: 'Remove permissions' },\n      { value: 'back', label: ' Back', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' DAO Governance:'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showDevelopmentMenu(): Promise<void> {\n    const commands: CommandOption[] = [\n      { value: 'airdrop', label: ' Get GHOST Tokens', command: 'airdrop', hint: 'Devnet GHOST airdrop' },\n      { value: 'faucet', label: ' Get SOL', command: 'faucet', hint: 'Request SOL from faucet' },\n      { value: 'sdk-info', label: ' SDK Information', command: 'sdk info', hint: 'Check SDK installation' },\n      { value: 'diagnose', label: ' Diagnose Issues', command: 'diagnose', hint: 'Run diagnostics' },\n      { value: 'update', label: ' Update CLI', command: 'update', hint: 'Update to latest version' },\n      { value: 'back', label: ' Back to Main Menu', command: '', hint: '' }\n    ]\n\n    const choice = await select({\n      message: chalk.cyan(' Development Menu:'),\n      options: commands.map(cmd => ({\n        value: cmd.value,\n        label: cmd.label,\n        hint: cmd.hint\n      }))\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    const selected = commands.find(cmd => cmd.value === choice)\n    if (selected?.command) {\n      await this.executeCommand(selected.command)\n      this.saveRecentCommand(selected.command, selected.label)\n    }\n  }\n\n  private async showRecentCommands(): Promise<void> {\n    const recentCommands = this.getRecentCommands()\n\n    if (recentCommands.length === 0) {\n      log.info('No recent commands yet. Start using GhostSpeak to build your history!')\n      await this.waitForKeyPress()\n      return\n    }\n\n    const options = recentCommands.map((cmd, index) => ({\n      value: cmd.command,\n      label: `${index + 1}. ${cmd.label}`,\n      hint: cmd.command\n    }))\n\n    options.push({ value: 'back', label: ' Back to Main Menu', hint: '' })\n\n    const choice = await select({\n      message: chalk.cyan(' Recent Commands:'),\n      options\n    })\n\n    if (isCancel(choice) || choice === 'back') {\n      return\n    }\n\n    await this.executeCommand(choice as string)\n  }\n\n  private async showHelp(): Promise<void> {\n    console.log(chalk.cyan('\\n GhostSpeak Help & Documentation\\n'))\n    console.log(chalk.bold('Quick Start:'))\n    console.log('  1. Use \"Quick Start\" to set up your wallet and configuration')\n    console.log('  2. Use \"AI Agents\" to register and manage your agents')\n    console.log('  3. Use \"Development\" for airdrops and testing tools\\n')\n\n    console.log(chalk.bold('Key Features:'))\n    console.log(chalk.gray('   AI Agents') + '       - Register and manage autonomous AI agents')\n    console.log(chalk.gray('   Wallets') + '         - Multi-wallet management with HD derivation')\n    console.log(chalk.gray('   Governance') + '      - Multisig wallets and DAO voting')\n    console.log(chalk.gray('   A2A') + '             - Agent-to-Agent communication protocol\\n')\n\n    console.log(chalk.bold('Resources:'))\n    console.log('  Documentation: https://docs.ghostspeak.io')\n    console.log('  GitHub: https://github.com/ghostspeak/ghostspeak')\n    console.log('  Discord: https://discord.gg/ghostspeak\\n')\n\n    console.log(chalk.bold('Tips:'))\n    console.log('   Use direct commands for scripts: ' + chalk.gray('ghost agent list'))\n    console.log('   Add ' + chalk.gray('--interactive') + ' to force menu mode')\n    console.log('   Recent commands are saved for quick access\\n')\n\n    await this.waitForKeyPress()\n  }\n\n  private async executeCommand(command: string): Promise<void> {\n    console.log(chalk.gray(`\\n Executing: ${command}\\n`))\n\n    try {\n      const args = command.split(' ')\n      const { spawn } = await import('child_process')\n\n      let cliCommand: string\n      let cliArgs: string[]\n\n      if (process.argv[1]?.endsWith('.js')) {\n        cliCommand = process.argv[0]\n        cliArgs = [process.argv[1], ...args]\n      } else {\n        cliCommand = 'ghost'\n        cliArgs = args\n      }\n\n      const child = spawn(cliCommand, cliArgs, {\n        stdio: 'inherit',\n        env: process.env,\n        shell: true\n      })\n\n      await new Promise<void>((resolve) => {\n        child.on('close', () => resolve())\n        child.on('error', (err) => {\n          console.error(`Failed to execute command: ${err.message}`)\n          resolve()\n        })\n      })\n\n      await new Promise(resolve => setTimeout(resolve, 100))\n\n    } catch (error) {\n      console.error(chalk.red(`\\n Error executing command: ${error instanceof Error ? error.message : 'Unknown error'}`))\n    }\n\n    console.log('')\n  }\n\n  private saveRecentCommand(command: string, label: string): void {\n    try {\n      const recentCommands = this.getRecentCommands()\n      const filtered = recentCommands.filter(cmd => cmd.command !== command)\n      filtered.unshift({ command, label, timestamp: Date.now() })\n      const toSave = filtered.slice(0, MAX_RECENT_COMMANDS)\n\n      const dir = join(homedir(), '.ghostspeak')\n      if (!existsSync(dir)) {\n        mkdirSync(dir, { recursive: true })\n      }\n\n      writeFileSync(RECENT_COMMANDS_FILE, JSON.stringify(toSave, null, 2))\n    } catch (error) {\n      // Silently ignore errors\n    }\n  }\n\n  private getRecentCommands(): { command: string; label: string; timestamp: number }[] {\n    try {\n      if (existsSync(RECENT_COMMANDS_FILE)) {\n        return JSON.parse(readFileSync(RECENT_COMMANDS_FILE, 'utf-8')) as { command: string; label: string; timestamp: number }[]\n      }\n    } catch (error) {\n      // Ignore errors\n    }\n    return []\n  }\n\n  private getRecentCommandsHint(): string {\n    const count = this.getRecentCommands().length\n    return count > 0 ? `${count} recent command${count > 1 ? 's' : ''}` : 'No recent commands'\n  }\n\n  private async waitForKeyPress(): Promise<void> {\n    await confirm({\n      message: 'Press Enter to continue...',\n      active: 'Continue',\n      inactive: 'Continue'\n    })\n  }\n}\n\n// Helper function to check if running in interactive mode\nexport function shouldRunInteractive(argv: string[]): boolean {\n  const hasInteractiveFlag = argv.includes('--interactive') || argv.includes('-i')\n  const hasHelpFlag = argv.includes('--help') || argv.includes('-h')\n  const hasVersionFlag = argv.includes('--version') || argv.includes('-v')\n\n  if (hasHelpFlag || hasVersionFlag) {\n    return false\n  }\n\n  if (hasInteractiveFlag) {\n    return true\n  }\n\n  const hasCommand = argv.length > 2 && !argv[2].startsWith('-')\n  return !hasCommand\n}\n","/**\n * Command aliases for improved UX\n * Provides short forms and natural language command mapping\n */\n\nexport interface CommandAlias {\n  aliases: string[]\n  command: string\n  description: string\n}\n\nexport const COMMAND_ALIASES: CommandAlias[] = [\n  // Agent commands\n  {\n    aliases: ['a r', 'ar', 'register'],\n    command: 'agent register',\n    description: 'Register a new agent'\n  },\n  {\n    aliases: ['a l', 'al', 'agents'],\n    command: 'agent list',\n    description: 'List your agents'\n  },\n  {\n    aliases: ['a s', 'as'],\n    command: 'agent status',\n    description: 'Check agent status'\n  },\n  \n  // Wallet commands\n  {\n    aliases: ['w', 'balance', 'bal'],\n    command: 'wallet balance',\n    description: 'Check wallet balance'\n  },\n  {\n    aliases: ['wl', 'wallets'],\n    command: 'wallet list',\n    description: 'List all wallets'\n  },\n  {\n    aliases: ['wc', 'new-wallet'],\n    command: 'wallet create',\n    description: 'Create new wallet'\n  },\n\n  // Quick actions\n  {\n    aliases: ['f', 'fund', 'airdrop'],\n    command: 'faucet --save',\n    description: 'Get SOL from faucet'\n  },\n  {\n    aliases: ['qs', 'quick', 'start'],\n    command: 'quickstart',\n    description: 'Quick start setup'\n  },\n  {\n    aliases: ['i', 'menu'],\n    command: '--interactive',\n    description: 'Interactive menu mode'\n  },\n  {\n    aliases: ['cfg', 'configure'],\n    command: 'config setup',\n    description: 'Configure CLI'\n  },\n  {\n    aliases: ['h', '?'],\n    command: '--help',\n    description: 'Show help'\n  },\n  \n  // Common workflows\n  {\n    aliases: ['setup-agent'],\n    command: 'quickstart new',\n    description: 'Complete agent setup'\n  },\n  // my-services, my-jobs REMOVED\n  {\n    aliases: ['transactions'],\n    command: 'tx',\n    description: 'View transaction history'\n  }\n]\n\n/**\n * Natural language command mappings\n */\nexport const NATURAL_LANGUAGE_PATTERNS: Array<{\n  patterns: RegExp[]\n  command: string\n  extractor?: (match: RegExpMatchArray) => Record<string, string>\n}> = [\n  // Agent operations\n  {\n    patterns: [\n      /create.*(agent|ai)/i,\n      /register.*(agent|ai)/i,\n      /new.*(agent|ai)/i\n    ],\n    command: 'agent register'\n  },\n  {\n    patterns: [\n      /list.*agents?/i,\n      /show.*agents?/i,\n      /my agents?/i\n    ],\n    command: 'agent list'\n  },\n  \n  // Wallet operations\n  {\n    patterns: [\n      /check.*balance/i,\n      /wallet.*balance/i,\n      /how much.*sol/i,\n      /show.*balance/i\n    ],\n    command: 'wallet balance'\n  },\n  {\n    patterns: [\n      /get.*sol/i,\n      /need.*sol/i,\n      /fund.*wallet/i,\n      /faucet/i\n    ],\n    command: 'faucet --save'\n  },\n  {\n    patterns: [\n      /create.*wallet/i,\n      /new.*wallet/i,\n      /generate.*wallet/i\n    ],\n    command: 'wallet create'\n  },\n\n  // General operations\n  {\n    patterns: [\n      /help/i,\n      /what.*can.*do/i,\n      /show.*commands?/i\n    ],\n    command: '--help'\n  },\n  {\n    patterns: [\n      /setup/i,\n      /configure/i,\n      /get.*started/i,\n      /quick.*start/i\n    ],\n    command: 'quickstart'\n  }\n]\n\n/**\n * Resolve an alias to its full command\n */\nexport function resolveAlias(input: string): string | null {\n  const normalized = input.toLowerCase().trim()\n  \n  // Check exact aliases first\n  for (const alias of COMMAND_ALIASES) {\n    if (alias.aliases.includes(normalized)) {\n      return alias.command\n    }\n  }\n  \n  // Don't resolve aliases when the input already contains proper commands\n  // This prevents \"agent register --help\" from being resolved to \"--help\"\n  const firstWord = normalized.split(' ')[0]\n  const knownCommands = ['agent', 'governance', 'wallet', 'config', 'faucet',\n                         'sdk', 'update', 'quickstart', 'onboard', 'help', 'aliases', 'tx']\n  \n  if (knownCommands.includes(firstWord)) {\n    return null // Let commander handle it normally\n  }\n  \n  // Check natural language patterns only for non-command inputs\n  for (const pattern of NATURAL_LANGUAGE_PATTERNS) {\n    for (const regex of pattern.patterns) {\n      const match = normalized.match(regex)\n      if (match) {\n        let command = pattern.command\n        \n        // Extract parameters if available\n        if (pattern.extractor) {\n          const params = pattern.extractor(match)\n          for (const [key, value] of Object.entries(params)) {\n            if (value) {\n              command += ` --${key} \"${value}\"`\n            }\n          }\n        }\n        \n        return command\n      }\n    }\n  }\n  \n  return null\n}\n\n/**\n * Get suggestions for a partial command\n */\nexport function getSuggestions(partial: string): CommandAlias[] {\n  const normalized = partial.toLowerCase().trim()\n  \n  return COMMAND_ALIASES.filter(alias => \n    alias.aliases.some(a => a.startsWith(normalized)) ||\n    alias.command.toLowerCase().includes(normalized) ||\n    alias.description.toLowerCase().includes(normalized)\n  ).slice(0, 5)\n}\n\n/**\n * Show available aliases\n */\nexport function showAliases(): void {\n  console.log('\\n Command Shortcuts:\\n')\n  \n  const categories = [\n    { name: 'Agent', filter: (cmd: CommandAlias) => cmd.command.startsWith('agent') },\n    { name: 'Wallet', filter: (cmd: CommandAlias) => cmd.command.startsWith('wallet') },\n    { name: 'Quick Actions', filter: (cmd: CommandAlias) => !cmd.command.includes(' ') || cmd.aliases.includes('f') }\n  ]\n  \n  for (const category of categories) {\n    const commands = COMMAND_ALIASES.filter(category.filter)\n    if (commands.length > 0) {\n      console.log(`${category.name}:`)\n      commands.forEach(cmd => {\n        const mainAlias = cmd.aliases[0]\n        const otherAliases = cmd.aliases.slice(1).join(', ')\n        const aliasText = otherAliases ? ` (also: ${otherAliases})` : ''\n        console.log(`  ${mainAlias.padEnd(15)}  ${cmd.command.padEnd(25)} ${cmd.description}${aliasText}`)\n      })\n      console.log('')\n    }\n  }\n  \n  console.log(' Tip: You can also use natural language like \"create agent\" or \"check balance\"\\n')\n}","/**\n * Transaction monitoring service for better UX\n * Provides real-time progress tracking and status updates\n */\n\nimport chalk from 'chalk'\nimport { spinner as createSpinner, log } from '@clack/prompts'\nimport { homedir } from 'os'\nimport { join } from 'path'\nimport { readFileSync, writeFileSync, existsSync, mkdirSync } from 'fs'\n\n// Define a proper type for the spinner\ninterface Spinner {\n  start(message: string): void\n  stop(message: string): void\n  message(message: string): void\n}\n\nexport interface Transaction {\n  id: string\n  signature: string\n  status: 'pending' | 'confirming' | 'confirmed' | 'failed'\n  description: string\n  amount?: string\n  timestamp: number\n  error?: string\n  retries?: number\n  network: string\n}\n\nexport interface TransactionProgress {\n  current: number\n  total: number\n  message: string\n}\n\nconst TRANSACTION_HISTORY_FILE = join(homedir(), '.ghostspeak', 'transaction-history.json')\nconst MAX_HISTORY_ITEMS = 100\n\nexport class TransactionMonitor {\n  private static instance: TransactionMonitor | undefined\n  private transactions: Map<string, Transaction> = new Map()\n  private activeSpinners: Map<string, Spinner> = new Map()\n  \n  private constructor() {\n    this.loadHistory()\n  }\n  \n  static getInstance(): TransactionMonitor {\n    return (this.instance ??= new TransactionMonitor())\n  }\n  \n  /**\n   * Start monitoring a transaction with progress indicator\n   */\n  async startTransaction(\n    signature: string,\n    description: string,\n    network = 'devnet',\n    amount?: string\n  ): Promise<string> {\n    const id = `tx_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`\n    \n    const transaction: Transaction = {\n      id,\n      signature,\n      status: 'pending',\n      description,\n      amount,\n      timestamp: Date.now(),\n      network,\n      retries: 0\n    }\n    \n    this.transactions.set(id, transaction)\n    \n    // Create spinner with descriptive message\n    const spinner = createSpinner() as Spinner\n    const displayAmount = amount ? ` (${amount})` : ''\n    spinner.start(`${description}${displayAmount}`)\n    \n    this.activeSpinners.set(id, spinner)\n    \n    // Save to history\n    this.saveHistory()\n    \n    return id\n  }\n  \n  /**\n   * Update transaction progress with detailed status\n   */\n  updateProgress(id: string, progress: Partial<TransactionProgress>): void {\n    const spinner = this.activeSpinners.get(id)\n    const transaction = this.transactions.get(id)\n    \n    if (!spinner || !transaction) return\n    \n    if (progress.message) {\n      const displayAmount = transaction.amount ? ` (${transaction.amount})` : ''\n      \n      // Add progress percentage if available\n      if (progress.current !== undefined && progress.total !== undefined) {\n        const percentage = Math.round((progress.current / progress.total) * 100)\n        spinner.message(`${progress.message}${displayAmount} [${percentage}%]`)\n      } else {\n        spinner.message(`${progress.message}${displayAmount}`)\n      }\n    }\n  }\n  \n  /**\n   * Mark transaction as confirming\n   */\n  setConfirming(id: string): void {\n    const transaction = this.transactions.get(id)\n    if (transaction) {\n      transaction.status = 'confirming'\n      this.updateProgress(id, {\n        message: ` Confirming ${transaction.description}`\n      })\n    }\n  }\n  \n  /**\n   * Mark transaction as successful\n   */\n  setSuccess(id: string, finalMessage?: string): void {\n    const spinner = this.activeSpinners.get(id)\n    const transaction = this.transactions.get(id)\n    \n    if (!spinner || !transaction) return\n    \n    transaction.status = 'confirmed'\n    \n    const message = finalMessage ?? ` ${transaction.description} completed!`\n    spinner.stop(message)\n    \n    this.activeSpinners.delete(id)\n    this.saveHistory()\n    \n    // Show transaction details\n    this.showTransactionSummary(transaction)\n  }\n  \n  /**\n   * Mark transaction as failed with error details\n   */\n  setFailed(id: string, error: Error | string, canRetry = true): void {\n    const spinner = this.activeSpinners.get(id)\n    const transaction = this.transactions.get(id)\n    \n    if (!spinner || !transaction) return\n    \n    transaction.status = 'failed'\n    transaction.error = error instanceof Error ? error.message : error\n    \n    // Stop spinner with error\n    spinner.stop(` ${transaction.description} failed`)\n    \n    this.activeSpinners.delete(id)\n    this.saveHistory()\n    \n    // Show detailed error with suggestions\n    this.showErrorDetails(transaction, canRetry)\n  }\n  \n  /**\n   * Retry a failed transaction\n   */\n  async retryTransaction(id: string): Promise<void> {\n    const transaction = this.transactions.get(id)\n    if (!transaction || transaction.status !== 'failed') return\n    \n    transaction.retries = (transaction.retries ?? 0) + 1\n    transaction.status = 'pending'\n    transaction.error = undefined\n    \n    // Create new spinner for retry\n    const spinner = createSpinner() as Spinner\n    spinner.start(` Retrying ${transaction.description} (attempt ${transaction.retries})`)\n    \n    this.activeSpinners.set(id, spinner)\n  }\n  \n  /**\n   * Get transaction history\n   */\n  getHistory(limit = 10): Transaction[] {\n    const allTransactions = Array.from(this.transactions.values())\n    return allTransactions\n      .sort((a, b) => b.timestamp - a.timestamp)\n      .slice(0, limit)\n  }\n  \n  /**\n   * Show transaction summary with helpful information\n   */\n  private showTransactionSummary(transaction: Transaction): void {\n    console.log('')\n    console.log(chalk.gray('Transaction Details:'))\n    console.log(chalk.gray(`  Signature: ${this.shortenSignature(transaction.signature)}`))\n    if (transaction.amount) {\n      console.log(chalk.gray(`  Amount: ${transaction.amount}`))\n    }\n    console.log(chalk.gray(`  Network: ${transaction.network}`))\n    console.log(chalk.gray(`  Time: ${new Date(transaction.timestamp).toLocaleTimeString()}`))\n    console.log('')\n    console.log(chalk.cyan(`  View on Explorer: ${this.getExplorerUrl(transaction.signature, transaction.network)}`))\n  }\n  \n  /**\n   * Show detailed error information with recovery suggestions\n   */\n  private showErrorDetails(transaction: Transaction, canRetry: boolean): void {\n    console.log('')\n    console.log(chalk.red('Error Details:'))\n    \n    const errorMessage = transaction.error ?? 'Unknown error'\n    const suggestion = this.getErrorSuggestion(errorMessage)\n    \n    console.log(chalk.gray(`  ${errorMessage}`))\n    \n    if (suggestion) {\n      console.log('')\n      console.log(chalk.yellow(' Suggestion:'))\n      console.log(chalk.gray(`  ${suggestion}`))\n    }\n    \n    if (canRetry && (transaction.retries === undefined || transaction.retries < 3)) {\n      console.log('')\n      console.log(chalk.gray('  You can retry this transaction with the same parameters'))\n    }\n  }\n  \n  /**\n   * Get helpful suggestion based on error message\n   */\n  private getErrorSuggestion(error: string): string | null {\n    const errorLower = error.toLowerCase()\n    \n    if (errorLower.includes('insufficient funds') || errorLower.includes('insufficient lamports')) {\n      return 'You need more SOL. Run: ghost faucet --save'\n    }\n    \n    if (errorLower.includes('blockhash not found') || errorLower.includes('blockhash expired')) {\n      return 'Transaction expired. Please try again.'\n    }\n    \n    if (errorLower.includes('account does not exist')) {\n      return 'The account you\\'re trying to interact with doesn\\'t exist. It may need to be initialized first.'\n    }\n    \n    if (errorLower.includes('simulation failed')) {\n      return 'Transaction simulation failed. Check that all parameters are correct.'\n    }\n    \n    if (errorLower.includes('network') || errorLower.includes('connection')) {\n      return 'Network connection issue. Check your internet connection and try again.'\n    }\n    \n    if (errorLower.includes('rate limit')) {\n      return 'You\\'ve hit the rate limit. Please wait a moment and try again.'\n    }\n    \n    return null\n  }\n  \n  /**\n   * Load transaction history from file\n   */\n  private loadHistory(): void {\n    try {\n      if (existsSync(TRANSACTION_HISTORY_FILE)) {\n        const data = JSON.parse(readFileSync(TRANSACTION_HISTORY_FILE, 'utf-8')) as Transaction[]\n        data.forEach(tx => this.transactions.set(tx.id, tx))\n      }\n    } catch (error) {\n      // Ignore errors loading history\n    }\n  }\n  \n  /**\n   * Save transaction history to file\n   */\n  private saveHistory(): void {\n    try {\n      const dir = join(homedir(), '.ghostspeak')\n      if (!existsSync(dir)) {\n        mkdirSync(dir, { recursive: true })\n      }\n      \n      // Keep only recent transactions\n      const recent = this.getHistory(MAX_HISTORY_ITEMS)\n      writeFileSync(TRANSACTION_HISTORY_FILE, JSON.stringify(recent, null, 2))\n    } catch (error) {\n      // Ignore errors saving history\n    }\n  }\n  \n  /**\n   * Shorten signature for display\n   */\n  private shortenSignature(signature: string): string {\n    if (signature.length <= 20) return signature\n    return `${signature.slice(0, 8)}...${signature.slice(-8)}`\n  }\n  \n  /**\n   * Get explorer URL for transaction\n   */\n  private getExplorerUrl(signature: string, network: string): string {\n    const cluster = network === 'mainnet-beta' ? '' : `?cluster=${network}`\n    return `https://explorer.solana.com/tx/${signature}${cluster}`\n  }\n  \n  /**\n   * Show recent transaction history\n   */\n  showRecentTransactions(limit = 5): void {\n    const recent = this.getHistory(limit)\n    \n    if (recent.length === 0) {\n      log.info('No recent transactions')\n      return\n    }\n    \n    console.log(chalk.bold('\\n Recent Transactions:\\n'))\n    \n    recent.forEach((tx, index) => {\n      const statusIcon = tx.status === 'confirmed' ? '' : \n                        tx.status === 'failed' ? '' : ''\n      const time = new Date(tx.timestamp).toLocaleString()\n      \n      console.log(chalk.gray(`${index + 1}. ${statusIcon} ${tx.description}`))\n      console.log(chalk.gray(`   ${this.shortenSignature(tx.signature)}`))\n      if (tx.amount) {\n        console.log(chalk.gray(`   Amount: ${tx.amount}`))\n      }\n      console.log(chalk.gray(`   Time: ${time}`))\n      if (tx.error) {\n        console.log(chalk.red(`   Error: ${tx.error}`))\n      }\n      console.log('')\n    })\n  }\n}\n\n/**\n * Helper function to track a transaction with automatic monitoring\n */\nexport async function trackTransaction(\n  signature: string,\n  description: string,\n  network = 'devnet',\n  amount?: string\n): Promise<string> {\n  const monitor = TransactionMonitor.getInstance()\n  return monitor.startTransaction(signature, description, network, amount)\n}\n\n/**\n * Helper to update transaction progress\n */\nexport function updateTransactionProgress(\n  id: string,\n  progress: Partial<TransactionProgress>\n): void {\n  const monitor = TransactionMonitor.getInstance()\n  monitor.updateProgress(id, progress)\n}\n\n/**\n * Helper to mark transaction as successful\n */\nexport function transactionSuccess(id: string, message?: string): void {\n  const monitor = TransactionMonitor.getInstance()\n  monitor.setSuccess(id, message)\n}\n\n/**\n * Helper to mark transaction as failed\n */\nexport function transactionFailed(\n  id: string,\n  error: Error | string,\n  canRetry = true\n): void {\n  const monitor = TransactionMonitor.getInstance()\n  monitor.setFailed(id, error, canRetry)\n}\n\n/**\n * Show transaction history\n */\nexport function showTransactionHistory(limit = 5): void {\n  const monitor = TransactionMonitor.getInstance()\n  monitor.showRecentTransactions(limit)\n}","/**\n * Enhanced help system with context awareness\n * Provides contextual help based on user state and command history\n */\n\nimport chalk from 'chalk'\nimport { existsSync, readFileSync } from 'fs'\nimport { join } from 'path'\nimport { homedir } from 'os'\nimport { infoBox, divider, bulletList } from './format-helpers.js'\nimport { WalletService } from '../services/wallet-service.js'\nimport { getSuggestions } from './command-aliases.js'\nimport { hasCompletedOnboarding } from './onboarding.js'\n\nexport interface HelpContext {\n  hasWallet: boolean\n  hasFunding: boolean\n  hasAgent: boolean\n  recentCommands: string[]\n  errorHistory: string[]\n  networkStatus: 'connected' | 'disconnected' | 'unknown'\n  isFirstRun: boolean\n}\n\nexport interface HelpTopic {\n  title: string\n  description: string\n  commands: Array<{\n    command: string\n    description: string\n    example?: string\n    aliases?: string[]\n  }>\n  tips?: string[]\n  relatedTopics?: string[]\n}\n\nconst HELP_TOPICS: Record<string, HelpTopic> = {\n  'quickstart': {\n    title: ' Quick Start',\n    description: 'Essential commands for new users',\n    commands: [\n      {\n        command: 'ghost quickstart',\n        description: 'Complete guided setup',\n        example: 'ghost quickstart',\n        aliases: ['qs', 'start']\n      },\n      {\n        command: 'ghost --interactive',\n        description: 'Interactive menu mode',\n        example: 'ghost --interactive',\n        aliases: ['i', 'menu']\n      },\n      {\n        command: 'ghost config setup',\n        description: 'Configure CLI settings',\n        example: 'ghost config setup',\n        aliases: ['cfg', 'configure']\n      }\n    ],\n    tips: [\n      'Run the quickstart for a guided setup experience',\n      'Use interactive mode if you prefer menus over commands',\n      'Check your setup status anytime with \"ghost status\"'\n    ],\n    relatedTopics: ['wallet', 'agent']\n  },\n  \n  'wallet': {\n    title: ' Wallet Management',\n    description: 'Manage your Solana wallets and SOL balance',\n    commands: [\n      {\n        command: 'ghost wallet create',\n        description: 'Create a new wallet',\n        example: 'ghost wallet create MyWallet',\n        aliases: ['wc', 'new-wallet']\n      },\n      {\n        command: 'ghost wallet list',\n        description: 'List all your wallets',\n        example: 'ghost wallet list',\n        aliases: ['wl', 'wallets']\n      },\n      {\n        command: 'ghost wallet balance',\n        description: 'Check wallet balance',\n        example: 'ghost wallet balance',\n        aliases: ['w', 'balance', 'bal']\n      },\n      {\n        command: 'ghost faucet',\n        description: 'Get free SOL (devnet only)',\n        example: 'ghost faucet --save',\n        aliases: ['f', 'fund', 'airdrop']\n      }\n    ],\n    tips: [\n      'Always save your recovery phrase in a secure location',\n      'Use descriptive names for multiple wallets',\n      'Check balance before making transactions',\n      'The faucet only works on devnet for free SOL'\n    ],\n    relatedTopics: ['getting-started', 'transactions']\n  },\n  \n  'agent': {\n    title: ' AI Agent Management',\n    description: 'Register and manage your AI agents',\n    commands: [\n      {\n        command: 'ghost agent register',\n        description: 'Register a new AI agent',\n        example: 'ghost agent register',\n        aliases: ['a r', 'ar', 'register']\n      },\n      {\n        command: 'ghost agent list',\n        description: 'List your registered agents',\n        example: 'ghost agent list',\n        aliases: ['a l', 'al', 'agents']\n      },\n      {\n        command: 'ghost agent status',\n        description: 'Check agent status and metrics',\n        example: 'ghost agent status <agent-id>',\n        aliases: ['a s', 'as']\n      }\n    ],\n    tips: [\n      'Agents need to be registered before providing services',\n      'Choose descriptive names and clear capability descriptions',\n      'Monitor your agent performance with status commands',\n      'Agents can earn fees by completing tasks'\n    ],\n    relatedTopics: ['payai']\n  },\n  \n  'transactions': {\n    title: ' Transactions',\n    description: 'Monitor and manage blockchain transactions',\n    commands: [\n      {\n        command: 'ghost transaction history',\n        description: 'View recent transactions',\n        example: 'ghost transaction history --limit 10',\n        aliases: ['tx', 'transactions']\n      },\n      {\n        command: 'ghost wallet balance',\n        description: 'Check current balance',\n        example: 'ghost wallet balance',\n        aliases: ['balance', 'bal']\n      }\n    ],\n    tips: [\n      'All transactions are recorded on the blockchain',\n      'Transaction fees on Solana are very low (~$0.00025)',\n      'Failed transactions still consume some fees',\n      'Check transaction status on Solana Explorer'\n    ],\n    relatedTopics: ['wallet']\n  },\n  \n  'shortcuts': {\n    title: ' Shortcuts & Aliases',\n    description: 'Quick ways to run common commands',\n    commands: [],\n    tips: [\n      'Use natural language: \"create agent\", \"check balance\"',\n      'Short forms: \"ghost a r\" for \"ghost agent register\"',\n      'Tab completion works for most commands',\n      'Use --interactive for a guided menu experience'\n    ]\n  },\n  \n  'troubleshooting': {\n    title: ' Troubleshooting',\n    description: 'Common issues and solutions',\n    commands: [\n      {\n        command: 'ghost diagnose',\n        description: 'Diagnose common issues',\n        example: 'ghost diagnose'\n      },\n      {\n        command: 'ghost config show',\n        description: 'Show current configuration',\n        example: 'ghost config show'\n      },\n      {\n        command: 'ghost update',\n        description: 'Update to latest version',\n        example: 'ghost update'\n      }\n    ],\n    tips: [\n      'Check your internet connection for network errors',\n      'Ensure you have sufficient SOL for transactions',\n      'Verify wallet configuration if commands fail',\n      'Use DEBUG=1 for detailed error information'\n    ]\n  }\n}\n\nexport class HelpSystem {\n  private context: HelpContext\n  \n  constructor() {\n    this.context = this.buildContext()\n  }\n  \n  /**\n   * Show contextual help based on user state\n   */\n  showContextualHelp(): void {\n    console.log(chalk.cyan.bold('\\n GhostSpeak CLI Help\\n'))\n    \n    // Show different help based on user state\n    if (this.context.isFirstRun) {\n      this.showFirstRunHelp()\n    } else if (!this.context.hasWallet) {\n      this.showWalletSetupHelp()\n    } else if (!this.context.hasFunding) {\n      this.showFundingHelp()\n    } else if (!this.context.hasAgent) {\n      this.showAgentSetupHelp()\n    } else {\n      this.showGeneralHelp()\n    }\n    \n    // Show recent command suggestions\n    if (this.context.recentCommands.length > 0) {\n      this.showRecentCommandHelp()\n    }\n    \n    // Show error-based suggestions\n    if (this.context.errorHistory.length > 0) {\n      this.showErrorBasedHelp()\n    }\n    \n    this.showQuickReference()\n  }\n  \n  /**\n   * Show help for a specific topic\n   */\n  showTopicHelp(topic: string): void {\n    const helpTopic = HELP_TOPICS[topic]\n    if (!(topic in HELP_TOPICS)) {\n      console.log(chalk.red(`Unknown help topic: ${topic}`))\n      this.showAvailableTopics()\n      return\n    }\n    \n    console.log(infoBox(helpTopic.title, helpTopic.description))\n    console.log('')\n    \n    if (helpTopic.commands.length > 0) {\n      console.log(chalk.bold('Commands:'))\n      console.log('')\n      \n      helpTopic.commands.forEach(cmd => {\n        console.log(`  ${chalk.cyan(cmd.command.padEnd(30))} ${cmd.description}`)\n        if (cmd.example) {\n          console.log(`  ${' '.repeat(30)} ${chalk.gray('Example: ' + cmd.example)}`)\n        }\n        if (cmd.aliases && cmd.aliases.length > 0) {\n          console.log(`  ${' '.repeat(30)} ${chalk.gray('Aliases: ' + cmd.aliases.join(', '))}`)\n        }\n        console.log('')\n      })\n    }\n    \n    if (helpTopic.tips && helpTopic.tips.length > 0) {\n      console.log(chalk.bold(' Tips:'))\n      console.log(bulletList(helpTopic.tips))\n      console.log('')\n    }\n    \n    if (helpTopic.relatedTopics && helpTopic.relatedTopics.length > 0) {\n      console.log(chalk.bold(' Related Topics:'))\n      const related = helpTopic.relatedTopics.map(t => `ghost help ${t}`).join(', ')\n      console.log(chalk.gray(`  ${related}`))\n      console.log('')\n    }\n  }\n  \n  /**\n   * Show available help topics\n   */\n  showAvailableTopics(): void {\n    console.log(chalk.bold('\\n Available Help Topics:\\n'))\n    \n    Object.entries(HELP_TOPICS).forEach(([key, topic]) => {\n      console.log(`  ${chalk.cyan(('ghost help ' + key).padEnd(25))} ${topic.description}`)\n    })\n    \n    console.log('')\n    console.log(chalk.gray('Example: ghost help wallet'))\n  }\n  \n  /**\n   * Search help content\n   */\n  searchHelp(query: string): void {\n    const results = this.findHelpContent(query)\n    \n    if (results.length === 0) {\n      console.log(chalk.yellow(`No help found for \"${query}\"`))  \n      this.showSuggestions(query)\n      return\n    }\n    \n    console.log(chalk.bold(`\\n Help results for \"${query}\":\\n`))\n    \n    results.forEach(result => {\n      console.log(chalk.cyan(`${result.topic}: ${result.title}`))\n      console.log(chalk.gray(`  ${result.description}`))\n      console.log(chalk.gray(`  Command: ghost help ${result.topic}`))\n      console.log('')\n    })\n  }\n  \n  /**\n   * Show command suggestions based on partial input\n   */\n  showSuggestions(partial: string): void {\n    const suggestions = getSuggestions(partial)\n    \n    if (suggestions.length > 0) {\n      console.log(chalk.bold('\\n Did you mean:'))\n      suggestions.forEach(suggestion => {\n        console.log(`  ${chalk.cyan(suggestion.aliases[0].padEnd(15))} ${suggestion.description}`)\n      })\n      console.log('')\n    }\n  }\n  \n  /**\n   * Build user context for personalized help\n   */\n  private buildContext(): HelpContext {\n    const walletService = new WalletService()\n    \n    return {\n      hasWallet: walletService.getActiveWallet() !== null,\n      hasFunding: false, // Would check balance\n      hasAgent: false,   // Would check for registered agents\n      recentCommands: this.getRecentCommands(),\n      errorHistory: this.getErrorHistory(),\n      networkStatus: 'unknown',\n      isFirstRun: !hasCompletedOnboarding()\n    }\n  }\n  \n  /**\n   * Show help for first-time users\n   */\n  private showFirstRunHelp(): void {\n    console.log(infoBox(' Welcome to GhostSpeak!', [\n      'It looks like this is your first time using GhostSpeak.',\n      'Let\\'s get you started with the essential commands.'\n    ]))\n    \n    console.log('')\n    console.log(chalk.bold(' Quick Start:'))\n    console.log('')\n    console.log(`  ${chalk.cyan('ghost quickstart'.padEnd(20))} Complete guided setup`)\n    console.log(`  ${chalk.cyan('ghost --interactive'.padEnd(20))} Interactive menu mode`)\n    console.log(`  ${chalk.cyan('ghost help getting-started'.padEnd(20))} Detailed getting started guide`)\n    console.log('')\n  }\n  \n  /**\n   * Show wallet setup help\n   */\n  private showWalletSetupHelp(): void {\n    console.log(infoBox(' Wallet Setup Required', [\n      'You need a wallet to interact with the Solana blockchain.',\n      'Your wallet stores SOL and manages transactions.'\n    ]))\n    \n    console.log('')\n    console.log(chalk.bold('Wallet Commands:'))\n    console.log('')\n    console.log(`  ${chalk.cyan('ghost wallet create'.padEnd(20))} Create a new wallet`)\n    console.log(`  ${chalk.cyan('ghost wallet import'.padEnd(20))} Import existing wallet`)\n    console.log(`  ${chalk.cyan('ghost help wallet'.padEnd(20))} Complete wallet guide`)\n    console.log('')\n  }\n  \n  /**\n   * Show funding help\n   */\n  private showFundingHelp(): void {\n    console.log(infoBox(' Wallet Funding', [\n      'Your wallet needs SOL for transactions.',\n      'On devnet, you can get free SOL from the faucet.'\n    ]))\n    \n    console.log('')\n    console.log(chalk.bold('Funding Commands:'))\n    console.log('')\n    console.log(`  ${chalk.cyan('ghost faucet --save'.padEnd(20))} Get free SOL (devnet)`)\n    console.log(`  ${chalk.cyan('ghost wallet balance'.padEnd(20))} Check current balance`)\n    console.log('')\n  }\n  \n  /**\n   * Show agent setup help\n   */\n  private showAgentSetupHelp(): void {\n    console.log(infoBox(' Agent Registration', [\n      'Register an AI agent to provide services.',\n      'Agents can earn SOL by completing tasks.'\n    ]))\n    \n    console.log('')\n    console.log(chalk.bold('Agent Commands:'))\n    console.log('')\n    console.log(`  ${chalk.cyan('ghost agent register'.padEnd(20))} Register new agent`)\n    console.log(`  ${chalk.cyan('ghost agent list'.padEnd(20))} List your agents`)\n    console.log(`  ${chalk.cyan('ghost help agent'.padEnd(20))} Complete agent guide`)\n    console.log('')\n  }\n  \n  /**\n   * Show general help for experienced users\n   */\n  private showGeneralHelp(): void {\n    console.log(chalk.bold(' Common Commands:'))\n    console.log('')\n\n    const commonCommands = [\n      { cmd: 'ghost agent status', desc: 'Check agent performance' },\n      { cmd: 'ghost agent list', desc: 'List your agents' },\n      { cmd: 'ghost wallet balance', desc: 'Check SOL balance' },\n      { cmd: 'ghost airdrop', desc: 'Get devnet GHOST tokens' },\n      { cmd: 'ghost --interactive', desc: 'Interactive menu' }\n    ]\n\n    commonCommands.forEach(({ cmd, desc }) => {\n      console.log(`  ${chalk.cyan(cmd.padEnd(25))} ${desc}`)\n    })\n\n    console.log('')\n  }\n  \n  /**\n   * Show help based on recent commands\n   */\n  private showRecentCommandHelp(): void {\n    console.log(chalk.bold('  Recent Activity:'))\n    console.log('')\n    console.log(chalk.gray('Based on your recent commands, you might want to:'))\n    \n    const suggestions = this.getContextualSuggestions()\n    suggestions.forEach(suggestion => {\n      console.log(`  ${chalk.cyan('')} ${suggestion}`)\n    })\n    \n    console.log('')\n  }\n  \n  /**\n   * Show help based on error history\n   */\n  private showErrorBasedHelp(): void {\n    console.log(chalk.bold(' Troubleshooting:'))\n    console.log('')\n    console.log(chalk.gray('If you\\'re experiencing issues, try:'))\n    console.log('')\n    console.log(`  ${chalk.cyan('ghost diagnose'.padEnd(20))} Run diagnostic checks`)\n    console.log(`  ${chalk.cyan('ghost config show'.padEnd(20))} Verify configuration`)\n    console.log(`  ${chalk.cyan('ghost help troubleshooting'.padEnd(20))} Troubleshooting guide`)\n    console.log('')\n  }\n  \n  /**\n   * Show quick reference\n   */\n  private showQuickReference(): void {\n    console.log(divider())\n    console.log('')\n    console.log(chalk.bold(' Quick Reference:'))\n    console.log('')\n    console.log(`  ${chalk.gray('Get help for any command:')} ${chalk.cyan('ghost <command> --help')}`)\n    console.log(`  ${chalk.gray('Interactive mode:')} ${chalk.cyan('ghost --interactive')}`)\n    console.log(`  ${chalk.gray('View all help topics:')} ${chalk.cyan('ghost help')}`)\n    console.log(`  ${chalk.gray('Search help:')} ${chalk.cyan('ghost help search <query>')}`)\n    console.log('')\n    console.log(chalk.gray(' Tip: Use tab completion and command shortcuts to work faster!'))\n    console.log('')\n  }\n  \n  /**\n   * Get recent commands from history\n   */\n  private getRecentCommands(): string[] {\n    try {\n      const historyFile = join(homedir(), '.ghostspeak', 'recent-commands.json')\n      if (existsSync(historyFile)) {\n        const data = JSON.parse(readFileSync(historyFile, 'utf-8')) as Array<{ command: string }>\n        return data.map((item) => item.command).slice(0, 5)\n      }\n    } catch (error) {\n      // Ignore errors\n    }\n    return []\n  }\n  \n  /**\n   * Get error history for better suggestions\n   */\n  private getErrorHistory(): string[] {\n    // This would read from error loghost if implemented\n    return []\n  }\n  \n  /**\n   * Get contextual suggestions based on recent activity\n   */\n  private getContextualSuggestions(): string[] {\n    const suggestions = []\n\n    if (this.context.recentCommands.includes('agent register')) {\n      suggestions.push('Check your agent status: ghost agent status')\n    }\n\n    if (this.context.recentCommands.includes('wallet create')) {\n      suggestions.push('Fund your wallet: ghost airdrop')\n    }\n\n    if (this.context.recentCommands.includes('airdrop')) {\n      suggestions.push('Register an agent: ghost agent register')\n    }\n\n    if (suggestions.length === 0) {\n      suggestions.push('List your agents: ghost agent list')\n      suggestions.push('Check your wallet balance: ghost wallet balance')\n    }\n\n    return suggestions\n  }\n  \n  /**\n   * Find help content matching query\n   */\n  private findHelpContent(query: string): Array<{\n    topic: string\n    title: string\n    description: string\n  }> {\n    const results: Array<{ topic: string; title: string; description: string }> = []\n    const lowerQuery = query.toLowerCase()\n    \n    Object.entries(HELP_TOPICS).forEach(([key, topic]) => {\n      const searchText = `${topic.title} ${topic.description} ${topic.commands.map(c => c.command + ' ' + c.description).join(' ')}`.toLowerCase()\n      \n      if (searchText.includes(lowerQuery)) {\n        results.push({\n          topic: key,\n          title: topic.title,\n          description: topic.description\n        })\n      }\n    })\n    \n    return results\n  }\n}\n\n/**\n * Show contextual help\n */\nexport function showContextualHelp(): void {\n  const helpSystem = new HelpSystem()\n  helpSystem.showContextualHelp()\n}\n\n/**\n * Show help for specific topic\n */\nexport function showTopicHelp(topic: string): void {\n  const helpSystem = new HelpSystem()\n  helpSystem.showTopicHelp(topic)\n}\n\n/**\n * Search help content\n */\nexport function searchHelp(query: string): void {\n  const helpSystem = new HelpSystem()\n  helpSystem.searchHelp(query)\n}\n\n/**\n * Show available help topics\n */\nexport function showAvailableTopics(): void {\n  const helpSystem = new HelpSystem()\n  helpSystem.showAvailableTopics()\n}","/**\n * Onboarding service - comprehensive setup flow for new users\n */\n\nimport { existsSync, mkdirSync, readFileSync, writeFileSync } from 'fs'\nimport { join } from 'path'\nimport { homedir } from 'os'\nimport chalk from 'chalk'\nimport {\n  intro,\n  outro,\n  text,\n  select,\n  confirm,\n  spinner,\n  cancel,\n  isCancel\n} from '@clack/prompts'\nimport { WalletService } from '../services/wallet-service.js'\nimport { initializeClient } from './client.js'\nimport { createCustomClient } from '../core/solana-client.js'\nimport type { Lamports } from '@solana/kit'\nimport {\n  divider,\n  stepIndicator\n} from './ui-helpers.js'\nimport { warningBox, successBox, infoBox } from './format-helpers.js'\nimport { estimateAndDisplay } from '../services/cost-estimator.js'\nimport type { Address } from '@solana/addresses'\n\nexport interface OnboardingConfig {\n  network?: 'devnet' | 'testnet' | 'mainnet-beta'\n  autoFaucet?: boolean\n  skipSteps?: OnboardingStep[]\n}\n\nexport type OnboardingStep =\n  | 'welcome'\n  | 'network-selection'\n  | 'wallet-setup'\n  | 'funding'\n  | 'first-agent'\n  | 'completion'\n\nconst ONBOARDING_STEPS: OnboardingStep[] = [\n  'welcome',\n  'network-selection',\n  'wallet-setup',\n  'funding',\n  'first-agent',\n  'completion'\n]\n\ninterface OnboardingProgress {\n  step: number\n  completedSteps: Set<OnboardingStep>\n  skippedSteps: Set<OnboardingStep>\n  totalSteps: number\n}\n\n/**\n * Comprehensive onboarding service\n */\nexport class OnboardingService {\n  private progress: OnboardingProgress = {\n    step: 1,\n    completedSteps: new Set(),\n    skippedSteps: new Set(),\n    totalSteps: ONBOARDING_STEPS.length\n  }\n  \n  private walletService: WalletService\n  \n  constructor(private config: OnboardingConfig = {}) {\n    this.walletService = new WalletService()\n    this.loadProgress()\n  }\n  \n  /**\n   * Start the onboarding process\n   */\n  async start(): Promise<void> {\n    intro(chalk.bold.cyan(' Welcome to GhostSpeak Protocol'))\n    \n    try {\n      await this.welcomeStep()\n      await this.networkSelectionStep()\n      await this.walletSetupStep()\n      await this.fundingStep()\n      await this.firstAgentStep()\n      await this.completionStep()\n    } catch (error) {\n      if (error instanceof Error && error.message === 'cancelled') {\n        cancel('Setup cancelled by user')\n        return\n      }\n      \n      console.error(chalk.red('Onboarding failed:'), error)\n      cancel('Setup failed - you can restart anytime with: ghost quickstart')\n    }\n  }\n  \n  /**\n   * Load existing progress\n   */\n  private loadProgress(): void {\n    try {\n      const progressFile = join(homedir(), '.ghostspeak', 'onboarding-progress.json')\n      if (existsSync(progressFile)) {\n        const data = JSON.parse(readFileSync(progressFile, 'utf-8')) as {\n          step?: number\n          completedSteps?: string[]\n          skippedSteps?: string[]\n          config?: OnboardingConfig\n        }\n        this.progress.step = data.step ?? 1\n        this.progress.completedSteps = new Set(data.completedSteps as OnboardingStep[])\n        this.progress.skippedSteps = new Set(data.skippedSteps as OnboardingStep[])\n        this.config = { ...this.config, ...(data.config ?? {}) }\n      }\n    } catch (error) {\n      // Ignore errors loading progress\n    }\n  }\n  \n  /**\n   * Welcome step\n   */\n  private async welcomeStep(): Promise<void> {\n    console.log('')\n    console.log(stepIndicator(1, this.progress.totalSteps, 'Welcome'))\n    \n    if (this.progress.completedSteps.has('welcome')) {\n      console.log(chalk.gray('Welcome step already completed'))\n      return\n    }\n    \n    console.log(infoBox('GhostSpeak Protocol', [\n      'The decentralized AI agent economy on Solana',\n      '',\n      ' Create and deploy AI agents that earn SOL',\n      ' Connect agents through A2A communication',\n      '  Govern the protocol through decentralized governance',\n      ' Ultra-fast transactions with minimal fees'\n    ]))\n\n    console.log('')\n    console.log(chalk.bold('This quick setup will help you:'))\n    console.log(chalk.gray(' Configure your Solana network'))\n    console.log(chalk.gray(' Set up a secure wallet'))\n    console.log(chalk.gray(' Get some SOL for transactions'))\n    console.log(chalk.gray(' Create your first AI agent'))\n    console.log(chalk.gray(' Learn about the protocol features'))\n    \n    const shouldContinue = await confirm({\n      message: 'Ready to get started?',\n      active: 'Yes, let\\'s go!',\n      inactive: 'No, I\\'ll do this later'\n    })\n    \n    if (isCancel(shouldContinue) || !shouldContinue) {\n      cancel('Setup cancelled - run \"ghost quickstart\" anytime to continue')\n      process.exit(0)\n    }\n    \n    this.markStepCompleted('welcome')\n  }\n  \n  /**\n   * Network selection step\n   */\n  private async networkSelectionStep(): Promise<void> {\n    console.log('')\n    console.log(stepIndicator(2, this.progress.totalSteps, 'Network Selection'))\n    \n    if (this.config.network) {\n      console.log(infoBox('Network Selected', [\n        `Using ${this.config.network} network`,\n        this.config.network === 'devnet' ? 'Perfect for testing and development' : 'Production network'\n      ]))\n      this.markStepCompleted('network-selection')\n      return\n    }\n    \n    console.log(infoBox('Choose Your Network', [\n      'Devnet: Free SOL, perfect for testing (Recommended for beginners)',\n      'Testnet: Testing network with test tokens',\n      'Mainnet: Real SOL, production environment'\n    ]))\n    \n    const network = await select({\n      message: 'Which network would you like to use?',\n      options: [\n        { value: 'devnet', label: ' Devnet (Recommended)', hint: 'Free SOL for testing' },\n        { value: 'testnet', label: ' Testnet', hint: 'Test environment' },\n        { value: 'mainnet-beta', label: ' Mainnet', hint: 'Production (costs real SOL)' }\n      ]\n    })\n    \n    if (isCancel(network)) {\n      cancel('Setup cancelled')\n      process.exit(0)\n    }\n    \n    this.config.network = network as 'devnet' | 'testnet' | 'mainnet-beta'\n    \n    // Save network preference\n    await this.saveProgress()\n    \n    this.markStepCompleted('network-selection')\n  }\n  \n  /**\n   * Wallet setup step\n   */\n  private async walletSetupStep(): Promise<void> {\n    console.log('')\n    console.log(stepIndicator(3, this.progress.totalSteps, 'Wallet Setup'))\n    \n    // Check if user already has a wallet\n    const activeWallet = this.walletService.getActiveWallet()\n    if (activeWallet) {\n      console.log(successBox('Wallet Already Configured', [\n        `Active wallet: ${activeWallet.metadata.name}`,\n        `Address: ${activeWallet.metadata.address}`,\n        'You can create additional wallets anytime with \"ghost wallet create\"'\n      ]))\n      this.markStepCompleted('wallet-setup')\n      return\n    }\n    \n    console.log(infoBox('Wallet Setup', [\n      'A wallet is required to interact with the Solana blockchain.',\n      'Your wallet will store your SOL and manage your transactions.',\n      'We\\'ll create a secure wallet with a recovery phrase.'\n    ]))\n    \n    const walletChoice = await select({\n      message: 'How would you like to set up your wallet?',\n      options: [\n        { \n          value: 'create', \n          label: ' Create New Wallet', \n          hint: 'Generate a new wallet with recovery phrase' \n        },\n        { \n          value: 'import', \n          label: ' Import Existing Wallet', \n          hint: 'Import from seed phrase or private key' \n        },\n        { \n          value: 'skip', \n          label: '  Skip for Now', \n          hint: 'Configure wallet later' \n        }\n      ]\n    })\n    \n    if (isCancel(walletChoice)) {\n      cancel('Setup cancelled')\n      process.exit(0)\n    }\n    \n    if (walletChoice === 'skip') {\n      this.markStepSkipped('wallet-setup')\n      return\n    }\n    \n    const s = spinner()\n    \n    if (walletChoice === 'create') {\n      s.start('Creating your wallet...')\n      \n      const { wallet, mnemonic } = await this.walletService.createWallet(\n        'default',\n        this.config.network ?? 'devnet'\n      )\n      \n      s.stop(' Wallet created!')\n      \n      // Show seed phrase prominently\n      console.log('')\n      console.log(warningBox(' IMPORTANT: Save Your Recovery Phrase', [\n        'Write down these 24 words in order and store them safely.',\n        'This is the ONLY way to recover your wallet if lost.',\n        'Never share this phrase with anyone.'\n      ]))\n      \n      console.log('')\n      console.log(infoBox('Your Recovery Phrase', mnemonic.split(' ').map((word, i) => \n        `${(i + 1).toString().padStart(2, ' ')}. ${word}`\n      ).join('\\n')))\n      \n      const confirmed = await confirm({\n        message: 'Have you written down your recovery phrase safely?',\n        active: 'Yes, I have saved it',\n        inactive: 'No, let me write it down'\n      })\n      \n      if (isCancel(confirmed) || !confirmed) {\n        console.log(chalk.yellow('\\n  Please save your recovery phrase before continuing.'))\n        console.log('Your wallet has been created but not activated until you confirm.')\n        process.exit(0)\n      }\n      \n      console.log(successBox('Wallet Successfully Created', [\n        `Name: ${wallet.metadata.name}`,\n        `Address: ${wallet.metadata.address}`,\n        `Network: ${wallet.metadata.network}`\n      ]))\n      \n    } else {\n      const importType = await select({\n        message: 'What would you like to import?',\n        options: [\n          { value: 'mnemonic', label: ' Recovery Phrase (24 words)', hint: 'Most common' },\n          { value: 'private-key', label: ' Private Key', hint: 'Array of numbers' }\n        ]\n      })\n      \n      if (isCancel(importType)) {\n        this.markStepSkipped('wallet-setup')\n        return\n      }\n      \n      if (importType === 'mnemonic') {\n        const mnemonic = await text({\n          message: 'Enter your 24-word recovery phrase:',\n          placeholder: 'word1 word2 word3 ...',\n          validate: (value) => {\n            if (!value) return 'Recovery phrase is required'\n            const words = value.trim().split(/\\s+/)\n            if (words.length !== 24) return 'Please enter exactly 24 words'\n            return\n          }\n        })\n        \n        if (isCancel(mnemonic)) {\n          this.markStepSkipped('wallet-setup')\n          return\n        }\n        \n        s.start('Importing wallet from recovery phrase...')\n        \n        try {\n          const wallet = await this.walletService.importWallet(\n            'imported',\n            mnemonic as string,\n            this.config.network ?? 'devnet'\n          )\n          \n          s.stop(' Wallet imported!')\n          \n          console.log(successBox('Wallet Successfully Imported', [\n            `Name: ${wallet.metadata.name}`,\n            `Address: ${wallet.metadata.address}`,\n            `Network: ${wallet.metadata.network}`\n          ]))\n          \n        } catch (error) {\n          s.stop(' Import failed')\n          console.log(chalk.red('Failed to import wallet: ' + (error instanceof Error ? error.message : 'Unknown error')))\n          this.markStepSkipped('wallet-setup')\n          return\n        }\n      }\n    }\n    \n    this.markStepCompleted('wallet-setup')\n  }\n  \n  /**\n   * Funding step\n   */\n  private async fundingStep(): Promise<void> {\n    console.log('')\n    console.log(stepIndicator(4, this.progress.totalSteps, 'Funding Your Wallet'))\n    \n    const activeWallet = this.walletService.getActiveWallet()\n    if (!activeWallet) {\n      console.log(warningBox('No Wallet Found', [\n        'Skipping funding step - wallet not configured'\n      ]))\n      this.markStepSkipped('funding')\n      return\n    }\n    \n    console.log(infoBox('Why Do You Need SOL?', [\n      'SOL is Solana\\'s native cryptocurrency needed for:',\n      ' Transaction fees (very small, ~$0.00025 each)',\n      ' Creating accounts and storing data',\n      ' Participating in the agent economy'\n    ]))\n    \n    // Check current balance\n    const s = spinner()\n    s.start('Checking your current balance...')\n    \n    try {\n      const { wallet, rpc } = await initializeClient(this.config.network)\n      const balanceResponse = await rpc.getBalance(wallet.address).send()\n      const balance = balanceResponse.value\n      \n      s.stop(' Balance checked')\n      \n      if (balance > BigInt(10000000)) { // > 0.01 SOL\n        console.log(successBox('Wallet Funded', [\n          `Current balance: ${(Number(balance) / 1e9).toFixed(4)} SOL`,\n          'You have enough SOL to get started!'\n        ]))\n        this.markStepCompleted('funding')\n        return\n      }\n      \n      // Need funding\n      if (this.config.network === 'devnet') {\n        console.log(infoBox('Get Free SOL', [\n          'On devnet, you can get free SOL for testing.',\n          'We\\'ll request some SOL from the faucet for you.'\n        ]))\n        \n        const shouldFund = this.config.autoFaucet ?? await confirm({\n          message: 'Request free SOL from the faucet?',\n          active: 'Yes, get free SOL',\n          inactive: 'No, I\\'ll fund it myself'\n        })\n        \n        if (!isCancel(shouldFund) && shouldFund) {\n          const faucetSpinner = spinner()\n          faucetSpinner.start('Requesting SOL from faucet...')\n\n          try {\n            // Use Gill's createCustomClient for RPC airdrop\n            const rpcUrl = 'https://api.devnet.solana.com'\n            const client = createCustomClient(rpcUrl)\n            const lamports = BigInt(1_000_000_000) // 1 SOL\n            // Request airdrop using Gill's rpc client\n            await client.rpc.requestAirdrop(activeWallet.metadata.address as Address, lamports as Lamports).send()\n            \n            faucetSpinner.stop(' Received 1 SOL from faucet!')\n            \n            console.log(successBox('Wallet Funded', [\n              'Received 1 SOL from the devnet faucet',\n              'You\\'re ready to start using GhostSpeak!'\n            ]))\n            \n          } catch (error) {\n            faucetSpinner.stop(' Faucet request failed')\n            console.log(warningBox('Faucet Failed', [\n              'You can try again later with: ghost faucet --save',\n              'Or fund your wallet manually'\n            ]))\n          }\n        }\n      } else {\n        console.log(warningBox('Wallet Needs Funding', [\n          `Current balance: ${(Number(balance) / 1e9).toFixed(4)} SOL`,\n          'You need SOL to interact with the blockchain.',\n          'Transfer SOL from an exchange or another wallet.'\n        ]))\n      }\n      \n    } catch (error) {\n      s.stop(' Balance check failed')\n      console.log(chalk.yellow('Unable to check balance. You may need to fund your wallet manually.'))\n    }\n    \n    this.markStepCompleted('funding')\n  }\n  \n  /**\n   * First agent creation step\n   */\n  private async firstAgentStep(): Promise<void> {\n    console.log('')\n    console.log(stepIndicator(5, this.progress.totalSteps, 'Create Your First Agent'))\n    \n    console.log(infoBox('AI Agents in GhostSpeak', [\n      'Agents are AI entities that can:',\n      ' Provide services and earn payments through PayAI',\n      ' Complete tasks autonomously',\n      ' Communicate with other agents via A2A',\n      ' Participate in the decentralized economy'\n    ]))\n    \n    const createAgent = await confirm({\n      message: 'Would you like to create your first agent now?',\n      active: 'Yes, create an agent',\n      inactive: 'Skip for now'\n    })\n    \n    if (isCancel(createAgent) || !createAgent) {\n      console.log(infoBox('Agent Creation Skipped', [\n        'You can create an agent anytime with: ghost agent register',\n        'Agents are the core participants in the GhostSpeak economy'\n      ]))\n      this.markStepSkipped('first-agent')\n      return\n    }\n    \n    // Check if we can afford agent creation\n    try {\n      const activeWallet = this.walletService.getActiveWallet()\n      if (activeWallet) {\n        const balanceInfo = await estimateAndDisplay(\n          'agent-register',\n          activeWallet.metadata.address as Address,\n          undefined,\n          { showBreakdown: false }\n        )\n        \n        if (!balanceInfo.isAffordable) {\n          console.log(warningBox('Insufficient Funds', [\n            'You need more SOL to create an agent.',\n            'Fund your wallet first, then create an agent with: ghost agent register'\n          ]))\n          this.markStepSkipped('first-agent')\n          return\n        }\n      }\n    } catch (error) {\n      // Continue anyway\n    }\n    \n    // Basic agent creation (simplified for onboarding)\n    console.log(chalk.bold('\\n Let\\'s create your first agent!'))\n    console.log(chalk.gray('This will be a simplified setup. You can customize more later.\\n'))\n    \n    const agentName = await text({\n      message: 'What should we call your agent?',\n      placeholder: 'My AI Assistant',\n      validate: (value) => {\n        if (!value) return 'Name is required'\n        if (value.length < 3) return 'Name must be at least 3 characters'\n        if (value.length > 50) return 'Name must be less than 50 characters'\n      }\n    })\n    \n    if (isCancel(agentName)) {\n      this.markStepSkipped('first-agent')\n      return\n    }\n    \n    const agentType = await select({\n      message: 'What type of services will your agent provide?',\n      options: [\n        { value: 'assistant', label: ' General Assistant', hint: 'Help with various tasks' },\n        { value: 'analyst', label: ' Data Analyst', hint: 'Data processing and insights' },\n        { value: 'writer', label: '  Content Writer', hint: 'Writing and content creation' },\n        { value: 'developer', label: ' Developer', hint: 'Code and technical tasks' },\n        { value: 'other', label: ' Other', hint: 'Specialized services' }\n      ]\n    })\n    \n    if (isCancel(agentType)) {\n      this.markStepSkipped('first-agent')\n      return\n    }\n    \n    const agentSpinner = spinner()\n    agentSpinner.start('Creating your agent...')\n    \n    try {\n      // This would normally call the agent registration command\n      // For now, we'll simulate it\n      await new Promise(resolve => setTimeout(resolve, 2000))\n      \n      agentSpinner.stop(' Agent created successfully!')\n      \n      console.log(successBox('Your First Agent is Ready!', [\n        `Name: ${agentName}`,\n        `Type: ${agentType}`,\n        'Your agent is ready to participate in the economy',\n        'Configure PayAI integration to start earning'\n      ]))\n      \n    } catch (error) {\n      agentSpinner.stop(' Agent creation failed')\n      console.log(chalk.red('Failed to create agent'))\n      console.log(chalk.gray('You can try again later with: ghost agent register'))\n    }\n    \n    this.markStepCompleted('first-agent')\n  }\n\n  /**\n   * Completion step\n   */\n  private async completionStep(): Promise<void> {\n    console.log('')\n    console.log(stepIndicator(7, this.progress.totalSteps, 'Setup Complete'))\n    \n    const completedCount = this.progress.completedSteps.size\n    const skippedCount = this.progress.skippedSteps.size\n    \n    console.log(successBox(' Welcome to GhostSpeak!', [\n      `Setup completed: ${completedCount}/${this.progress.totalSteps} steps`,\n      skippedCount > 0 ? `Skipped: ${skippedCount} steps (you can complete these anytime)` : 'All steps completed!',\n      'You\\'re ready to start using the AI agent economy'\n    ]))\n    \n    console.log('')\n    console.log(chalk.bold(' What\\'s Next?'))\n    console.log('')\n    \n    const nextSteps = [\n      '1. Check your agent status: ghost agent list',\n      '2. Get devnet GHOST tokens: ghost airdrop',\n      '3. Explore governance: ghost governance',\n      '4. Join our community: https://discord.gg/ghostspeak'\n    ]\n    \n    nextSteps.forEach(step => {\n      console.log(chalk.gray('  ' + step))\n    })\n    \n    console.log('')\n    console.log(divider())\n    console.log('')\n    \n    // Save completion status\n    await this.saveProgress()\n    \n    outro(chalk.green('Setup complete! Happy agent building! '))\n  }\n  \n  /**\n   * Mark a step as completed\n   */\n  private markStepCompleted(step: OnboardingStep): void {\n    this.progress.completedSteps.add(step)\n    this.progress.step = Math.max(this.progress.step, ONBOARDING_STEPS.indexOf(step) + 2)\n  }\n  \n  /**\n   * Mark a step as skipped\n   */\n  private markStepSkipped(step: OnboardingStep): void {\n    this.progress.skippedSteps.add(step)\n    this.progress.step = Math.max(this.progress.step, ONBOARDING_STEPS.indexOf(step) + 2)\n  }\n  \n  /**\n   * Save progress to file\n   */\n  private async saveProgress(): Promise<void> {\n    try {\n      const dir = join(homedir(), '.ghostspeak')\n      if (!existsSync(dir)) {\n        mkdirSync(dir, { recursive: true })\n      }\n      \n      const progressFile = join(dir, 'onboarding-progress.json')\n      const data = {\n        ...this.progress,\n        completedSteps: Array.from(this.progress.completedSteps),\n        skippedSteps: Array.from(this.progress.skippedSteps),\n        config: this.config,\n        lastUpdated: Date.now()\n      }\n      \n      writeFileSync(progressFile, JSON.stringify(data, null, 2))\n    } catch (error) {\n      // Ignore errors saving progress\n    }\n  }\n}\n\n/**\n * Check if user has completed onboarding\n */\nexport function hasCompletedOnboarding(): boolean {\n  try {\n    const progressFile = join(homedir(), '.ghostspeak', 'onboarding-progress.json')\n    if (!existsSync(progressFile)) return false\n    \n    const data = JSON.parse(readFileSync(progressFile, 'utf-8')) as {\n      completedSteps?: string[]\n    }\n    return data.completedSteps?.includes('completion') ?? false\n  } catch (error) {\n    return false\n  }\n}\n\n/**\n * Start onboarding flow\n */\nexport async function startOnboarding(config?: OnboardingConfig): Promise<void> {\n  const onboarding = new OnboardingService(config)\n  await onboarding.start()\n}","/**\n * UI Helper utilities for enhanced console output\n */\n\nimport chalk from 'chalk'\n\n/**\n * Create a success box with green border\n */\nexport function successBox(message: string): void {\n  const lines = message.split('\\n')\n  const maxLength = Math.max(...lines.map(line => line.length))\n  const padding = 2\n  const width = maxLength + padding * 2\n  \n  console.log(chalk.green('' + ''.repeat(width) + ''))\n  lines.forEach(line => {\n    const paddedLine = line.padEnd(maxLength)\n    console.log(chalk.green('') + ' ' + paddedLine + ' ' + chalk.green(''))\n  })\n  console.log(chalk.green('' + ''.repeat(width) + ''))\n}\n\n/**\n * Create a warning box with yellow border\n */\nexport function warningBox(message: string): void {\n  const lines = message.split('\\n')\n  const maxLength = Math.max(...lines.map(line => line.length))\n  const padding = 2\n  const width = maxLength + padding * 2\n  \n  console.log(chalk.yellow('' + ''.repeat(width) + ''))\n  lines.forEach(line => {\n    const paddedLine = line.padEnd(maxLength)\n    console.log(chalk.yellow('') + ' ' + paddedLine + ' ' + chalk.yellow(''))\n  })\n  console.log(chalk.yellow('' + ''.repeat(width) + ''))\n}\n\n/**\n * Create an info box with blue border\n */\nexport function infoBox(message: string): void {\n  const lines = message.split('\\n')\n  const maxLength = Math.max(...lines.map(line => line.length))\n  const padding = 2\n  const width = maxLength + padding * 2\n  \n  console.log(chalk.blue('' + ''.repeat(width) + ''))\n  lines.forEach(line => {\n    const paddedLine = line.padEnd(maxLength)\n    console.log(chalk.blue('') + ' ' + paddedLine + ' ' + chalk.blue(''))\n  })\n  console.log(chalk.blue('' + ''.repeat(width) + ''))\n}\n\n/**\n * Create a visual divider\n */\nexport function divider(char = '', length = 50): void {\n  console.log(chalk.gray(char.repeat(length)))\n}\n\n/**\n * Show step indicator for multi-step processes\n */\nexport function stepIndicator(current: number, total: number, description: string): void {\n  const progress = `[${current}/${total}]`\n  console.log(chalk.cyan(progress) + ' ' + chalk.bold(description))\n}","/**\n * Transaction cost estimation service\n * Provides cost estimates and balance checks before operations\n */\n\nimport chalk from 'chalk'\nimport type { Address } from '@solana/addresses'\nimport { formatSOL, warningBox, infoBox } from '../utils/format-helpers.js'\nimport { createCustomClient } from '../core/solana-client.js'\n\nexport interface CostEstimate {\n  operation: string\n  baseFee: bigint  // Network transaction fee\n  programFee?: bigint  // Program-specific fees\n  accountRent?: bigint  // Rent for new accounts\n  totalCost: bigint\n  breakdown: Array<{ item: string; cost: bigint; description: string }>\n  isAffordable: boolean\n  requiredBalance: bigint\n}\n\nexport interface BalanceInfo {\n  current: bigint\n  required: bigint\n  shortage: bigint\n  isAffordable: boolean\n}\n\nconst OPERATION_COSTS = {\n  // Base transaction costs (in lamports)\n  SIGNATURE_FEE: BigInt(5000), // Standard signature fee\n  \n  // Account creation costs\n  AGENT_ACCOUNT_RENT: BigInt(2400000), // ~0.0024 SOL\n\n  // Program-specific fees\n  AGENT_REGISTRATION_FEE: BigInt(100000), // ~0.0001 SOL\n  \n  // Buffer for network congestion\n  CONGESTION_BUFFER: BigInt(10000) // Extra fee for busy periods\n}\n\nexport class CostEstimator {\n  private static instance: CostEstimator | undefined\n  private rpcUrl: string\n  \n  private constructor(rpcUrl = 'https://api.devnet.solana.com') {\n    this.rpcUrl = rpcUrl\n  }\n  \n  static getInstance(rpcUrl?: string): CostEstimator {\n    return (CostEstimator.instance ??= new CostEstimator(rpcUrl))\n  }\n  \n  /**\n   * Estimate cost for agent registration\n   */\n  estimateAgentRegistration(): CostEstimate {\n    const breakdown = [\n      {\n        item: 'Transaction fee',\n        cost: OPERATION_COSTS.SIGNATURE_FEE,\n        description: 'Network fee for processing transaction'\n      },\n      {\n        item: 'Agent account rent',\n        cost: OPERATION_COSTS.AGENT_ACCOUNT_RENT,\n        description: 'Storage rent for agent account data'\n      },\n      {\n        item: 'Registration fee',\n        cost: OPERATION_COSTS.AGENT_REGISTRATION_FEE,\n        description: 'Protocol fee for agent registration'\n      },\n      {\n        item: 'Network buffer',\n        cost: OPERATION_COSTS.CONGESTION_BUFFER,\n        description: 'Buffer for network congestion'\n      }\n    ]\n    \n    const totalCost = breakdown.reduce((sum, item) => sum + item.cost, BigInt(0))\n    \n    return {\n      operation: 'Agent Registration',\n      baseFee: OPERATION_COSTS.SIGNATURE_FEE,\n      programFee: OPERATION_COSTS.AGENT_REGISTRATION_FEE,\n      accountRent: OPERATION_COSTS.AGENT_ACCOUNT_RENT,\n      totalCost,\n      breakdown,\n      isAffordable: false, // Will be set when checking balance\n      requiredBalance: totalCost\n    }\n  }\n\n  /**\n   * Get current wallet balance\n   */\n  async getWalletBalance(address: Address): Promise<bigint> {\n    try {\n      // Use Gill's createCustomClient instead of createSolanaRpc\n      const client = createCustomClient(this.rpcUrl)\n      const response = await client.rpc.getBalance(address).send()\n      return response.value\n    } catch (error) {\n      console.warn('Failed to fetch balance:', error)\n      return BigInt(0)\n    }\n  }\n  \n  /**\n   * Check if wallet can afford an operation\n   */\n  async checkAffordability(address: Address, estimate: CostEstimate): Promise<BalanceInfo> {\n    const currentBalance = await this.getWalletBalance(address)\n    const required = estimate.totalCost\n    const isAffordable = currentBalance >= required\n    const shortage = isAffordable ? BigInt(0) : required - currentBalance\n    \n    // Update estimate with affordability\n    estimate.isAffordable = isAffordable\n    \n    return {\n      current: currentBalance,\n      required,\n      shortage,\n      isAffordable\n    }\n  }\n  \n  /**\n   * Display cost estimate with formatting\n   */\n  async displayCostEstimate(\n    address: Address,\n    estimate: CostEstimate,\n    options?: { showBreakdown?: boolean; confirmRequired?: boolean }\n  ): Promise<BalanceInfo> {\n    const { showBreakdown = true } = options ?? {}\n    \n    // Check current balance\n    const balanceInfo = await this.checkAffordability(address, estimate)\n    \n    // Create cost summary\n    const summaryItems = [\n      { label: 'Operation', value: estimate.operation },\n      { label: 'Total Cost', value: formatSOL(estimate.totalCost) },\n      { label: 'Current Balance', value: formatSOL(balanceInfo.current) },\n      { \n        label: 'After Transaction', \n        value: balanceInfo.isAffordable \n          ? formatSOL(balanceInfo.current - estimate.totalCost) \n          : chalk.red('Insufficient funds')\n      }\n    ]\n    \n    console.log(infoBox(' Cost Estimate', summaryItems.map(item => \n      `${chalk.gray(item.label.padEnd(18))}: ${item.value}`\n    ).join('\\n')))\n    \n    // Show detailed breakdown if requested\n    if (showBreakdown) {\n      console.log(chalk.bold(' Cost Breakdown:'))\n      console.log('')\n      \n      estimate.breakdown.forEach(item => {\n        console.log(`  ${formatSOL(item.cost).padEnd(12)} ${item.item}`)\n        console.log(`  ${' '.repeat(12)} ${chalk.gray(item.description)}`)\n        console.log('')\n      })\n    }\n    \n    // Show warning if not affordable\n    if (!balanceInfo.isAffordable) {\n      const shortage = formatSOL(balanceInfo.shortage)\n      const actions = [\n        'Get SOL from faucet: ghost faucet --save',\n        'Transfer SOL from another wallet',\n        'Reduce the transaction amount if possible'\n      ]\n      \n      console.log(warningBox(\n        `You need ${shortage} more SOL to complete this transaction`,\n        actions\n      ))\n      console.log('')\n    }\n    \n    return balanceInfo\n  }\n  \n  /**\n   * Estimate costs for batch operations\n   */\n  estimateBatchOperation(operations: { type: string; params?: Record<string, unknown> }[]): CostEstimate {\n    let totalCost = BigInt(0)\n    const breakdown: CostEstimate['breakdown'] = []\n    \n    operations.forEach((op, index) => {\n      let opEstimate: CostEstimate\n      \n      switch (op.type) {\n        case 'agent-register':\n          opEstimate = this.estimateAgentRegistration()\n          break\n        default:\n          // Default to basic transaction\n          opEstimate = {\n            operation: op.type,\n            baseFee: OPERATION_COSTS.SIGNATURE_FEE,\n            totalCost: OPERATION_COSTS.SIGNATURE_FEE + OPERATION_COSTS.CONGESTION_BUFFER,\n            breakdown: [],\n            isAffordable: false,\n            requiredBalance: OPERATION_COSTS.SIGNATURE_FEE + OPERATION_COSTS.CONGESTION_BUFFER\n          }\n      }\n      \n      totalCost += opEstimate.totalCost\n      breakdown.push({\n        item: `${index + 1}. ${opEstimate.operation}`,\n        cost: opEstimate.totalCost,\n        description: `Complete cost for ${opEstimate.operation.toLowerCase()}`\n      })\n    })\n    \n    return {\n      operation: `Batch Operation (${operations.length} items)`,\n      baseFee: BigInt(operations.length) * OPERATION_COSTS.SIGNATURE_FEE,\n      totalCost,\n      breakdown,\n      isAffordable: false,\n      requiredBalance: totalCost\n    }\n  }\n}\n\n/**\n * Helper function to estimate and display costs\n */\nexport async function estimateAndDisplay(\n  operation: string,\n  address: Address,\n  params?: Record<string, unknown>,\n  options?: { showBreakdown?: boolean; rpcUrl?: string }\n): Promise<BalanceInfo> {\n  const estimator = CostEstimator.getInstance(options?.rpcUrl)\n  \n  let estimate: CostEstimate\n  \n  switch (operation) {\n    case 'agent-register':\n      estimate = estimator.estimateAgentRegistration()\n      break\n    default:\n      throw new Error(`Unknown operation: ${operation}`)\n  }\n  \n  return estimator.displayCostEstimate(address, estimate, options)\n}\n\n/**\n * Quick balance check\n */\nexport async function quickBalanceCheck(\n  address: Address,\n  requiredAmount: bigint,\n  rpcUrl?: string\n): Promise<boolean> {\n  const estimator = CostEstimator.getInstance(rpcUrl)\n  const balance = await estimator.getWalletBalance(address)\n  \n  return balance >= requiredAmount\n}","/**\n * Agent service for managing AI agent operations\n */\n\nimport type { Address } from '@solana/addresses'\nimport type { Signature } from '@solana/keys'\nimport type {\n  IAgentService,\n  Agent,\n  RegisterAgentParams,\n  ListAgentsParams,\n  UpdateAgentParams,\n  AgentAnalytics,\n  AgentServiceDependencies\n} from '../types/services.js'\nimport {\n  ValidationError,\n  NotFoundError,\n  NetworkError,\n  UnauthorizedError\n} from '../types/services.js'\nimport { randomUUID } from 'crypto'\nimport { toSDKSigner } from '../utils/client.js'\nimport { getCurrentProgramId } from '../../../../config/program-ids.js'\nimport { createCustomClient } from '../core/solana-client.js'\nimport { AgentModule, type GhostSpeakClient, type RpcClient, decodeAgent } from '@ghostspeak/sdk'\nimport { getErrorMessage } from '../utils/type-guards.js'\nimport { uploadMetadataToIPFS } from '../utils/ipfs.js'\n\n/**\n * Wrap Gill Solana RPC with additional methods required by RpcClient interface\n */\nfunction wrapRpcClient(rpc: ReturnType<typeof createCustomClient>['rpc']): RpcClient {\n  return {\n    getBalance: async (address: Address) => rpc.getBalance(address).send(),\n    getAccountInfo: async (address: Address) => {\n      const info = await rpc.getAccountInfo(address).send();\n      return info.value as RpcClient['getAccountInfo'] extends (...args: unknown[]) => Promise<infer R> ? R : never;\n    },\n    sendTransaction: async (transaction: unknown) => {\n      // This is a simplified implementation - actual implementation may vary\n      return String(transaction);\n    },\n    confirmTransaction: async (signature: string, _commitment?: string) => {\n      // Simple confirmation using getSignatureStatuses\n      await rpc.getSignatureStatuses([signature as Signature]).send();\n    },\n    getProgramAccounts: async (programId: Address, options?: Record<string, unknown>) => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const accounts = await rpc.getProgramAccounts(programId, options as any).send();\n      return accounts as RpcClient['getProgramAccounts'] extends (...args: unknown[]) => Promise<infer R> ? R : never;\n    },\n    requestAirdrop: (address: Address, lamports: bigint) => ({\n      send: async () => {\n        // Type assertion: requestAirdrop exists on devnet/testnet RPC\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const airdropMethod = (rpc as any).requestAirdrop as ((address: Address, lamports: bigint) => { send: () => Promise<Signature> }) | undefined\n        if (!airdropMethod) {\n          throw new Error('requestAirdrop is not available on this network (mainnet only supports devnet/testnet)')\n        }\n        const sig = await airdropMethod(address, lamports).send();\n        return String(sig);\n      }\n    })\n  };\n}\n\nexport class AgentService implements IAgentService {\n  private agentCache = new Map<string, { data: Agent; timestamp: number }>()\n  private listCache = new Map<string, { data: Agent[]; timestamp: number }>()\n  private readonly CACHE_TTL = 30000 // 30 seconds\n  \n  constructor(private deps: AgentServiceDependencies) {}\n\n  /**\n   * Register a new AI agent\n   */\n  async register(params: RegisterAgentParams): Promise<Agent> {\n    this.deps.logger.info('AgentService.register called', { name: params.name })\n\n    // Validate parameters\n    await this.validateRegisterParams(params)\n    this.deps.logger.info('Parameters validated')\n\n    // Get current wallet using injected wallet service\n    this.deps.logger.info('Getting wallet using injected service...')\n    const walletSigner = await this.deps.walletService.getActiveSigner()\n    if (!walletSigner) {\n      this.deps.logger.error('No active wallet found.')\n      throw new UnauthorizedError('No active wallet found. Please set up a wallet first.')\n    }\n    this.deps.logger.info('Wallet signer obtained', { address: walletSigner.address.toString() })\n\n    // Create agent data\n    const agentId = randomUUID().replace(/-/g, '')\n    const agent: Agent = {\n      id: agentId,\n      address: walletSigner.address,\n      name: params.name,\n      description: params.description,\n      capabilities: params.capabilities,\n      owner: walletSigner.address,\n      isActive: true,\n      reputationScore: 0,\n      createdAt: BigInt(Date.now()),\n      updatedAt: BigInt(Date.now()),\n      metadata: {\n        ...params.metadata,\n        category: params.category,\n        pricing: params.pricing,\n      },\n    }\n    this.deps.logger.info('Agent data created', { agentId })\n\n    // Register on blockchain using AgentModule directly\n    try {\n      const signer = walletSigner\n      this.deps.logger.info('Using signer', { address: signer.address.toString() })\n\n      // Upload metadata to IPFS via Pinata\n      const metadataUri = await uploadMetadataToIPFS({\n        name: agent.name,\n        description: agent.description,\n        capabilities: agent.capabilities,\n        category: params.category,\n        image: '',\n        external_url: '',\n        attributes: [\n          { trait_type: 'Agent Type', value: 'AI Agent' },\n          { trait_type: 'Category', value: params.category || agent.capabilities[0] },\n          { trait_type: 'Capabilities', value: agent.capabilities.join(', ') },\n        ],\n      })\n\n      // Use Gill's createCustomClient instead of createSolanaRpc\n      const client = createCustomClient('https://api.devnet.solana.com')\n      const rpc = wrapRpcClient(client.rpc)\n      this.deps.logger.info('Creating AgentModule instance...')\n      const agentModule = new AgentModule({\n        programId: getCurrentProgramId(),\n        rpc: rpc,\n        commitment: 'confirmed',\n        cluster: 'devnet',\n        rpcEndpoint: 'https://api.devnet.solana.com',\n      })\n\n      let signature: string\n      \n      if (params.merkleTree) {\n        this.deps.logger.info('Calling AgentModule.registerCompressed', { \n            merkleTree: params.merkleTree,\n            agentId: agent.id \n        })\n        \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        signature = await (agentModule as any).registerCompressed(toSDKSigner(signer), {\n            agentType: 0,\n            metadataUri, \n            agentId: agent.id,\n            merkleTree: params.merkleTree as Address\n        })\n      } else {\n        const registrationParams = {\n            agentType: 0,\n            name: agent.name,\n            description: agent.description,\n            metadataUri,\n            agentId: agent.id,\n            skipSimulation: true,\n        }\n        this.deps.logger.info('Calling AgentModule.register', { registrationParams })\n        signature = await agentModule.register(toSDKSigner(signer), registrationParams)\n      }\n      \n      this.deps.logger.info('Agent registration transaction sent', { signature })\n\n      if (!signature || typeof signature !== 'string') {\n        throw new Error('No transaction signature returned from agent registration')\n      }\n\n      // Store agent data locally for caching\n      await this.deps.storageService.save(`agent:${agent.id}`, agent)\n      await this.deps.storageService.save(`agent:owner:${walletSigner.address}:${agent.id}`, agent.id)\n      this.deps.logger.info('Agent data saved to local storage')\n\n      this.deps.logger.info('Agent registered successfully!', {\n        agentId: agent.id,\n        signature,\n      })\n      return agent\n    } catch (error) {\n      this.deps.logger.error('Failed to register agent on-chain', error instanceof Error ? error : undefined)\n      if (error instanceof ValidationError || error instanceof NetworkError) {\n        throw error // Re-throw service errors as-is\n      }\n      throw new NetworkError(\n        `Failed to register agent: ${getErrorMessage(error)}`,\n        'Check your network connection and try again'\n      )\n    }\n  }\n\n  /**\n   * List agents by criteria\n   */\n  async list(params: ListAgentsParams = {}): Promise<Agent[]> {\n    try {\n      const agents: Agent[] = []\n      \n      // If owner specified, get their agents\n      if (params.owner) {\n        const ownerAgents = await this.getAgentsByOwner(params.owner)\n        agents.push(...ownerAgents)\n      } else {\n        // Get all agents (in real implementation, this would query the blockchain)\n        const allAgents = await this.getAllAgents({\n          category: params.category,\n          includeInactive: params.isActive === undefined ? true : params.isActive\n        })\n        agents.push(...allAgents)\n      }\n\n      // Apply filters\n      let filteredAgents = agents\n      if (params.category) {\n        filteredAgents = filteredAgents.filter(agent => \n          agent.metadata?.category === params.category\n        )\n      }\n      if (params.isActive !== undefined) {\n        filteredAgents = filteredAgents.filter(agent => agent.isActive === params.isActive)\n      }\n\n      // Apply pagination\n      const offset = params.offset ?? 0\n      const limit = params.limit ?? 50\n      return filteredAgents.slice(offset, offset + limit)\n    } catch (error) {\n      throw new NetworkError(\n        `Failed to list agents: ${getErrorMessage(error)}`,\n        'Check your network connection and try again'\n      )\n    }\n  }\n\n  /**\n   * Get agent by ID with caching\n   */\n  async getById(agentId: string): Promise<Agent | null> {\n    // Check cache first\n    const cached = this.agentCache.get(agentId)\n    if (cached && Date.now() - cached.timestamp < this.CACHE_TTL) {\n      return cached.data\n    }\n    \n    try {\n      const agent = await this.deps.storageService.load<Agent>(`agent:${agentId}`)\n      \n      // Cache the result if found\n      if (agent) {\n        this.agentCache.set(agentId, {\n          data: agent,\n          timestamp: Date.now()\n        })\n      }\n      \n      return agent\n    } catch (error) {\n      console.error(`Error getting agent ${agentId}:`, getErrorMessage(error))\n      return null\n    }\n  }\n\n  /**\n   * Update agent information\n   */\n  async update(agentId: string, updates: UpdateAgentParams): Promise<Agent> {\n    const agent = await this.getById(agentId)\n    if (!agent) {\n      throw new NotFoundError('Agent', agentId)\n    }\n\n    // Verify ownership\n    const wallet = this.deps.walletService.getActiveWalletInterface()\n    if (!wallet || agent.owner !== wallet.address) {\n      throw new UnauthorizedError('You can only update your own agents')\n    }\n\n    // Update on blockchain\n    try {\n      console.log(' Updating agent on blockchain...')\n      const client = await this.deps.blockchainService.getClient('devnet')\n      const walletSigner = await this.deps.walletService.getActiveSigner()\n      \n      if (!walletSigner) {\n        throw new UnauthorizedError('No active wallet signer available')\n      }\n\n      const typedClient = client as GhostSpeakClient\n      const agentModule = new AgentModule({\n        programId: typedClient.config.programId,\n        rpc: typedClient.config.rpc,\n        commitment: 'confirmed'\n      })\n      \n      console.log(' Calling AgentModule.update...')\n      \n      // Upload updated metadata to IPFS\n      const metadataUri = await uploadMetadataToIPFS({\n        ...agent.metadata,\n        ...updates.metadata,\n        name: updates.name || agent.name,\n        description: updates.description || agent.description,\n        capabilities: updates.capabilities || agent.capabilities\n      })\n      \n      // Call SDK to update agent on blockchain\n      const signature = await agentModule.update(toSDKSigner(walletSigner), {\n        agentId: agent.id,\n        name: updates.name,\n        description: updates.description,\n        capabilities: updates.capabilities,\n        isActive: updates.isActive,\n        metadataUri\n      })\n      \n      console.log(' Transaction signature:', signature)\n      \n      if (!signature || typeof signature !== 'string') {\n        throw new Error('No transaction signature returned from agent update')\n      }\n      \n      console.log(` Agent updated on blockchain!`)\n      console.log(`Transaction signature: ${signature}`)\n      console.log(`View on explorer: https://explorer.solana.com/tx/${signature}?cluster=devnet`)\n\n      // Apply updates to local object\n      const updatedAgent: Agent = {\n        ...agent,\n        ...updates,\n        updatedAt: BigInt(Date.now())\n      }\n\n      // Update storage\n      await this.deps.storageService.save(`agent:${agentId}`, updatedAgent)\n      \n      // Update cache\n      this.agentCache.set(agentId, {\n        data: updatedAgent,\n        timestamp: Date.now()\n      })\n      \n      // Invalidate list cache as data has changed\n      this.listCache.clear()\n      \n      return updatedAgent\n    } catch (error) {\n      if (error instanceof NotFoundError || error instanceof UnauthorizedError) {\n        throw error // Re-throw service errors as-is\n      }\n      throw new NetworkError(\n        `Failed to update agent: ${getErrorMessage(error)}`,\n        'Check your network connection and try again'\n      )\n    }\n  }\n\n  /**\n   * Deactivate an agent\n   */\n  async deactivate(agentId: string): Promise<void> {\n    await this.update(agentId, { isActive: false })\n  }\n\n  /**\n   * Get agent analytics and performance metrics\n   */\n  async getAnalytics(agentId: string): Promise<AgentAnalytics> {\n    const agent = await this.getById(agentId)\n    if (!agent) {\n      throw new NotFoundError('Agent', agentId)\n    }\n\n    // In the new architecture, analytics are derived from the Reputation Module\n    // which aggregates PayAI webhook events.\n    return {\n      totalJobs: 0,\n      completedJobs: 0,\n      averageRating: 0,\n      totalEarnings: BigInt(0),\n      responseTime: 0,\n      successRate: 0,\n      categories: agent.capabilities\n    }\n  }\n\n  /**\n   * Configure PayAI integration for agent payments\n   */\n  async configurePayAI(agentId: string, params: {\n    enabled: boolean\n    pricePerCall: number\n    apiKey: string\n    webhookUrl?: string\n  }): Promise<Agent> {\n    const agent = await this.getById(agentId)\n    if (!agent) {\n      throw new NotFoundError('Agent', agentId)\n    }\n\n    const wallet = this.deps.walletService.getActiveWalletInterface()\n    if (!wallet || agent.owner !== wallet.address) {\n      throw new UnauthorizedError('You can only configure your own agents')\n    }\n\n    try {\n      this.deps.logger.info('Configuring PayAI integration...', { agentId, enabled: params.enabled })\n\n      // Update local cache/storage with PayAI configuration\n      // PayAI is managed externally via PayAI API, not on-chain\n      const updatedAgent = {\n        ...agent,\n        updatedAt: BigInt(Date.now()),\n        metadata: {\n          ...agent.metadata,\n          payai: {\n            enabled: params.enabled,\n            pricePerCall: params.pricePerCall,\n            apiKey: params.apiKey, // Store encrypted in production!\n            webhookUrl: params.webhookUrl,\n            lastConfigured: Date.now()\n          }\n        }\n      }\n\n      await this.deps.storageService.save(`agent:${agentId}`, updatedAgent)\n      this.agentCache.set(agentId, { data: updatedAgent, timestamp: Date.now() })\n\n      this.deps.logger.info('PayAI configuration saved', { agentId })\n\n      return updatedAgent\n    } catch (error) {\n      this.deps.logger.error('Failed to configure PayAI', error instanceof Error ? error : undefined)\n      throw new NetworkError(\n        `Failed to configure PayAI: ${getErrorMessage(error)}`,\n        'Check your configuration and try again'\n      )\n    }\n  }\n\n  /**\n   * Private helper methods\n   */\n  private async validateRegisterParams(params: RegisterAgentParams): Promise<void> {\n    if (!params.name || params.name.length < 3) {\n      throw new ValidationError(\n        'Agent name must be at least 3 characters long',\n        'Provide a descriptive name for your agent'\n      )\n    }\n    if (!params.description || params.description.length < 10) {\n      throw new ValidationError(\n        'Agent description must be at least 10 characters long',\n        'Add more details about what your agent can do'\n      )\n    }\n    if (params.capabilities.length === 0) {\n      throw new ValidationError(\n        'Agent must have at least one capability',\n        'Select at least one capability from the available options'\n      )\n    }\n  }\n\n  private async getAgentsByOwner(owner: Address): Promise<Agent[]> {\n    // In real implementation, this would query blockchain or indexed data\n    // For now, simulate with storage lookup\n    const agents: Agent[] = []\n    try {\n      // This is a simplified approach - real implementation would use proper indexing\n      const allAgents = await this.getAllAgents()\n      return allAgents.filter(agent => agent.owner === owner)\n    } catch (error) {\n      console.error('Error getting agents by owner:', getErrorMessage(error))\n      return agents\n    }\n  }\n\n  private async getAllAgents(params?: {\n    category?: string\n    search?: string\n    includeInactive?: boolean\n    sortBy?: 'reputation' | 'created' | 'name'\n    page?: number\n    limit?: number\n  }): Promise<Agent[]> {\n    try {\n      // Query Convex indexer for discovered agents\n      console.log(' Querying discovered agents from Convex indexer...')\n\n      const { queryDiscoveredAgents } = await import('../utils/convex-client.js')\n\n      const discoveredAgents = await queryDiscoveredAgents({\n        limit: params?.limit || 100,\n      })\n\n      console.log(` Found ${discoveredAgents.length} discovered agents in Convex`)\n\n      // Transform Convex data to Agent format\n      const agents: Agent[] = discoveredAgents.map((agent) => ({\n        id: agent.ghostAddress,\n        address: agent.ghostAddress as Address,\n        name: `Ghost Agent ${agent.ghostAddress.slice(0, 8)}...`,\n        description: `Discovered ${agent.discoverySource} agent`,\n        capabilities: ['x402-payment'],\n        owner: undefined as any, // Ghost agents don't have owners until claimed\n        isActive: agent.status !== 'inactive',\n        reputationScore: 0,\n        createdAt: BigInt(agent.firstSeenTimestamp),\n        updatedAt: BigInt(agent.updatedAt || agent.createdAt),\n        metadata: {\n          source: 'convex-indexer',\n          discoverySource: agent.discoverySource,\n          firstTxSignature: agent.firstTxSignature,\n          slot: agent.slot,\n          blockTime: agent.blockTime,\n          status: agent.status,\n          facilitatorAddress: agent.facilitatorAddress,\n          ipfsUri: agent.ipfsUri,\n        },\n      }))\n\n      // Apply filters\n      let filteredAgents = agents\n\n      if (params?.category && params.category !== 'x402-payment') {\n        // No agents match non-x402 categories since these are all discovered via x402\n        filteredAgents = []\n      }\n\n      if (params?.search) {\n        const searchLower = params.search.toLowerCase()\n        filteredAgents = filteredAgents.filter(\n          (agent) =>\n            agent.address.toLowerCase().includes(searchLower) ||\n            agent.metadata?.firstTxSignature?.toLowerCase().includes(searchLower)\n        )\n      }\n\n      if (!params?.includeInactive) {\n        filteredAgents = filteredAgents.filter((agent) => agent.isActive)\n      }\n\n      // Apply sorting\n      if (params?.sortBy) {\n        filteredAgents.sort((a, b) => {\n          switch (params.sortBy) {\n            case 'reputation':\n              return b.reputationScore - a.reputationScore\n            case 'created':\n              return Number(b.createdAt - a.createdAt)\n            case 'name':\n              return a.name.localeCompare(b.name)\n            default:\n              return 0\n          }\n        })\n      }\n\n      // Apply pagination\n      const page = params?.page || 0\n      const limit = params?.limit || 50\n      const start = page * limit\n      const end = start + limit\n\n      return filteredAgents.slice(start, end)\n    } catch (error) {\n      console.error('Error querying agents from Convex:', getErrorMessage(error))\n\n      // Log helpful error message if Convex is not configured\n      if (getErrorMessage(error).includes('CONVEX_URL')) {\n        console.error(' Tip: Set CONVEX_URL environment variable to query discovered agents')\n        console.error('   Example: CONVEX_URL=https://your-deployment.convex.cloud')\n      }\n\n      // Fallback to empty array if Convex query fails\n      return []\n    }\n  }\n\n}\n\n// Factory function for dependency injection\nexport function createAgentService(deps: AgentServiceDependencies): AgentService {\n  return new AgentService(deps)\n}","/**\n * IPFS Upload Utility for CLI\n * \n * Handles uploading metadata to IPFS via Pinata for agent registration.\n */\n\nimport { getErrorMessage } from './type-guards.js'\n\n/**\n * Upload JSON metadata to IPFS via Pinata\n */\nexport async function uploadMetadataToIPFS(metadata: Record<string, unknown>): Promise<string> {\n  const pinataJwt = process.env.PINATA_JWT\n  \n  if (!pinataJwt) {\n    console.warn('  PINATA_JWT not configured, using data URI fallback (not recommended for production)')\n    const metadataJson = JSON.stringify(metadata, null, 2)\n    return `data:application/json;base64,${Buffer.from(metadataJson).toString('base64')}`\n  }\n\n  try {\n    const response = await fetch('https://api.pinata.cloud/pinning/pinJSONToIPFS', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${pinataJwt}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        pinataContent: metadata,\n        pinataOptions: { cidVersion: 1 },\n        pinataMetadata: {\n          name: (metadata.name as string) || 'ghostspeak-metadata',\n        },\n      }),\n    })\n\n    if (!response.ok) {\n      const errorText = await response.text()\n      throw new Error(`Pinata upload failed: ${errorText}`)\n    }\n\n    const result = await response.json() as { IpfsHash: string }\n    const cid = result.IpfsHash\n    \n    console.log(` Metadata uploaded to IPFS: ipfs://${cid}`)\n    return `ipfs://${cid}`\n  } catch (error) {\n    console.warn(`  IPFS upload failed: ${getErrorMessage(error)}, using data URI fallback`)\n    const metadataJson = JSON.stringify(metadata, null, 2)\n    return `data:application/json;base64,${Buffer.from(metadataJson).toString('base64')}`\n  }\n}\n\n/**\n * Convert IPFS URI to HTTP gateway URL\n */\nexport function ipfsToHttp(uri: string): string {\n  if (uri.startsWith('ipfs://')) {\n    const cid = uri.replace('ipfs://', '')\n    return `https://gateway.pinata.cloud/ipfs/${cid}`\n  }\n  return uri\n}\n","/**\n * Service bootstrap for dependency injection setup\n */\n\nimport { container, ServiceTokens } from './Container.js'\nimport { AgentService } from '../services/AgentService.js'\nimport { WalletService } from '../services/wallet-service.js'\nimport { BlockchainService } from '../services/blockchain/BlockchainService.js'\nimport { StorageService } from '../services/storage/StorageService.js'\nimport { LoggerService } from './logger.js'\nimport type { IWalletService, IBlockchainService, IStorageService } from '../types/services.js'\n\n/**\n * Initialize all services in the dependency injection container\n */\nexport function bootstrapServices(): void {\n  // Initialize logger service first\n  container.register(ServiceTokens.LOGGER_SERVICE, () => new LoggerService())\n\n  // Initialize storage service first (no dependencies)\n  container.register(ServiceTokens.STORAGE_SERVICE, () => new StorageService())\n  \n  // Initialize wallet service (no dependencies)\n  container.register(ServiceTokens.WALLET_SERVICE, () => new WalletService())\n  \n  // Initialize blockchain service (no dependencies)\n  container.register(ServiceTokens.BLOCKCHAIN_SERVICE, () => new BlockchainService())\n  \n  // Initialize agent service (depends on other services)\n  container.register(ServiceTokens.AGENT_SERVICE, () => {\n    const logger = container.resolve<LoggerService>(ServiceTokens.LOGGER_SERVICE)\n    const walletService = container.resolve<IWalletService>(ServiceTokens.WALLET_SERVICE)\n    const blockchainService = container.resolve<IBlockchainService>(ServiceTokens.BLOCKCHAIN_SERVICE)\n    const storageService = container.resolve<IStorageService>(ServiceTokens.STORAGE_SERVICE)\n    \n    return new AgentService({\n      logger,\n      walletService,\n      blockchainService,\n      storageService\n    })\n  })\n  \n  \n  // Warm up frequently used services for better performance\n  container.warmUp([\n    ServiceTokens.LOGGER_SERVICE,\n    ServiceTokens.WALLET_SERVICE,\n    ServiceTokens.STORAGE_SERVICE,\n    ServiceTokens.AGENT_SERVICE\n  ])\n}","/**\n * Blockchain service for Solana network interactions\n */\n\nimport type { Address } from '@solana/addresses'\nimport type { Signature, Base64EncodedWireTransaction } from '@solana/kit'\nimport type { IBlockchainService } from '../../types/services.js'\nimport { initializeClient } from '../../utils/client.js'\nimport { NetworkError, ServiceError } from '../../types/services.js'\nimport { getErrorMessage } from '../../utils/type-guards.js'\n\nexport class BlockchainService implements IBlockchainService {\n  private clients = new Map<string, unknown>()\n\n  /**\n   * Get blockchain client for specified network\n   */\n  async getClient(network: string): Promise<unknown> {\n    // Return cached client if available\n    if (this.clients.has(network)) {\n      return this.clients.get(network)!\n    }\n\n    // Initialize new client\n    try {\n      const { client } = await initializeClient(network as 'devnet' | 'testnet' | 'mainnet-beta')\n      this.clients.set(network, client)\n      return client\n    } catch (error) {\n      throw new Error(`Failed to initialize client for network \"${network}\": ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  /**\n   * Send a transaction to the blockchain\n   * Note: This method accepts a serialized transaction, not just a signature\n   */\n  async sendTransaction(serializedTransaction: string): Promise<string> {\n    try {\n      const { rpc } = await initializeClient()\n      \n      // Send the transaction with proper configuration\n      // The RPC client in @solana/kit expects Base64EncodedWireTransaction\n      const response = await rpc.sendTransaction(\n        serializedTransaction as Base64EncodedWireTransaction,\n        {\n          encoding: 'base64',\n          skipPreflight: false,\n          preflightCommitment: 'confirmed',\n          maxRetries: BigInt(5)\n        }\n      ).send()\n      \n      return response\n    } catch (error) {\n      if (error instanceof Error) {\n        // Handle specific Solana transaction errors\n        if (error.message.includes('insufficient funds')) {\n          throw new ServiceError(\n            'Insufficient SOL balance to complete transaction',\n            'INSUFFICIENT_FUNDS',\n            'Fund your wallet using: ghost faucet',\n            false\n          )\n        }\n        \n        if (error.message.includes('blockhash not found')) {\n          throw new ServiceError(\n            'Transaction expired due to stale blockhash',\n            'EXPIRED_BLOCKHASH',\n            'Transaction will be automatically retried with fresh blockhash',\n            true\n          )\n        }\n        \n        if (error.message.includes('already in use')) {\n          throw new ServiceError(\n            'Account or resource already exists',\n            'DUPLICATE_RESOURCE',\n            'Try using a different identifier or check existing resources',\n            false\n          )\n        }\n        \n        throw new NetworkError(\n          `Transaction failed: ${error.message}`,\n          'Check network connectivity and try again'\n        )\n      }\n      \n      throw new ServiceError(\n        'Unknown transaction error occurred',\n        'UNKNOWN_ERROR',\n        'Contact support if this persists',\n        true\n      )\n    }\n  }\n\n  /**\n   * Confirm a transaction on the blockchain\n   */\n  async confirmTransaction(signature: string): Promise<boolean> {\n    try {\n      const { rpc } = await initializeClient()\n      \n      // Check transaction status with proper typing\n      const response = await rpc.getSignatureStatuses(\n        [signature as Signature],\n        {\n          searchTransactionHistory: true\n        }\n      ).send()\n      \n      if (!response || !response.value || response.value.length === 0) {\n        console.warn(`No status found for transaction: ${signature}`)\n        return false\n      }\n      \n      const status = response.value[0]\n      \n      if (!status) {\n        console.warn(`Transaction not found: ${signature}`)\n        return false\n      }\n      \n      // Check if transaction is confirmed or finalized\n      if (status.confirmationStatus === 'confirmed' || status.confirmationStatus === 'finalized') {\n        if (status.err) {\n          console.error(`Transaction failed with error:`, status.err)\n          return false\n        }\n        \n        console.log(`Transaction confirmed: ${signature} (${status.confirmationStatus})`)\n        return true\n      }\n      \n      // Transaction is still processing\n      console.log(`Transaction still processing: ${signature} (${status.confirmationStatus || 'processed'})`)\n      return false\n      \n    } catch (error) {\n      console.error(`Failed to confirm transaction ${signature}:`, error instanceof Error ? error.message : 'Unknown error')\n      return false\n    }\n  }\n\n  /**\n   * Get account information from the blockchain\n   */\n  async getAccountInfo(address: Address): Promise<{\n    address: string;\n    balance: bigint;\n    owner: string;\n    executable: boolean;\n    rentEpoch: bigint;\n    data?: Uint8Array;\n  } | null> {\n    try {\n      const { rpc } = await initializeClient()\n      \n      // Fetch account information with proper configuration\n      const response = await rpc.getAccountInfo(\n        address,\n        {\n          encoding: 'base64',\n          commitment: 'confirmed'\n        }\n      ).send()\n      \n      if (!response || !response.value) {\n        console.log(`Account not found: ${address}`)\n        return null\n      }\n      \n      const accountInfo = response.value\n      \n      // Parse account data if present\n      let accountData: Uint8Array | undefined\n      if (accountInfo.data && Array.isArray(accountInfo.data) && accountInfo.data.length >= 1) {\n        try {\n          // Decode base64 data\n          const base64Data = accountInfo.data[0] as string\n          accountData = new Uint8Array(Buffer.from(base64Data, 'base64'))\n        } catch (decodeError) {\n          console.warn('Failed to decode account data:', decodeError)\n        }\n      }\n      \n      return {\n        address: address.toString(),\n        balance: BigInt(accountInfo.lamports),\n        owner: accountInfo.owner,\n        executable: accountInfo.executable,\n        rentEpoch: BigInt(accountInfo.rentEpoch),\n        data: accountData\n      }\n      \n    } catch (error) {\n      if (error instanceof Error && error.message.includes('Invalid param')) {\n        throw new ServiceError(\n          `Invalid address format: ${address}`,\n          'INVALID_ADDRESS',\n          'Ensure the address is a valid Solana public key',\n          false\n        )\n      }\n      \n      throw new NetworkError(\n        `Failed to get account info for ${address}: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'Check network connectivity and address format'\n      )\n    }\n  }\n\n  /**\n   * Request airdrop for testing (devnet only)\n   */\n  async requestAirdrop(address: Address, amount: number): Promise<string> {\n    try {\n      // Get the client for devnet (airdrop only works on devnet)\n      const { rpc } = await initializeClient('devnet')\n      \n      // Use the Solana RPC airdrop directly\n      const lamports = BigInt(amount * 1_000_000_000)\n      \n      // Note: RPC types are problematic in SDK, using proper interface\n      interface AirdropResponse {\n        send(): Promise<string>\n      }\n      interface AirdropRPC {\n        requestAirdrop(address: Address, lamports: bigint): Promise<AirdropResponse>\n      }\n      \n      const typedRpc = rpc as unknown as AirdropRPC\n      const airdropResponse = await typedRpc.requestAirdrop(address, lamports)\n      const signature = await airdropResponse.send()\n      \n      // Wait for confirmation\n      await new Promise(resolve => setTimeout(resolve, 1000)) // Brief wait for transaction to propagate\n      \n      return signature\n    } catch (error) {\n      throw new Error(`Failed to request airdrop: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  /**\n   * Get network health and status\n   */\n  async getNetworkStatus(_network: string): Promise<{\n    healthy: boolean\n    blockHeight: number\n    transactionCount: number\n  }> {\n    // In real implementation, this would check network health\n    return {\n      healthy: true,\n      blockHeight: 0,\n      transactionCount: 0\n    }\n  }\n\n  /**\n   * Clear cached clients (useful for network switching)\n   */\n  clearClients(): void {\n    this.clients.clear()\n  }\n}\n\n// Factory function for dependency injection\nexport function createBlockchainService(): BlockchainService {\n  return new BlockchainService()\n}","/**\n * Storage service for persistent data management\n */\n\nimport { promises as fs } from 'fs'\nimport { join } from 'path'\nimport { homedir } from 'os'\nimport type { IStorageService } from '../../types/services.js'\n\nexport class StorageService implements IStorageService {\n  private readonly baseDir: string\n\n  constructor(baseDir?: string) {\n    this.baseDir = baseDir ?? join(homedir(), '.ghostspeak', 'data')\n  }\n\n  /**\n   * Save data to storage\n   */\n  async save<T>(key: string, data: T): Promise<void> {\n    try {\n      await this.ensureDirectoryExists()\n      const filePath = this.getFilePath(key)\n      const jsonData = JSON.stringify(data, (_, value) => \n        typeof value === 'bigint' ? value.toString() : value\n      , 2)\n      await fs.writeFile(filePath, jsonData, 'utf-8')\n    } catch (error) {\n      throw new Error(`Failed to save data for key \"${key}\": ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  /**\n   * Load data from storage\n   */\n  async load<T>(key: string): Promise<T | null> {\n    try {\n      const filePath = this.getFilePath(key)\n      const jsonData = await fs.readFile(filePath, 'utf-8')\n      return JSON.parse(jsonData) as T\n    } catch (error) {\n      if (error instanceof Error && 'code' in error && error.code === 'ENOENT') {\n        return null // File doesn't exist\n      }\n      throw new Error(`Failed to load data for key \"${key}\": ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  /**\n   * Delete data from storage\n   */\n  async delete(key: string): Promise<void> {\n    try {\n      const filePath = this.getFilePath(key)\n      await fs.unlink(filePath)\n    } catch (error) {\n      if (error instanceof Error && 'code' in error && error.code === 'ENOENT') {\n        return // File doesn't exist, nothing to delete\n      }\n      throw new Error(`Failed to delete data for key \"${key}\": ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  /**\n   * Check if data exists in storage\n   */\n  async exists(key: string): Promise<boolean> {\n    try {\n      const filePath = this.getFilePath(key)\n      await fs.access(filePath)\n      return true\n    } catch (error) {\n      return false\n    }\n  }\n\n  /**\n   * List all keys with optional prefix filter\n   */\n  async listKeys(prefix?: string): Promise<string[]> {\n    try {\n      await this.ensureDirectoryExists()\n      const files = await fs.readdir(this.baseDir)\n      const keys = files\n        .filter(file => file.endsWith('.json'))\n        .map(file => file.replace('.json', ''))\n        .map(file => file.replace(/~/g, '/')) // Restore path separators\n      \n      if (prefix) {\n        return keys.filter(key => key.startsWith(prefix))\n      }\n      \n      return keys\n    } catch (error) {\n      throw new Error(`Failed to list keys: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  /**\n   * Clear all data (useful for testing)\n   */\n  async clear(): Promise<void> {\n    try {\n      const exists = await this.directoryExists()\n      if (exists) {\n        await fs.rm(this.baseDir, { recursive: true, force: true })\n      }\n    } catch (error) {\n      throw new Error(`Failed to clear storage: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  /**\n   * Private helper methods\n   */\n  private getFilePath(key: string): string {\n    // Replace path separators with safe characters for filename\n    const safeKey = key.replace(/[/\\\\]/g, '~')\n    return join(this.baseDir, `${safeKey}.json`)\n  }\n\n  private async ensureDirectoryExists(): Promise<void> {\n    try {\n      await fs.mkdir(this.baseDir, { recursive: true })\n    } catch (error) {\n      throw new Error(`Failed to create storage directory: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  private async directoryExists(): Promise<boolean> {\n    try {\n      await fs.access(this.baseDir)\n      return true\n    } catch (error) {\n      return false\n    }\n  }\n}\n\n// Factory function for dependency injection\nexport function createStorageService(baseDir?: string): StorageService {\n  return new StorageService(baseDir)\n}","import pino from 'pino'\nimport chalk from 'chalk'\n\nconst isProduction = process.env.NODE_ENV === 'production'\n\nconst prettyPrintOptions = {\n  colorize: true,\n  levelFirst: true,\n  translateTime: 'SYS:standard',\n  ignore: 'pid,hostname',\n}\n\nconst pinoOptions: pino.LoggerOptions = {\n  level: process.env.LOG_LEVEL || 'info',\n}\n\nif (!isProduction) {\n  pinoOptions.transport = {\n    target: 'pino-pretty',\n    options: prettyPrintOptions,\n  }\n}\n\nconst pinoLogger = pino(pinoOptions)\n\nexport class LoggerService {\n  private logger: pino.Logger\n\n  constructor() {\n    this.logger = pinoLogger\n  }\n\n  info(message: string, data?: Record<string, any>) {\n    this.logger.info(data, message)\n  }\n\n  warn(message: string, data?: Record<string, any>) {\n    this.logger.warn(data, message)\n  }\n\n  error(message: string, error?: Error, data?: Record<string, any>) {\n    this.logger.error({ err: error, ...data }, message)\n  }\n\n  debug(message: string, data?: Record<string, any>) {\n    this.logger.debug(data, message)\n  }\n\n  fatal(message: string, error?: Error, data?: Record<string, any>) {\n    this.logger.fatal({ err: error, ...data }, message)\n  }\n\n  handleError(error: any, message: string) {\n    const errorMessage = error instanceof Error ? error.message : 'An unknown error occurred'\n    this.error(message, error)\n    console.error(chalk.red(` ${message}: ${errorMessage}`))\n  }\n}\n\nexport const logger = new LoggerService()\n","#!/usr/bin/env node\n\nimport { program } from 'commander'\nimport chalk from 'chalk'\nimport figlet from 'figlet'\nimport { intro, outro } from '@clack/prompts'\nimport { agentCommand } from './commands/agent/index.js'\nimport { configCommand } from './commands/config.js'\nimport { setupFaucetCommand } from './commands/faucet.js'\nimport { airdropCommand } from './commands/airdrop.js'\nimport { sdkCommand } from './commands/sdk.js'\nimport { updateCommand } from './commands/update.js'\nimport { governanceCommand } from './commands/governance/index.js'\nimport { quickstartCommand } from './commands/quickstart.js'\nimport { walletCommand } from './commands/wallet.js'\nimport { credentialsCommand } from './commands/credentials.js'\nimport { reputationCommand } from './commands/reputation.js'\nimport { stakingCommand } from './commands/staking.js'\nimport { privacyCommand } from './commands/privacy.js'\nimport { didCommand } from './commands/did.js'\nimport { escrowCommand } from './commands/escrow.js'\nimport { dashboardCommand } from './commands/dashboard.js'\nimport { ghostCommand } from './commands/ghost.js'\nimport { ghostClaimCommand } from './commands/ghost-claim.js'\n// Removed: ghost-claim-test.ts - development-only test command moved to test suite\nimport { multisigCommand } from './commands/multisig.js'\nimport { authorizationCommand } from './commands/authorization.js'\nimport { checkForUpdates } from './utils/update-check.js'\nimport { InteractiveMenu, shouldRunInteractive } from './utils/interactive-menu.js'\nimport { readFileSync, existsSync } from 'fs'\nimport { join, dirname } from 'path'\nimport { fileURLToPath } from 'url'\nimport { homedir } from 'os'\nimport { resolveAlias, showAliases } from './utils/command-aliases.js'\nimport { showTransactionHistory } from './services/transaction-monitor.js'\nimport { showContextualHelp, showTopicHelp, showAvailableTopics, searchHelp } from './utils/help-system.js'\nimport { startOnboarding, hasCompletedOnboarding } from './utils/onboarding.js'\nimport { bootstrapServices } from './core/bootstrap.js'\n\n// ASCII art banner\nfunction showBanner(version: string) {\n  console.log(\n    chalk.yellow(\n      figlet.textSync('GhostSpeak', {\n        font: 'Small',\n        horizontalLayout: 'default',\n        verticalLayout: 'default'\n      })\n    )\n  )\n  console.log(chalk.gray('AI Agent Commerce Protocol CLI'))\n  console.log(chalk.gray(`CLI v${version} | SDK v2.0.10\\n`))\n}\n\n// Main CLI setup\nasync function main() {\n  try {\n    // Initialize services\n    bootstrapServices()\n    \n    // Get current version\n    let currentVersion = '2.0.0-beta.22' // Fallback version\n    try {\n      const __filename = fileURLToPath(import.meta.url)\n      const __dirname = dirname(__filename)\n      const possiblePaths = [\n        join(__dirname, '../package.json'),\n        join(__dirname, '../../package.json'),\n        join(__dirname, '../../cli/package.json')\n      ]\n      \n      for (const path of possiblePaths) {\n        if (existsSync(path)) {\n          const pkg = JSON.parse(readFileSync(path, 'utf-8')) as { name?: string; version?: string }\n          if (pkg.name === '@ghostspeak/cli' && pkg.version) {\n            currentVersion = pkg.version\n            break\n          }\n        }\n      }\n    } catch (error) {\n      // Use fallback version\n      void error\n    }\n    \n    // Show banner with version\n    showBanner(currentVersion)\n    \n    // Check for first run and handle onboarding\n    const configPath = join(homedir(), '.ghostspeak', 'config.json')\n    const isFirstRun = !existsSync(configPath) && !hasCompletedOnboarding()\n    \n    // Check if this is a simple command that should trigger onboarding\n    const shouldTriggerOnboarding = isFirstRun && (\n      process.argv.length === 2 || \n      process.argv.includes('--help') ||\n      process.argv.includes('-h')\n    )\n    \n    if (shouldTriggerOnboarding && process.argv.length === 2) {\n      console.log(chalk.yellow(' Welcome to GhostSpeak! It looks like this is your first time.'))\n      console.log(chalk.cyan('\\nQuick Start Options:'))\n      console.log(chalk.gray('   Run'), chalk.bold.white('ghost quickstart'), chalk.gray('for complete guided setup'))\n      console.log(chalk.gray('   Run'), chalk.bold.white('ghost onboard'), chalk.gray('for interactive onboarding'))\n      console.log(chalk.gray('   Run'), chalk.bold.white('ghost -i'), chalk.gray('for interactive menu mode'))\n      console.log(chalk.gray('   Run'), chalk.bold.white('ghost help getting-started'), chalk.gray('for help documentation\\n'))\n    }\n    \n    // Check for updates in background\n    void checkForUpdates(currentVersion)\n    \n    program\n      .name('ghostspeak')\n      .description('Command-line interface for GhostSpeak AI Agent Commerce Protocol')\n      .version(currentVersion)\n      .option('-i, --interactive', 'Run in interactive mode')\n      .option('--debug', 'Enable debug output')\n      .option('--dry-run', 'Show what would be done without executing')\n\n    // Add UX enhancement commands\n    program\n      .command('onboard')\n      .description('Complete interactive onboarding for new users')\n      .option('--skip-welcome', 'Skip welcome message')\n      .option('--network <network>', 'Target network (devnet, testnet, mainnet)')\n      .option('--auto-faucet', 'Automatically request faucet funds')\n      .action(async (options: { network?: string; autoFaucet?: boolean; skipWelcome?: boolean }) => {\n        await startOnboarding({\n          network: options.network as 'devnet' | 'testnet' | 'mainnet-beta' | undefined,\n          autoFaucet: options.autoFaucet,\n          skipSteps: options.skipWelcome ? ['welcome'] : undefined\n        })\n      })\n      \n    program\n      .command('help [topic]')\n      .description('Show contextual help or help for a specific topic')\n      .option('-s, --search <query>', 'Search help content')\n      .action(async (topic: string | undefined, options: { search?: string }) => {\n        if (options.search) {\n          searchHelp(options.search)\n        } else if (topic) {\n          showTopicHelp(topic)\n        } else {\n          showAvailableTopics()\n        }\n      })\n      \n    program\n      .command('aliases')\n      .description('Show available command shortcuts and aliases')\n      .action(() => {\n        showAliases()\n      })\n      \n    program\n      .command('tx')\n      .alias('transactions')\n      .description('Show recent transaction history')\n      .option('-l, --limit <number>', 'Number of transactions to show', '10')\n      .action((options: { limit?: string }) => {\n        showTransactionHistory(parseInt(options.limit ?? '10'))\n      })\n    \n    // Add command modules - ordered for best first-time UX\n    // 1. Essential setup commands first\n    program.addCommand(quickstartCommand)  // Quick start for easy onboarding\n    program.addCommand(walletCommand)      // Wallet management\n    program.addCommand(configCommand)      // Manual setup option\n    setupFaucetCommand(program)            // Get SOL to start\n    program.addCommand(airdropCommand)     // Get devnet GHOST tokens\n\n    // 2. Core features - Text-based commands\n    program.addCommand(agentCommand)       // Create and manage agents\n    program.addCommand(ghostCommand)       // Claim external agents (CLI)\n    program.addCommand(ghostClaimCommand)  // Simplified Ghost claiming (Auto-attestation)\n    program.addCommand(reputationCommand)  // Ghost Score reputation (CLI)\n    program.addCommand(stakingCommand)     // GHOST token staking (CLI)\n    program.addCommand(privacyCommand)     // Privacy settings (CLI)\n    program.addCommand(didCommand)         // Decentralized identifiers (CLI)\n    program.addCommand(escrowCommand)      // x402 marketplace escrow (CLI)\n    program.addCommand(multisigCommand)    // Multisig wallets (CLI)\n    program.addCommand(authorizationCommand) // Pre-authorizations\n\n    // 2b. Interactive UI dashboard\n    program.addCommand(dashboardCommand)    // Master analytics dashboard\n\n    // 3. Support and advanced features\n    program.addCommand(governanceCommand)  // Protocol governance\n    \n    // 5. Developer and maintenance tools\n    program.addCommand(sdkCommand)         // SDK management\n    program.addCommand(updateCommand)      // CLI updates\n    program.addCommand(credentialsCommand) // Credential sync\n\n    // Process command aliases before parsing\n    const originalArgs = process.argv.slice(2)\n    let processedArgs = [...originalArgs]\n    \n    // Try to resolve aliases for the command\n    if (originalArgs.length > 0) {\n      const potentialAlias = originalArgs.join(' ')\n      const resolvedCommand = resolveAlias(potentialAlias)\n      \n      if (resolvedCommand) {\n        processedArgs = resolvedCommand.split(' ')\n        console.log(chalk.gray(` Resolved \"${potentialAlias}\" to \"${resolvedCommand}\"`))\n      }\n    }\n    \n    // Update process.argv for commander to use\n    process.argv = [process.argv[0], process.argv[1], ...processedArgs]\n    \n    // Check if we should run in interactive mode\n    if (shouldRunInteractive(process.argv)) {\n      // Don't show banner again since it's already shown\n      const menu = new InteractiveMenu(program)\n      await menu.showMainMenu()\n      return\n    }\n\n    // Normal CLI mode\n    intro(chalk.inverse(' Welcome to GhostSpeak CLI '))\n\n    // Show contextual help if no command provided\n    if (!processedArgs.length) {\n      showContextualHelp()\n      process.exit(0)\n    }\n\n    await program.parseAsync(process.argv)\n\n  } catch (error) {\n    console.error(chalk.red(' Error:'), error instanceof Error ? error.message : 'Unknown error')\n    outro(chalk.red('Operation failed'))\n    process.exit(1)\n  }\n}\n\n// Handle unhandled rejections\nprocess.on('unhandledRejection', (reason, promise) => {\n  console.error('Unhandled Rejection at:', promise, 'reason:', reason)\n  process.exit(1)\n})\n\n// Run the CLI\nmain().catch((error) => {\n  console.error(chalk.red('Fatal error:'), error)\n  process.exit(1)\n})"]}