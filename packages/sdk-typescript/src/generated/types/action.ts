/**
 * This code was AUTOGENERATED by scripts/generate-missing-types.ts
 */
import {
  combineCodec,
  getStructDecoder,
  getStructEncoder,
  getU8Encoder,
  getU8Decoder,
  getU16Encoder,
  getU16Decoder,
  getU32Encoder,
  getU32Decoder,
  getU64Encoder,
  getU64Decoder,
  getI64Encoder,
  getI64Decoder,
  getBooleanEncoder,
  getUtf8Encoder,
  getUtf8Decoder,
  addEncoderSizePrefix,
  addDecoderSizePrefix,
  getAddressEncoder,
  getAddressDecoder,
  getBooleanDecoder,
  getBytesEncoder,
  getBytesDecoder,
  getArrayEncoder,
  getArrayDecoder,
  getOptionEncoder,
  getOptionDecoder,
  fixEncoderSize,
  fixDecoderSize,
  type Codec,
  type Decoder,
  type Encoder,
  type Address,
  type ReadonlyUint8Array,
  type Option
} from "@solana/kit";

import {
  getActionTypeEncoder,
  getActionTypeDecoder,
  type ActionType,
  type ActionTypeArgs,
  getPermissionScopeEncoder,
  getPermissionScopeDecoder,
  type PermissionScope,
  type PermissionScopeArgs,
  getActionConstraintEncoder,
  getActionConstraintDecoder,
  type ActionConstraint,
  type ActionConstraintArgs,
  getPermissionMetadataEncoder,
  getPermissionMetadataDecoder,
  type PermissionMetadata,
  type PermissionMetadataArgs
} from ".";

export type Action = {
  id: string;
  name: string;
  description: string;
  resource_type: string;
  actions: Array<ActionType>;
  scope: PermissionScope;
  constraints: Array<ActionConstraint>;
  metadata: PermissionMetadata;
};

export type ActionArgs = {
  id: string;
  name: string;
  description: string;
  resource_type: string;
  actions: Array<ActionTypeArgs>;
  scope: PermissionScopeArgs;
  constraints: Array<ActionConstraintArgs>;
  metadata: PermissionMetadataArgs;
};

export function getActionEncoder(): Encoder<ActionArgs> {
  return getStructEncoder([
    ["id", addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder())],
    ["name", addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder())],
    ["description", addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder())],
    ["resource_type", addEncoderSizePrefix(getUtf8Encoder(), getU32Encoder())],
    ["actions", getArrayEncoder(getActionTypeEncoder())],
    ["scope", getPermissionScopeEncoder()],
    ["constraints", getArrayEncoder(getActionConstraintEncoder())],
    ["metadata", getPermissionMetadataEncoder()]
  ]);
}

export function getActionDecoder(): Decoder<Action> {
  return getStructDecoder([
    ["id", addDecoderSizePrefix(getUtf8Decoder(), getU32Decoder())],
    ["name", addDecoderSizePrefix(getUtf8Decoder(), getU32Decoder())],
    ["description", addDecoderSizePrefix(getUtf8Decoder(), getU32Decoder())],
    ["resource_type", addDecoderSizePrefix(getUtf8Decoder(), getU32Decoder())],
    ["actions", getArrayDecoder(getActionTypeDecoder())],
    ["scope", getPermissionScopeDecoder()],
    ["constraints", getArrayDecoder(getActionConstraintDecoder())],
    ["metadata", getPermissionMetadataDecoder()]
  ]);
}

export function getActionCodec(): Codec<ActionArgs, Action> {
  return combineCodec(getActionEncoder(), getActionDecoder());
}
