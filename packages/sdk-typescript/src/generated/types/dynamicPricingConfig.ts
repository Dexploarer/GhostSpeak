/**
 * This code was AUTOGENERATED by scripts/generate-missing-types.ts
 */
import {
  combineCodec,
  getStructDecoder,
  getStructEncoder,
  getU8Encoder,
  getU8Decoder,
  getU16Encoder,
  getU16Decoder,
  getU32Encoder,
  getU32Decoder,
  getU64Encoder,
  getU64Decoder,
  getI64Encoder,
  getI64Decoder,
  getBooleanEncoder,
  getUtf8Encoder,
  getUtf8Decoder,
  addEncoderSizePrefix,
  addDecoderSizePrefix,
  getAddressEncoder,
  getAddressDecoder,
  getBooleanDecoder,
  getBytesEncoder,
  getBytesDecoder,
  getArrayEncoder,
  getArrayDecoder,
  getOptionEncoder,
  getOptionDecoder,
  fixEncoderSize,
  fixDecoderSize,
  type Codec,
  type Decoder,
  type Encoder,
  type Address,
  type ReadonlyUint8Array,
  type Option
} from "@solana/kit";
import { getTupleEncoder, getTupleDecoder } from "@solana/codecs-data-structures";

import {
  getPricingAlgorithmEncoder,
  getPricingAlgorithmDecoder,
  type PricingAlgorithm,
  type PricingAlgorithmArgs
} from ".";

export type DynamicPricingConfig = {
  algorithm: PricingAlgorithm;
  base_price: bigint;
  min_price: bigint;
  max_price: bigint;
  price_range: [bigint, bigint];
  adjustment_frequency: bigint;
  update_frequency: bigint;
  volatility_threshold: number;
  demand_elasticity: number;
  supply_elasticity: number;
  demand_multiplier: number;
  reputation_multiplier: number;
  surge_multiplier: number;
  last_update: bigint;
  enabled: boolean;
};

export type DynamicPricingConfigArgs = {
  algorithm: PricingAlgorithmArgs;
  base_price: number | bigint;
  min_price: number | bigint;
  max_price: number | bigint;
  price_range: unknown;
  adjustment_frequency: number | bigint;
  update_frequency: number | bigint;
  volatility_threshold: number;
  demand_elasticity: number;
  supply_elasticity: number;
  demand_multiplier: number;
  reputation_multiplier: number;
  surge_multiplier: number;
  last_update: number | bigint;
  enabled: boolean;
};

export function getDynamicPricingConfigEncoder(): Encoder<DynamicPricingConfigArgs> {
  return getStructEncoder([
    ["algorithm", getPricingAlgorithmEncoder()],
    ["base_price", getU64Encoder()],
    ["min_price", getU64Encoder()],
    ["max_price", getU64Encoder()],
    ["price_range", getTupleEncoder([getU64Encoder(), getU64Encoder()])],
    ["adjustment_frequency", getI64Encoder()],
    ["update_frequency", getI64Encoder()],
    ["volatility_threshold", getU32Encoder()],
    ["demand_elasticity", getU32Encoder()],
    ["supply_elasticity", getU32Encoder()],
    ["demand_multiplier", getU32Encoder()],
    ["reputation_multiplier", getU32Encoder()],
    ["surge_multiplier", getU32Encoder()],
    ["last_update", getI64Encoder()],
    ["enabled", getBooleanEncoder()]
  ]);
}

export function getDynamicPricingConfigDecoder(): Decoder<DynamicPricingConfig> {
  return getStructDecoder([
    ["algorithm", getPricingAlgorithmDecoder()],
    ["base_price", getU64Decoder()],
    ["min_price", getU64Decoder()],
    ["max_price", getU64Decoder()],
    ["price_range", getTupleDecoder([getU64Decoder(), getU64Decoder()])],
    ["adjustment_frequency", getI64Decoder()],
    ["update_frequency", getI64Decoder()],
    ["volatility_threshold", getU32Decoder()],
    ["demand_elasticity", getU32Decoder()],
    ["supply_elasticity", getU32Decoder()],
    ["demand_multiplier", getU32Decoder()],
    ["reputation_multiplier", getU32Decoder()],
    ["surge_multiplier", getU32Decoder()],
    ["last_update", getI64Decoder()],
    ["enabled", getBooleanDecoder()]
  ]);
}

export function getDynamicPricingConfigCodec(): Codec<DynamicPricingConfigArgs, DynamicPricingConfig> {
  return combineCodec(getDynamicPricingConfigEncoder(), getDynamicPricingConfigDecoder());
}
